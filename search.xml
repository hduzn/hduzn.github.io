<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>uvä½¿ç”¨ç¬”è®°</title>
      <link href="/2025/09/02/uv%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"/>
      <url>/2025/09/02/uv%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="âœ…-å¸¸ç”¨å‘½ä»¤"><a href="#âœ…-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="âœ… å¸¸ç”¨å‘½ä»¤"></a>âœ… å¸¸ç”¨å‘½ä»¤</h2><table><thead><tr><th>åŠŸèƒ½è¯´æ˜</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>1.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</td><td><code>uv venv --python 3.9</code> æˆ– <code>uv venv</code></td></tr><tr><td>2.ç”Ÿæˆä¸€ä¸ª pyproject.toml æ–‡ä»¶</td><td><code>uv init</code></td></tr><tr><td>3.å®‰è£… pyproject.toml æ–‡ä»¶ä¸­çš„ä¾èµ–</td><td><code>uv sync</code></td></tr><tr><td>ç”Ÿæˆé”æ–‡ä»¶ uv.lock</td><td><code>uv lock</code></td></tr><tr><td>æ ¹æ®é”æ–‡ä»¶å®‰è£…ç²¾ç¡®ç‰ˆæœ¬</td><td><code>uv sync --frozen</code></td></tr><tr><td>4.å®‰è£…åŒ…</td><td><code>uv add åŒ…å</code></td></tr><tr><td>5.å¸è½½åŒ…</td><td><code>uv remove åŒ…å</code></td></tr><tr><td>6.æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆWindowsï¼‰</td><td><code>.\.venv\Scripts\activate</code></td></tr></tbody></table><a id="more"></a><p>â€œuvâ€æ˜¯æŒ‡ **<a class="link"   href="https://github.com/astral-sh/uv" >uv<i class="fas fa-external-link-alt"></i></a>**ï¼Œæ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„æå…¶å¿«é€Ÿä¸”åŠŸèƒ½å¼ºå¤§çš„ Python åŒ…å’Œé¡¹ç›®ç®¡ç†å™¨ï¼Œç”± Astral å…¬å¸ï¼ˆåˆ›å»º Ruff çš„å…¬å¸ï¼‰å¼€å‘ã€‚ä¹Ÿæ”¯æŒè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–ç®¡ç†ã€‚</p><h2 id="ğŸ”§-ä¸€ã€å®‰è£…-uv"><a href="#ğŸ”§-ä¸€ã€å®‰è£…-uv" class="headerlink" title="ğŸ”§ ä¸€ã€å®‰è£… uv"></a>ğŸ”§ ä¸€ã€å®‰è£… uv</h2><p><code>uv</code> æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç›®å‰æ”¯æŒ macOSã€Linux å’Œ Windowsã€‚</p><h3 id="1-å®‰è£…æ–¹æ³•"><a href="#1-å®‰è£…æ–¹æ³•" class="headerlink" title="1. å®‰è£…æ–¹æ³•"></a>1. å®‰è£…æ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å®˜æ–¹æ¨èå®‰è£…è„šæœ¬</span></span><br><span class="line"><span class="comment"># On Windows</span></span><br><span class="line">powershell -c <span class="string">&quot;irm https://astral.sh/uv/install.ps1 | iex&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># On Linux/macOS</span></span><br><span class="line">curl -LsSf https://astral.sh/uv/install.sh | sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.pipå®‰è£…ï¼ˆæœ‰å±€é™æ€§ï¼Œä¼šå®‰è£…åœ¨Pythonç›®å½•ä¸­ï¼‰</span></span><br><span class="line">pip install uv</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…åæ£€æŸ¥ç‰ˆæœ¬</span></span><br><span class="line">uv --version</span><br></pre></td></tr></table></figure><p>å®‰è£…ä¹‹åï¼ŒæŠŠ<code>C:\Users\[ç”¨æˆ·å]\.local\bin\</code> ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå†æŸ¥çœ‹ç‰ˆæœ¬ï¼Œæˆ–é€šè¿‡ <code>Get-Command uv</code>å‘½ä»¤æŸ¥çœ‹ uv çš„å®Œæ•´è·¯å¾„ã€‚</p><h2 id="äºŒã€ä½¿ç”¨-uv-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#äºŒã€ä½¿ç”¨-uv-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="äºŒã€ä½¿ç”¨ uv åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>äºŒã€ä½¿ç”¨ uv åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h2><p><code>uv</code> æ”¯æŒåƒ <code>python -m venv</code> ä¸€æ ·åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œè€Œä¸”æ”¯æŒè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿ Pythonï¼Œä¹Ÿå¯ä»¥æŒ‡å®š Python ç‰ˆæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªé»˜è®¤åä¸º .venv çš„è™šæ‹Ÿç¯å¢ƒã€‚</span></span><br><span class="line">uv venv</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰è™šæ‹Ÿç¯å¢ƒåç§°ä¸º venv_test</span></span><br><span class="line">uv venv venv_test</span><br><span class="line"></span><br><span class="line"><span class="comment"># é»˜è®¤åˆ›å»ºçš„pythonç‰ˆæœ¬æ˜¯æœ€æ–°çš„ï¼Œä¹Ÿå¯ä»¥æŒ‡å®špythonçš„ç‰ˆæœ¬</span></span><br><span class="line">uv venv --python 3.9</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"><a href="#ä¸‰ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="ä¸‰ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"></a>ä¸‰ã€æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</h2><p>åˆ›å»ºå¥½è™šæ‹Ÿç¯å¢ƒä¹‹åï¼Œæ¿€æ´»æ–¹å¼å’Œæ™®é€š venv ä¸€æ ·ï¼ˆä¸åŒç³»ç»Ÿæœ‰å·®å¼‚ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Windows</span></span><br><span class="line">venv_test\Scripts\activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># Linux/macOS</span></span><br><span class="line"><span class="built_in">source</span> venv_test/bin/activate</span><br></pre></td></tr></table></figure><p>æ¿€æ´»ä¹‹åï¼Œä½ çš„ç»ˆç«¯ä¼šæ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒåç§°ï¼Œè¯´æ˜ä½ å·²ç»è¿›å…¥è™šæ‹Ÿç¯å¢ƒäº†ã€‚</p><p>åœ¨VS Codeä¸­ç›´æ¥é€‰æ‹©è§£é‡Šå™¨åœ¨ <code>.venv</code>ç›®å½•ä¸­çš„ python.exe å°±å¯ä»¥äº†ã€‚</p><h2 id="å››ã€å®‰è£…åŒ…ä¾èµ–"><a href="#å››ã€å®‰è£…åŒ…ä¾èµ–" class="headerlink" title="å››ã€å®‰è£…åŒ…ä¾èµ–"></a>å››ã€å®‰è£…åŒ…ä¾èµ–</h2><p>å¯ä»¥ç”¨ <code>uv pip install</code> æˆ– <code>uv add</code> æ¥å®‰è£…åŒ…ï¼Œå°±åƒæ™®é€šçš„ <code>pip</code> ä¸€æ ·ï¼Œä½†é€Ÿåº¦æ›´å¿«ã€‚<br>æ¯”å¦‚å®‰è£… <code>requests</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uv pip install requests</span><br><span class="line">uv add requests</span><br></pre></td></tr></table></figure><blockquote><p><code>uv</code> æ”¯æŒå¾ˆå¤šå‘½ä»¤ï¼Œæ¯”å¦‚ï¼š</p><ul><li><code>uv pip install</code></li><li><code>uv pip uninstall</code></li><li><code>uv pip list</code></li><li><code>uv pip compile requirements.in -o requirements.txt</code></li><li><code>uv pip sync requirements.txt</code></li></ul></blockquote><p>å®ƒå®Œå…¨å…¼å®¹ pip çš„ç”¨æ³•ï¼Œä½†æ€§èƒ½æ›´é«˜ã€‚</p><h2 id="äº”ã€åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ç»“æ„"><a href="#äº”ã€åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ç»“æ„" class="headerlink" title="äº”ã€åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ç»“æ„"></a>äº”ã€åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ç»“æ„</h2><p>ä½ å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª Python é¡¹ç›®çš„ç»“æ„ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir myproject</span><br><span class="line"><span class="built_in">cd</span> myproject</span><br><span class="line">uv venv</span><br></pre></td></tr></table></figure><p>ç„¶åæ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼Œå†å®‰è£…ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .venv/bin/activate</span><br><span class="line">uv add flask</span><br></pre></td></tr></table></figure><h2 id="å…­ã€é…åˆ-pyproject-toml-ä½¿ç”¨ï¼ˆç°ä»£é¡¹ç›®æ ‡å‡†ï¼‰"><a href="#å…­ã€é…åˆ-pyproject-toml-ä½¿ç”¨ï¼ˆç°ä»£é¡¹ç›®æ ‡å‡†ï¼‰" class="headerlink" title="å…­ã€é…åˆ pyproject.toml ä½¿ç”¨ï¼ˆç°ä»£é¡¹ç›®æ ‡å‡†ï¼‰"></a>å…­ã€é…åˆ pyproject.toml ä½¿ç”¨ï¼ˆç°ä»£é¡¹ç›®æ ‡å‡†ï¼‰</h2><p>å¦‚æœä½ å¸Œæœ›ä½¿ç”¨ <code>pyproject.toml</code> æ¥ç®¡ç†é¡¹ç›®ä¾èµ–ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv init</span><br></pre></td></tr></table></figure><p>è¿™ä¼šç”Ÿæˆä¸€ä¸ª pyproject.toml æ–‡ä»¶ï¼Œä½ å¯ä»¥æ‰‹åŠ¨æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[project]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;myproject&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">dependencies</span> = [</span><br><span class="line">    <span class="string">&quot;flask&quot;</span>,</span><br><span class="line">    <span class="string">&quot;requests&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv install</span><br></pre></td></tr></table></figure><blockquote><p>ç±»ä¼¼äº <code>pip install -e .</code> çš„æ•ˆæœã€‚</p></blockquote><h2 id="ä¸ƒã€ä¸ç¼–è¾‘å™¨é›†æˆï¼ˆå¦‚-VSCodeï¼‰"><a href="#ä¸ƒã€ä¸ç¼–è¾‘å™¨é›†æˆï¼ˆå¦‚-VSCodeï¼‰" class="headerlink" title="ä¸ƒã€ä¸ç¼–è¾‘å™¨é›†æˆï¼ˆå¦‚ VSCodeï¼‰"></a>ä¸ƒã€ä¸ç¼–è¾‘å™¨é›†æˆï¼ˆå¦‚ VSCodeï¼‰</h2><p>ä½ å¯ä»¥åœ¨ VSCode ä¸­é€‰æ‹©è§£é‡Šå™¨ä¸ºæ–°åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒçš„ Python è·¯å¾„ã€‚ä¾‹å¦‚ï¼š</p><ul><li>å¦‚æœä½ åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºäº† <code>.venv</code>ï¼Œé‚£ä¹ˆ VSCode çš„ Python è§£é‡Šå™¨åº”è¯¥é€‰æ‹©ï¼š<ul><li>Linux/macOS: <code>.venv/bin/python</code></li><li>Windows: <code>.venv\Scripts\python.exe</code></li></ul></li></ul><p>åœ¨ VSCode ä¸­æŒ‰ <code>Ctrl + Shift + P</code>ï¼Œè¾“å…¥ â€œPython: Select Interpreterâ€ï¼Œé€‰æ‹©å³å¯ã€‚</p><h2 id="å…«ã€åˆ é™¤è™šæ‹Ÿç¯å¢ƒ"><a href="#å…«ã€åˆ é™¤è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="å…«ã€åˆ é™¤è™šæ‹Ÿç¯å¢ƒ"></a>å…«ã€åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</h2><p>ç›´æ¥åˆ é™¤ <code>.venv</code> ç›®å½•å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Windows ä¸‹ç›´æ¥åˆ é™¤æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="comment"># Linux</span></span><br><span class="line">rm -rf .venv</span><br></pre></td></tr></table></figure><h2 id="âœ…-å°ç»“"><a href="#âœ…-å°ç»“" class="headerlink" title="âœ… å°ç»“"></a>âœ… å°ç»“</h2><table><thead><tr><th>åŠŸèƒ½</th><th>å‘½ä»¤</th><th></th></tr></thead><tbody><tr><td>å®‰è£… uv</td><td>`curl -Ls <a class="link"   href="https://install.uv.rs/" >https://install.uv.rs<i class="fas fa-external-link-alt"></i></a></td><td>sh`</td></tr><tr><td>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</td><td><code>uv venv</code> æˆ– <code>uv venv venv_test</code>æˆ– <code>uv venv --python 3.9</code></td><td></td></tr><tr><td>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆLinux/macOSï¼‰</td><td><code>source venv_test/bin/activate</code></td><td></td></tr><tr><td>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆWindowsï¼‰</td><td><code>venv_test\Scripts\activate</code></td><td></td></tr><tr><td>å®‰è£…ä¾èµ–</td><td><code>uv add åŒ…å</code>æˆ–<code>uv pip install åŒ…å</code></td><td></td></tr><tr><td>åˆå§‹åŒ–é¡¹ç›®</td><td><code>uv init</code> ç”Ÿæˆä¸€ä¸ª pyproject.toml æ–‡ä»¶</td><td></td></tr><tr><td>å®‰è£…é¡¹ç›®ä¾èµ–</td><td><code>uv install</code></td><td></td></tr><tr><td>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</td><td>åˆ é™¤æ–‡ä»¶å¤¹å³å¯</td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><p><code>uv</code> å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://docs.astral.sh/uv/" >https://docs.astral.sh/uv/<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>aria2å¼€æºä¸‹è½½å·¥å…·</title>
      <link href="/2025/07/30/aria2%E5%BC%80%E6%BA%90%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/"/>
      <url>/2025/07/30/aria2%E5%BC%80%E6%BA%90%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<p>Aria2æ˜¯ä¸€æ¬¾è½»é‡çº§ã€å¤šåè®®ã€å¤šæºçš„å‘½ä»¤è¡Œä¸‹è½½å·¥å…·ã€‚å®ƒæ”¯æŒHTTP/HTTPSã€FTPã€SFTPã€BitTorrentå’ŒMetalinkç­‰å¤šç§åè®®ï¼Œå¹¶èƒ½ä»å¤šä¸ªæ¥æºåŒæ—¶ä¸‹è½½æ–‡ä»¶ï¼Œä»è€Œæœ€å¤§é™åº¦åœ°åˆ©ç”¨å¸¦å®½ã€‚Aria2ä»¥å…¶é«˜æ•ˆã€ä½èµ„æºå ç”¨å’Œè·¨å¹³å°ç‰¹æ€§è€Œé—»åï¼Œæ˜¯è®¸å¤šç”¨æˆ·æ›¿ä»£ä¼ ç»Ÿä¸‹è½½å·¥å…·çš„é¦–é€‰ã€‚</p><a id="more"></a><h3 id="ä¸€ã€ä¸»è¦åŠŸèƒ½å’Œç‰¹æ€§"><a href="#ä¸€ã€ä¸»è¦åŠŸèƒ½å’Œç‰¹æ€§" class="headerlink" title="ä¸€ã€ä¸»è¦åŠŸèƒ½å’Œç‰¹æ€§"></a>ä¸€ã€ä¸»è¦åŠŸèƒ½å’Œç‰¹æ€§</h3><ul><li><strong>å¤šåè®®æ”¯æŒ</strong>ï¼šæ”¯æŒHTTP(S)ã€FTPã€SFTPã€BitTorrentå’ŒMetalinkã€‚</li><li><strong>å¤šæºä¸‹è½½</strong>ï¼šå¯ä»¥ä»å¤šä¸ªURL/æºåŒæ—¶ä¸‹è½½æ–‡ä»¶ï¼Œæé«˜ä¸‹è½½é€Ÿåº¦ã€‚</li><li><strong>åˆ†æ®µä¸‹è½½</strong>ï¼šæ”¯æŒæ–‡ä»¶åˆ†æ®µä¸‹è½½ï¼Œè¿›ä¸€æ­¥åŠ é€Ÿä¸‹è½½è¿‡ç¨‹ã€‚</li><li><strong>å‘½ä»¤è¡Œç•Œé¢</strong>ï¼šé€šè¿‡å‘½ä»¤è¡Œæ“ä½œï¼Œæ–¹ä¾¿é›†æˆåˆ°è„šæœ¬æˆ–è‡ªåŠ¨åŒ–æµç¨‹ä¸­ã€‚</li><li><strong>ä½èµ„æºå ç”¨</strong>ï¼šè®¾è®¡è½»å·§ï¼Œå ç”¨ç³»ç»Ÿèµ„æºå°‘ã€‚</li><li><strong>è·¨å¹³å°</strong>ï¼šå¯åœ¨Linuxã€Windowsã€macOSç­‰å¤šç§æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚</li><li><strong>JSON-RPC/XML-RPCæ¥å£</strong>ï¼šæä¾›è¿œç¨‹æ§åˆ¶æ¥å£ï¼Œæ–¹ä¾¿ç¬¬ä¸‰æ–¹åº”ç”¨æˆ–WebUIè¿›è¡Œç®¡ç†ã€‚</li><li><strong>BitTorrentç‰¹æ€§</strong>ï¼šæ”¯æŒDHTã€PEXã€MSE/PSEã€å¤šTrackerã€UDP Trackerç­‰BitTorrentæ‰©å±•ï¼Œä»¥åŠWeb Seedingå’ŒLocal Peer Discoveryã€‚</li><li><strong>é€‰æ‹©æ€§ä¸‹è½½</strong>ï¼šåœ¨å¤šæ–‡ä»¶BitTorrentæˆ–Metalinkä»»åŠ¡ä¸­ï¼Œå¯ä»¥é€‰æ‹©æ€§ä¸‹è½½éƒ¨åˆ†æ–‡ä»¶ã€‚</li><li><strong>æ–­ç‚¹ç»­ä¼ </strong>ï¼šæ”¯æŒä¸‹è½½ä¸­æ–­åä»ä¸Šæ¬¡åœæ­¢çš„åœ°æ–¹ç»§ç»­ä¸‹è½½ã€‚</li><li><strong>ä»£ç†æ”¯æŒ</strong>ï¼šæ”¯æŒHTTPä»£ç†ï¼Œå¹¶å¯é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ã€‚</li><li><strong>Cookieæ”¯æŒ</strong>ï¼šå¯ä»¥ä»Firefoxã€Chromeç­‰æµè§ˆå™¨å¯¼å…¥Cookieï¼Œä¹Ÿå¯ä¿å­˜Cookieã€‚</li><li><strong>è‡ªå®šä¹‰HTTPå¤´</strong>ï¼šå…è®¸ç”¨æˆ·è‡ªå®šä¹‰HTTPè¯·æ±‚å¤´ã€‚</li><li><strong>é™é€Ÿ</strong>ï¼šæ”¯æŒä¸‹è½½å’Œä¸Šä¼ é€Ÿåº¦é™åˆ¶ã€‚</li><li><strong>IPv6æ”¯æŒ</strong>ï¼šæ”¯æŒIPv6ï¼Œå¹¶é‡‡ç”¨Happy Eyeballsç®—æ³•ä¼˜åŒ–è¿æ¥ã€‚</li><li><strong>ç£ç›˜ç¼“å­˜</strong>ï¼šå‡å°‘ç£ç›˜æ´»åŠ¨ï¼Œå»¶é•¿ç¡¬ç›˜å¯¿å‘½ã€‚</li></ul><h3 id="äºŒã€å®‰è£…ä¸é…ç½®"><a href="#äºŒã€å®‰è£…ä¸é…ç½®" class="headerlink" title="äºŒã€å®‰è£…ä¸é…ç½®"></a>äºŒã€å®‰è£…ä¸é…ç½®</h3><p>Aria2çš„å®‰è£…é€šå¸¸éå¸¸ç®€å•ï¼Œåœ¨å¤§å¤šæ•°Linuxå‘è¡Œç‰ˆä¸­ï¼Œå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨ç›´æ¥å®‰è£…ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Debian/Ubuntu</span></span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install aria2</span><br></pre></td></tr></table></figure><p><strong>Windowsä¸‹è½½</strong>:<br>  Windowsç”¨æˆ·å¯ä»¥ä»<a class="link"   href="https://github.com/aria2/aria2/releases" >aria2å®˜æ–¹GitHubå‘å¸ƒé¡µé¢<i class="fas fa-external-link-alt"></i></a>ä¸‹è½½é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼šaria2-1.37.0-win-64bit-build1.zip</p><p>ä¸‹è½½å®Œåï¼Œè§£å‹å‡ºæ¥ï¼ŒæŠŠè¯¥ç›®å½•æ·»åŠ åˆ°ã€ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‘ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ aria2c.exe äº†ã€‚</p><h3 id="ä¸‰ã€ä½¿ç”¨æ–¹æ³•"><a href="#ä¸‰ã€ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä¸‰ã€ä½¿ç”¨æ–¹æ³•"></a>ä¸‰ã€ä½¿ç”¨æ–¹æ³•</h3><p>Aria2ä¸»è¦é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œæ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.ä¸‹è½½å•ä¸ªæ–‡ä»¶</span></span><br><span class="line">aria2c https://example.com/file.zip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.ä¸‹è½½å•ä¸ªæ–‡ä»¶å¹¶æŒ‡å®šè¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">aria2c -o new_file.zip https://example.com/file.zip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.ä¸‹è½½åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">aria2c -d D:\Downloads https://example.com/file.zip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.ä¸‹è½½ .torrentæ–‡ä»¶</span></span><br><span class="line">aria2c torrent_file.torrent</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.ä»æ–‡ä»¶åˆ—è¡¨ä¸‹è½½(æ–‡ä»¶ä¸­æ¯è¡Œä¸€ä¸ªä¸‹è½½urlé“¾æ¥)</span></span><br><span class="line">aria2c -i urls.txt</span><br></pre></td></tr></table></figure><h3 id="å››ã€å¯è§†åŒ–ç•Œé¢"><a href="#å››ã€å¯è§†åŒ–ç•Œé¢" class="headerlink" title="å››ã€å¯è§†åŒ–ç•Œé¢"></a>å››ã€å¯è§†åŒ–ç•Œé¢</h3><p>Aria2æœ¬èº«æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯¹äºä¸ä¹ æƒ¯å‘½ä»¤è¡Œæ“ä½œçš„ç”¨æˆ·æ¥è¯´ï¼Œä½¿ç”¨èµ·æ¥å¯èƒ½ä¸å¤Ÿç›´è§‚ã€‚å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹å¯è§†åŒ–ç•Œé¢ï¼ˆWebUIæˆ–æ¡Œé¢å®¢æˆ·ç«¯ï¼‰å¯ä»¥ä¸Aria2çš„RPCæ¥å£é…åˆä½¿ç”¨ï¼Œæä¾›å›¾å½¢åŒ–çš„ä»»åŠ¡ç®¡ç†å’Œç›‘æ§åŠŸèƒ½ã€‚ä»¥ä¸‹ä»‹ç»ä¸¤æ¬¾æµè¡Œçš„Aria2å¯è§†åŒ–ç•Œé¢ï¼šMotrixå’ŒAriaNgã€‚</p><h4 id="1-Motrix"><a href="#1-Motrix" class="headerlink" title="1.Motrix"></a>1.Motrix</h4><p><a class="link"   href="https://motrix.app/" >Motrixå®˜æ–¹ç½‘ç«™<i class="fas fa-external-link-alt"></i></a>ä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…å¹¶è¿›è¡Œå®‰è£…ã€‚</p><p>Motrixé€šå¸¸ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨æœ¬åœ°è¿è¡Œçš„Aria2å®ä¾‹ã€‚å¦‚æœAria2æœªè¿è¡Œæˆ–éœ€è¦è‡ªå®šä¹‰é…ç½®ï¼Œå¯ä»¥åœ¨Motrixçš„è®¾ç½®ä¸­æŒ‡å®šAria2çš„RPCåœ°å€ã€ç«¯å£å’Œå¯†é’¥ã€‚</p><p>ç„¶åå°±ç›´æ¥ç²˜è´´ä¸‹è½½é“¾æ¥ï¼ˆHTTP/FTP/Magnetç­‰ï¼‰æˆ–æ‹–å…¥<code>.torrent</code>æ–‡ä»¶æ¥æ·»åŠ ä¸‹è½½ä»»åŠ¡ã€‚</p><h4 id="2-AriaNg"><a href="#2-AriaNg" class="headerlink" title="2.AriaNg"></a>2.AriaNg</h4><p>AriaNg æ˜¯ä¸€æ¬¾ç°ä»£åŒ–çš„ç½‘é¡µå‰ç«¯ï¼Œè®© aria2 æ›´æ˜“äºä½¿ç”¨ã€‚AriaNg é‡‡ç”¨çº¯ HTML å’Œ JavaScript ç¼–å†™ï¼Œå› æ­¤æ— éœ€ä»»ä½•ç¼–è¯‘å™¨æˆ–è¿è¡Œæ—¶ç¯å¢ƒã€‚</p><p><a class="link"   href="https://github.com/mayswind/AriaNg/releases" >AriaNgçš„GitHubå‘å¸ƒé¡µé¢<i class="fas fa-external-link-alt"></i></a>ä¸‹è½½ï¼Œæ¯”å¦‚ï¼š<a class="link"   href="https://github.com/mayswind/AriaNg/releases/download/1.3.11/AriaNg-1.3.11.zip" >AriaNg-1.3.11.zip<i class="fas fa-external-link-alt"></i></a></p><p>ä½¿ç”¨çš„æ—¶å€™éœ€è¦å¯åŠ¨Aria2æœåŠ¡ã€‚</p><p>å°±ç”¨ä¸€å¥å‘½ä»¤<code>aria2c --enable-rpc --rpc-listen-all --rpc-allow-origin-all</code> å¯åŠ¨Aria2çš„RPCæ¥å£ï¼Œç„¶ååŒå‡»æ‰“å¼€ AriaNgè§£å‹å‡ºæ¥çš„ index.htmlï¼Œçœ‹åˆ°è¿æ¥ä¸Šäº†å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å†™ä¸ªbatè„šæœ¬ç›´æ¥åŒå‡»è¿è¡Œå¯åŠ¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">title Aria2 Launcher</span><br><span class="line">color 0a</span><br><span class="line"></span><br><span class="line">:: Check <span class="keyword">if</span> aria2c is already running</span><br><span class="line">tasklist | findstr /i <span class="string">&quot;aria2c.exe&quot;</span> &gt;nul</span><br><span class="line"><span class="keyword">if</span> %errorlevel% == 0 (</span><br><span class="line">    <span class="built_in">echo</span> [ERROR] aria2c is already running!</span><br><span class="line">    pause</span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">:: Start aria2c with minimal RPC options</span><br><span class="line">aria2c --enable-rpc --rpc-listen-all --rpc-allow-origin-all</span><br><span class="line"><span class="keyword">if</span> %errorlevel% neq 0 (</span><br><span class="line">    <span class="built_in">echo</span> [WARNING] aria2c not found <span class="keyword">in</span> PATH, trying absolute path...</span><br><span class="line">    <span class="string">&quot;D:\aria2-1.37.0-win-64bit-build1\aria2c.exe&quot;</span> --enable-rpc --rpc-listen-all --rpc-allow-origin-all</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> [SUCCESS] aria2c started, RPC port: 6800</span><br><span class="line">pause</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="äº”ã€æ‰¹é‡ä¸‹è½½å¹¶é‡å‘½å"><a href="#äº”ã€æ‰¹é‡ä¸‹è½½å¹¶é‡å‘½å" class="headerlink" title="äº”ã€æ‰¹é‡ä¸‹è½½å¹¶é‡å‘½å"></a>äº”ã€æ‰¹é‡ä¸‹è½½å¹¶é‡å‘½å</h3><p>è¦æ‰¹é‡ä¸‹è½½è¿™äº›éƒ½å¾ˆç®€å•ï¼ŒæŠŠä¸‹è½½é“¾æ¥éƒ½æ”¾åœ¨ä¸€ä¸ªurls.txtæ–‡ä»¶ä¸­å°±å¯ä»¥äº†ï¼Œä½†å¥½åƒæ²¡æœ‰é‡å‘½ååŠŸèƒ½ï¼Œæ‰€ä»¥ç‰¹åœ°å†™äº†ä¸ªwindows powershellçš„è„šæœ¬ã€‚</p><p>åˆ›å»ºä¸€ä¸ª download.ps1 æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼Œç¼–ç ä¿å­˜ä¸ºã€<mark>UTF-8 with BOM</mark>ã€‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œå‘½ä»¤ï¼špowershell -ExecutionPolicy Bypass -File .\download.ps1</span></span><br><span class="line"><span class="comment"># è®¾ç½®æ§åˆ¶å°ç¼–ç ä¸º UTF-8ï¼Œé¿å…ä¸­æ–‡ä¹±ç </span></span><br><span class="line">[Console]::OutputEncoding = [System.Text.Encoding]::UTF8</span><br><span class="line"><span class="variable">$OutputEncoding</span> = New-Object -TypeName System.Text.UTF8Encoding</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® aria2c.exe çš„å®Œæ•´è·¯å¾„</span></span><br><span class="line"><span class="variable">$aria2cPath</span> = <span class="string">&quot;D:\aria2-1.37.0-win-64bit-build1\aria2c.exe&quot;</span></span><br><span class="line"><span class="comment"># ä»é…ç½®æ–‡ä»¶è¯»å–éœ€è¦ä¸‹è½½çš„æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line"><span class="variable">$configFile</span> = <span class="string">&quot;download_config.json&quot;</span></span><br><span class="line"><span class="variable">$files</span> = Get-Content <span class="variable">$configFile</span> | ConvertFrom-Json</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸‹è½½ç›®å½•(å¦‚æœä¸å­˜åœ¨)</span></span><br><span class="line"><span class="variable">$downloadDir</span> = <span class="string">&quot;download&quot;</span></span><br><span class="line"><span class="keyword">if</span> (-not (Test-Path <span class="variable">$downloadDir</span>)) &#123;</span><br><span class="line">Â  Â  New-Item -ItemType Directory -Path <span class="variable">$downloadDir</span> | Out-Null</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># éå†æ–‡ä»¶åˆ—è¡¨å¹¶ä¸‹è½½</span></span><br><span class="line">foreach (<span class="variable">$file</span> <span class="keyword">in</span> <span class="variable">$files</span>) &#123;</span><br><span class="line">Â  Â  <span class="variable">$outPath</span> = Join-Path <span class="variable">$downloadDir</span> <span class="variable">$file</span>.out</span><br><span class="line">Â  Â  Write-Host <span class="string">&quot;æ­£åœ¨ä¸‹è½½: <span class="subst">$($file.out)</span>&quot;</span></span><br><span class="line">Â  Â  Start-Process -NoNewWindow -Wait -FilePath <span class="variable">$aria2cPath</span> -ArgumentList @(<span class="string">&quot;-d&quot;</span>, <span class="variable">$downloadDir</span>, <span class="string">&quot;-o&quot;</span>, <span class="string">&quot;`&quot;</span>$(<span class="variable">$file</span>.out)`<span class="string">&quot;&quot;</span>, <span class="string">&quot;`&quot;</span>$(<span class="variable">$file</span>.url)`<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">Write-Host <span class="string">&quot;`nâœ… æ‰€æœ‰æ–‡ä»¶ä¸‹è½½å®Œæˆï¼&quot;</span></span><br></pre></td></tr></table></figure><p>å†æŠŠéœ€è¦é‡å‘½åçš„ä¸‹è½½é“¾æ¥æ”¾åœ¨ download_config.json æ–‡ä»¶ä¸­ï¼ŒåŒæ ·ç¼–ç ä¿å­˜ä¸ºã€<mark>UTF-8 with BOM</mark>ã€‘ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">Â  Â  &#123; <span class="attr">&quot;out&quot;</span>: <span class="string">&quot;ä¹‰åŠ¡æ•™è‚²è¯¾ç¨‹æ–¹æ¡ˆ(2022å¹´ç‰ˆ).pdf&quot;</span>, <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://www.moe.gov.cn/srcsite/A26/s8001/202204/W020220420582343217634.pdf&quot;</span> &#125;,</span><br><span class="line">Â  Â  &#123; <span class="attr">&quot;out&quot;</span>: <span class="string">&quot;ä¹‰åŠ¡æ•™è‚²é“å¾·ä¸æ³•æ²»è¯¾ç¨‹æ ‡å‡†(2022å¹´ç‰ˆ).pdf&quot;</span>, <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://www.moe.gov.cn/srcsite/A26/s8001/202204/W020220420582343475848.pdf&quot;</span> &#125;,</span><br><span class="line">Â  Â  &#123; <span class="attr">&quot;out&quot;</span>: <span class="string">&quot;ä¹‰åŠ¡æ•™è‚²è¯­æ–‡è¯¾ç¨‹æ ‡å‡†(2022å¹´ç‰ˆ).pdf&quot;</span>, <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://www.moe.gov.cn/srcsite/A26/s8001/202204/W020220420582344386456.pdf&quot;</span> &#125;,</span><br><span class="line">Â  Â  &#123; <span class="attr">&quot;out&quot;</span>: <span class="string">&quot;ä¹‰åŠ¡æ•™è‚²å†å²è¯¾ç¨‹æ ‡å‡†(2022å¹´ç‰ˆ).pdf&quot;</span>, <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://www.moe.gov.cn/srcsite/A26/s8001/202204/W020220420582345700037.pdf&quot;</span> &#125;,</span><br><span class="line">Â  Â  &#123; <span class="attr">&quot;out&quot;</span>: <span class="string">&quot;ä¹‰åŠ¡æ•™è‚²æ•°å­¦è¯¾ç¨‹æ ‡å‡†(2022å¹´ç‰ˆ).pdf&quot;</span>, <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://www.moe.gov.cn/srcsite/A26/s8001/202204/W020220510531636118932.pdf&quot;</span> &#125;,</span><br><span class="line">Â  Â  &#123; <span class="attr">&quot;out&quot;</span>: <span class="string">&quot;ä¹‰åŠ¡æ•™è‚²è‹±è¯­è¯¾ç¨‹æ ‡å‡†(2022å¹´ç‰ˆ).pdf&quot;</span>, <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://www.moe.gov.cn/srcsite/A26/s8001/202204/W020220420582349487953.pdf&quot;</span> &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>åœ¨å½“å‰ç›®å½•ä¸‹è¿è¡Œ <code>powershell -ExecutionPolicy Bypass -File .\download.ps1</code> å‘½ä»¤å°±å¯ä»¥ä¸‹è½½äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ImageMagickå¼€æºå›¾åƒå¤„ç†å·¥å…·</title>
      <link href="/2025/07/30/ImageMagick%E5%BC%80%E6%BA%90%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/"/>
      <url>/2025/07/30/ImageMagick%E5%BC%80%E6%BA%90%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<p>ImageMagick æ˜¯ä¸€ä¸ªå¼€æºçš„å›¾åƒå¤„ç†å·¥å…·é›†ï¼Œæ”¯æŒè¶…è¿‡ 200 ç§å›¾åƒæ ¼å¼çš„è¯»å†™æ“ä½œã€‚å®ƒæä¾›äº†å‘½ä»¤è¡Œå·¥å…·å’Œå¤šç§ç¼–ç¨‹è¯­è¨€æ¥å£ï¼Œèƒ½å¤Ÿè¿›è¡Œå›¾åƒçš„åˆ›å»ºã€ç¼–è¾‘ã€åˆæˆå’Œè½¬æ¢ç­‰æ“ä½œã€‚</p><a id="more"></a><p>ä¸»è¦ç»„ä»¶ï¼š</p><ul><li><code>convert</code> - å›¾åƒæ ¼å¼è½¬æ¢å’Œå›¾åƒå¤„ç†</li><li><code>mogrify</code> - æ‰¹é‡å¤„ç†å›¾åƒ</li><li><code>composite</code> - å›¾åƒåˆæˆ</li><li><code>identify</code> - æŸ¥çœ‹å›¾åƒä¿¡æ¯</li><li><code>montage</code> - åˆ›å»ºå›¾åƒæ‹¼è´´</li></ul><h3 id="1-å®‰è£…-ImageMagick"><a href="#1-å®‰è£…-ImageMagick" class="headerlink" title="1. å®‰è£… ImageMagick"></a>1. å®‰è£… ImageMagick</h3><p><strong>Linux (Ubuntu/Debian)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install imagemagick</span><br></pre></td></tr></table></figure><p><strong>macOS (ä½¿ç”¨ Homebrew)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install imagemagick</span><br></pre></td></tr></table></figure><p><strong>Windows</strong><br>ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼š<a class="link"   href="https://imagemagick.org/script/download.php" >https://imagemagick.org/script/download.php<i class="fas fa-external-link-alt"></i></a></p><h3 id="2-åŸºæœ¬å‘½ä»¤ä½¿ç”¨"><a href="#2-åŸºæœ¬å‘½ä»¤ä½¿ç”¨" class="headerlink" title="2. åŸºæœ¬å‘½ä»¤ä½¿ç”¨"></a>2. åŸºæœ¬å‘½ä»¤ä½¿ç”¨</h3><p><strong>1).æ ¼å¼è½¬æ¢</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">magick convert input.jpg output.png</span><br></pre></td></tr></table></figure><p><strong>2).è°ƒæ•´å¤§å°</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šå®½é«˜</span></span><br><span class="line">magick convert input.jpg -resize 800x600 output.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‰æ¯”ä¾‹ç¼©æ”¾(ä¿æŒå®½é«˜æ¯”)</span></span><br><span class="line">magick convert input.jpg -resize 50% output.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå®½åº¦ï¼Œé«˜åº¦è‡ªåŠ¨è®¡ç®—</span></span><br><span class="line">magick convert input.jpg -resize 800x output.jpg</span><br></pre></td></tr></table></figure><p><strong>3).è£å‰ªå›¾åƒ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è£å‰ªæŒ‡å®šåŒºåŸŸ(å®½xé«˜+å·¦åç§»+ä¸Šåç§»)</span></span><br><span class="line">magick convert input.jpg -crop 300x300+100+50 output.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªåŠ¨è£å‰ªè¾¹ç¼˜ç©ºç™½</span></span><br><span class="line">magick convert input.jpg -trim output.jpg</span><br></pre></td></tr></table></figure><p><strong>4).æ—‹è½¬å›¾åƒ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">magick convert input.jpg -rotate 90 output.jpg</span><br></pre></td></tr></table></figure><p><strong>5).è°ƒæ•´è´¨é‡(å‹ç¼©)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">magick convert input.jpg -quality 85 output.jpg</span><br></pre></td></tr></table></figure><p><strong>6).æ·»åŠ æ°´å°</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">magick convert input.jpg -gravity southeast -pointsize 36 -fill white -annotate +10+10 <span class="string">&quot;Copyright&quot;</span> output.jpg</span><br></pre></td></tr></table></figure><h3 id="3-é«˜çº§æ“ä½œ"><a href="#3-é«˜çº§æ“ä½œ" class="headerlink" title="3. é«˜çº§æ“ä½œ"></a>3. é«˜çº§æ“ä½œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æ‰¹é‡å¤„ç†ï¼ˆæ‰¹é‡è®¾ç½®jpgå›¾åƒå¤§å°ï¼Œæ‰¹é‡æŠŠheicæ ¼å¼è½¬æ¢ä¸ºjpgï¼‰</span></span><br><span class="line">magick mogrify -resize 800x600 *.jpg</span><br><span class="line">magick mogrify -format jpg *.heic</span><br><span class="line">magick mogrify -format jpg -quality 50 -resize <span class="string">&quot;800x600&gt;&quot;</span> *.png</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆ›å»ºç¼©ç•¥å›¾</span></span><br><span class="line">magick convert input.jpg -thumbnail 200x200 thumb.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å›¾åƒåˆæˆ</span></span><br><span class="line">magick composite -gravity center overlay.png background.jpg result.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.å›¾åƒè’™ç‰ˆ</span></span><br><span class="line">magick convert background.jpg mask.png -alpha off -compose copy_opacity -composite result.png</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.åˆ›å»º GIF åŠ¨ç”»</span></span><br><span class="line">magick convert -delay 20 -loop 0 frame*.jpg animation.gif</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.æå– PDF é¡µé¢ä¸ºå›¾åƒ</span></span><br><span class="line">magick convert -density 150 input.pdf -quality 90 output.jpg</span><br></pre></td></tr></table></figure><h3 id="4-å®ç”¨æŠ€å·§"><a href="#4-å®ç”¨æŠ€å·§" class="headerlink" title="4. å®ç”¨æŠ€å·§"></a>4. å®ç”¨æŠ€å·§</h3><h3 id=""><a href="#" class="headerlink" title=""></a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æŸ¥çœ‹å›¾åƒä¿¡æ¯</span></span><br><span class="line">magick identify -verbose image.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æ‰¹é‡è½¬æ¢æ ¼å¼</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> *.png; <span class="keyword">do</span> magick convert <span class="string">&quot;<span class="variable">$file</span>&quot;</span> <span class="string">&quot;<span class="variable">$&#123;file%.png&#125;</span>.jpg&quot;</span>; <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å»é™¤ EXIF ä¿¡æ¯</span></span><br><span class="line">magick convert input.jpg -strip output.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.è°ƒæ•´äº®åº¦/å¯¹æ¯”åº¦</span></span><br><span class="line">magick convert input.jpg -brightness-contrast 10x20 output.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.æ·»åŠ è¾¹æ¡†</span></span><br><span class="line">magick convert input.jpg -bordercolor black -border 20x20 output.jpg</span><br></pre></td></tr></table></figure><p>ImageMagick åŠŸèƒ½å¼ºå¤§ï¼Œæ›´å¤šé«˜çº§åŠŸèƒ½å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<br><a class="link"   href="https://imagemagick.org/script/command-line-tools.php" >https://imagemagick.org/script/command-line-tools.php<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdownæµç¨‹å›¾Mermaidè¯­æ³•</title>
      <link href="/2025/04/30/Markdown%E6%B5%81%E7%A8%8B%E5%9B%BEMermaid%E8%AF%AD%E6%B3%95/"/>
      <url>/2025/04/30/Markdown%E6%B5%81%E7%A8%8B%E5%9B%BEMermaid%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ Markdown ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <strong>Mermaid</strong> è¯­æ³•æ¥ç»˜åˆ¶æµç¨‹å›¾ã€‚</p><p>Mermaid æ˜¯ä¸€ç§åŸºäºæ–‡æœ¬çš„å›¾è¡¨ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒæµç¨‹å›¾ã€åºåˆ—å›¾ã€ç”˜ç‰¹å›¾ç­‰å¤šç§å›¾è¡¨ç±»å‹ã€‚</p><p>Mermaid çš„å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://mermaid-js.github.io/mermaid/#/flowchart" >https://mermaid-js.github.io/mermaid/#/flowchart<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h3 id="1-æµç¨‹å›¾çš„æ™®é€šç¤ºä¾‹"><a href="#1-æµç¨‹å›¾çš„æ™®é€šç¤ºä¾‹" class="headerlink" title="1.æµç¨‹å›¾çš„æ™®é€šç¤ºä¾‹"></a>1.æµç¨‹å›¾çš„æ™®é€šç¤ºä¾‹</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```mermaid</span></span><br><span class="line"><span class="code">flowchart TD</span></span><br><span class="line"><span class="code">    A[å¼€å§‹] --&gt; B&#123;æ¡ä»¶åˆ¤æ–­&#125;</span></span><br><span class="line"><span class="code">    B --&gt;|æ˜¯| C[æ‰§è¡Œæ“ä½œ1]</span></span><br><span class="line"><span class="code">    B --&gt;|å¦| D[æ‰§è¡Œæ“ä½œ2]</span></span><br><span class="line"><span class="code">    C --&gt; E[ç»“æŸ]</span></span><br><span class="line"><span class="code">    D --&gt; E</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Markdown_Mermaid_1.png"                      style="zoom: 30%;"                ></p><p><mark>å¦‚æœæƒ³è¦è¿æ¥è¿çº¿ä¸ç”¨å¼¯çš„çº¿ï¼Œæ”¹ä¸ºç›´çº¿</mark>ï¼Œå¯ä»¥åœ¨ <code>flowchart TD</code> è¿™ä¸€å¥å‰é¢åŠ ä¸Šä¸‹é¢è¿™æ ·ä¸€å¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%%&#123;init: &#123;&#39;flowchart&#39;: &#123;&#39;curve&#39;: &#39;linear&#39;&#125;&#125;&#125;%%</span><br></pre></td></tr></table></figure><h3 id="2-è¯­æ³•è¯´æ˜ï¼š"><a href="#2-è¯­æ³•è¯´æ˜ï¼š" class="headerlink" title="2.è¯­æ³•è¯´æ˜ï¼š"></a>2.è¯­æ³•è¯´æ˜ï¼š</h3><ol><li><p><strong>æ–¹å‘å®šä¹‰</strong>ï¼š</p><ul><li><code>TD</code> / <code>TB</code>ï¼šä»ä¸Šåˆ°ä¸‹ï¼ˆTop to Bottomï¼‰</li><li><code>LR</code>ï¼šä»å·¦åˆ°å³ï¼ˆLeft to Rightï¼‰</li><li><code>RL</code>ï¼šä»å³åˆ°å·¦</li></ul></li><li><p><strong>èŠ‚ç‚¹ç±»å‹</strong>ï¼š</p><ul><li><code>A[æ–‡æœ¬]</code>ï¼šçŸ©å½¢èŠ‚ç‚¹</li><li><code>B&#123;æ–‡æœ¬&#125;</code>ï¼šè±å½¢ï¼ˆæ¡ä»¶åˆ¤æ–­ï¼‰</li><li><code>C(æ–‡æœ¬)</code>ï¼šåœ†è§’çŸ©å½¢</li><li><code>D([æ–‡æœ¬])</code>ï¼šä¸¤è¾¹åŠåœ†çŸ©å½¢</li><li><code>E[/æ–‡æœ¬/]</code>ï¼šå¹³è¡Œå››è¾¹å½¢</li><li><code>F((æ–‡æœ¬))</code>ï¼šåœ†å½¢èŠ‚ç‚¹</li></ul></li><li><p><strong>è¿æ¥çº¿</strong>ï¼š</p><ul><li><code>--&gt;</code>ï¼šå®çº¿ç®­å¤´</li><li><code>---</code>ï¼šæ— ç®­å¤´å®çº¿</li><li><code>-.-&gt;</code>ï¼šè™šçº¿ç®­å¤´</li><li><code>-- æ–‡æœ¬ --&gt;</code>ï¼šå¸¦æ–‡å­—çš„è¿æ¥çº¿ï¼ˆå¦‚ <code>|æ˜¯|</code>ï¼‰</li></ul></li></ol><h3 id="3-æµç¨‹å›¾çš„å¤æ‚ç¤ºä¾‹"><a href="#3-æµç¨‹å›¾çš„å¤æ‚ç¤ºä¾‹" class="headerlink" title="3.æµç¨‹å›¾çš„å¤æ‚ç¤ºä¾‹"></a>3.æµç¨‹å›¾çš„å¤æ‚ç¤ºä¾‹</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```mermaid</span></span><br><span class="line"><span class="code">flowchart LR</span></span><br><span class="line"><span class="code">    A[ç™»å½•ç³»ç»Ÿ] --&gt; B&#123;éªŒè¯æˆåŠŸ?&#125;</span></span><br><span class="line"><span class="code">    B --&gt;|æ˜¯| C[è¿›å…¥ä¸»é¡µ]</span></span><br><span class="line"><span class="code">    B --&gt;|å¦| D[æ˜¾ç¤ºé”™è¯¯]</span></span><br><span class="line"><span class="code">    C --&gt; E[æµè§ˆå†…å®¹]</span></span><br><span class="line"><span class="code">    E --&gt; F[é€€å‡ºç³»ç»Ÿ]</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Markdown_Mermaid_2.png"                      style="zoom: 50%;"                ></p><h3 id="4-Markdownç¼–è¾‘å™¨ä¸­é¢„è§ˆæµç¨‹å›¾æ•ˆæœ"><a href="#4-Markdownç¼–è¾‘å™¨ä¸­é¢„è§ˆæµç¨‹å›¾æ•ˆæœ" class="headerlink" title="4.Markdownç¼–è¾‘å™¨ä¸­é¢„è§ˆæµç¨‹å›¾æ•ˆæœ"></a>4.Markdownç¼–è¾‘å™¨ä¸­é¢„è§ˆæµç¨‹å›¾æ•ˆæœ</h3><p><strong>1.VS Code</strong></p><p>è‹¥è¦åœ¨ VS Code é‡Œçš„ Markdown é¢„è§ˆä¸­çœ‹åˆ° Mermaid ç»˜åˆ¶çš„æµç¨‹å›¾ï¼Œéœ€è¦å®‰è£… <code>Markdown Preview Mermaid Support</code> æ‰©å±•ã€‚</p><p><strong>2.Obsidian</strong></p><p>Obsidian å¥½åƒå·²ç»è‡ªå¸¦äº†ï¼Œç›´æ¥å¯ä»¥çœ‹åˆ°æ•ˆæœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå®šæ—¶æ‰¹é‡æ›´æ–°Dockeré•œåƒ</title>
      <link href="/2025/03/09/Linux%E5%AE%9A%E6%97%B6%E6%89%B9%E9%87%8F%E6%9B%B4%E6%96%B0Docker%E9%95%9C%E5%83%8F/"/>
      <url>/2025/03/09/Linux%E5%AE%9A%E6%97%B6%E6%89%B9%E9%87%8F%E6%9B%B4%E6%96%B0Docker%E9%95%9C%E5%83%8F/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºåœ¨Dockerä¸Šä¸‹è½½çš„ä¸€äº›é•œåƒï¼Œåˆ›å»ºäº†å®¹å™¨ï¼ˆWebæœåŠ¡ï¼‰åç»å¸¸ä¼šæœ‰æ›´æ–°ï¼Œæœ¬æ¥æ˜¯æ¯å‘¨è‡ªå·±æ‰‹åŠ¨æ›´æ–°ä¸‹ï¼Œåé¢çªç„¶æƒ³èµ·ï¼Œä¸æ˜¯å¯ä»¥å†™ä¸ªè„šæœ¬è‡ªåŠ¨æ›´æ–°å°±å¥½äº†ä¹ˆã€‚</p><p>äºæ˜¯ï¼Œå°±æœ‰äº†è¿™ç¯‡ç¬”è®°ã€‚</p><p>å®šæ—¶ä»»åŠ¡è¿˜æ˜¯ç”¨çš„crontabï¼Œå‰é¢æœ‰ç¬”è®°å†™è¿‡ç”¨æ³•äº†ï¼š<a href="/2021/02/08/Linux%E5%AE%9A%E6%97%B6%E6%89%A7%E8%A1%8Cpython%E8%84%9A%E6%9C%AC/" title="Linux å®šæ—¶æ‰§è¡Œ pythonè„šæœ¬">Linux å®šæ—¶æ‰§è¡Œ pythonè„šæœ¬</a></p><a id="more"></a><h3 id="1-åˆ›å»ºè„šæœ¬å’Œé…ç½®æ–‡ä»¶"><a href="#1-åˆ›å»ºè„šæœ¬å’Œé…ç½®æ–‡ä»¶" class="headerlink" title="1.åˆ›å»ºè„šæœ¬å’Œé…ç½®æ–‡ä»¶"></a>1.åˆ›å»ºè„šæœ¬å’Œé…ç½®æ–‡ä»¶</h3><p>1).åˆ›å»º cron_scripts ç›®å½•</p><p>åˆ›å»º cron_scripts ç›®å½•æ”¾åœ¨homeç›®å½•ä¸‹ï¼Œå¹¶ä¸”ç»™æƒé™ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir cron_scripts</span><br><span class="line">chmod 755 cron_scripts</span><br></pre></td></tr></table></figure><p>2).åˆ›å»º update_docker_images.sh è„šæœ¬æ–‡ä»¶</p><p>æŠŠéœ€è¦è‡ªåŠ¨æ‰§è¡Œçš„å‘½ä»¤éƒ½æ”¾åœ¨è¿™ä¸ªè„šæœ¬æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é…ç½®æ–‡ä»¶ï¼Œæ¯è¡Œæ ¼å¼: å®¹å™¨å|é•œåƒå|è¿è¡Œæ–°å®¹å™¨çš„å®Œæ•´å‘½ä»¤</span></span><br><span class="line">CONFIG_FILE=&quot;$&#123;1:-$(dirname &quot;$0&quot;)/docker_containers.conf&#125;&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">if [ ! -f &quot;$CONFIG_FILE&quot; ]; then</span><br><span class="line">    echo &quot;é…ç½®æ–‡ä»¶ $CONFIG_FILE ä¸å­˜åœ¨ï¼Œåˆ›å»ºç¤ºä¾‹é…ç½®...&quot;</span><br><span class="line">    cat &gt; &quot;$CONFIG_FILE&quot; &lt;&lt; EOF</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ ¼å¼: å®¹å™¨å|é•œåƒå|è¿è¡Œæ–°å®¹å™¨çš„å®Œæ•´å‘½ä»¤</span></span><br><span class="line">deep-research-web|anotia/deep-research-web:latest|docker run --restart=always -p 3000:3000 --name &quot;deep-research-web&quot; -d &quot;anotia/deep-research-web:latest&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¤ºä¾‹: container2|image2:tag|docker run --restart=always -p 8080:80 --env VAR=value --volume /host:/container --name <span class="string">&quot;container2&quot;</span> -d <span class="string">&quot;image2:tag&quot;</span></span></span><br><span class="line">EOF</span><br><span class="line">    echo &quot;å·²åˆ›å»ºç¤ºä¾‹é…ç½®æ–‡ä»¶ $CONFIG_FILEï¼Œè¯·ç¼–è¾‘åé‡æ–°è¿è¡Œè„šæœ¬&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¯»å–é…ç½®æ–‡ä»¶å¹¶å¤„ç†æ¯ä¸ªå®¹å™¨</span></span><br><span class="line">while IFS=&#x27;|&#x27; read -r CONTAINER_NAME IMAGE_NAME RUN_COMMAND || [ -n &quot;$CONTAINER_NAME&quot; ]; do</span><br><span class="line">    # è·³è¿‡æ³¨é‡Šè¡Œå’Œç©ºè¡Œ</span><br><span class="line">    [[ &quot;$CONTAINER_NAME&quot; =~ ^#.*$ || -z &quot;$CONTAINER_NAME&quot; ]] &amp;&amp; continue</span><br><span class="line">    </span><br><span class="line">    echo &quot;===== å¤„ç†å®¹å™¨: $CONTAINER_NAME =====&quot;</span><br><span class="line">    </span><br><span class="line">    # åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨</span><br><span class="line">    if docker ps -aq --filter name=&quot;$CONTAINER_NAME&quot; | grep -q . ; then</span><br><span class="line">        echo &quot;åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ $CONTAINER_NAME...&quot;</span><br><span class="line">        docker stop &quot;$CONTAINER_NAME&quot; 2&gt;/dev/null  # å¿½ç•¥é”™è¯¯ (å¦‚æœå®¹å™¨ä¸å­˜åœ¨)</span><br><span class="line">        docker rm &quot;$CONTAINER_NAME&quot; 2&gt;/dev/null    # å¿½ç•¥é”™è¯¯</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    # åˆ é™¤æ—§é•œåƒ (å¯é€‰ï¼Œä½†å»ºè®®)</span><br><span class="line">    if docker images -q &quot;$IMAGE_NAME&quot; | grep -q . ; then</span><br><span class="line">        echo &quot;åˆ é™¤æ—§é•œåƒ $IMAGE_NAME...&quot;</span><br><span class="line">        docker rmi &quot;$IMAGE_NAME&quot; 2&gt;/dev/null      # å¿½ç•¥é”™è¯¯</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    # æ‹‰å–æœ€æ–°é•œåƒ</span><br><span class="line">    echo &quot;æ‹‰å–æœ€æ–°é•œåƒ $IMAGE_NAME...&quot;</span><br><span class="line">    docker pull &quot;$IMAGE_NAME&quot;</span><br><span class="line"></span><br><span class="line">    # è¿è¡Œæ–°å®¹å™¨</span><br><span class="line">    echo &quot;è¿è¡Œæ–°å®¹å™¨ $CONTAINER_NAME...&quot;</span><br><span class="line">    echo &quot;æ‰§è¡Œ: $RUN_COMMAND&quot;</span><br><span class="line">    eval $RUN_COMMAND</span><br><span class="line"></span><br><span class="line">    echo &quot;å®¹å™¨ $CONTAINER_NAME æ›´æ–°æˆåŠŸ&quot;</span><br><span class="line">    echo &quot;&quot;</span><br><span class="line">done &lt; &quot;$CONFIG_FILE&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;æ‰€æœ‰ Docker é•œåƒå’Œå®¹å™¨æ›´æ–°å®Œæˆ&quot;</span><br></pre></td></tr></table></figure><p>3).åˆ›å»º docker_containers.conf é…ç½®æ–‡ä»¶</p><p>æŠŠæ‰€æœ‰éœ€è¦è‡ªåŠ¨æ›´æ–°çš„Dockerçš„å®¹å™¨ï¼ˆé•œåƒï¼‰éƒ½æ”¾åœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># æ ¼å¼: å®¹å™¨å|é•œåƒå|è¿è¡Œæ–°å®¹å™¨çš„å®Œæ•´å‘½ä»¤</span><br><span class="line">deep-research-web|anotia&#x2F;deep-research-web:latest|docker run --restart&#x3D;always -p 3000:3000 --name &quot;deep-research-web&quot; -d &quot;anotia&#x2F;deep-research-web:latest&quot;</span><br><span class="line"># ç¤ºä¾‹: æ·»åŠ æ›´å¤šå®¹å™¨ï¼Œæ¯è¡Œä¸€ä¸ª</span><br><span class="line"># nginx-proxy|nginx:latest|docker run --restart&#x3D;always -p 80:80 --volume &#x2F;path&#x2F;to&#x2F;html:&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html --name &quot;nginx-proxy&quot; -d &quot;nginx:latest&quot;</span><br><span class="line"># postgres-db|postgres:14|docker run --restart&#x3D;always -p 5432:5432 --env POSTGRES_PASSWORD&#x3D;secret --volume &#x2F;data&#x2F;postgres:&#x2F;var&#x2F;lib&#x2F;postgresql&#x2F;data --name &quot;postgres-db&quot; -d &quot;postgres:14&quot;</span><br><span class="line">lobe-chat|lobehub&#x2F;lobe-chat:latest|docker run --restart&#x3D;always -p 3210:3210 --name &quot;lobe-chat&quot;  -d &quot;lobehub&#x2F;lobe-chat:latest&quot;</span><br></pre></td></tr></table></figure><h3 id="2-ç»™-update-docker-images-sh-æ·»åŠ å¯æ‰§è¡Œæƒé™"><a href="#2-ç»™-update-docker-images-sh-æ·»åŠ å¯æ‰§è¡Œæƒé™" class="headerlink" title="2.ç»™  update_docker_images.sh æ·»åŠ å¯æ‰§è¡Œæƒé™"></a>2.ç»™  update_docker_images.sh æ·»åŠ å¯æ‰§è¡Œæƒé™</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x cron_scripts/update_docker_images.sh</span><br></pre></td></tr></table></figure><h3 id="3-è®¾ç½®-crontab-å®šæ—¶ä»»åŠ¡"><a href="#3-è®¾ç½®-crontab-å®šæ—¶ä»»åŠ¡" class="headerlink" title="3.è®¾ç½® crontab å®šæ—¶ä»»åŠ¡"></a>3.è®¾ç½® crontab å®šæ—¶ä»»åŠ¡</h3><p>crontab å…·ä½“ç”¨æ³•çœ‹è¿™é‡Œï¼š<a href="/2021/02/08/Linux%E5%AE%9A%E6%97%B6%E6%89%A7%E8%A1%8Cpython%E8%84%9A%E6%9C%AC/" title="Linux å®šæ—¶æ‰§è¡Œ pythonè„šæœ¬">Linux å®šæ—¶æ‰§è¡Œ pythonè„šæœ¬</a></p><p>åœ¨é‡Œé¢æ‰§è¡Œçš„è„šæœ¬å†™ç»å¯¹è·¯å¾„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ä¸‹é¢è¿™ä¸€è¡Œå†…å®¹</span></span><br><span class="line">0 4 * * 6 /home/ubuntu/cron_scripts/update_docker_images.sh &gt;&gt; /home/ubuntu/cron_scripts/update_docker_images.log 2&gt;&amp;1</span><br></pre></td></tr></table></figure><blockquote><p>0 4 * * 6ï¼šè¡¨ç¤ºæ¯å‘¨å…­æ—©ä¸Š 4 ç‚¹æ‰§è¡Œã€‚</p></blockquote><h3 id="4-é‡å¯cronæœåŠ¡"><a href="#4-é‡å¯cronæœåŠ¡" class="headerlink" title="4.é‡å¯cronæœåŠ¡"></a>4.é‡å¯cronæœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service cron restart</span><br></pre></td></tr></table></figure><h3 id="5-éªŒè¯å®šæ—¶ä»»åŠ¡æ˜¯å¦æˆåŠŸ"><a href="#5-éªŒè¯å®šæ—¶ä»»åŠ¡æ˜¯å¦æˆåŠŸ" class="headerlink" title="5.éªŒè¯å®šæ—¶ä»»åŠ¡æ˜¯å¦æˆåŠŸ"></a>5.éªŒè¯å®šæ—¶ä»»åŠ¡æ˜¯å¦æˆåŠŸ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥æ˜¯å¦è®¾ç½®æˆåŠŸï¼š</span></span><br><span class="line">crontab -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰‹åŠ¨æ£€æŸ¥æ˜¯å¦è¿è¡ŒæˆåŠŸï¼š</span></span><br><span class="line">~/cron_scripts/update_docker_images.sh</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Joplinç»™WebDAVé…ç½®SSL</title>
      <link href="/2025/01/26/Joplin%E7%BB%99WebDAV%E9%85%8D%E7%BD%AESSL/"/>
      <url>/2025/01/26/Joplin%E7%BB%99WebDAV%E9%85%8D%E7%BD%AESSL/</url>
      
        <content type="html"><![CDATA[<p>åœ¨çº¿ç¬”è®°æœ¬çš„æ•°æ®ï¼Œæƒ³ç›´æ¥å­˜åˆ°ç¾¤æ™–NASé‡Œï¼Œé‚£å°±åœ¨è‡ªå·±çš„ç¡¬ç›˜ä¸Šäº†ã€‚åœ¨ç¾¤æ™–ä¸Šå¼€äº†WebDAVï¼Œå…³äºè¿™ä¸ªæ“ä½œï¼Œçœ‹ç«™å†…æ–‡ç« ï¼š<a href="/2022/11/24/Joplin%E4%BD%BF%E7%94%A8%E7%BE%A4%E6%99%96NAS%E4%BD%9C%E5%90%8C%E6%AD%A5%E5%AD%98%E5%82%A8/" title="Joplinä½¿ç”¨ç¾¤æ™–NASä½œåŒæ­¥å­˜å‚¨">Joplinä½¿ç”¨ç¾¤æ™–NASä½œåŒæ­¥å­˜å‚¨</a></p><p>ç„¶ååæ­£è‡ªå·±æœ‰æœåŠ¡å™¨ï¼Œå¼€ä¸ªå†…ç½‘ç©¿é€ï¼Œä¹Ÿå°±èƒ½è®©äº‘ç¬”è®°éšæ—¶åŒæ­¥äº†ã€‚</p><p>è™½ç„¶ Joplinä¸‘ä¸‘çš„ï¼Œä½†å¥½åœ¨å¼€æºå…è´¹ï¼Œè¿˜æœ‰PCç«¯å’Œiosç«¯ã€‚</p><p>ä½†ä»æŸä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œiosç«¯çš„åŒæ­¥ï¼Œå°±ä¸æ”¯æŒhttpäº†ï¼Œåªèƒ½ç”¨httpsã€‚</p><a id="more"></a><p>äºæ˜¯ï¼Œæˆ‘åªèƒ½ç»™æœåŠ¡å™¨é…çš„åŸŸåï¼Œåˆç”³è¯·äº†SSLè¯ä¹¦ã€‚</p><p>ç„¶åï¼Œç”¨ docker åˆ›å»ºäº†ä¸€ä¸ª nginx å®¹å™¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å®‰è£…nginxã€‚</p><h3 id="Nginxé…ç½®æ–‡ä»¶nginx-conf"><a href="#Nginxé…ç½®æ–‡ä»¶nginx-conf" class="headerlink" title="Nginxé…ç½®æ–‡ä»¶nginx.conf"></a>Nginxé…ç½®æ–‡ä»¶nginx.conf</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">user nginx;</span><br><span class="line">worker_processes  auto;</span><br><span class="line"></span><br><span class="line">error_log  &#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log notice;</span><br><span class="line">pid        &#x2F;var&#x2F;run&#x2F;nginx.pid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       &#x2F;etc&#x2F;nginx&#x2F;mime.types;</span><br><span class="line">    default_type  application&#x2F;octet-stream;</span><br><span class="line"></span><br><span class="line">    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span><br><span class="line">                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span><br><span class="line">                      &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span><br><span class="line"></span><br><span class="line">    access_log  &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    #tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    #gzip  on;</span><br><span class="line"></span><br><span class="line">    # é»˜è®¤æœåŠ¡å™¨å—ï¼Œå¤„ç† HTTP è¯·æ±‚å¹¶é‡å®šå‘åˆ° HTTPS</span><br><span class="line">    server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name abc.com www.abc.com; # ä½ è‡ªå·±çš„åŸŸå</span><br><span class="line"></span><br><span class="line">        root &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;  # ä¿®æ”¹ä¸ºå®¹å™¨å†…çš„è·¯å¾„</span><br><span class="line">        # æŒ‡å®šé»˜è®¤çš„ index æ–‡ä»¶</span><br><span class="line">        index index.html;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # HTTPS æœåŠ¡å™¨å—</span><br><span class="line">    server &#123;</span><br><span class="line">        listen 443 ssl;</span><br><span class="line">        server_name abc.com www.abc.com;</span><br><span class="line"></span><br><span class="line">        # SSL è¯ä¹¦è·¯å¾„ æˆ‘è¿™é‡Œæ˜¯é˜¿é‡Œäº‘çš„è¯ä¹¦</span><br><span class="line">        ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;cert.pen;</span><br><span class="line">        ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;cert.key;</span><br><span class="line"></span><br><span class="line">        # SSL é…ç½®</span><br><span class="line">        ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line">        ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">        # æ—¥å¿—</span><br><span class="line">        access_log &#x2F;var&#x2F;log&#x2F;nginx&#x2F;ssl-access.log main;</span><br><span class="line">        error_log &#x2F;var&#x2F;log&#x2F;nginx&#x2F;ssl-error.log;</span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            proxy_pass http:&#x2F;&#x2F;[æœåŠ¡å™¨ip]:[port];  # å°†æµé‡è½¬å‘åˆ° WebDAV æœåŠ¡ç«¯å£</span><br><span class="line">            proxy_set_header Host $host;</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">            proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    include &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;*.conf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºNginx"><a href="#åˆ›å»ºNginx" class="headerlink" title="åˆ›å»ºNginx"></a>åˆ›å»ºNginx</h3><p>å…ˆç”¨ <code>docker pull nginx</code>æ‹‰å–é•œåƒï¼Œå†ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºå®¹å™¨ã€‚</p><p>å½“ç„¶ï¼Œå‰ææ˜¯å‡†å¤‡å¥½äº†ä»¥ä¸‹ï¼š</p><ul><li>nginx.confï¼šnginxé…ç½®æ–‡ä»¶æ”¾åœ¨ç›®å½• nginx-html ä¸­</li><li>html-80ï¼šç›®å½•ä¸‹éšä¾¿æ”¾ä¸€ä¸ªindex.htmlæ–‡ä»¶</li><li>cert.penã€cert.keyï¼šè¯ä¹¦çš„SSLæ–‡ä»¶æ”¾åœ¨ç›®å½• ssl ä¸­</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  -p 80:80 \</span><br><span class="line">  -p 443:443 \</span><br><span class="line">  --name nginx \</span><br><span class="line">  -v /root/nginx-html/nginx.conf:/etc/nginx/nginx.conf:ro \</span><br><span class="line">  -v /root/nginx-html/html-80:/usr/share/nginx/html:ro \</span><br><span class="line">  -v /root/ssl/cert.pen:/etc/nginx/ssl/cert.pen:ro \</span><br><span class="line">  -v /root/ssl/cert.key:/etc/nginx/ssl/cert.key:ro \</span><br><span class="line">  nginx</span><br></pre></td></tr></table></figure><p>äºæ˜¯ï¼ŒåŸæ¥çš„WebDAV URLï¼š <code>http://[æœåŠ¡å™¨ip]:[port]</code> </p><p>ç°åœ¨å°±å¯ä»¥ç›´æ¥ç”¨ï¼š<code>https://[æœåŠ¡å™¨ip]</code>  äº†ã€‚å› ä¸ºhttpsé»˜è®¤çš„443ç«¯å£ï¼Œç°åœ¨ç›´æ¥è½¬æ¢åˆ°WebDAV URLäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Excelè¡¨æ ¼æ ¼å¼è®¾ç½®</title>
      <link href="/2025/01/15/Python-Excel%E8%A1%A8%E6%A0%BC%E6%A0%BC%E5%BC%8F%E8%AE%BE%E7%BD%AE/"/>
      <url>/2025/01/15/Python-Excel%E8%A1%A8%E6%A0%BC%E6%A0%BC%E5%BC%8F%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>ç”¨Pythonè¯»å–ã€æ“ä½œExcelå¯ä»¥çœ‹è¿™ç¯‡ï¼š<a href="/2022/12/04/Python-Pandas%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/" title="Python Pandasä½¿ç”¨ä¸¾ä¾‹">Python Pandasä½¿ç”¨ä¸¾ä¾‹</a></p><p>è¿™ä¸€ç¯‡ä¸»è¦ä»‹ç»ä¸€äº›Pythonç”Ÿæˆçš„Excelè¡¨æ ¼ä¸­çš„æ ¼å¼è®¾ç½®ã€‚</p><a id="more"></a><h3 id="1-ç”ŸæˆExcelæ–‡ä»¶"><a href="#1-ç”ŸæˆExcelæ–‡ä»¶" class="headerlink" title="1.ç”ŸæˆExcelæ–‡ä»¶"></a>1.ç”ŸæˆExcelæ–‡ä»¶</h3><p>ä»¥ä¸‹æ˜¯è¯»å–Excelæ–‡ä»¶åï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„Excelæ–‡ä»¶çš„ç¤ºä¾‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å¾—å½“å‰é¡¹ç›®ç›®å½•</span></span><br><span class="line">proj_path = os.getcwd()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å– test.xlsx æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰å†…å®¹è¯»å–å‡ºæ¥ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶ output_test.xlsx</span></span><br><span class="line">ex_file = os.path.join(proj_path, <span class="string">&#x27;test.xlsx&#x27;</span>)</span><br><span class="line">df = pd.read_excel(ex_file)</span><br><span class="line"></span><br><span class="line">output_file = os.path.join(proj_path, <span class="string">&#x27;output_test.xlsx&#x27;</span>)</span><br><span class="line">df.to_excel(output_file, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h3 id="2-è®¾ç½®å­—ä½“å¹¶ä¸”å±…ä¸­å¯¹é½"><a href="#2-è®¾ç½®å­—ä½“å¹¶ä¸”å±…ä¸­å¯¹é½" class="headerlink" title="2.è®¾ç½®å­—ä½“å¹¶ä¸”å±…ä¸­å¯¹é½"></a>2.è®¾ç½®å­—ä½“å¹¶ä¸”å±…ä¸­å¯¹é½</h3><p>ç”Ÿæˆçš„è¡¨æ ¼ä¸­é»˜è®¤çš„å­—ä½“æ˜¯â€œå®‹ä½“â€ã€‚æ¯”å¦‚æŠŠå­—ä½“è®¾ç½®ä¸ºï¼šArial</p><p><strong>å±…ä¸­å¯¹é½</strong>ï¼š</p><ul><li>horizontal=â€™centerâ€™ï¼šæ°´å¹³å±…ä¸­</li><li>vertical=â€™centerâ€™ï¼šå‚ç›´å±…ä¸­</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> openpyxl.styles <span class="keyword">import</span> Font, Alignment</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å¾—å½“å‰é¡¹ç›®ç›®å½•</span></span><br><span class="line">proj_path = os.getcwd()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å– test.xlsx æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰å†…å®¹è¯»å–å‡ºæ¥ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶ output_test.xlsx</span></span><br><span class="line">ex_file = os.path.join(proj_path, <span class="string">&#x27;test.xlsx&#x27;</span>)</span><br><span class="line">df = pd.read_excel(ex_file)</span><br><span class="line"></span><br><span class="line">output_file = os.path.join(proj_path, <span class="string">&#x27;output_test.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ExcelWriterè®¾ç½®æ ¼å¼</span></span><br><span class="line"><span class="keyword">with</span> pd.ExcelWriter(output_file, engine=<span class="string">&#x27;openpyxl&#x27;</span>) <span class="keyword">as</span> writer:</span><br><span class="line">    df.to_excel(writer, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–å·¥ä½œè¡¨</span></span><br><span class="line">    worksheet = writer.sheets[<span class="string">&#x27;Sheet1&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å­—ä½“ä¸ºArialå’Œå±…ä¸­å¯¹é½</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> worksheet.iter_rows():</span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">            cell.font = Font(name=<span class="string">&#x27;Arial&#x27;</span>, size=<span class="number">11</span>)</span><br><span class="line">            cell.alignment = Alignment(horizontal=<span class="string">&#x27;center&#x27;</span>, vertical=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-è®¾ç½®åˆé€‚çš„åˆ—å®½"><a href="#3-è®¾ç½®åˆé€‚çš„åˆ—å®½" class="headerlink" title="3.è®¾ç½®åˆé€‚çš„åˆ—å®½"></a>3.è®¾ç½®åˆé€‚çš„åˆ—å®½</h3><p>1).æ·»åŠ äº† <code>get_column_width</code> å‡½æ•°æ¥ç²¾ç¡®è®¡ç®—å­—ç¬¦ä¸²å®½åº¦ï¼š</p><ul><li>ä¸­æ–‡å­—ç¬¦è®¡ä¸º2.5ä¸ªå•ä½å®½åº¦</li><li>éä¸­æ–‡å­—ç¬¦è®¡ä¸º1ä¸ªå•ä½å®½åº¦</li></ul><p>2).å¯¹æ¯ä¸ªå•å…ƒæ ¼å†…å®¹ä½¿ç”¨è¿™ä¸ªå‡½æ•°è®¡ç®—å®é™…éœ€è¦çš„å®½åº¦<br>3).æœ€åç»Ÿä¸€åŠ 4ä¸ªå•ä½çš„è¾¹è·</p><p>å¦‚æœå®½åº¦è¿˜æ˜¯ä¸å¤Ÿçš„è¯ï¼Œå¯ä»¥è¿™ä¹ˆåšï¼š</p><ul><li>å¢åŠ ä¸­æ–‡å­—ç¬¦çš„æƒé‡ï¼ˆä»2.5æ”¹ä¸ºæ›´å¤§çš„æ•°å€¼ï¼‰</li><li>å¢åŠ è¾¹è·ï¼ˆä»+4æ”¹ä¸ºæ›´å¤§çš„æ•°å€¼ï¼‰</li><li>æˆ–è€…ä¸¤è€…éƒ½è°ƒæ•´</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> openpyxl.styles <span class="keyword">import</span> Font, Alignment</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å¾—å½“å‰é¡¹ç›®ç›®å½•</span></span><br><span class="line">proj_path = os.getcwd()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å– test.xlsx æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰å†…å®¹è¯»å–å‡ºæ¥ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶ output_test.xlsx</span></span><br><span class="line">ex_file = os.path.join(proj_path, <span class="string">&#x27;test.xlsx&#x27;</span>)</span><br><span class="line">df = pd.read_excel(ex_file)</span><br><span class="line"></span><br><span class="line">output_file = os.path.join(proj_path, <span class="string">&#x27;output_test.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ExcelWriterè®¾ç½®æ ¼å¼</span></span><br><span class="line"><span class="keyword">with</span> pd.ExcelWriter(output_file, engine=<span class="string">&#x27;openpyxl&#x27;</span>) <span class="keyword">as</span> writer:</span><br><span class="line">    df.to_excel(writer, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–å·¥ä½œè¡¨</span></span><br><span class="line">    worksheet = writer.sheets[<span class="string">&#x27;Sheet1&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å­—ä½“ä¸ºArialå’Œå±…ä¸­å¯¹é½</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> worksheet.iter_rows():</span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">            cell.font = Font(name=<span class="string">&#x27;Arial&#x27;</span>, size=<span class="number">11</span>)</span><br><span class="line">            cell.alignment = Alignment(horizontal=<span class="string">&#x27;center&#x27;</span>, vertical=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®åˆ—å®½</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_column_width</span>(<span class="params">text</span>):</span></span><br><span class="line">        <span class="comment"># è®¡ç®—å­—ç¬¦ä¸²ä¸­ä¸­æ–‡å’Œéä¸­æ–‡å­—ç¬¦çš„å®½åº¦</span></span><br><span class="line">        width = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> <span class="built_in">str</span>(text):</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;\u4e00&#x27;</span> &lt;= char &lt;= <span class="string">&#x27;\u9fff&#x27;</span>:  <span class="comment"># ä¸­æ–‡å­—ç¬¦</span></span><br><span class="line">                width += <span class="number">2.5</span></span><br><span class="line">            <span class="keyword">else</span>:  <span class="comment"># éä¸­æ–‡å­—ç¬¦</span></span><br><span class="line">                width += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> width</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> column <span class="keyword">in</span> worksheet.columns:</span><br><span class="line">        max_width = <span class="number">0</span></span><br><span class="line">        column_name = column[<span class="number">0</span>].column_letter</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è·å–è¯¥åˆ—æ‰€æœ‰å•å…ƒæ ¼çš„æœ€å¤§å®½åº¦</span></span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> column:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                cell_width = get_column_width(cell.value)</span><br><span class="line">                <span class="keyword">if</span> cell_width &gt; max_width:</span><br><span class="line">                    max_width = cell_width</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è®¾ç½®åˆ—å®½ï¼ˆé¢å¤–æ·»åŠ ä¸€äº›è¾¹è·ï¼‰</span></span><br><span class="line">        adjusted_width = max_width + <span class="number">4</span></span><br><span class="line">        worksheet.column_dimensions[column_name].width = adjusted_width</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-è®¾ç½®è¾¹æ¡†çº¿"><a href="#4-è®¾ç½®è¾¹æ¡†çº¿" class="headerlink" title="4.è®¾ç½®è¾¹æ¡†çº¿"></a>4.è®¾ç½®è¾¹æ¡†çº¿</h3><p>1).å¯¼å…¥äº†è¾¹æ¡†ç›¸å…³çš„ç±»ï¼šBorderå’ŒSide<br>2).åˆ›å»ºäº†ä¸€ä¸ªç»Ÿä¸€çš„è¾¹æ¡†æ ·å¼ thin_borderï¼š</p><ul><li>å››ä¸ªè¾¹éƒ½ä½¿ç”¨ç»†çº¿æ ·å¼ï¼ˆâ€™thinâ€™ï¼‰</li><li>åŒ…æ‹¬å·¦ã€å³ã€ä¸Šã€ä¸‹å››ä¸ªè¾¹</li></ul><p>3).åœ¨è®¾ç½®å•å…ƒæ ¼æ ·å¼æ—¶ï¼ŒåŒæ—¶è®¾ç½®äº†å­—ä½“ã€å¯¹é½å’Œè¾¹æ¡†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> openpyxl.styles <span class="keyword">import</span> Font, Alignment, Border, Side</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å¾—å½“å‰é¡¹ç›®ç›®å½•</span></span><br><span class="line">proj_path = os.getcwd()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å– test.xlsx æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰å†…å®¹è¯»å–å‡ºæ¥ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶ output_test.xlsx</span></span><br><span class="line">ex_file = os.path.join(proj_path, <span class="string">&#x27;test.xlsx&#x27;</span>)</span><br><span class="line">df = pd.read_excel(ex_file)</span><br><span class="line"></span><br><span class="line">output_file = os.path.join(proj_path, <span class="string">&#x27;output_test.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ExcelWriterè®¾ç½®æ ¼å¼</span></span><br><span class="line"><span class="keyword">with</span> pd.ExcelWriter(output_file, engine=<span class="string">&#x27;openpyxl&#x27;</span>) <span class="keyword">as</span> writer:</span><br><span class="line">    df.to_excel(writer, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–å·¥ä½œè¡¨</span></span><br><span class="line">    worksheet = writer.sheets[<span class="string">&#x27;Sheet1&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºè¾¹æ¡†æ ·å¼</span></span><br><span class="line">    thin_border = Border(</span><br><span class="line">        left=Side(style=<span class="string">&#x27;thin&#x27;</span>),</span><br><span class="line">        right=Side(style=<span class="string">&#x27;thin&#x27;</span>),</span><br><span class="line">        top=Side(style=<span class="string">&#x27;thin&#x27;</span>),</span><br><span class="line">        bottom=Side(style=<span class="string">&#x27;thin&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å­—ä½“ä¸ºArialã€å±…ä¸­å¯¹é½å’Œè¾¹æ¡†</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> worksheet.iter_rows():</span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">            cell.font = Font(name=<span class="string">&#x27;Arial&#x27;</span>, size=<span class="number">11</span>)</span><br><span class="line">            cell.alignment = Alignment(horizontal=<span class="string">&#x27;center&#x27;</span>, vertical=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">            cell.border = thin_border</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®åˆ—å®½</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_column_width</span>(<span class="params">text</span>):</span></span><br><span class="line">        <span class="comment"># è®¡ç®—å­—ç¬¦ä¸²ä¸­ä¸­æ–‡å’Œéä¸­æ–‡å­—ç¬¦çš„å®½åº¦</span></span><br><span class="line">        width = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> <span class="built_in">str</span>(text):</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;\u4e00&#x27;</span> &lt;= char &lt;= <span class="string">&#x27;\u9fff&#x27;</span>:  <span class="comment"># ä¸­æ–‡å­—ç¬¦</span></span><br><span class="line">                width += <span class="number">2.5</span></span><br><span class="line">            <span class="keyword">else</span>:  <span class="comment"># éä¸­æ–‡å­—ç¬¦</span></span><br><span class="line">                width += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> width</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> column <span class="keyword">in</span> worksheet.columns:</span><br><span class="line">        max_width = <span class="number">0</span></span><br><span class="line">        column_name = column[<span class="number">0</span>].column_letter</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è·å–è¯¥åˆ—æ‰€æœ‰å•å…ƒæ ¼çš„æœ€å¤§å®½åº¦</span></span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> column:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                cell_width = get_column_width(cell.value)</span><br><span class="line">                <span class="keyword">if</span> cell_width &gt; max_width:</span><br><span class="line">                    max_width = cell_width</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è®¾ç½®åˆ—å®½ï¼ˆé¢å¤–æ·»åŠ ä¸€äº›è¾¹è·ï¼‰</span></span><br><span class="line">        adjusted_width = max_width + <span class="number">4</span></span><br><span class="line">        worksheet.column_dimensions[column_name].width = adjusted_width</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-è®¾ç½®æ ‡é¢˜è¡Œæ ·å¼"><a href="#5-è®¾ç½®æ ‡é¢˜è¡Œæ ·å¼" class="headerlink" title="5.è®¾ç½®æ ‡é¢˜è¡Œæ ·å¼"></a>5.è®¾ç½®æ ‡é¢˜è¡Œæ ·å¼</h3><p>1).è®¾ç½®æ ‡é¢˜è¡Œçš„è¡Œé«˜<br>é»˜è®¤è¡Œé«˜é€šå¸¸æ˜¯15å·¦å³</p><p>2).å†»ç»“é¦–è¡Œ<br>â€˜A2â€™è¡¨ç¤ºä»ç¬¬2è¡Œå¼€å§‹å†»ç»“ï¼Œä¹Ÿå°±æ˜¯å†»ç»“ç¬¬1è¡Œ</p><p>3).è®¾ç½®ã€Fåˆ—æ ‡é¢˜ã€‘çš„å¡«å……è‰²ä¸ºã€é»„è‰²ã€‘<br>4).è®¾ç½®ã€Eåˆ—ã€‘æ‰€æœ‰æœ‰å†…å®¹çš„å•å…ƒæ ¼å¡«å……ä¸ºã€æ©™è‰²ã€‘<br>5).è®¾ç½®ã€Båˆ—ã€‘æ‰€æœ‰æœ‰å†…å®¹çš„å•å…ƒæ ¼å­—ä½“ä¸ºã€çº¢è‰²ã€‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1).è®¾ç½®æ ‡é¢˜è¡Œçš„è¡Œé«˜</span></span><br><span class="line">worksheet.row_dimensions[<span class="number">1</span>].height = <span class="number">25</span>  <span class="comment"># æ ‡é¢˜è¡Œé«˜åº¦è®¾ä¸º25</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2).å†»ç»“é¦–è¡Œ</span></span><br><span class="line">worksheet.freeze_panes = <span class="string">&#x27;A2&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3).è®¾ç½®Fåˆ—æ ‡é¢˜çš„å¡«å……è‰²ä¸ºé»„è‰²</span></span><br><span class="line">f_cell = worksheet[<span class="string">&#x27;F1&#x27;</span>]</span><br><span class="line">f_cell.fill = PatternFill(start_color=<span class="string">&#x27;FFFF00&#x27;</span>, end_color=<span class="string">&#x27;FFFF00&#x27;</span>, fill_type=<span class="string">&#x27;solid&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4).è®¾ç½®Eåˆ—æ‰€æœ‰æœ‰å†…å®¹çš„å•å…ƒæ ¼å¡«å……ä¸ºæ©™è‰²</span></span><br><span class="line"><span class="keyword">for</span> cell <span class="keyword">in</span> worksheet[<span class="string">&#x27;E&#x27;</span>]:</span><br><span class="line">    <span class="keyword">if</span> cell.value:  <span class="comment"># å¦‚æœå•å…ƒæ ¼æœ‰å†…å®¹</span></span><br><span class="line">        cell.fill = PatternFill(start_color=<span class="string">&#x27;FFA500&#x27;</span>, end_color=<span class="string">&#x27;FFA500&#x27;</span>, fill_type=<span class="string">&#x27;solid&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5).è®¾ç½®Båˆ—æ‰€æœ‰æœ‰å†…å®¹çš„å•å…ƒæ ¼å­—ä½“ä¸ºçº¢è‰²</span></span><br><span class="line">    <span class="keyword">for</span> cell <span class="keyword">in</span> worksheet[<span class="string">&#x27;B&#x27;</span>]:</span><br><span class="line">        <span class="keyword">if</span> cell.value:  <span class="comment"># å¦‚æœå•å…ƒæ ¼æœ‰å†…å®¹</span></span><br><span class="line">            cell.font = Font(name=<span class="string">&#x27;Arial&#x27;</span>, size=<span class="number">11</span>, color=<span class="string">&#x27;FF0000&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æœ€åå®Œæ•´æ•ˆæœå¦‚ä¸‹ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/python-excel-geshi.png"                                     ></p><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> openpyxl.styles <span class="keyword">import</span> Font, Alignment, Border, Side, PatternFill</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å¾—å½“å‰é¡¹ç›®ç›®å½•</span></span><br><span class="line">proj_path = os.getcwd()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å– test.xlsx æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰å†…å®¹è¯»å–å‡ºæ¥ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶ output_test.xlsx</span></span><br><span class="line">ex_file = os.path.join(proj_path, <span class="string">&#x27;test.xlsx&#x27;</span>)</span><br><span class="line">df = pd.read_excel(ex_file)</span><br><span class="line"></span><br><span class="line">output_file = os.path.join(proj_path, <span class="string">&#x27;output_test.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ExcelWriterè®¾ç½®æ ¼å¼</span></span><br><span class="line"><span class="keyword">with</span> pd.ExcelWriter(output_file, engine=<span class="string">&#x27;openpyxl&#x27;</span>) <span class="keyword">as</span> writer:</span><br><span class="line">    df.to_excel(writer, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–å·¥ä½œè¡¨</span></span><br><span class="line">    worksheet = writer.sheets[<span class="string">&#x27;Sheet1&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºè¾¹æ¡†æ ·å¼</span></span><br><span class="line">    thin_border = Border(</span><br><span class="line">        left=Side(style=<span class="string">&#x27;thin&#x27;</span>),</span><br><span class="line">        right=Side(style=<span class="string">&#x27;thin&#x27;</span>),</span><br><span class="line">        top=Side(style=<span class="string">&#x27;thin&#x27;</span>),</span><br><span class="line">        bottom=Side(style=<span class="string">&#x27;thin&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®æ ‡é¢˜è¡Œçš„è¡Œé«˜</span></span><br><span class="line">    worksheet.row_dimensions[<span class="number">1</span>].height = <span class="number">25</span>  <span class="comment"># æ ‡é¢˜è¡Œé«˜åº¦è®¾ä¸º25</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å­—ä½“ä¸ºArialã€å±…ä¸­å¯¹é½å’Œè¾¹æ¡†</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> worksheet.iter_rows():</span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">            cell.font = Font(name=<span class="string">&#x27;Arial&#x27;</span>, size=<span class="number">11</span>)</span><br><span class="line">            cell.alignment = Alignment(horizontal=<span class="string">&#x27;center&#x27;</span>, vertical=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">            cell.border = thin_border</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®Fåˆ—æ ‡é¢˜çš„å¡«å……è‰²ä¸ºé»„è‰²</span></span><br><span class="line">    f_cell = worksheet[<span class="string">&#x27;F1&#x27;</span>]</span><br><span class="line">    f_cell.fill = PatternFill(start_color=<span class="string">&#x27;FFFF00&#x27;</span>, end_color=<span class="string">&#x27;FFFF00&#x27;</span>, fill_type=<span class="string">&#x27;solid&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®Eåˆ—æ‰€æœ‰æœ‰å†…å®¹çš„å•å…ƒæ ¼å¡«å……ä¸ºæ©™è‰²</span></span><br><span class="line">    <span class="keyword">for</span> cell <span class="keyword">in</span> worksheet[<span class="string">&#x27;E&#x27;</span>]:</span><br><span class="line">        <span class="keyword">if</span> cell.value:  <span class="comment"># å¦‚æœå•å…ƒæ ¼æœ‰å†…å®¹</span></span><br><span class="line">            cell.fill = PatternFill(start_color=<span class="string">&#x27;FFA500&#x27;</span>, end_color=<span class="string">&#x27;FFA500&#x27;</span>, fill_type=<span class="string">&#x27;solid&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®Båˆ—æ‰€æœ‰æœ‰å†…å®¹çš„å•å…ƒæ ¼å­—ä½“ä¸ºçº¢è‰²</span></span><br><span class="line">    <span class="keyword">for</span> cell <span class="keyword">in</span> worksheet[<span class="string">&#x27;B&#x27;</span>]:</span><br><span class="line">        <span class="keyword">if</span> cell.value:  <span class="comment"># å¦‚æœå•å…ƒæ ¼æœ‰å†…å®¹</span></span><br><span class="line">            cell.font = Font(name=<span class="string">&#x27;Arial&#x27;</span>, size=<span class="number">11</span>, color=<span class="string">&#x27;FF0000&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®åˆ—å®½</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_column_width</span>(<span class="params">text</span>):</span></span><br><span class="line">        <span class="comment"># è®¡ç®—å­—ç¬¦ä¸²ä¸­ä¸­æ–‡å’Œéä¸­æ–‡å­—ç¬¦çš„å®½åº¦</span></span><br><span class="line">        width = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> <span class="built_in">str</span>(text):</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;\u4e00&#x27;</span> &lt;= char &lt;= <span class="string">&#x27;\u9fff&#x27;</span>:  <span class="comment"># ä¸­æ–‡å­—ç¬¦</span></span><br><span class="line">                width += <span class="number">2.5</span></span><br><span class="line">            <span class="keyword">else</span>:  <span class="comment"># éä¸­æ–‡å­—ç¬¦</span></span><br><span class="line">                width += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> width</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> column <span class="keyword">in</span> worksheet.columns:</span><br><span class="line">        max_width = <span class="number">0</span></span><br><span class="line">        column_name = column[<span class="number">0</span>].column_letter</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è·å–è¯¥åˆ—æ‰€æœ‰å•å…ƒæ ¼çš„æœ€å¤§å®½åº¦</span></span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> column:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                cell_width = get_column_width(cell.value)</span><br><span class="line">                <span class="keyword">if</span> cell_width &gt; max_width:</span><br><span class="line">                    max_width = cell_width</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è®¾ç½®åˆ—å®½ï¼ˆé¢å¤–æ·»åŠ ä¸€äº›è¾¹è·ï¼‰</span></span><br><span class="line">        adjusted_width = max_width + <span class="number">4</span></span><br><span class="line">        worksheet.column_dimensions[column_name].width = adjusted_width</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å†»ç»“é¦–è¡Œ</span></span><br><span class="line">    worksheet.freeze_panes = <span class="string">&#x27;A2&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LinuxæœåŠ¡å™¨å®‰è£…Jupyter NotebookæœåŠ¡</title>
      <link href="/2024/12/24/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85JupyterNotebook%E6%9C%8D%E5%8A%A1/"/>
      <url>/2024/12/24/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85JupyterNotebook%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<p>ä¸»è¦åœ¨å±€åŸŸç½‘ä½¿ç”¨ï¼Œæ–¹ä¾¿<mark>å…±äº«</mark>æ¼”ç¤ºä½¿ç”¨ã€‚</p><p>ä¸ç„¶è‡ªå·±ç”¨çš„è¯ï¼Œç›´æ¥å®‰è£…ä¸‹å°±å¯ä»¥äº†ã€‚æˆ‘ç”¨çš„æœåŠ¡å™¨æ˜¯Ubuntuã€‚</p><a id="more"></a><p>å®‰è£…æ­¥éª¤ï¼š</p><h3 id="1-å®‰è£…notebook"><a href="#1-å®‰è£…notebook" class="headerlink" title="1.å®‰è£…notebook"></a>1.å®‰è£…notebook</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install notebook</span><br></pre></td></tr></table></figure><h3 id="2-ç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#2-ç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="2.ç”Ÿæˆé…ç½®æ–‡ä»¶"></a>2.ç”Ÿæˆé…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br></pre></td></tr></table></figure><p>è¿è¡Œå¯ä»¥å¯ä»¥çœ‹åˆ°åœ¨å“ªä¸ªç›®å½•ä¸‹ç”Ÿæˆäº†é…ç½®æ–‡ä»¶ï¼šjupyter_notebook_config.py</p><p>æ¯”å¦‚ç”Ÿæˆçš„ç›®å½•ä¸ºï¼š<code>/home/ubuntu/.jupyter/jupyter_notebook_config.py</code></p><h3 id="3-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#3-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="3.ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>3.ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><p>æˆ‘æ˜¯ç›´æ¥ç”¨ftpæŠŠæ–‡ä»¶ä¸‹è½½ä¸‹æ¥ä¿®æ”¹åå†ä¸Šä¼ çš„ï¼Œä¹Ÿå¯ä»¥ç”¨viç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚</p><p>ä¿®æ”¹äº†ä»¥ä¸‹å‡ é¡¹å†…å®¹ï¼Œé»˜è®¤éƒ½æ˜¯ç”¨<code>#</code>è¿›è¡Œäº†æ³¨é‡Šçš„ï¼Œå»æ‰<code>#</code>åä¿®æ”¹å°±è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½® IP åœ°å€å’Œç«¯å£</span></span><br><span class="line">c.ServerApp.ip = <span class="string">&#x27;0.0.0.0&#x27;</span></span><br><span class="line">c.ServerApp.port = <span class="number">8888</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¯†ç </span></span><br><span class="line">c.ServerApp.password = <span class="string">&#x27;argon2:$argon2id$v=12$m=10240,t=10,p=8$f6UG+gtSSPaaaaaaaaaaa&#x27;</span></span><br><span class="line">c.ServerApp.password_required = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é˜²æ­¢è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">c.ServerApp.open_browser = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦ç”¨ token éªŒè¯</span></span><br><span class="line">c.ServerApp.token = <span class="string">&#x27;&lt;DEPRECATED&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¡®ä¿æ–‡ä»¶æµè§ˆå™¨æ²¡æœ‰è¢«ç¦ç”¨</span></span><br><span class="line">c.ServerApp.disable_check_xsrf = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®é»˜è®¤å·¥ä½œç›®å½•å’Œæ ¹ç›®å½•</span></span><br><span class="line">c.ServerApp.notebook_dir = <span class="string">&#x27;/home/ubuntu/jupyter/code&#x27;</span></span><br><span class="line">c.ServerApp.root_dir = <span class="string">&#x27;/home/ubuntu/jupyter/code&#x27;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„passwordæ˜¯éœ€è¦è¿è¡Œåç”Ÿæˆçš„ï¼Œ<br>è¿è¡Œ<code>python3 -c &quot;from jupyter_server.auth import passwd; print(passwd())&quot;</code>åä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œè¾“å…¥å¯†ç åå°±ä¼šæ˜¾ç¤º argon2è¿™ä¸€è¡Œï¼Œç”Ÿæˆäº†å¯†ç å“ˆå¸Œå€¼ï¼ˆç”¨çš„æ˜¯argon2ç®—æ³•ï¼‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter password: </span><br><span class="line">Verify password:</span><br></pre></td></tr></table></figure><p>åæ­£æˆ‘æ˜¯å±€åŸŸç½‘ä½¿ç”¨ï¼Œå¯†ç å¯ä»¥ç›´æ¥è®¾ä¸ºç©ºï¼Œå°±ç›´æ¥å›è½¦å°±è¡Œã€‚<br>Jupyter Serverï¼ˆJupyterLab 3.x åŠæ›´é«˜ç‰ˆæœ¬ï¼‰ä¸­æ˜¯é»˜è®¤çš„åŠ å¯†æ–¹å¼æ˜¯argon2ï¼ŒåŸæ¥æ—§ç‰ˆæœ¬åº”è¯¥ç”¨çš„æ˜¯ SHA-1ã€‚</p><h3 id="4-è¿è¡ŒæœåŠ¡"><a href="#4-è¿è¡ŒæœåŠ¡" class="headerlink" title="4.è¿è¡ŒæœåŠ¡"></a>4.è¿è¡ŒæœåŠ¡</h3><p>ç›´æ¥æµ‹è¯•ï¼Œè¿è¡Œ <code>jupyter notebook</code>ã€‚</p><p>çœ‹åˆ°æœ‰è¿™æ ·çš„æç¤ºå°±å¯ä»¥äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[I 2024-12-24 10:00:00.000 ServerApp] The Jupyter Server 2.14.2 is running at:</span><br><span class="line">[I 2024-12-24 10:00:00.000 ServerApp] http:&#x2F;&#x2F;127.0.0.1:8888&#x2F;tree</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼š<code>http://&lt;your-server-ip&gt;:8888</code>å°±è¡Œã€‚</p><h3 id="5-ä½¿ç”¨è„šæœ¬æ–‡ä»¶åå°è¿è¡ŒæœåŠ¡"><a href="#5-ä½¿ç”¨è„šæœ¬æ–‡ä»¶åå°è¿è¡ŒæœåŠ¡" class="headerlink" title="5.ä½¿ç”¨è„šæœ¬æ–‡ä»¶åå°è¿è¡ŒæœåŠ¡"></a>5.ä½¿ç”¨è„šæœ¬æ–‡ä»¶åå°è¿è¡ŒæœåŠ¡</h3><p>æµ‹è¯•æˆåŠŸåï¼Œå°±ç”¨è„šæœ¬æ–‡ä»¶åœ¨åå°è¿è¡Œã€‚</p><p><strong>1).å¯åŠ¨è„šæœ¬ (start_jupyter.sh)</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åå°å¯åŠ¨ Jupyter Notebook</span></span><br><span class="line">nohup jupyter notebook --no-browser --port=8888 --ip=0.0.0.0 &gt; /home/ubuntu/jupyter/notebook.log 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Jupyter Notebook started in the background.&quot;</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><blockquote><p>nohupï¼šç”¨äºè®©è¿›ç¨‹åœ¨é€€å‡ºç»ˆç«¯åç»§ç»­è¿è¡Œã€‚<br>â€“no-browserï¼šé˜»æ­¢è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€‚<br>â€“port=8888ï¼šè®¾ç½® Jupyter ä½¿ç”¨çš„ç«¯å£ï¼ˆæ ¹æ®éœ€è¦è°ƒæ•´ï¼‰ã€‚<br>â€“ip=0.0.0.0ï¼šå…è®¸æ‰€æœ‰ IP åœ°å€è®¿é—® Jupyterã€‚<br>/home/ubuntu/jupyter/notebook.log 2&gt;&amp;1ï¼šå°†è¾“å‡ºå’Œé”™è¯¯é‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚</p></blockquote><p><strong>2).åœæ­¢è„šæœ¬ (stop_jupyter.sh)</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾å¹¶åœæ­¢ Jupyter Notebook</span></span><br><span class="line">pkill -f <span class="string">&quot;jupyter-notebook&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Jupyter Notebook stopped.&quot;</span></span><br></pre></td></tr></table></figure><p><strong>3).è®¾ç½®è„šæœ¬æƒé™</strong><br>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x start_jupyter.sh</span><br><span class="line">chmod +x stop_jupyter.sh</span><br></pre></td></tr></table></figure><p><strong>4).è¿è¡Œè„šæœ¬</strong></p><p>å¯åŠ¨ Jupyter Notebookï¼š<code>./start_jupyter.sh</code><br>åœæ­¢ Jupyter Notebookï¼š<code>./stop_jupyter.sh</code></p><p><strong>ç«™å†…å…¶å®ƒå…³äºjupyter notebookçš„æ–‡ç« ï¼š</strong><a href="/2024/01/28/Jupyter-Notebook%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/" title="Jupyter Notebookå®‰è£…ä½¿ç”¨">Jupyter Notebookå®‰è£…ä½¿ç”¨</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tailwindæ¡†æ¶åˆ†é¡µç¤ºä¾‹</title>
      <link href="/2024/10/06/Tailwind%E6%A1%86%E6%9E%B6%E5%88%86%E9%A1%B5%E7%A4%BA%E4%BE%8B/"/>
      <url>/2024/10/06/Tailwind%E6%A1%86%E6%9E%B6%E5%88%86%E9%A1%B5%E7%A4%BA%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>æœ¬ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Tailwind CSSæ¡†æ¶åˆ›å»ºä¸€ä¸ªç®€å•çš„åˆ†é¡µåŠŸèƒ½ã€‚é€šè¿‡è¿™ä¸ªç¤ºä¾‹ï¼Œä½ å¯ä»¥å­¦ä¹ å¦‚ä½•åœ¨HTMLä¸­ä½¿ç”¨Tailwind CSSç±»æ¥è®¾è®¡é¡µé¢å¸ƒå±€ï¼Œå¹¶é€šè¿‡JavaScriptå®ç°åˆ†é¡µé€»è¾‘ã€‚</p><p>å…³äºTailwindçš„éƒ¨ç½²ä½¿ç”¨çœ‹è¿™ç¯‡ï¼š<a href="/2024/06/02/TailwindCSS%E5%85%A5%E9%97%A8%E4%BD%93%E9%AA%8C/" title="Tailwind CSSå…¥é—¨ä½“éªŒ">Tailwind CSSå…¥é—¨ä½“éªŒ</a></p><a id="more"></a><p><strong>åŠŸèƒ½è¯´æ˜ï¼š</strong></p><ul><li>1.é¡µé¢å¸ƒå±€ ï¼šä½¿ç”¨Tailwind CSSç±»æ¥è®¾è®¡é¡µé¢çš„å¸ƒå±€ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€è¡¨æ ¼å’Œåˆ†é¡µæ§ä»¶ã€‚</li><li>2.åˆ†é¡µæ§ä»¶ ï¼šé€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆé¡µç ï¼Œå¹¶å®ç°ç¿»é¡µåŠŸèƒ½ã€‚</li><li>3.æ¯é¡µæ˜¾ç¤ºæ•°é‡ ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡ä¸‹æ‹‰æ¡†é€‰æ‹©æ¯é¡µæ˜¾ç¤ºçš„é¢˜ç›®æ•°é‡ï¼Œæ”¯æŒ5ã€10ã€20å’Œå…¨éƒ¨æ˜¾ç¤ºã€‚</li><li>4.ç¿»é¡µåŠŸèƒ½ ï¼šæä¾›â€œç¬¬1é¡µâ€ã€â€œä¸Šä¸€é¡µâ€ã€â€œä¸‹ä¸€é¡µâ€å’Œâ€œæœ€åä¸€é¡µâ€æŒ‰é’®ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿç¿»é¡µã€‚</li></ul><h3 id="1-HTMLç»“æ„"><a href="#1-HTMLç»“æ„" class="headerlink" title="1.HTMLç»“æ„"></a>1.HTMLç»“æ„</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>åˆ†é¡µç¤ºä¾‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container mx-auto py-5&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg-white shadow border border-orange-700 rounded-sm mt-3&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg-white text-black p-4 flex justify-center items-center&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;mb-0 text-4xl&quot;</span>&gt;</span>é¢˜ç›®æŸ¥è¯¢<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;p-4&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;min-w-full bg-white shadow-md border border-gray-400 rounded border-collapse text-center&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">thead</span> <span class="attr">class</span>=<span class="string">&quot;bg-blue-100&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>é—®é¢˜<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">&quot;question-table&quot;</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- ç¤ºä¾‹é¢˜ç›®æ•°æ® --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜ä¸€<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜äºŒ<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜ä¸‰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜å››<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜äº”<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>6<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜å…­<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>7<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜ä¸ƒ<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>8<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜å…«<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>9<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜ä¹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;hover:bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 px-4 py-2 text-left&quot;</span>&gt;</span>é—®é¢˜å<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- æ›´å¤šç¤ºä¾‹æ•°æ® --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg-gray-100 text-center py-4&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inline-flex items-center space-x-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;per_page&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-lg&quot;</span>&gt;</span>æ¯é¡µæ˜¾ç¤º:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;per_page&quot;</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 rounded-md px-2 py-1 text-lg&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;5&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;20&quot;</span>&gt;</span>20<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;all&quot;</span>&gt;</span>å…¨éƒ¨<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex justify-center space-x-4 mt-6 mb-6&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pagination-controls&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;goToFirstPage()&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-400&quot;</span>&gt;</span>ç¬¬1é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;goToPreviousPage()&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-400&quot;</span>&gt;</span>ä¸Šä¸€é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;page_select&quot;</span> <span class="attr">class</span>=<span class="string">&quot;border border-gray-300 rounded-md px-2 py-1 text-lg&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;goToPage(this.value)&quot;</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- åŠ¨æ€ç”Ÿæˆé¡µç  --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;goToNextPage()&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-400&quot;</span>&gt;</span>ä¸‹ä¸€é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;goToLastPage()&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-400&quot;</span>&gt;</span>æœ€åä¸€é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è„šæœ¬éƒ¨åˆ†</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-JavaScripté€»è¾‘"><a href="#2-JavaScripté€»è¾‘" class="headerlink" title="2.JavaScripté€»è¾‘"></a>2.JavaScripté€»è¾‘</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> currentPage = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> perPage = <span class="number">5</span>; <span class="comment">// é»˜è®¤æ¯é¡µæ˜¾ç¤º5ä¸ªé¢˜ç›®</span></span><br><span class="line"><span class="keyword">let</span> totalItems = <span class="number">10</span>; <span class="comment">// æ€»é¢˜ç›®æ•°</span></span><br><span class="line"><span class="keyword">let</span> totalPages = <span class="built_in">Math</span>.ceil(totalItems / perPage);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    updatePageSelect();</span><br><span class="line">    paginate();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ä¸‹æ‹‰æ¡†çš„é€‰æ‹©</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;per_page&#x27;</span>).addEventListener(<span class="string">&#x27;change&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    perPage = <span class="built_in">this</span>.value === <span class="string">&#x27;all&#x27;</span> ? totalItems : <span class="built_in">parseInt</span>(<span class="built_in">this</span>.value);</span><br><span class="line">    totalPages = <span class="built_in">Math</span>.ceil(totalItems / perPage);</span><br><span class="line">    currentPage = <span class="number">1</span>; <span class="comment">// æ¯æ¬¡ä¿®æ”¹æ˜¾ç¤ºæ•°é‡æ—¶ï¼Œé‡ç½®ä¸ºç¬¬ä¸€é¡µ</span></span><br><span class="line">    updatePageSelect();</span><br><span class="line">    paginate();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´æ–°é¡µç ä¸‹æ‹‰æ¡†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updatePageSelect</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> pageSelect = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;page_select&#x27;</span>);</span><br><span class="line">    pageSelect.innerHTML = <span class="string">&#x27;&#x27;</span>; <span class="comment">// æ¸…ç©ºå½“å‰é€‰é¡¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= totalPages; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> option = <span class="built_in">document</span>.createElement(<span class="string">&#x27;option&#x27;</span>);</span><br><span class="line">        option.value = i;</span><br><span class="line">        option.textContent = <span class="string">`ç¬¬<span class="subst">$&#123;i&#125;</span>é¡µ`</span>;</span><br><span class="line">        <span class="keyword">if</span> (i === currentPage) &#123;</span><br><span class="line">            option.selected = <span class="literal">true</span>; <span class="comment">// é€‰ä¸­å½“å‰é¡µ</span></span><br><span class="line">        &#125;</span><br><span class="line">        pageSelect.appendChild(option);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†é¡µé€»è¾‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paginate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> tableRows = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;#question-table tr&#x27;</span>);</span><br><span class="line">    tableRows.forEach(<span class="function">(<span class="params">row, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &gt;= (currentPage - <span class="number">1</span>) * perPage &amp;&amp; index &lt; currentPage * perPage) &#123;</span><br><span class="line">            row.style.display = <span class="string">&#x27;&#x27;</span>;  <span class="comment">// å½“å‰é¡µæ˜¾ç¤º</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            row.style.display = <span class="string">&#x27;none&#x27;</span>;  <span class="comment">// å…¶ä»–é¡µéšè—</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·³è½¬åˆ°æŒ‡å®šé¡µ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goToPage</span>(<span class="params">page</span>) </span>&#123;</span><br><span class="line">    currentPage = <span class="built_in">parseInt</span>(page);</span><br><span class="line">    paginate();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¿»é¡µåŠŸèƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goToFirstPage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    currentPage = <span class="number">1</span>;</span><br><span class="line">    paginate();</span><br><span class="line">    updatePageSelect();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goToPreviousPage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (currentPage &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        currentPage--;</span><br><span class="line">        paginate();</span><br><span class="line">        updatePageSelect();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goToNextPage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (currentPage &lt; totalPages) &#123;</span><br><span class="line">        currentPage++;</span><br><span class="line">        paginate();</span><br><span class="line">        updatePageSelect();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goToLastPage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    currentPage = totalPages;</span><br><span class="line">    paginate();</span><br><span class="line">    updatePageSelect();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¼”ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Tailwind_pagination_demo.png"                      style="zoom: 75%;"                ></p>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
            <tag> Tailwind </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ollama+OpenWebuiæ­å»ºæœ¬åœ°å¤§æ¨¡å‹(Dockerç‰ˆ)</title>
      <link href="/2024/09/28/Ollama-OpenWebui%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0%E5%A4%A7%E6%A8%A1%E5%9E%8B-Docker%E7%89%88/"/>
      <url>/2024/09/28/Ollama-OpenWebui%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0%E5%A4%A7%E6%A8%A1%E5%9E%8B-Docker%E7%89%88/</url>
      
        <content type="html"><![CDATA[<p>Ollama æ˜¯ä¸€ä¸ªä¾¿äºæœ¬åœ°éƒ¨ç½²å’Œè¿è¡Œå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLarge Language Models, LLMsï¼‰çš„å·¥å…·ã€‚</p><p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Docker å®‰è£…å’Œä½¿ç”¨ Ollama å’Œ Open WebUIï¼Œå¹¶ä¸‹è½½æ¨¡å‹è¿›è¡Œä½¿ç”¨ã€‚</p><p>æ²¡æœ‰Dockerçš„è¯ï¼Œåªéœ€è¦å®‰è£… Pythonåï¼Œç”¨ pip å‘½ä»¤ç…§æ ·å¯ä»¥å®‰è£… Open Webuiï¼Œå†ä¸‹è½½æ¨¡å‹ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ç”¨ã€‚</p><a id="more"></a><h2 id="Ollama-Docker-å®‰è£…"><a href="#Ollama-Docker-å®‰è£…" class="headerlink" title="Ollama Docker å®‰è£…"></a>Ollama Docker å®‰è£…</h2><p>å¼€æºçš„å¤§å‹è¯­è¨€æ¨¡å‹å¹³å° Ollama æä¾›äº†å¼ºå¤§çš„æ¨¡å‹ç®¡ç†åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·ä¸‹è½½ã€ä¸Šä¼ å’Œç®¡ç†å„ç§é¢„è®­ç»ƒçš„è¯­è¨€æ¨¡å‹ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Œå¹¶è¿›è¡Œå®šåˆ¶åŒ–é…ç½®ã€‚</p><p>Ollamaé¡¹ç›®åœ¨Githubä¸Š ç›®å‰æœ‰ 91.1kçš„æ˜Ÿã€‚</p><p>å®˜ç½‘ï¼š<a class="link"   href="https://ollama.com/" >https://ollama.com/<i class="fas fa-external-link-alt"></i></a><br>æ¨¡å‹ï¼š<a class="link"   href="https://ollama.com/library" >https://ollama.com/library<i class="fas fa-external-link-alt"></i></a><br>Githubï¼š<a class="link"   href="https://github.com/ollama/ollama" >https://github.com/ollama/ollama<i class="fas fa-external-link-alt"></i></a><br>Dockerï¼š<a class="link"   href="https://hub.docker.com/r/ollama/ollama/tags" >https://hub.docker.com/r/ollama/ollama/tags<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æ‹‰å– Ollama Docker é•œåƒ</span></span><br><span class="line">docker pull ollama/ollama:latest</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆ›å»ºå®¹å™¨ï¼ˆéœ€è¦æ˜ å°„ç›®å½•ï¼Œæ¯”å¦‚æˆ‘è¿™æ˜¯ï¼šD:\ollamaï¼‰</span></span><br><span class="line">docker run -d -v D:\ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.ä¸‹è½½æ¨¡å‹ llama3.1:8b</span></span><br><span class="line">docker <span class="built_in">exec</span> -it ollama ollama run llama3.1:8b</span><br></pre></td></tr></table></figure><p>å®Œæˆç¬¬2æ­¥åï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® <code>http://localhost:11434</code>ï¼Œå¯ä»¥çœ‹åˆ° Ollama is running åœ¨è¿è¡Œäº†ã€‚</p><p>è¿è¡Œç¬¬3æ­¥åï¼Œç­‰å¾…æ¨¡å‹ä¸‹è½½å®Œæˆï¼Œå°±ç›´æ¥å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å‹èŠå¤©äº†ã€‚ï¼ˆç¬¬ä¸€æ¬¡æ²¡æœ‰è¯¥æ¨¡å‹ä¼šè‡ªåŠ¨ä¸‹è½½è¯¥æ¨¡å‹ï¼‰</p><p>åœ¨æ¨¡å‹é¡µé¢ä¸Šå¯ä»¥æŸ¥çœ‹è‡ªå·±éœ€è¦ä¸‹è½½çš„æ¨¡å‹ã€‚</p><h2 id="Open-WebUI-Docker-å®‰è£…"><a href="#Open-WebUI-Docker-å®‰è£…" class="headerlink" title="Open WebUI Docker å®‰è£…"></a>Open WebUI Docker å®‰è£…</h2><p>Open WebUI æ˜¯ä¸€ç§å¯æ‰©å±•çš„ã€åŠŸèƒ½ä¸°å¯Œä¸”ç”¨æˆ·å‹å¥½çš„è‡ªæ‰˜ç®¡ WebUIï¼Œæ—¨åœ¨å®Œå…¨ç¦»çº¿è¿è¡Œã€‚å®ƒæ”¯æŒå„ç§LLMè¿è¡Œå™¨ï¼ŒåŒ…æ‹¬ Ollama å’Œä¸ OpenAI å…¼å®¹çš„ APIã€‚</p><p>è¯¥é¡¹ç›®åœ¨Githubä¸Š ç›®å‰æœ‰ 40.6kçš„æ˜Ÿã€‚</p><p>Githubï¼š<a class="link"   href="https://github.com/open-webui/open-webui" >https://github.com/open-webui/open-webui<i class="fas fa-external-link-alt"></i></a><br>æ–‡æ¡£ï¼š<a class="link"   href="https://docs.openwebui.com/" >https://docs.openwebui.com/<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æ‹‰å–é•œåƒ</span></span><br><span class="line">docker pull dyrnq/open-webui:main</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆ›å»ºå®¹å™¨ï¼ˆéœ€è¦æ˜ å°„ç›®å½•ï¼Œæ¯”å¦‚æˆ‘æ˜¯ï¼šD:\open-webui,æ˜ å°„çš„ç«¯å£æˆ‘è¿™æ˜¯8186ï¼‰</span></span><br><span class="line">docker run -d -p 8186:8080 --add-host=host.docker.internal:host-gateway -v D:\open-webui:/app/backend/data --name open-webui --restart always dyrnq/open-webui:main</span><br></pre></td></tr></table></figure><p>å®Œæˆç¬¬2æ­¥åï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® <code>http://localhost:8080</code>ï¼Œå³å¯å¼€å§‹ä½¿ç”¨ Open WebUIã€‚ç”¨é‚®ç®±æ³¨å†Œä¸‹å°±å¯ä»¥äº†ã€‚</p><p>å¦‚æœæ²¡æœ‰ä¸‹è½½æ¨¡å‹éœ€è¦å…ˆä¸‹è½½æ¨¡å‹ï¼Œå¦‚æœå‰é¢åœ¨ollamaä¸Šä¸‹è½½è¿‡äº†ï¼Œè¿™é‡Œç›´æ¥å°±é€‰æ‹©æ¨¡å‹å°±èƒ½ç”¨äº†ã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Ollama_OpenWebui.png"                      style="zoom: 50%;"                ><h2 id="pip-å‘½ä»¤å®‰è£…ä½¿ç”¨-Open-Webui"><a href="#pip-å‘½ä»¤å®‰è£…ä½¿ç”¨-Open-Webui" class="headerlink" title="pip å‘½ä»¤å®‰è£…ä½¿ç”¨ Open Webui"></a>pip å‘½ä»¤å®‰è£…ä½¿ç”¨ Open Webui</h2><p>å®‰è£…è¿‡ Pythonçš„è¯ï¼Œæ²¡æœ‰Dockerä¹Ÿå¯ä»¥ç”¨ã€‚ç›´æ¥ç”¨ pip å‘½ä»¤å®‰è£… OpenWebuiåï¼Œç›´æ¥åœ¨ä¸Šé¢ä¸‹è½½æ¨¡å‹å°±è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">pip install open-webui</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line">open-webui serve</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® <code>http://localhost:8080</code></p><p>ç„¶åæ˜¯å¯ä»¥ä¸‹è½½æ¨¡å‹çš„ã€‚å»æ¨¡å‹é¡µé¢ä¸Šçœ‹ <a class="link"   href="https://ollama.com/library" >https://ollama.com/library<i class="fas fa-external-link-alt"></i></a> ç„¶åæ¯”å¦‚è¦ä¸‹è½½ llama3.1:8b å†™ä¸Šå°±èƒ½ä¸‹è½½äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> AI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Locuståˆ†å¸ƒå¼è´Ÿè½½æµ‹è¯•å·¥å…·ç®€ä»‹</title>
      <link href="/2024/08/28/Locust%E5%88%86%E5%B8%83%E5%BC%8F%E8%B4%9F%E8%BD%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E7%AE%80%E4%BB%8B/"/>
      <url>/2024/08/28/Locust%E5%88%86%E5%B8%83%E5%BC%8F%E8%B4%9F%E8%BD%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E7%AE%80%E4%BB%8B/</url>
      
        <content type="html"><![CDATA[<p>Locust æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼è´Ÿè½½æµ‹è¯•å·¥å…·ï¼Œç”¨äºæ¨¡æ‹Ÿå¤§é‡å¹¶å‘ç”¨æˆ·è®¿é—®æŒ‡å®šçš„ç›®æ ‡ç³»ç»Ÿæˆ–æœåŠ¡ã€‚å®ƒç‰¹åˆ«é€‚åˆæµ‹è¯• Web åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç”¨æˆ·è¡Œä¸ºè„šæœ¬æ¥æ¨¡æ‹Ÿå¤æ‚çš„ä½¿ç”¨åœºæ™¯ã€‚</p><p>ä¸»è¦ç‰¹ç‚¹ï¼š</p><ul><li>Python é©±åŠ¨ï¼šç”¨æˆ·è¡Œä¸ºä½¿ç”¨ Python è„šæœ¬ç¼–å†™ï¼Œçµæ´»ä¸”æ˜“äºæ‰©å±•ã€‚</li><li>Web ç•Œé¢ï¼šå†…ç½®çš„ Web ç•Œé¢å¯ç”¨äºé…ç½®æµ‹è¯•å’Œå®æ—¶ç›‘æ§ã€‚</li><li>åˆ†å¸ƒå¼æµ‹è¯•ï¼šå¯ä»¥è½»æ¾æ‰©å±•è‡³å¤šå°æœºå™¨ï¼Œæ¨¡æ‹Ÿä¸Šä¸‡åç”¨æˆ·ã€‚</li><li>å¯æ‰©å±•æ€§ï¼šé€šè¿‡æ’ä»¶å’Œæ‰©å±•ï¼Œå¯ä»¥å®ç°è‡ªå®šä¹‰çš„æµ‹è¯•é€»è¾‘å’ŒæŠ¥å‘Šã€‚</li></ul><a id="more"></a><h2 id="ä½¿ç”¨æ•™ç¨‹"><a href="#ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ä½¿ç”¨æ•™ç¨‹"></a>ä½¿ç”¨æ•™ç¨‹</h2><h3 id="1-å®‰è£…-Locust"><a href="#1-å®‰è£…-Locust" class="headerlink" title="1.å®‰è£… Locust"></a>1.å®‰è£… Locust</h3><p>å½“ç„¶ï¼Œå‰ææ˜¯å®‰è£…äº†Pythonï¼Œå› ä¸ºè¿™ä¸ªæ˜¯ç”¨Pythonè„šæœ¬æ¥ç”¨çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install locust</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œåï¼Œå¯ä»¥é€šè¿‡ <code>locust --version</code> å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><p>å¦‚æœåœ¨Cursoræˆ–VS Codeç­‰ç¼–è¾‘å™¨çš„powershellä¸­è¿è¡Œå‘½ä»¤æ‰¾ä¸åˆ°ï¼Œä½†åœ¨ç»ˆç«¯ä¸­èƒ½è¿è¡Œï¼Œæ˜æ˜å·²ç»æŠŠå‘½ä»¤æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡äº†ã€‚å¯ä»¥é€šè¿‡ä¸€ä¸‹æ–¹æ³•è§£å†³ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.ç”¨ ä»¥ä¸‹å‘½ä»¤æŸ¥è¯¢ powershell çš„PATHç¯å¢ƒå˜é‡</span></span><br><span class="line">   <span class="variable">$env</span>:PATH</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.å¦‚æœè·¯å¾„ä¸åœ¨å…¶ä¸­ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤æ·»åŠ è·¯å¾„</span></span><br><span class="line">   <span class="variable">$env</span>:PATH += <span class="string">&quot;;C:\Users\[ç”¨æˆ·å]\AppData\Roaming\Python\Python39\Scripts&quot;</span></span><br></pre></td></tr></table></figure><h3 id="2-ç¼–å†™-Locust-æµ‹è¯•è„šæœ¬"><a href="#2-ç¼–å†™-Locust-æµ‹è¯•è„šæœ¬" class="headerlink" title="2. ç¼–å†™ Locust æµ‹è¯•è„šæœ¬"></a>2. ç¼–å†™ Locust æµ‹è¯•è„šæœ¬</h3><p>åˆ›å»ºä¸€ä¸ª Python è„šæœ¬ locustfile.pyï¼Œç”¨äºå®šä¹‰ç”¨æˆ·è¡Œä¸ºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> locust <span class="keyword">import</span> HttpUser, task, between</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„è®¾æµ‹è¯•å‚æ•°</span></span><br><span class="line">os.environ[<span class="string">&#x27;LOCUST_HOST&#x27;</span>] = <span class="string">&#x27;http://192.168.31.175:9090&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® Locust Web ç•Œé¢ç«¯å£</span></span><br><span class="line">os.environ[<span class="string">&#x27;LOCUST_WEB_PORT&#x27;</span>] = <span class="string">&#x27;8089&#x27;</span>  <span class="comment"># è¿™é‡Œä¸è®¾ç½®é»˜è®¤ä¸º8089ï¼Œå¯ä»¥ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WebsiteUser</span>(<span class="params">HttpUser</span>):</span></span><br><span class="line">    wait_time = between(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @task</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">load_specific_page</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.client.get(<span class="string">&quot;/&quot;</span>) <span class="comment"># /plays/kongtiao.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œ locust -f locustfile.py</span></span><br></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><ul><li>HttpUserï¼šå®šä¹‰ä¸€ä¸ªç”¨æˆ·ç±»ï¼ŒåŒ…å«æ¨¡æ‹Ÿçš„ç”¨æˆ·è¡Œä¸ºã€‚</li><li>wait_timeï¼šç”¨æˆ·åœ¨ä¸¤æ¬¡ä»»åŠ¡ä¹‹é—´çš„ç­‰å¾…æ—¶é—´ï¼Œè¿™é‡Œè®¾ç½®ä¸º 1 åˆ° 5 ç§’ä¹‹é—´éšæœºé€‰æ‹©ã€‚</li><li>load_main_pageï¼šå®šä¹‰ä¸€ä¸ªä»»åŠ¡ï¼Œç”¨æˆ·å°†è®¿é—®æ ¹è·¯å¾„ /ã€‚</li><li>sys.argvï¼šå…è®¸ä»å‘½ä»¤è¡Œæ¥æ”¶è¾“å…¥çš„ URLã€‚</li></ul><h3 id="3-è¿è¡Œ-Locust-æµ‹è¯•"><a href="#3-è¿è¡Œ-Locust-æµ‹è¯•" class="headerlink" title="3.è¿è¡Œ Locust æµ‹è¯•"></a>3.è¿è¡Œ Locust æµ‹è¯•</h3><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œ Locustï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locust -f locustfile.py</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨å¹¶è®¿é—® <a class="link"   href="http://localhost:8089/" >http://localhost:8089<i class="fas fa-external-link-alt"></i></a> å¯ä»¥åœ¨ç•Œé¢ä¸Šè®¾ç½®å¹¶å‘ç”¨æˆ·æ•°é‡ã€ç”Ÿæˆç‡ç­‰å‚æ•°ï¼Œå¹¶å¯åŠ¨æµ‹è¯•ã€‚</p><p><strong>æ€§èƒ½æµ‹è¯•å‚æ•°ï¼ˆéƒ¨åˆ†ï¼‰</strong>ï¼š</p><ul><li>Typeï¼š è¯·æ±‚çš„ç±»å‹ï¼Œä¾‹å¦‚GET/POSTã€‚</li><li>Nameï¼šè¯·æ±‚çš„è·¯å¾„ã€‚</li><li>Requestsï¼šå½“å‰è¯·æ±‚çš„æ•°é‡ã€‚</li><li>Failsï¼šå½“å‰è¯·æ±‚å¤±è´¥çš„æ•°é‡ã€‚</li><li>Medianï¼šä¸­é—´å€¼ï¼Œå•ä½æ¯«ç§’ï¼Œä¸€åŠçš„æœåŠ¡å™¨å“åº”æ—¶é—´ä½äºè¯¥å€¼ï¼Œè€Œå¦ä¸€åŠé«˜äºè¯¥å€¼ã€‚</li><li>Averageï¼šå¹³å‡å€¼ï¼Œå•ä½æ¯«ç§’ï¼Œæ‰€æœ‰è¯·æ±‚çš„å¹³å‡å“åº”æ—¶é—´ã€‚</li><li>Maxï¼šè¯·æ±‚çš„æœ€å¤§æœåŠ¡å™¨å“åº”æ—¶é—´ï¼Œå•ä½æ¯«ç§’ã€‚</li></ul><p>ç‚¹å‡»ã€CHARTSã€‘èœå•ï¼Œå¯ä»¥æŸ¥çœ‹æ€§èƒ½å›¾è¡¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ffmpegï¼šå¤šåª’ä½“å¤„ç†åˆ©å™¨åŠå¸¸ç”¨å‘½ä»¤è¯¦è§£</title>
      <link href="/2024/06/23/ffmpeg%E5%A4%9A%E5%AA%92%E4%BD%93%E5%A4%84%E7%90%86%E5%88%A9%E5%99%A8%E5%8F%8A%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/"/>
      <url>/2024/06/23/ffmpeg%E5%A4%9A%E5%AA%92%E4%BD%93%E5%A4%84%E7%90%86%E5%88%A9%E5%99%A8%E5%8F%8A%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>FFmpeg æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„è·¨å¹³å°å¤šåª’ä½“æ¡†æ¶ï¼Œå¯ç”¨äºå„ç§éŸ³è§†é¢‘å¤„ç†ä»»åŠ¡ã€‚å®ƒæä¾›ä¸€ç³»åˆ—å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºè½¬æ¢ã€ç¼–è¾‘ã€åˆå¹¶ã€æ‹†åˆ†ã€æ»¤é•œã€æµåŒ–ç­‰æ“ä½œã€‚FFmpeg <strong>å¼€æºå…è´¹</strong>ï¼Œæ”¯æŒå¤šç§æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Windowsã€Linux å’Œ macOSã€‚</p><p>å¯ä»¥æ‰§è¡ŒéŸ³é¢‘å’Œè§†é¢‘å¤šç§æ ¼å¼çš„å½•å½±ã€è½¬æ¢ã€ä¸²æµåŠŸèƒ½ï¼ŒåŒ…å«äº†libavcodecâ€”â€”è¿™æ˜¯ä¸€ä¸ªç”¨äºå¤šä¸ªé¡¹ç›®ä¸­éŸ³é¢‘å’Œè§†é¢‘çš„è§£ç å™¨åº“ï¼Œä»¥åŠlibavformatâ€”â€”ä¸€ä¸ªéŸ³é¢‘ä¸è§†é¢‘æ ¼å¼è½¬æ¢åº“ã€‚</p><a id="more"></a><h2 id="ä¸€ã€ä¸‹è½½FFmpeg"><a href="#ä¸€ã€ä¸‹è½½FFmpeg" class="headerlink" title="ä¸€ã€ä¸‹è½½FFmpeg"></a>ä¸€ã€ä¸‹è½½FFmpeg</h2><h3 id="1-ä¸‹è½½FFmpeg"><a href="#1-ä¸‹è½½FFmpeg" class="headerlink" title="1.ä¸‹è½½FFmpeg"></a>1.ä¸‹è½½FFmpeg</h3><p>å®˜ç½‘å°±å¯ä»¥ä¸‹è½½ FFmpegï¼šï¼ˆ<a class="link"   href="http://ffmpeg.org/download.html" >http://ffmpeg.org/download.html<i class="fas fa-external-link-alt"></i></a> ï¼‰</p><p>Windowsç³»ç»Ÿçš„è¯ï¼Œé€‰æ‹©ã€Windows EXE Filesã€‘-&gt;ã€Windows builds from gyan.devã€‘ã€‚</p><p>é¡µé¢ä¸Šçš„éƒ½å¯ä»¥ä¸‹è½½ï¼Œæ¯”å¦‚æˆ‘è¿™ç›´æ¥ä¸‹è½½ã€release buildsã€‘ä¸­çš„ ffmpeg-release-essentials.7zï¼Œç›®å‰æœ€æ–°çš„ç‰ˆæœ¬ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ffmpeg_download_m3u8_1.png"                      style="zoom: 50%;"                ></p><h3 id="2-æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"><a href="#2-æ·»åŠ åˆ°ç¯å¢ƒå˜é‡" class="headerlink" title="2.æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"></a>2.æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</h3><p>ä¸‹è½½åæ˜¯ä¸ªå‹ç¼©åŒ…ï¼Œç›´æ¥è§£å‹å‡ºæ¥ã€‚æ¯”å¦‚æˆ‘è¿™è§£å‹å‡ºæ¥æ˜¯ä¸ª ffmpeg-5.0.1-essentials_build ç›®å½•ï¼Œç„¶åç›´æ¥æŠŠè¿™ä¸ªç›®å½•ä¸‹çš„<strong>binç›®å½•</strong>æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡å°±è¡Œã€‚ï¼ˆæ€ä¹ˆæ·»åŠ ç¯å¢ƒå˜é‡ï¼Œç™¾åº¦ä¸€ä¸‹å°±æœ‰ï¼‰</p><p>å› ä¸ºbinç›®å½•ä¸‹æœ‰ ffmpeg.exe å¯æ‰§è¡Œç¨‹åºï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œé‡Œç”¨ ffmpegå‘½ä»¤æ—¶ï¼Œç”¨çš„å°±æ˜¯è¿™ä¸ªã€‚</p><h2 id="äºŒã€å¸¸ç”¨å‘½ä»¤"><a href="#äºŒã€å¸¸ç”¨å‘½ä»¤" class="headerlink" title="äºŒã€å¸¸ç”¨å‘½ä»¤"></a>äºŒã€å¸¸ç”¨å‘½ä»¤</h2><h3 id="1-éŸ³-è§†é¢‘æ ¼å¼è½¬æ¢"><a href="#1-éŸ³-è§†é¢‘æ ¼å¼è½¬æ¢" class="headerlink" title="1.éŸ³/è§†é¢‘æ ¼å¼è½¬æ¢"></a>1.éŸ³/è§†é¢‘æ ¼å¼è½¬æ¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§†é¢‘æ ¼å¼è½¬æ¢</span></span><br><span class="line">ffmpeg -i input_video.mp4 output_video.avi</span><br><span class="line"></span><br><span class="line"><span class="comment"># éŸ³é¢‘æ ¼å¼è½¬æ¢ï¼ˆæ¯”ç‰¹ç‡192kbpsï¼‰</span></span><br><span class="line">ffmpeg -i input.wav -codec:a libmp3lame -b:a 192k output.mp3</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">-i input_video.mp4ï¼šæŒ‡å®šè¾“å…¥è§†é¢‘æ–‡ä»¶ã€‚</span><br><span class="line">output_video.aviï¼šè¾“å‡ºçš„è§†é¢‘æ–‡ä»¶ã€‚</span><br><span class="line">-codec:a libmp3lameï¼šæŒ‡å®šä½¿ç”¨libmp3lameç¼–è§£ç å™¨è¿›è¡ŒMP3ç¼–ç ã€‚</span><br><span class="line">-b:a 192kï¼šéŸ³é¢‘æ¯”ç‰¹ç‡192kbpsã€‚</span><br></pre></td></tr></table></figure><h3 id="2-ä»è§†é¢‘ä¸­æå–éŸ³é¢‘"><a href="#2-ä»è§†é¢‘ä¸­æå–éŸ³é¢‘" class="headerlink" title="2.ä»è§†é¢‘ä¸­æå–éŸ³é¢‘"></a>2.ä»è§†é¢‘ä¸­æå–éŸ³é¢‘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input_video.mp4 -vn -acodec libmp3lame output_audio.mp3</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">-i input.mp4ï¼šæŒ‡å®šè¾“å…¥è§†é¢‘æ–‡ä»¶ã€‚</span><br><span class="line">-vnï¼šç¦ç”¨è§†é¢‘æµï¼Œåªå¤„ç†éŸ³é¢‘æµã€‚</span><br><span class="line">-acodec libmp3lameï¼šæŒ‡å®šéŸ³é¢‘ç¼–è§£ç å™¨ä¸ºLAME MP3ã€‚</span><br><span class="line">output_audio.mp3ï¼šæŒ‡å®šè¾“å‡ºéŸ³é¢‘æ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure><h3 id="3-éŸ³-è§†é¢‘å‰ªè¾‘"><a href="#3-éŸ³-è§†é¢‘å‰ªè¾‘" class="headerlink" title="3.éŸ³/è§†é¢‘å‰ªè¾‘"></a>3.éŸ³/è§†é¢‘å‰ªè¾‘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§†é¢‘å‰ªè¾‘ï¼ˆå‰ªè¾‘å‡ºä»10ç§’åˆ°20ç§’è§†é¢‘ï¼‰</span></span><br><span class="line">ffmpeg -i input_video.mp4 -ss 00:00:10 -to 00:00:20 -c copy output_video.mp4</span><br><span class="line"></span><br><span class="line"><span class="comment"># éŸ³é¢‘å‰ªè¾‘ï¼ˆå‰ªè¾‘å‡ºä»1åˆ†30ç§’åˆ°1åˆ†45ç§’éŸ³é¢‘ï¼‰</span></span><br><span class="line">ffmpeg -i input_audio.mp3 -ss 00:01:30 -to 00:01:45 -c copy output_clip.mp3</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">-ss 00:01:30ï¼šæŒ‡å®šå‰ªè¾‘çš„å¼€å§‹æ—¶é—´ï¼Œè¿™é‡Œæ˜¯ä»1åˆ†30ç§’å¼€å§‹ã€‚</span><br><span class="line">-to 00:01:45ï¼šæŒ‡å®šå‰ªè¾‘çš„ç»“æŸæ—¶é—´ï¼Œè¿™é‡Œæ˜¯1åˆ†45ç§’ã€‚</span><br><span class="line">-c copyï¼šæŒ‡å®šä½¿ç”¨ç›¸åŒçš„éŸ³é¢‘ç¼–è§£ç å™¨å’Œæ ¼å¼è¿›è¡Œå¤åˆ¶ã€‚</span><br></pre></td></tr></table></figure><h3 id="4-åˆå¹¶éŸ³è§†é¢‘"><a href="#4-åˆå¹¶éŸ³è§†é¢‘" class="headerlink" title="4.åˆå¹¶éŸ³è§†é¢‘"></a>4.åˆå¹¶éŸ³è§†é¢‘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i video.mp4 -i audio.mp3 -c:v copy -c:a aac output.mp4</span><br><span class="line"></span><br><span class="line"><span class="comment"># éƒ½ä¸é‡æ–°ç¼–ç ï¼Œé€Ÿåº¦å¿«ï¼Œä½†æ–‡ä»¶è´¨é‡å¯èƒ½ä¼šç•¥å¾®ä¸‹é™</span></span><br><span class="line">ffmpeg -i video.mp4 -i audio.mp3 -c copy output.mp4</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">-i video.mp4ï¼šè¾“å…¥è§†é¢‘æ–‡ä»¶</span><br><span class="line">-i audio.mp3ï¼šè¾“å…¥éŸ³é¢‘æ–‡ä»¶</span><br><span class="line">-c:v copyï¼š&#96;-c:v&#96;æŒ‡å®šè§†é¢‘ç¼–è§£ç å™¨ï¼Œcopyè¡¨ç¤ºç›´æ¥å¤åˆ¶è§†é¢‘æµä¸é‡æ–°ç¼–ç ã€‚</span><br><span class="line">-c:a aacï¼š&#96;-c:a&#96;æŒ‡å®šéŸ³é¢‘ç¼–è§£ç å™¨ï¼Œaacè¡¨ç¤ºå°†éŸ³é¢‘é‡æ–°ç¼–ç ä¸ºAACæ ¼å¼ã€‚</span><br><span class="line">output.mp4ï¼šè¾“å‡ºçš„è§†é¢‘æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">è¿˜å¯ä»¥æ·»åŠ å…¶å®ƒå‚æ•°ï¼š</span><br><span class="line">1.éŸ³é¢‘å»¶è¿Ÿ0.5ç§’ï¼ˆ-itsoffset 0.5ï¼‰</span><br><span class="line">ffmpeg -i video.mp4 -itsoffset 0.5 -i audio.mp3 -c:v copy -c:a aac output.mp4</span><br><span class="line"></span><br><span class="line">2.éŸ³é¢‘éŸ³é‡å‡åŠï¼ˆ-filter_complex &quot;[1:a]volume&#x3D;0.5[a]&quot;ï¼‰</span><br><span class="line">ffmpeg -i video.mp4 -i audio.mp3 -filter_complex &quot;[1:a]volume&#x3D;0.5[a]&quot; -map 0:v -map &quot;[a]&quot; -c:v copy -c:a aac output.mp4</span><br></pre></td></tr></table></figure><h3 id="5-è°ƒæ•´è§†é¢‘åˆ†è¾¨ç‡"><a href="#5-è°ƒæ•´è§†é¢‘åˆ†è¾¨ç‡" class="headerlink" title="5.è°ƒæ•´è§†é¢‘åˆ†è¾¨ç‡"></a>5.è°ƒæ•´è§†é¢‘åˆ†è¾¨ç‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -vf scale=1280:720 output.mp4</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">-vf scale&#x3D;1280:720ï¼šåˆ†è¾¨ç‡è°ƒæ•´ä¸º1280x720ã€‚</span><br></pre></td></tr></table></figure><h3 id="6-ä¸ºè§†é¢‘æ·»åŠ å­—å¹•"><a href="#6-ä¸ºè§†é¢‘æ·»åŠ å­—å¹•" class="headerlink" title="6.ä¸ºè§†é¢‘æ·»åŠ å­—å¹•"></a>6.ä¸ºè§†é¢‘æ·»åŠ å­—å¹•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -vf subtitle=subtitle.srt output.mp4</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">-vf subtitle&#x3D;subtitle.srtï¼šæ·»åŠ  subtitle.srt å­—å¹•ã€‚</span><br></pre></td></tr></table></figure><h3 id="7-ä¸‹è½½m3u8æ ¼å¼çš„è§†é¢‘"><a href="#7-ä¸‹è½½m3u8æ ¼å¼çš„è§†é¢‘" class="headerlink" title="7.ä¸‹è½½m3u8æ ¼å¼çš„è§†é¢‘"></a>7.ä¸‹è½½m3u8æ ¼å¼çš„è§†é¢‘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.ç›´æ¥ä¸‹è½½ï¼ˆä¸€èˆ¬é»˜è®¤æœ€æ¸…æ™°çš„ç‰ˆæœ¬ï¼‰</span></span><br><span class="line">ffmpeg -i m3u8åœ°å€ -c copy output.mp4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æ·»åŠ å‚æ•°ä¸‹è½½ï¼ˆç¡®ä¿éŸ³é¢‘æ ¼å¼ç¬¦åˆ MP4 å®¹å™¨çš„è¦æ±‚ï¼Œä»¥é¿å…å…¼å®¹æ€§é—®é¢˜ã€‚ï¼‰</span></span><br><span class="line">ffmpeg -i m3u8åœ°å€ -c copy -bsf:a aac_adtstoasc output.mp4</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">-i m3u8åœ°å€ï¼šè¦ä¸‹è½½çš„m3u8åœ°å€ã€‚</span><br><span class="line">-c copyï¼šå¤åˆ¶éŸ³è§†é¢‘æµï¼Œä¸é‡æ–°ç¼–ç ã€‚</span><br><span class="line">-bsf:a aac_adtstoascï¼šç”¨äºå¯¹éŸ³é¢‘æµè¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œå°†AAC ADTSæ ¼å¼è½¬æ¢ä¸ºAAC ASCæ ¼å¼ã€‚AAC ADTSæ ¼å¼å¸¸ç”¨äºHTTPæµä¼ è¾“ï¼Œè€ŒAAC ASCæ ¼å¼å¸¸ç”¨äºMP4æ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure><h3 id="8-åˆå¹¶å¤šä¸ªéŸ³-è§†é¢‘æ–‡ä»¶"><a href="#8-åˆå¹¶å¤šä¸ªéŸ³-è§†é¢‘æ–‡ä»¶" class="headerlink" title="8.åˆå¹¶å¤šä¸ªéŸ³/è§†é¢‘æ–‡ä»¶"></a>8.åˆå¹¶å¤šä¸ªéŸ³/è§†é¢‘æ–‡ä»¶</h3><p>éŸ³é¢‘ä¸è§†é¢‘æ˜¯ä¸€æ ·çš„ï¼Œä»¥ä¸‹ç”¨è§†é¢‘ä¸¾ä¾‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æ–‡ä»¶æ•°é‡å°‘ï¼Œç›´æ¥åˆå¹¶</span></span><br><span class="line">ffmpeg -i <span class="string">&quot;concat:part1.mp4|part2.mp4|part3.mp4&quot;</span> -c copy output1.mp4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æ–‡ä»¶è¾ƒå¤šæ—¶</span></span><br><span class="line"><span class="comment"># éœ€è¦åˆ›å»ºä¸€ä¸ªfilelist.txtæ–‡ä»¶ï¼Œå­˜æ”¾éœ€è¦åˆå¹¶çš„è§†é¢‘æ–‡ä»¶å</span></span><br><span class="line">ffmpeg -f concat -safe 0 -i filelist.txt -c copy output2.mp4</span><br></pre></td></tr></table></figure><p>filelist.txt æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file &#x27;F:\video\1.ts&#x27;</span><br><span class="line">file &#x27;F:\video\2.ts&#x27;</span><br><span class="line">file &#x27;F:\video\3.ts&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">-f concatï¼šæŒ‡å®šç”¨ concat æ ¼å¼ã€‚</span><br><span class="line">-safe 0ï¼šå…è®¸æ–‡ä»¶ååŒ…å«ä¸å®‰å…¨å­—ç¬¦ï¼ˆå¦‚ç©ºæ ¼ï¼‰ã€‚</span><br><span class="line">-i filelist.txtï¼šè¾“å…¥æ–‡ä»¶åˆ—è¡¨ã€‚</span><br><span class="line">-c copyï¼šç›´æ¥å¤åˆ¶è§†é¢‘å’ŒéŸ³é¢‘æµï¼Œä¸é‡æ–°ç¼–ç ã€‚</span><br><span class="line">output2.mp4ï¼šè¾“å‡ºæ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€åšå®¢å†…å…¶å®ƒç›¸å…³æ–‡ç« "><a href="#ä¸‰ã€åšå®¢å†…å…¶å®ƒç›¸å…³æ–‡ç« " class="headerlink" title="ä¸‰ã€åšå®¢å†…å…¶å®ƒç›¸å…³æ–‡ç« "></a>ä¸‰ã€åšå®¢å†…å…¶å®ƒç›¸å…³æ–‡ç« </h2><ul><li><a href="/2022/12/18/yt-dlp-%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="yt-dlp ä½¿ç”¨æ•™ç¨‹">yt-dlp ä½¿ç”¨æ•™ç¨‹</a></li><li><a href="/2022/09/21/%E7%94%A8ffmpeg%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AAts%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/" title="ç”¨ffmpegåˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶">ç”¨ffmpegåˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶</a></li><li><a href="/2022/05/03/%E7%94%A8ffmpeg%E4%B8%8B%E8%BD%BDm3u8%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91/" title="ç”¨FFmpegä¸‹è½½m3u8æ ¼å¼è§†é¢‘">ç”¨FFmpegä¸‹è½½m3u8æ ¼å¼è§†é¢‘</a></li><li><a href="/2022/04/09/you-get%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="you-get ä½¿ç”¨æ•™ç¨‹">you-get ä½¿ç”¨æ•™ç¨‹</a></li><li><a href="/2022/04/09/youtube-dl%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="youtube-dl ä½¿ç”¨æ•™ç¨‹">youtube-dl ä½¿ç”¨æ•™ç¨‹</a></li></ul><p>yt-dlpä¸you-getã€youtube-dl è¿™ä¸¤å·®ä¸å¤šï¼Œyt-dlp èƒ½ä¸‹è½½åŒ…æ‹¬æ²¹ç®¡è§†é¢‘åœ¨å†…çš„ä¸å°‘è§†é¢‘äº†ã€‚éƒ½æ˜¯ä¸€æ¬¾é‡‡ç”¨Python ç¼–å†™çš„å…è´¹ã€å¼€æºã€å‘½ä»¤è¡Œç¨‹åºï¼Œä¸»è¦æ˜¯ç”¨æ¥ä¸‹è½½è§†é¢‘çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
            <tag> ffmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tailwind CSSå…¥é—¨ä½“éªŒ</title>
      <link href="/2024/06/02/TailwindCSS%E5%85%A5%E9%97%A8%E4%BD%93%E9%AA%8C/"/>
      <url>/2024/06/02/TailwindCSS%E5%85%A5%E9%97%A8%E4%BD%93%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<p>Tailwind CSS çš„å·¥ä½œåŸç†æ˜¯æ‰«ææ‰€æœ‰ HTML æ–‡ä»¶ã€JavaScript ç»„ä»¶å’Œä»»ä½•å…¶ä»–ç±»åç§°æ¨¡æ¿ï¼Œç”Ÿæˆç›¸åº”çš„æ ·å¼ï¼Œç„¶åå°†å®ƒä»¬å†™å…¥é™æ€ CSS æ–‡ä»¶ã€‚<br>å®ƒå¿«é€Ÿã€çµæ´»ä¸”å¯é â€”â€” å…·æœ‰é›¶è¿è¡Œæ—¶é—´ã€‚</p><p>æ¯•ç«Ÿä¸ä¼šå†™å‰ç«¯ï¼ŒåŸæ¥çš„é¡µé¢éƒ½ç›´æ¥ç®€å•çš„ç”¨Bootstrap æ¡†æ¶ï¼Œç„¶åçœ‹åˆ°ç°åœ¨æŒºå¤šç”¨Tailwind CSSçš„ï¼Œå°±è¯•è¯•ï¼Œçœ‹äº†ä¸‹æ•ˆæœçš„ç¡®æ¯”Bootstrapè‚¯å®šæ˜¯ä¸°å¯Œå¾ˆå¤šçš„ã€‚ï¼ˆåæ­£éƒ½æ˜¯è®©AIè°ƒæ•´ï¼Œæ²¡å•¥åŸºç¡€ä¹Ÿæ²¡å…³ç³»ï¼Œèƒ½å·®ä¸å¤šçœ‹æ‡‚htmlå°±è¡Œäº†ï¼‰</p><p>å®˜ç½‘æ–‡æ¡£ï¼š<a class="link"   href="https://tailwind.nodejs.cn/docs/" >https://tailwind.nodejs.cn/docs/<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><p>å®˜ç½‘ä¹Ÿæœ‰æä¾›ä½“éªŒç½‘å€ï¼š<a class="link"   href="https://play.tailwindcss.com/" >https://play.tailwindcss.com/<i class="fas fa-external-link-alt"></i></a></p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ul><li>1.å®‰è£…Node.jsã€‚è¿™ä¸ªåæ­£ç”¨Hexoåšå®¢å’ŒGitbookçš„ï¼Œä¹‹å‰éƒ½å·²ç»æœ‰è£…å¥½äº†ã€‚</li><li>2.Nginxç­‰æœåŠ¡å™¨ã€‚</li></ul><h2 id="ä½“éªŒæ­¥éª¤"><a href="#ä½“éªŒæ­¥éª¤" class="headerlink" title="ä½“éªŒæ­¥éª¤"></a>ä½“éªŒæ­¥éª¤</h2><p>åŸºæœ¬ä¸Šçœ‹å®˜æ–¹æ–‡æ¡£ä¸Š Tailwind CLIä¸Šé¢æœ‰å…·ä½“çš„æ­¥éª¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.åˆ›å»ºé¡¹ç›®ç›®å½•</span></span><br><span class="line">mkdir my-tailwind-project</span><br><span class="line"><span class="built_in">cd</span> my-tailwind-project</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆå§‹åŒ–npmé¡¹ç›®ï¼ˆå·²å®‰è£…nodeï¼‰</span></span><br><span class="line">npm init -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å®‰è£…Tailwind CSSå’Œæ‰€éœ€ä¾èµ–</span></span><br><span class="line">npm install -D tailwindcss</span><br><span class="line">npx tailwindcss init</span><br></pre></td></tr></table></figure><p>4.åˆ›å»ºTailwind CSSé…ç½®æ–‡ä»¶tailwind.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;import(&#x27;tailwindcss&#x27;).Config&#125;</span> </span>*/</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  content: [<span class="string">&quot;./src/**/*.&#123;html,js&#125;&quot;</span>],</span><br><span class="line">  theme: &#123;</span><br><span class="line">    extend: &#123;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5.å°† Tailwind æŒ‡ä»¤æ·»åŠ åˆ° CSSï¼ˆsrc/input.cssï¼‰</p><p>éœ€è¦å…ˆåœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºsrcç›®å½•ï¼Œå†åˆ›å»ºinput.cssæ–‡ä»¶ã€‚å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@tailwind</span> base;</span><br><span class="line"><span class="keyword">@tailwind</span> components;</span><br><span class="line"><span class="keyword">@tailwind</span> utilities;</span><br></pre></td></tr></table></figure><p>6.ç¼–è¯‘Tailwind CSS</p><p>åœ¨ package.json æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªè„šæœ¬</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;build:css&quot;: &quot;npx tailwindcss -i ./src/input.css -o ./src/output.css --minify&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.åœ¨srcç›®å½•ä¸‹åˆ›å»º index.html æ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>WebStackPage Navigation<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;dist/output.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;bg-gray-100&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;bg-white shadow-md&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container mx-auto p-4 flex justify-between items-center&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-2xl font-bold text-gray-800&quot;</span>&gt;</span>WebStackPage<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#home&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#categories&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium&quot;</span>&gt;</span>Categories<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#about&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#contact&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium&quot;</span>&gt;</span>Contact<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span> <span class="attr">class</span>=<span class="string">&quot;container mx-auto mt-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span> <span class="attr">class</span>=<span class="string">&quot;my-8&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;text-3xl font-bold text-gray-800&quot;</span>&gt;</span>Welcome to WebStackPage<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;mt-2 text-gray-600&quot;</span>&gt;</span>A curated list of useful websites and resources.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;categories&quot;</span> <span class="attr">class</span>=<span class="string">&quot;my-8&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;text-2xl font-bold text-gray-800&quot;</span>&gt;</span>Categories<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg-white p-6 rounded-lg shadow-md&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;text-xl font-semibold text-gray-800&quot;</span>&gt;</span>Development<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;mt-2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://developer.mozilla.org/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>MDN Web Docs<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://stackoverflow.com/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>Stack Overflow<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>GitHub<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg-white p-6 rounded-lg shadow-md&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;text-xl font-semibold text-gray-800&quot;</span>&gt;</span>Design<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;mt-2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://dribbble.com/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>Dribbble<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.behance.net/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>Behance<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.canva.com/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>Canva<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg-white p-6 rounded-lg shadow-md&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;text-xl font-semibold text-gray-800&quot;</span>&gt;</span>Learning<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;mt-2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.coursera.org/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>Coursera<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.udemy.com/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>Udemy<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.khanacademy.org/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-blue-500 hover:underline&quot;</span>&gt;</span>Khan Academy<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;about&quot;</span> <span class="attr">class</span>=<span class="string">&quot;my-8&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;text-2xl font-bold text-gray-800&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;mt-2 text-gray-600&quot;</span>&gt;</span>WebStackPage is a curated list of useful websites and resources for developers, designers, and learners.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;contact&quot;</span> <span class="attr">class</span>=<span class="string">&quot;my-8&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;text-2xl font-bold text-gray-800&quot;</span>&gt;</span>Contact<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;mt-2 text-gray-600&quot;</span>&gt;</span>Get in touch with us through our contact form or email.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>8.æ„å»ºcssæ–‡ä»¶</p><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ„å»º output.css æ–‡ä»¶ã€‚æ¯æ¬¡ä¿®æ”¹ index.html ä¸­çš„æ–‡ä»¶åï¼Œæ·»åŠ äº†æ–°çš„classï¼Œå°±è¿è¡Œä¸‹é¢çš„æŒ‡ä»¤é‡æ–°æ„å»º cssæ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build:css</span><br></pre></td></tr></table></figure><p>æœ€åï¼ŒæŠŠ index.htmlæ–‡ä»¶å’Œoutput.cssæ–‡ä»¶ä¸€èµ·æ”¾åˆ°nginxç›®å½•ä¸­å°±å¯ä»¥è®¿é—®äº†ã€‚</p><p>PS.VS Codeä¸­ä¹Ÿæœ‰Tailwind CSS IntelliSense æ’ä»¶ã€‚å¾ˆæ–¹ä¾¿è°ƒæ•´ä¸€äº›é¢œè‰²ä¹‹ç±»çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
            <tag> Tailwind </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Postgresqlæ•°æ®åº“å¯åŠ¨å¤±è´¥invalid primary checkpoint record</title>
      <link href="/2024/05/23/Postgresql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5invalid-primary-checkpoint-record/"/>
      <url>/2024/05/23/Postgresql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5invalid-primary-checkpoint-record/</url>
      
        <content type="html"><![CDATA[<p>ç”µè„‘å¯èƒ½è‡ªåŠ¨æ›´æ–°é‡å¯äº†åï¼ŒPostgresqlçš„æœåŠ¡çªç„¶å°±ä¸è¡Œäº†ï¼Œå¯åŠ¨ä¸äº†äº†ã€‚æˆ‘æ˜¯ç”¨ Dockeråˆ›å»ºçš„postgresqlçš„å®¹å™¨ï¼Œä¸€ç›´åœ¨ Restartingã€‚</p><p>ç„¶åçœ‹äº†ä¸‹æ—¥å¿—LOGï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">LOG:  starting PostgreSQL 12.17 on x86_64-pc-linux-musl, compiled by gcc (Alpine 13.2.1_git20231014) 13.2.1 20231014, 64-bit</span><br><span class="line">2024-05-23 09:10:15 2024-05-23 01:10:15.368 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432</span><br><span class="line">2024-05-23 09:10:15 2024-05-23 01:10:15.368 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432</span><br><span class="line">2024-05-23 09:10:15 2024-05-23 01:10:15.420 UTC [1] LOG:  listening on Unix socket &quot;&#x2F;var&#x2F;run&#x2F;postgresql&#x2F;.s.PGSQL.5432&quot;</span><br><span class="line">2024-05-23 09:10:15 2024-05-23 01:10:15.591 UTC [22] LOG:  database system was interrupted; last known up at 2024-05-22 07:06:03 UTC</span><br><span class="line">2024-05-23 09:10:22 2024-05-23 01:10:22.387 UTC [22] LOG:  invalid record length at 0&#x2F;2475D98: wanted 24, got 0</span><br><span class="line">2024-05-23 09:10:22 2024-05-23 01:10:22.387 UTC [22] LOG:  invalid primary checkpoint record</span><br><span class="line">2024-05-23 09:10:22 2024-05-23 01:10:22.387 UTC [22] PANIC:  could not locate a valid checkpoint record</span><br><span class="line">2024-05-23 09:10:22 2024-05-23 01:10:22.387 UTC [1] LOG:  startup process (PID 22) was terminated by signal 6: Aborted</span><br><span class="line">2024-05-23 09:10:22 2024-05-23 01:10:22.387 UTC [1] LOG:  aborting startup due to startup process failure</span><br><span class="line">2024-05-23 09:10:22 2024-05-23 01:10:22.389 UTC [1] LOG:  database system is shut down</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°å…³é”®çš„åº”è¯¥æ˜¯è¿™å¥ <mark>invalid primary checkpoint record</mark></p><a id="more"></a><p>ç„¶åå…ˆé—®äº†ä¸‹AIåŠ©æ‰‹ï¼Œå›ç­”å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æ ¹æ®æ—¥å¿—æ˜¾ç¤ºï¼ŒPostgreSQLå¯åŠ¨è¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ï¼Œå…·ä½“æ˜¯å› ä¸ºæ•°æ®åº“ç³»ç»Ÿä¸­æ–­å¯¼è‡´æ— æ³•å®šä½æœ‰æ•ˆçš„æ£€æŸ¥ç‚¹è®°å½•ã€‚è¿™å¯èƒ½æ˜¯ç”±äºæ•°æ®æ–‡ä»¶æŸåæˆ–å…¶ä»–åŸå› å¯¼è‡´çš„æ•°æ®åº“ç³»ç»Ÿå¼‚å¸¸ã€‚</span><br><span class="line"></span><br><span class="line">è§£å†³æ–¹æ³•ï¼š</span><br><span class="line">1. å°è¯•ä½¿ç”¨pg_resetwalå‘½ä»¤æ¥é‡ç½®WALæ—¥å¿—æ–‡ä»¶ï¼Œè¯¥å‘½ä»¤å¯ä»¥ä¿®å¤ä¸€äº›WALæ–‡ä»¶ç›¸å…³çš„é—®é¢˜ã€‚</span><br><span class="line">2. å¦‚æœé‡ç½®WALæ–‡ä»¶æ— æ•ˆï¼Œå¯ä»¥å°è¯•ä½¿ç”¨pg_resetxlogå‘½ä»¤æ¥é‡ç½®XLOGæ–‡ä»¶ã€‚</span><br><span class="line">3. å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ— æ•ˆï¼Œå¯èƒ½éœ€è¦è€ƒè™‘æ¢å¤æ•°æ®åº“å¤‡ä»½æˆ–è€…é‡æ–°åˆå§‹åŒ–æ•°æ®åº“ã€‚</span><br><span class="line"></span><br><span class="line">è¯·æ³¨æ„ï¼Œåœ¨å°è¯•ä»»ä½•ä¿®å¤æ“ä½œä¹‹å‰ï¼Œè¯·åŠ¡å¿…å¤‡ä»½æ•°æ®åº“æ–‡ä»¶ï¼Œä»¥å…é€ æˆæ•°æ®ä¸¢å¤±ã€‚</span><br></pre></td></tr></table></figure><p>æ„Ÿè§‰å°±æ˜¯å› ä¸ºç”µè„‘è‡ªåŠ¨é‡å¯å¯¼è‡´çš„é—®é¢˜ã€‚äºæ˜¯ç½‘ä¸Šå»æœäº†ä¸‹<mark>postgresqlæ•°æ®åº“å¯åŠ¨å¤±è´¥ invalid primary checkpoint record</mark></p><p>æ‰¾åˆ°äº†è§£å†³æ–¹æ³•ã€‚</p><p>æ­¥éª¤ï¼š</p><p><strong>1.æŸ¥çœ‹è‡ªå·±å®¹å™¨ä½¿ç”¨çš„dockeré•œåƒ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><p>ç»“æœå…³äºpostgresçš„å…³é”®ä¿¡æ¯å¦‚ä¸‹ï¼Œè¿™é‡Œå…³æ³¨TAGæ˜¯ä¸æ˜¯latestï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯ 12.17-alpine3.19ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY                 TAG</span><br><span class="line">postgres                   12.17-alpine3.19</span><br></pre></td></tr></table></figure><p><strong>2.æ‰¾åˆ°å®¹å™¨æ˜ å°„çš„ç›®å½•</strong></p><p>æ¯”å¦‚æˆ‘çš„å®¹å™¨åæ˜¯ï¼špostgres</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect postgres</span><br></pre></td></tr></table></figure><p>è¿è¡Œä»¥ä¸Šå‘½ä»¤åï¼Œå¾—åˆ°å…³é”®ä¿¡æ¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;Mounts&quot;: [</span><br><span class="line">           &#123;</span><br><span class="line">               &quot;Type&quot;: &quot;bind&quot;,</span><br><span class="line">               &quot;Source&quot;: &quot;E:\\Docker\\PostgreSQL\\data&quot;,</span><br><span class="line">               &quot;Destination&quot;: &quot;&#x2F;var&#x2F;lib&#x2F;postgresql&#x2F;data&quot;,</span><br><span class="line">               &quot;Mode&quot;: &quot;&quot;,</span><br><span class="line">               &quot;RW&quot;: true,</span><br><span class="line">               &quot;Propagation&quot;: &quot;rprivate&quot;</span><br><span class="line">           &#125;</span><br><span class="line">       ],</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ Source åé¢å°±æ˜¯æœ¬åœ°æ˜ å°„çš„ç›®å½•ï¼ˆæˆ‘è¿™é‡Œæ˜¯Windowsç³»ç»Ÿï¼Œè¿™ä¸ªæ²¡æœ‰å…³ç³»ï¼‰ï¼ŒDestinationåé¢å°±æ˜¯å¯¹åº”çš„å®¹å™¨ä¸­çš„ç›®å½•ã€‚</p><p><strong>3.åœæ­¢å½“å‰å®¹å™¨</strong></p><p>æ¯”å¦‚æˆ‘çš„å®¹å™¨åæ˜¯ï¼špostgres</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop postgres</span><br></pre></td></tr></table></figure><p><strong>4.é‡ç‚¹è§£å†³è¿‡ç¨‹</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.è¿›å…¥æ–°çš„dockerå®¹å™¨</span></span><br><span class="line"><span class="comment"># -v åé¢çš„å‚æ•°æ˜¯æœ¬åœ°çš„æ˜ å°„ç›®å½•:å®¹å™¨ä¸­çš„ç›®å½•ï¼ˆé€šè¿‡docker inspect postgreså¾—åˆ°çš„ä¿¡æ¯ï¼‰</span></span><br><span class="line"><span class="comment"># postgres:12.17-alpine3.19 æ˜¯é•œåƒå:TAGï¼Œå¦‚æœä¸å†™åé¢çš„ï¼Œé»˜è®¤æ˜¯latest</span></span><br><span class="line">docker run -it -v E:\Docker\PostgreSQL\data:/var/lib/postgresql/data postgres:12.17-alpine3.19 /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆ‡æ¢åˆ°postgresç”¨æˆ·æ–¹æ³•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</span></span><br><span class="line">su postgres</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.æ‰§è¡Œ pg_resetwal å‘½ä»¤</span></span><br><span class="line">pg_resetwal -f /var/lib/postgresql/data</span><br><span class="line"></span><br><span class="line">ç»“æœå¦‚ä¸‹ï¼š</span><br><span class="line">Write-ahead <span class="built_in">log</span> reset</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">é‚£å°±okäº†ï¼å†å¯åŠ¨å®¹å™¨ï¼Œå°±æ²¡é—®é¢˜äº†ï¼</span><br><span class="line"></span><br><span class="line">PS.å¦‚æœæ‰§è¡Œ pg_resetwal æŠ¥é”™å¦‚ä¸‹ï¼š</span><br></pre></td></tr></table></figure><p>pg_resetwal: error: lock file â€œpostmaster.pidâ€ exists<br>pg_resetwal: Is a server running?  If not, delete the lock file and try again</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">é‚£å°±å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå†é‡æ–°æ‰§è¡Œ pg_resetwal å‘½ä»¤ã€‚</span><br><span class="line">&#96;&#96;&#96;bash</span><br><span class="line">rm &#x2F;var&#x2F;lib&#x2F;postgresql&#x2F;data&#x2F;postmaster.pid</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Postgresql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Postgresql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>frpå®¢æˆ·ç«¯å®¹å™¨å¯åŠ¨å¤±è´¥</title>
      <link href="/2024/03/30/frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/"/>
      <url>/2024/03/30/frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/</url>
      
        <content type="html"><![CDATA[<p>ç›´æ¥ç”¨Dockerä¸Šçš„frpï¼Œçªç„¶æŸä¸€å¤©ï¼Œfrpçš„å®¢æˆ·ç«¯è¿™è¾¹è¿ä¸ä¸Šäº†ï¼ŒæŸ¥çœ‹æ—¥å¿—æç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frp login to server failed EOF</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œåœ¨ç¾¤æ™–ä¸Šçš„frpå®¢æˆ·ç«¯å¥½åƒæ˜¯æ­£å¸¸ä½¿ç”¨çš„ã€‚</p><a id="more"></a><p>åœ¨ç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œè¯´æ˜¯ï¼š</p><blockquote><p>åŸæ¥frpåœ¨v0.25.0ç‰ˆæœ¬åå¢åŠ äº†ä¸€ä¸ªå®¢æˆ·ç«¯é€‰é¡¹ï¼Œæ”¯æŒäº†tlsä¼ è¾“ï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„éå¯¹ç§°åŠ å¯†ï¼ŒåŸæ¥åœ¨frpsåˆå§‹åŒ–æœåŠ¡æ—¶ï¼Œåœ¨å†…å­˜ä¸­å·²ç»ä¸ºæˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªç®€æ˜“çš„TLSæœåŠ¡ï¼</p><p>å¼€å¯çš„åŠæ³•å¾ˆç®€å•ï¼Œåœ¨å®¢æˆ·ç«¯åŸæ¥çš„ [common] é…ç½®ä¸­åŠ å…¥t1s_enable = true å³å¯ï¼</p></blockquote><p>äºæ˜¯ï¼Œç›´æ¥åœ¨ frpc.ini é…ç½®æ–‡ä»¶çš„ [common] å¤„åé¢åŠ ä¸Šä¸€è¡Œï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t1sï¼¿enable = true</span><br></pre></td></tr></table></figure><p>å†é‡æ–°å»ºäº†ä¸‹å®¹å™¨ï¼Œå°±okäº†ã€‚</p><p>ç”¨dockeræ­å»ºfrpçš„æ•™ç¨‹ï¼š<a href="/2022/06/18/Docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨">Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨</a></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Jupyterä½¿ç”¨æµ·é¾Ÿç”»å›¾(Turtle)</title>
      <link href="/2024/02/24/Python-Jupyter%E4%BD%BF%E7%94%A8%E6%B5%B7%E9%BE%9F%E7%94%BB%E5%9B%BETurtle/"/>
      <url>/2024/02/24/Python-Jupyter%E4%BD%BF%E7%94%A8%E6%B5%B7%E9%BE%9F%E7%94%BB%E5%9B%BETurtle/</url>
      
        <content type="html"><![CDATA[<p>æ­£å¸¸æˆ‘ä»¬ä½¿ç”¨Turtleæµ·é¾Ÿç”»å›¾ï¼Œåªéœ€è¦å®‰è£…PythonTurtleåº“å°±è¡Œäº†ã€‚</p><p>ä½†åœ¨ Jupyterä¸­ï¼Œå› ä¸ºæ˜¯åœ¨webç½‘é¡µä¸Šï¼Œæ‰€ä»¥è¿˜éœ€è¦å®‰è£…åˆ«çš„ï¼Œæ‰€ä»¥ç”¨çš„æ˜¯ ipyturtle3 åº“ï¼Œå®‰è£…çš„æ—¶å€™ä¼šæŠŠä¾èµ–åº“éƒ½å®‰è£…ä¸Šã€‚</p><p>æ³¨æ„ï¼š<mark>ä¸æ˜¯ ipyturtle è€Œæ˜¯ ipyturtle3ï¼Œipyturtleæ˜¯æ—§çš„äº†ã€‚</mark></p><a id="more"></a><h2 id="æ™®é€šå®‰è£…"><a href="#æ™®é€šå®‰è£…" class="headerlink" title="æ™®é€šå®‰è£…"></a>æ™®é€šå®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install PythonTurtle</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”»6ä¸ªæ­£æ–¹å½¢</span></span><br><span class="line"><span class="comment"># å¯¼å…¥åº“</span></span><br><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾å½¢</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        t.forward(<span class="number">50</span>)</span><br><span class="line">        t.left(<span class="number">90</span>)</span><br><span class="line">    t.left(<span class="number">60</span>)</span><br><span class="line"><span class="comment"># å®Œæˆ</span></span><br><span class="line">t.done()</span><br></pre></td></tr></table></figure><h2 id="Jupyterä¸­æ™®é€šå®‰è£…"><a href="#Jupyterä¸­æ™®é€šå®‰è£…" class="headerlink" title="Jupyterä¸­æ™®é€šå®‰è£…"></a>Jupyterä¸­æ™®é€šå®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install ipyturtle3</span><br></pre></td></tr></table></figure><p>å°±æ˜¯å‰é¢å¯¼å…¥çš„åº“ä¸åŒï¼Œéœ€è¦åˆå§‹åŒ–ä¸€ä¸‹ç¯å¢ƒã€‚ç”¨åˆ°canvasã€‚</p><p>ä¸‹é¢åŸºç¡€ç”»å›¾çš„ä»£ç ï¼Œå°±åŸºæœ¬ä¸Šå¯ä»¥ç”¨ä¸€æ ·çš„ã€‚</p><p>ä½¿ç”¨ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥åº“</span></span><br><span class="line"><span class="keyword">import</span> ipyturtle3 <span class="keyword">as</span> turtle</span><br><span class="line"><span class="keyword">from</span> ipyturtle3 <span class="keyword">import</span> hold_canvas</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line">myCanvas = turtle.Canvas(width=<span class="number">500</span>,height=<span class="number">300</span>) <span class="comment"># åˆ›å»ºä¸€ä¸ªç”»å¸ƒ</span></span><br><span class="line">myTS = turtle.TurtleScreen(myCanvas) <span class="comment"># åˆ›å»ºä¸€ä¸ªæµ·é¾Ÿå±å¹•ï¼Œå®ƒæ˜¯æµ·é¾Ÿç»˜å›¾çš„å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">myTS.clear() <span class="comment"># æ¸…é™¤å±å¹•</span></span><br><span class="line">t = turtle.Turtle(myTS) <span class="comment"># åˆ›å»ºä¸€ä¸ªæµ·é¾Ÿ</span></span><br><span class="line">display(myCanvas) <span class="comment"># æ˜¾ç¤ºç”»å¸ƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»å›¾å½¢</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        t.forward(<span class="number">50</span>)</span><br><span class="line">        t.left(<span class="number">90</span>)</span><br><span class="line">    t.left(<span class="number">60</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å®˜æ–¹é¡µé¢ä¸­çš„ä¾‹å­"><a href="#å®˜æ–¹é¡µé¢ä¸­çš„ä¾‹å­" class="headerlink" title="å®˜æ–¹é¡µé¢ä¸­çš„ä¾‹å­"></a>å®˜æ–¹é¡µé¢ä¸­çš„ä¾‹å­</h3><p>å®˜æ–¹é¡µé¢ï¼š<a class="link"   href="https://pypi.org/project/ipyturtle3/" >https://pypi.org/project/ipyturtle3/<i class="fas fa-external-link-alt"></i></a></p><p>ä¾‹å­ï¼ˆè®©gptä¸­æ–‡æ³¨é‡Šäº†ä¸‹ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ipyturtle3 <span class="keyword">as</span> turtle</span><br><span class="line"><span class="keyword">from</span> ipyturtle3 <span class="keyword">import</span> hold_canvas</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªç”»å¸ƒ</span></span><br><span class="line">myCanvas=turtle.Canvas(width=<span class="number">500</span>,height=<span class="number">250</span>)</span><br><span class="line">display(myCanvas)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæµ·é¾Ÿå±å¹•ï¼Œå®ƒæ˜¯æµ·é¾Ÿç»˜å›¾çš„å®¹å™¨</span></span><br><span class="line">myTS=turtle.TurtleScreen(myCanvas)</span><br><span class="line">myTS.clear()  <span class="comment"># æ¸…é™¤å±å¹•</span></span><br><span class="line">myTS.bgcolor(<span class="string">&quot;lightgreen&quot;</span>)  <span class="comment"># è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºæµ…ç»¿è‰²</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸¤ä¸ªæµ·é¾Ÿï¼Œbobå’Œjess</span></span><br><span class="line">bob=turtle.Turtle(myTS)</span><br><span class="line">jess=turtle.Turtle(myTS,isHolonomic=<span class="literal">True</span>)  <span class="comment"># jessæ˜¯å…¨å‘çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•æ–¹å‘ä¸Šç§»åŠ¨</span></span><br><span class="line">jess.shape(<span class="string">&quot;square&quot;</span>)  <span class="comment"># è®¾ç½®jessçš„å½¢çŠ¶ä¸ºæ­£æ–¹å½¢</span></span><br><span class="line">bob.shape(<span class="string">&quot;turtle&quot;</span>)  <span class="comment"># è®¾ç½®bobçš„å½¢çŠ¶ä¸ºæµ·é¾Ÿ</span></span><br><span class="line"></span><br><span class="line">myTS.delay(<span class="number">200</span>)  <span class="comment"># è®¾ç½®å»¶è¿Ÿä¸º200æ¯«ç§’</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éå…¨å‘æµ·é¾Ÿbobçš„ç§»åŠ¨ç¤ºä¾‹</span></span><br><span class="line">bob.forward(<span class="number">50</span>)  <span class="comment"># å‘å‰ç§»åŠ¨50ä¸ªå•ä½</span></span><br><span class="line">bob.left(<span class="number">90</span>)  <span class="comment"># å‘å·¦è½¬90åº¦</span></span><br><span class="line">bob.forward(<span class="number">50</span>)</span><br><span class="line">bob.left(<span class="number">90</span>)</span><br><span class="line">bob.forward(<span class="number">50</span>)</span><br><span class="line">bob.left(<span class="number">90</span>)</span><br><span class="line">bob.forward(<span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å‘æµ·é¾Ÿjessçš„ç§»åŠ¨ç¤ºä¾‹</span></span><br><span class="line">jess.moveleft(<span class="number">200</span>)  <span class="comment"># å‘å·¦ç§»åŠ¨200ä¸ªå•ä½</span></span><br><span class="line">jess.moveup(<span class="number">100</span>)  <span class="comment"># å‘ä¸Šç§»åŠ¨100ä¸ªå•ä½</span></span><br><span class="line">jess.moveright(<span class="number">100</span>)  <span class="comment"># å‘å³ç§»åŠ¨100ä¸ªå•ä½</span></span><br><span class="line">jess.movedown(<span class="number">100</span>)  <span class="comment"># å‘ä¸‹ç§»åŠ¨100ä¸ªå•ä½</span></span><br><span class="line">jess.turnright(<span class="number">45</span>)  <span class="comment"># å‘å³è½¬45åº¦</span></span><br><span class="line">jess.turn(-<span class="number">45</span>)  <span class="comment"># å‘å·¦è½¬45åº¦</span></span><br><span class="line">jess.distance_at_angle(<span class="number">50</span>,<span class="number">45</span>)  <span class="comment"># åœ¨45åº¦è§’ç§»åŠ¨50ä¸ªå•ä½</span></span><br><span class="line"></span><br><span class="line">myTS.clear()  <span class="comment"># æ¸…é™¤å±å¹•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶å½©è™¹è‹¯ç¯</span></span><br><span class="line">colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>]  <span class="comment"># é¢œè‰²åˆ—è¡¨</span></span><br><span class="line">t = turtle.Turtle(myTS)  <span class="comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„æµ·é¾Ÿt</span></span><br><span class="line">myTS.bgcolor(<span class="string">&#x27;black&#x27;</span>)  <span class="comment"># è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºé»‘è‰²</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">50</span>):  <span class="comment"># å¾ªç¯50æ¬¡</span></span><br><span class="line">    <span class="keyword">with</span>(hold_canvas(myCanvas)):  <span class="comment"># åœ¨ç”»å¸ƒä¸Šç»˜å›¾</span></span><br><span class="line">        t.pencolor(colors[x%<span class="number">6</span>])  <span class="comment"># è®¾ç½®ç”»ç¬”é¢œè‰²</span></span><br><span class="line">        t.width(x//<span class="number">100</span> + <span class="number">1</span>)  <span class="comment"># è®¾ç½®ç”»ç¬”å®½åº¦</span></span><br><span class="line">        t.forward(x)  <span class="comment"># å‘å‰ç§»åŠ¨xä¸ªå•ä½</span></span><br><span class="line">        t.left(<span class="number">59</span>)  <span class="comment"># å‘å·¦è½¬59åº¦</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCodeä¸­åˆ¶ä½œæ€ç»´å¯¼å›¾(Markmap)</title>
      <link href="/2024/01/29/VSCode%E4%B8%AD%E5%88%B6%E4%BD%9C%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BEMarkmap/"/>
      <url>/2024/01/29/VSCode%E4%B8%AD%E5%88%B6%E4%BD%9C%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BEMarkmap/</url>
      
        <content type="html"><![CDATA[<p>Markmapæ˜¯åœ¨VS Codeä¸­çš„æ€ç»´å¯¼å›¾æ’ä»¶ï¼ˆæ‰©å±•ï¼‰ã€‚</p><p>å¹³å¸¸åšçš„æ€ç»´å¯¼å›¾ç”¨çš„æ˜¯ Xmindã€‚è¿™ä¸ªä¸»è¦çœ‹åˆ°åœ¨VS Codeä¸­ç”¨è¿™ä¸ªæ’ä»¶ï¼Œå¯ä»¥ç›´æ¥ç”¨markdownè¯­è¨€å†™ï¼Œä¸€é”®é¢„è§ˆï¼Œè¿˜å¯ä»¥å¯¼å‡ºæˆ html ç½‘é¡µï¼Œæ­£å¥½æ”¾åˆ°åšå®¢ä¸­ï¼Œå°±å¾ˆæ–¹ä¾¿äº†ã€‚</p><a id="more"></a><h2 id="ä¸€ã€å®‰è£…Markmapæ‰©å±•"><a href="#ä¸€ã€å®‰è£…Markmapæ‰©å±•" class="headerlink" title="ä¸€ã€å®‰è£…Markmapæ‰©å±•"></a>ä¸€ã€å®‰è£…Markmapæ‰©å±•</h2><ul><li>1.æ‰“å¼€VS Codeï¼Œç‚¹å‡»å·¦ä¾§çš„æ‰©å±•å›¾æ ‡ï¼ˆæˆ–æŒ‰ä¸‹Ctrl+Shift+Xå¿«æ·é”®ï¼‰ã€‚</li><li>2.æœç´¢â€œmarkmapâ€ï¼Œçœ‹åˆ°ä¸€ä¸ªé»„è‰²ä¸‰å‰æˆŸçš„å›¾æ ‡å°±æ˜¯äº†ï¼Œç‚¹å‡»â€œå®‰è£…â€ã€‚</li></ul><h2 id="äºŒã€åˆ¶ä½œæ€ç»´å¯¼å›¾"><a href="#äºŒã€åˆ¶ä½œæ€ç»´å¯¼å›¾" class="headerlink" title="äºŒã€åˆ¶ä½œæ€ç»´å¯¼å›¾"></a>äºŒã€åˆ¶ä½œæ€ç»´å¯¼å›¾</h2><h3 id="1-åˆ›å»ºæ–‡ä»¶"><a href="#1-åˆ›å»ºæ–‡ä»¶" class="headerlink" title="1.åˆ›å»ºæ–‡ä»¶"></a>1.åˆ›å»ºæ–‡ä»¶</h3><p>å®ƒçš„æ–‡ä»¶åä¸º <code>*.mm.md</code> æ˜¯.mdçš„markdownæ–‡ä»¶ï¼Œä½†å‰é¢å¤šäº† .mmã€‚</p><p>æ¯”å¦‚ demo.mm.mdï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">markmap:</span><br><span class="line">  colorFreezeLevel: 2</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># markmap</span></span><br><span class="line"></span><br><span class="line"><span class="section">## Links</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="xml">&lt;https://markmap.js.org/&gt;</span></span><br><span class="line"><span class="bullet">-</span> [<span class="string">GitHub</span>](<span class="link">https://github.com/gera2ld/markmap</span>)</span><br><span class="line"></span><br><span class="line"><span class="section">## Related Projects</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> [<span class="string">coc-markmap</span>](<span class="link">https://github.com/gera2ld/coc-markmap</span>)</span><br><span class="line"><span class="bullet">-</span> [<span class="string">gatsby-remark-markmap</span>](<span class="link">https://github.com/gera2ld/gatsby-remark-markmap</span>)</span><br><span class="line"></span><br><span class="line"><span class="section">## Features</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> links</span><br><span class="line"><span class="bullet">-</span> <span class="strong">**strong**</span> ~~del~~ <span class="emphasis">*italic*</span> ==highlight==</span><br><span class="line"><span class="bullet">-</span> multiline</span><br><span class="line">  text</span><br><span class="line"><span class="bullet">-</span> <span class="code">`inline code`</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> Katex</span><br><span class="line"><span class="bullet">  -</span> $x = &#123;-b \pm \sqrt&#123;b^2-4ac&#125; \over 2a&#125;$</span><br><span class="line"><span class="bullet">  -</span> [<span class="string">More Katex Examples</span>](<span class="link">#?d=gist:af76a4c245b302206b16aec503dbe07b:katex.md</span>)</span><br><span class="line"><span class="bullet">-</span> Now we can wrap very very very very long text based on <span class="code">`maxWidth`</span> option</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-ç”Ÿæˆæ€ç»´å¯¼å›¾"><a href="#2-ç”Ÿæˆæ€ç»´å¯¼å›¾" class="headerlink" title="2.ç”Ÿæˆæ€ç»´å¯¼å›¾"></a>2.ç”Ÿæˆæ€ç»´å¯¼å›¾</h3><p>ç‚¹å‡»å³ä¸Šè§’çš„ ä¸‰å‰æˆŸå›¾æ ‡ï¼Œå°±å¯ä»¥ç›´æ¥</p><p>æ•ˆæœå¦‚å›¾ï¼ˆæŠŠ jsä»£ç çš„ä»£ç å†…å®¹åˆ æ‰äº†ï¼Œè·Ÿmarkdownä¸­ä¸€æ ·ç”¨```ï¼‰ï¼š</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/VSCode_markmap_1.png"                      style="zoom: 50%;"                ><p>å¦‚æœè¦æŠŠ html æ”¾åˆ°ç½‘é¡µä¸­ï¼Œæ³¨æ„é‡Œé¢ç”¨åˆ°å‡ ä¸ªæ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ <code>cdn.jsdeliver.net/npm</code>ä¸‹çš„ï¼Œç¬¬1æ¬¡æ‰“å¼€çš„æ—¶å€™å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œå¯ä»¥ä¸‹è½½ä¸‹æ¥æ”¾åˆ°æœ¬åœ°ï¼š</p><ul><li>style.css: <a class="link"   href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.15.6/dist/style.css" >https://cdn.jsdelivr.net/npm/markmap-toolbar@0.15.6/dist/style.css<i class="fas fa-external-link-alt"></i></a></li><li>d3.min.js: <a class="link"   href="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js" >https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js<i class="fas fa-external-link-alt"></i></a></li><li><code>browser/index.js</code>: <a class="link"   href="https://cdn.jsdelivr.net/npm/markmap-view@0.15.6/dist/browser/index.js" >https://cdn.jsdelivr.net/npm/markmap-view@0.15.6/dist/browser/index.js<i class="fas fa-external-link-alt"></i></a></li><li><code>toolbar*/index.js</code>: <a class="link"   href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.15.6/dist/index.js" >https://cdn.jsdelivr.net/npm/markmap-toolbar@0.15.6/dist/index.js<i class="fas fa-external-link-alt"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> VSCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VSCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jupyter Notebookå®‰è£…ä½¿ç”¨</title>
      <link href="/2024/01/28/Jupyter-Notebook%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/"/>
      <url>/2024/01/28/Jupyter-Notebook%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>Jupyter Notebook æ˜¯ä¸€ä¸ªå¼€æºçš„äº¤äº’å¼ç¬”è®°æœ¬ç¯å¢ƒï¼Œå¯ä»¥ç”¨äºæ•°æ®åˆ†æã€å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ç­‰ä»»åŠ¡ã€‚å®ƒæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬ Pythonã€Rã€Julia ç­‰ï¼Œä½†æœ€å¸¸ç”¨çš„æ˜¯ Pythonã€‚</p><p>Jupyter Notebook çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li>äº¤äº’æ€§ï¼šJupyter Notebook æä¾›äº†ä¸€ä¸ªäº¤äº’å¼çš„ç•Œé¢ï¼Œå¯ä»¥åœ¨ç¬”è®°æœ¬ä¸­ç¼–å†™å’Œæ‰§è¡Œä»£ç ï¼Œå¹¶å³æ—¶æŸ¥çœ‹ç»“æœã€‚è¿™ç§äº¤äº’æ€§ä½¿å¾—å®ƒéå¸¸é€‚åˆç”¨äºæ•°æ®æ¢ç´¢ã€å®éªŒå’Œæ•™å­¦ã€‚</li><li>å¯è§†åŒ–ï¼šJupyter Notebook æ”¯æŒä¸°å¯Œçš„æ•°æ®å¯è§†åŒ–åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ç»˜å›¾åº“ï¼ˆå¦‚ Matplotlibã€Seabornã€Plotly ç­‰ï¼‰åˆ›å»ºå„ç§å›¾è¡¨å’Œå›¾å½¢ã€‚<a id="more"></a></li><li>æ–‡æ¡£ç¼–å†™ï¼šJupyter Notebook ä¸ä»…å¯ä»¥ç¼–å†™å’Œè¿è¡Œä»£ç ï¼Œè¿˜å¯ä»¥åˆ›å»ºå¯Œæ–‡æœ¬ç¬”è®°ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€æ®µè½ã€æ•°å­¦å…¬å¼ã€å›¾åƒç­‰ã€‚è¿™ä½¿å¾—å®ƒæˆä¸ºç¼–å†™æ•°æ®åˆ†ææŠ¥å‘Šã€æ•™å­¦ææ–™å’ŒæŠ€æœ¯æ–‡æ¡£çš„ç†æƒ³å·¥å…·ã€‚</li><li>ä»£ç å¤ç”¨ï¼šJupyter Notebook æ”¯æŒå°†ä»£ç åˆ†å‰²æˆå¤šä¸ªå•å…ƒæ ¼ï¼Œå¹¶å¯ä»¥æŒ‰é¡ºåºæ‰§è¡Œã€‚è¿™ä½¿å¾—ä»£ç çš„å¤ç”¨å’Œè°ƒè¯•æ›´åŠ æ–¹ä¾¿ã€‚</li><li>æ‰©å±•æ€§ï¼šJupyter Notebook å¯ä»¥é€šè¿‡å®‰è£…æ‰©å±•æ’ä»¶æ¥å¢å¼ºå…¶åŠŸèƒ½ã€‚è¿™äº›æ’ä»¶å¯ä»¥æä¾›é¢å¤–çš„ç¼–è¾‘å™¨åŠŸèƒ½ã€è‡ªåŠ¨è¡¥å…¨ã€ä»£ç æ£€æŸ¥ç­‰ã€‚</li></ul><p>ä½¿ç”¨ Jupyter Notebookï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªç¬”è®°æœ¬ä¸­ç¼–å†™å’Œè¿è¡Œä»£ç ï¼ŒåŒæ—¶è®°å½•å’Œå±•ç¤ºä»£ç çš„æ‰§è¡Œç»“æœã€å›¾è¡¨å’Œè§£é‡Šã€‚è¿™ç§äº¤äº’å¼å’Œå¯è§†åŒ–çš„æ–¹å¼ä½¿å¾—æ•°æ®åˆ†æå’Œå®éªŒæ›´åŠ ç›´è§‚å’Œæ˜“äºç†è§£ã€‚</p><h2 id="å®‰è£…è¿è¡ŒJupyter-Notebook"><a href="#å®‰è£…è¿è¡ŒJupyter-Notebook" class="headerlink" title="å®‰è£…è¿è¡ŒJupyter Notebook"></a>å®‰è£…è¿è¡ŒJupyter Notebook</h2><p>è¿™ä¸ªå®˜ç½‘ä¸Šå°±æœ‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install notebook</span><br></pre></td></tr></table></figure><p>å®‰è£…ååœ¨å‘½ä»¤è¡Œçª—å£è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œä¼šè‡ªåŠ¨æ‰“å¼€ç½‘é¡µï¼Œè¿›å…¥jupyter notebookï¼Œå°±å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚</p><h2 id="å†™ä¸ªbatè„šæœ¬è¿è¡Œ-Jupyter-Notebook"><a href="#å†™ä¸ªbatè„šæœ¬è¿è¡Œ-Jupyter-Notebook" class="headerlink" title="å†™ä¸ªbatè„šæœ¬è¿è¡Œ Jupyter Notebook"></a>å†™ä¸ªbatè„šæœ¬è¿è¡Œ Jupyter Notebook</h2><p>åœ¨Windowsç³»ç»Ÿä¸­ï¼Œå¯ä»¥å†™ä¸ªç®€å•çš„batè„šæœ¬ï¼ŒåŒå‡»è¿è¡Œåå°±å¯ä»¥ç›´æ¥æ‰“å¼€notebookï¼ˆå°±ä¸ç”¨æ¯æ¬¡æ‰“å¼€å‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤è¿è¡Œäº†ï¼‰</p><p>æ¯”å¦‚æŠŠä»¥ä¸‹å†…å®¹ä¿å­˜æˆä¸€ä¸ª abc.bat æ–‡ä»¶ï¼ŒåŒå‡»åå°±å¯ä»¥è¿è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">rem Create python folder <span class="keyword">if</span> it doesn<span class="string">&#x27;t exist</span></span><br><span class="line"><span class="string">if not exist C:\python ( </span></span><br><span class="line"><span class="string">  mkdir C:\python</span></span><br><span class="line"><span class="string">)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">cd C:\python</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">start /min jupyter notebook</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè„šæœ¬çš„æ‰§è¡Œæ­¥éª¤ä¸ºï¼š</p><ul><li>1.ä¼šåœ¨Cç›˜åˆ›å»ºpythonç›®å½•ï¼ˆå¦‚æœæ²¡æœ‰å°±åˆ›å»ºï¼‰;</li><li>2.è¿›å…¥è¯¥ pythonç›®å½•ï¼›</li><li>3.è¿è¡Œ notebookã€‚</li></ul><p><code>/min</code> å‚æ•°è¡¨ç¤ºä¼šä»¥æœ€å°åŒ–çš„æ–¹å¼è¿è¡Œï¼Œå¯ä»¥åœ¨ä»»åŠ¡æ æ‰¾åˆ°å®ƒã€‚</p><h2 id="JupyterLab"><a href="#JupyterLab" class="headerlink" title="JupyterLab"></a>JupyterLab</h2><p>è‡ªç”¨çš„è¯ï¼Œæ¨èä½¿ç”¨ JupyterLabï¼ŒNotebookçš„å‡çº§ç‰ˆæœ¬ï¼ŒåŠŸèƒ½æ›´å¤šï¼Œæ”¯æŒDebugè°ƒè¯•ã€‚</p><p>1.å®‰è£… JupyterLab</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install jupyterlab</span><br></pre></td></tr></table></figure><p>2.è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter-lab</span><br></pre></td></tr></table></figure><p>å†™ä¸ªè„šæœ¬çš„è¯ä¸€æ ·çš„ï¼ŒæŠŠä¸Šé¢çš„å‘½ä»¤æ”¹ä¸€ä¸‹å°±è¡Œäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python SQLAlchemyä½¿ç”¨ä¸¾ä¾‹</title>
      <link href="/2023/12/24/Python-SQLAlchemy%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/"/>
      <url>/2023/12/24/Python-SQLAlchemy%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>SQLAlchemy æä¾›äº† ORM åŠŸèƒ½ï¼Œå¯ä»¥å°† Python å¯¹è±¡æ˜ å°„åˆ°å…³ç³»æ•°æ®åº“ä¸­çš„è¡¨ï¼Œä»è€Œç®€åŒ–äº†æ•°æ®è®¿é—®ã€‚å®ƒå…è®¸å¼€å‘äººå‘˜ä½¿ç”¨ Python å¯¹å…³ç³»æ•°æ®åº“è¿›è¡Œ SQL æ“ä½œï¼Œè€Œä¸å¿…ç›´æ¥ç¼–å†™ SQL æŸ¥è¯¢è¯­å¥ã€‚</p><p>SQLAlchemy æ”¯æŒå¤šç§æ•°æ®åº“ï¼ŒåŒ…æ‹¬ MySQLã€PostgreSQLã€SQLiteã€Oracleã€MSSQL ç­‰ã€‚</p><p>è‡ªå·±ä¸»è¦åœ¨ Flaskä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥å®‰è£…çš„æ˜¯ flask_sqlalchemy åº“ï¼Œå®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install flask_sqlalchemy</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="1-åˆå§‹åŒ–-åˆ›å»ºè¡¨"><a href="#1-åˆå§‹åŒ–-åˆ›å»ºè¡¨" class="headerlink" title="1.åˆå§‹åŒ–(åˆ›å»ºè¡¨)"></a>1.åˆå§‹åŒ–(åˆ›å»ºè¡¨)</h3><p>åˆ›å»º User ç±»å¯¹åº”çš„è¡¨ usersã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask_sqlalchemy <span class="keyword">import</span> SQLAlchemy</span><br><span class="line"></span><br><span class="line">current_dir = os.getcwd()</span><br><span class="line">db_file = os.path.join(current_dir, <span class="string">&#x27;static&#x27;</span>, <span class="string">&#x27;db&#x27;</span>, <span class="string">&#x27;data.db&#x27;</span>)</span><br><span class="line"><span class="comment"># é…ç½®æ•°æ®åº“åœ°å€</span></span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_DATABASE_URI&#x27;</span>] = <span class="string">f&#x27;sqlite:///<span class="subst">&#123;db_file&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># è·Ÿè¸ªæ•°æ®åº“çš„ä¿®æ”¹--&gt;ä¸å»ºè®®å¼€å¯æœªæ¥çš„ç‰ˆæœ¬ä¸­ä¼šç§»é™¤</span></span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_TRACK_MODIFICATIONS&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">db = SQLAlchemy(app)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®åº“çš„æ¨¡å‹,éœ€è¦ç»§æ‰¿db. Model</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">db.Model</span>) :</span></span><br><span class="line">    __tablename__ = <span class="string">&quot;users&quot;</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">64</span>)) <span class="comment"># ç”¨æˆ·å</span></span><br><span class="line">    password = db.Column(db.String(<span class="number">128</span>)) <span class="comment"># å¯†ç </span></span><br><span class="line">    phone = db.Column(db.String(<span class="number">11</span>), unique=<span class="literal">True</span>) <span class="comment"># æ‰‹æœºå·</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># db init</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">db_init</span>():</span></span><br><span class="line">    <span class="keyword">with</span> app.app_context():</span><br><span class="line">        <span class="comment"># åˆ é™¤è¡¨</span></span><br><span class="line">        db.drop_all()</span><br><span class="line">        <span class="comment"># åˆ›å»ºè¡¨</span></span><br><span class="line">        db.create_all()</span><br><span class="line"></span><br><span class="line">db_init()</span><br></pre></td></tr></table></figure><h3 id="2-å¢ï¼ˆæ’å…¥æ•°æ®ï¼‰"><a href="#2-å¢ï¼ˆæ’å…¥æ•°æ®ï¼‰" class="headerlink" title="2.å¢ï¼ˆæ’å…¥æ•°æ®ï¼‰"></a>2.å¢ï¼ˆæ’å…¥æ•°æ®ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_test_data</span>():</span></span><br><span class="line">    <span class="comment"># æ’å…¥ä¸€æ¡æ•°æ®</span></span><br><span class="line">    new_user = User(name=<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,password=<span class="string">&#x27;123&#x27;</span>,phone=<span class="string">&#x27;12345674567&#x27;</span>)</span><br><span class="line">    db.session.add(new_user)</span><br><span class="line">    db.session.commit()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ’å…¥å¤šæ¡æ•°æ®</span></span><br><span class="line">    users = [</span><br><span class="line">        User(name=<span class="string">&#x27;å¼ ä¸‰&#x27;</span>, password=<span class="string">&#x27;123&#x27;</span>, phone=<span class="string">&#x27;12345678901&#x27;</span>),</span><br><span class="line">        User(name=<span class="string">&#x27;æå››&#x27;</span>, password=<span class="string">&#x27;456&#x27;</span>, phone=<span class="string">&#x27;12345678902&#x27;</span>),</span><br><span class="line">        <span class="comment"># æ›´å¤šç”¨æˆ·...</span></span><br><span class="line">    ]</span><br><span class="line">    db.session.add_all(users)</span><br><span class="line">    db.session.commit()</span><br></pre></td></tr></table></figure><h3 id="3-åˆ ï¼ˆåˆ é™¤æ•°æ®ï¼‰"><a href="#3-åˆ ï¼ˆåˆ é™¤æ•°æ®ï¼‰" class="headerlink" title="3.åˆ ï¼ˆåˆ é™¤æ•°æ®ï¼‰"></a>3.åˆ ï¼ˆåˆ é™¤æ•°æ®ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_user</span>(<span class="params">phone</span>):</span></span><br><span class="line">    <span class="comment"># åˆ é™¤ä¸€ä¸ªç”¨æˆ·</span></span><br><span class="line">    <span class="comment"># è·å–è¿™ä¸ªç”¨æˆ·çš„ User å¯¹è±¡</span></span><br><span class="line">    user = User.query.filter_by(phone=phone).first()</span><br><span class="line">    <span class="comment"># å¦‚æœè¿™ä¸ªç”¨æˆ·å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> user:</span><br><span class="line">        <span class="comment"># åˆ é™¤è¿™ä¸ªç”¨æˆ·</span></span><br><span class="line">        db.session.delete(user)</span><br><span class="line">        db.session.commit()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‰¹é‡åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">    del_phones = [<span class="string">&#x27;12345678801&#x27;</span>, <span class="string">&#x27;12345678802&#x27;</span>, <span class="string">&#x27;12345678803&#x27;</span>]</span><br><span class="line">    User.query.<span class="built_in">filter</span>(User.phone.in_(del_phones)).delete(synchronize_session=<span class="literal">False</span>)</span><br><span class="line">    db.session.commit()</span><br></pre></td></tr></table></figure><h3 id="4-æ”¹ï¼ˆä¿®æ”¹æ•°æ®ï¼‰"><a href="#4-æ”¹ï¼ˆä¿®æ”¹æ•°æ®ï¼‰" class="headerlink" title="4.æ”¹ï¼ˆä¿®æ”¹æ•°æ®ï¼‰"></a>4.æ”¹ï¼ˆä¿®æ”¹æ•°æ®ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_password</span>(<span class="params">phone, new_password</span>):</span></span><br><span class="line">    <span class="comment"># è·å–è¿™ä¸ªç”¨æˆ·çš„ User å¯¹è±¡</span></span><br><span class="line">    user = User.query.filter_by(phone=phone).first()</span><br><span class="line">    <span class="comment"># å¦‚æœè¿™ä¸ªç”¨æˆ·å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> user:</span><br><span class="line">        <span class="comment"># ä¿®æ”¹è¿™ä¸ªç”¨æˆ·çš„å¯†ç </span></span><br><span class="line">        user.password = new_password</span><br><span class="line">        db.session.commit()</span><br></pre></td></tr></table></figure><h3 id="5-æŸ¥ï¼ˆæŸ¥è¯¢æ•°æ®ï¼‰"><a href="#5-æŸ¥ï¼ˆæŸ¥è¯¢æ•°æ®ï¼‰" class="headerlink" title="5.æŸ¥ï¼ˆæŸ¥è¯¢æ•°æ®ï¼‰"></a>5.æŸ¥ï¼ˆæŸ¥è¯¢æ•°æ®ï¼‰</h3><p>filter_by å’Œ filter éƒ½æ˜¯ SQLAlchemy ä¸­ç”¨äºè¿‡æ»¤æŸ¥è¯¢ç»“æœçš„æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä»¬çš„ä½¿ç”¨æ–¹å¼å’ŒåŠŸèƒ½æœ‰ä¸€äº›ä¸åŒã€‚</p><ul><li>filter_by: æ˜¯ä¸€ä¸ªç®€åŒ–çš„è¿‡æ»¤æ–¹æ³•ï¼Œå®ƒæ¥å—å…³é”®å­—å‚æ•°ï¼Œæ¯ä¸ªå…³é”®å­—å‚æ•°è¡¨ç¤ºä¸€ä¸ªç­‰äºæ¡ä»¶ã€‚</li><li>filter: æ˜¯ä¸€ä¸ªæ›´é€šç”¨çš„è¿‡æ»¤æ–¹æ³•ï¼Œå®ƒæ¥å—ä»»ä½•æ¡ä»¶è¡¨è¾¾å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ç”¨çš„èŒƒå›´æ›´å¹¿ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># filter_by</span></span><br><span class="line"><span class="comment"># æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œä¸€ä¸ªæ¡ä»¶</span></span><br><span class="line">user = User.query.filter_by(phone=phone).first()</span><br><span class="line"><span class="comment"># æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œå¤šä¸ªæ¡ä»¶</span></span><br><span class="line">user = User.query.filter_by(phone=phone, password=password).first()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢å¤šæ¡è®°å½•</span></span><br><span class="line">users = User.query.filter_by(name=name).<span class="built_in">all</span>()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> and_</span><br><span class="line"><span class="comment"># filter</span></span><br><span class="line"><span class="comment"># æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œä¸€ä¸ªæ¡ä»¶</span></span><br><span class="line">user = User.query.<span class="built_in">filter</span>(User.name==<span class="string">&#x27;å¼ ä¸‰&#x27;</span>).first()</span><br><span class="line"><span class="comment"># æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œå¤šä¸ªæ¡ä»¶</span></span><br><span class="line">user = User.query.<span class="built_in">filter</span>(and_(User.phone==phone, User.password==password)).first()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢å¤šæ¡è®°å½•</span></span><br><span class="line">users = User.query.<span class="built_in">filter</span>(User.name == name).<span class="built_in">all</span>()</span><br><span class="line"><span class="comment"># æŸ¥è¯¢æ‰€æœ‰å¼ å¼€å¤´çš„ç”¨æˆ·</span></span><br><span class="line">users = User.query.<span class="built_in">filter</span>(User.name.like(<span class="string">&#x27;å¼ %&#x27;</span>)).<span class="built_in">all</span>()</span><br><span class="line"><span class="comment"># æŸ¥è¯¢phonesåˆ—è¡¨ä¸­çš„æ‰€æœ‰ç”¨æˆ·</span></span><br><span class="line">phones = [<span class="string">&#x27;12345678801&#x27;</span>, <span class="string">&#x27;12345678802&#x27;</span>, <span class="string">&#x27;12345678803&#x27;</span>]</span><br><span class="line">users = User.query.<span class="built_in">filter</span>(User.phone.in_(phones)).<span class="built_in">all</span>()</span><br></pre></td></tr></table></figure><p>PS.ç”¨ User.query.filter_by å’Œç”¨ db.session.query(User).filter_by åŠŸèƒ½ä¸Šæ˜¯ä¸€æ ·çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
            <tag> SQLAlchemy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Flaskä¸‹è½½æ–‡ä»¶é“¾æ¥æœ‰ä¸­æ–‡æ—¶ç¼–ç é—®é¢˜</title>
      <link href="/2023/12/18/Python-Flask%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E9%93%BE%E6%8E%A5%E6%9C%89%E4%B8%AD%E6%96%87%E6%97%B6%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/"/>
      <url>/2023/12/18/Python-Flask%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E9%93%BE%E6%8E%A5%E6%9C%89%E4%B8%AD%E6%96%87%E6%97%B6%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>å†™äº†ä¸ªå°ç½‘é¡µï¼Œå®ç°çš„åŠŸèƒ½æ˜¯ï¼š</p><ul><li>1.åœ¨å‰ç«¯ç½‘é¡µé€‰æ‹©é¡¹ä¸­é€‰æ‹©æŒ‡å®šå†…å®¹ï¼›</li><li>2.ä¼ é€ç»™åç«¯æœåŠ¡å™¨ï¼ŒæŸ¥è¯¢æ•°æ®åº“æ‰¾å‡ºç›¸åº”çš„å†…å®¹ï¼›</li><li>3.å¹¶æŠŠè¿™äº›å†…å®¹å­˜æ”¾Excelè¡¨æ ¼åï¼ŒæŠŠä¸‹è½½é“¾æ¥æä¾›å›å‰ç«¯é¡µé¢ä¸Šæ˜¾ç¤ºã€‚</li></ul><p>ç„¶åä¸‹è½½æ•°æ®æ–‡ä»¶ã€‚</p><a id="more"></a><p>åœ¨Windowsç³»ç»Ÿä¸­æµ‹è¯•çš„æ—¶å€™æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p><p>ç„¶åæŠŠé¡¹ç›®éƒ¨ç½²åˆ°Dockerï¼ˆLinuxï¼‰ï¼Œç„¶åå‘ç°Linuxç³»ç»Ÿä¸­ä¸è¡Œäº†ï¼Œå› ä¸ºExcelæ•°æ®æ–‡ä»¶åä¹Ÿæ˜¯ä¸­æ–‡ï¼Œç„¶åå°±æœ‰äº†ç¼–ç é—®é¢˜ã€‚</p><p>æœäº†ä¸‹åï¼Œå‘ç°ç”¨ <code> urllib.parse</code>åº“çš„ quoteï¼ˆç¼–ç ï¼‰, unquoteï¼ˆè§£ç ï¼‰æ¥è§£å†³ã€‚</p><p>å…¶é—´è¿˜ç¢°åˆ°ä¸€ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">åœ¨Windowsç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶è·¯å¾„ä½¿ç”¨åæ–œæ ï¼ˆ\ï¼‰ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦ã€‚</span><br><span class="line">è€Œåœ¨Linuxç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶è·¯å¾„ä½¿ç”¨æ­£æ–œæ ï¼ˆ/ï¼‰ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦ã€‚</span><br><span class="line"></span><br><span class="line">å› æ­¤ï¼Œåœ¨Windowsç³»ç»Ÿä¸­ï¼Œfilenameçš„å€¼ä¸ºstatic\ex_data\æ•°æ®.xlsxï¼Œè€Œåœ¨Linuxç³»ç»Ÿä¸­ï¼Œfilenameçš„å€¼ä¸ºstatic/ex_data/æ•°æ®.xlsxã€‚</span><br><span class="line"></span><br><span class="line">åœ¨è¿›è¡ŒURLç¼–ç æ—¶ï¼Œæ­£æ–œæ ï¼ˆ/ï¼‰ä¸ä¼šè¢«ç¼–ç ï¼Œè€Œåæ–œæ ï¼ˆ\ï¼‰ä¼šè¢«ç¼–ç ä¸º%5Cã€‚</span><br></pre></td></tr></table></figure><h3 id="è§£å†³æ–¹æ³•æ¡ˆä¾‹"><a href="#è§£å†³æ–¹æ³•æ¡ˆä¾‹" class="headerlink" title="è§£å†³æ–¹æ³•æ¡ˆä¾‹"></a>è§£å†³æ–¹æ³•æ¡ˆä¾‹</h3><p><strong>ç¼–ç å‰çš„å…³é”®ä»£ç ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/download&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span>():</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        ...</span><br><span class="line">        <span class="comment"># å°†æŸ¥è¯¢ç»“æœæ•°æ®å†™å…¥ Excel è¡¨æ ¼</span></span><br><span class="line">        filename = write_to_excel(data, ex_filename)</span><br><span class="line">        <span class="comment"># ç”Ÿæˆä¸‹è½½é“¾æ¥</span></span><br><span class="line">        download_url = url_for(<span class="string">&#x27;download_file&#x27;</span>, filename=filename)</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/download_file/&lt;path:filename&gt;&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_file</span>(<span class="params">filename</span>):</span></span><br><span class="line">    <span class="keyword">return</span> send_file(filename, as_attachment=<span class="literal">True</span>)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ•°æ®å†™å…¥ Excel è¡¨æ ¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_excel</span>(<span class="params">data, ex_filename</span>):</span></span><br><span class="line">    df = pd.DataFrame(data)</span><br><span class="line">    ex_path = os.path.join(<span class="string">&#x27;static&#x27;</span>, <span class="string">&#x27;ex_data&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(ex_path):</span><br><span class="line">        os.makedirs(ex_path)</span><br><span class="line">    file_path = os.path.join(ex_path, <span class="string">f&#x27;<span class="subst">&#123;ex_filename&#125;</span>.xlsx&#x27;</span>)</span><br><span class="line">    df.to_excel(file_path, index=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">return</span> file_path</span><br></pre></td></tr></table></figure><p><strong>ç¼–ç åçš„å…³é”®ä»£ç ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote, unquote</span><br><span class="line">...</span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/download&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span>():</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        ...</span><br><span class="line">        <span class="comment"># å°†æŸ¥è¯¢ç»“æœæ•°æ®å†™å…¥ Excel è¡¨æ ¼</span></span><br><span class="line">        filename = write_to_excel(data, ex_filename)</span><br><span class="line">        <span class="comment"># ç”Ÿæˆä¸‹è½½é“¾æ¥ï¼Œä½¿ç”¨ç¼–ç çš„æ–‡ä»¶å</span></span><br><span class="line">        encoded_filename = urllib.parse.quote(filename)</span><br><span class="line">        download_url = url_for(<span class="string">&#x27;download_file&#x27;</span>, filename=encoded_filename)</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/download_file/&lt;path:filename&gt;&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_file</span>(<span class="params">filename</span>):</span></span><br><span class="line">    <span class="comment"># è§£ç </span></span><br><span class="line">    decoded_filename = urllib.parse.unquote(filename)</span><br><span class="line">    <span class="keyword">return</span> send_file(decoded_filename, as_attachment=<span class="literal">True</span>)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ•°æ®å†™å…¥ Excel è¡¨æ ¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_excel</span>(<span class="params">data, ex_filename</span>):</span></span><br><span class="line">    df = pd.DataFrame(data)</span><br><span class="line">    ex_path = os.path.join(<span class="string">&#x27;static&#x27;</span>, <span class="string">&#x27;ex_data&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(ex_path):</span><br><span class="line">        os.makedirs(ex_path)</span><br><span class="line">    file_path = os.path.join(ex_path, <span class="string">f&#x27;<span class="subst">&#123;ex_filename&#125;</span>.xlsx&#x27;</span>)</span><br><span class="line">    df.to_excel(file_path, index=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">return</span> file_path</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoä½¿ç”¨Valineè¯„è®ºæ— æ³•æ˜¾ç¤ºé—®é¢˜</title>
      <link href="/2023/12/12/Hexo%E4%BD%BF%E7%94%A8Valine%E8%AF%84%E8%AE%BA%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/"/>
      <url>/2023/12/12/Hexo%E4%BD%BF%E7%94%A8Valine%E8%AF%84%E8%AE%BA%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>ç”¨çš„ Keepä¸»é¢˜ï¼Œä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­å…³äºè¿™ä¸ªValine è¯„è®ºçš„é…ç½®å°±ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Valine</span></span><br><span class="line"><span class="comment"># See: https://github.com/xCss/Valine</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">appid:</span> <span class="string">U************************sz</span></span><br><span class="line">  <span class="attr">appkey:</span> <span class="string">y************************m7</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">è¯·åœ¨æ­¤è¾“å…¥æ‚¨çš„ç•™è¨€</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><a id="more"></a><p>ç„¶åä¹‹å‰ä¹ŸæŒ‚è¿‡ï¼Œæ‰€ä»¥æ‰¾äº†ä½ç½®ï¼Œåœ¨ä¸»é¢˜ç›®å½•ä¸‹çš„ <code>layout\_partial\comment</code> ç›®å½•ä¸‹æœ‰æ–‡ä»¶ valine.ejs æ˜¯å®ç°è¿™ä¸ªè¯„è®ºæ¨¡å—çš„ã€‚</p><p>ç›¸å…³å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;valine-container&quot;&gt;</span><br><span class="line">        &lt;script &lt;%&#x3D; theme.pjax.enable &#x3D;&#x3D;&#x3D; true ? &#39;data-pjax&#39; : &#39;&#39; %&gt;</span><br><span class="line">                src&#x3D;&quot;&#x2F;&#x2F;unpkg.com&#x2F;valine@latest&#x2F;dist&#x2F;Valine.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">        &lt;div id&#x3D;&quot;vcomments&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>ä¸»è¦å°±æ˜¯ <code>src=&quot;//unpkg.com/valine@latest/dist/Valine.min.js&quot;</code>è¿™é‡Œå¼•ç”¨çš„è¿™ä¸ªæ–‡ä»¶çš„é“¾æ¥è®¿é—®ä¸äº†äº†ï¼Œè®¿é—®åœ°å€æ˜¯ï¼š<a class="link"   href="https://unpkg.com/valine@latest/dist/Valine.min.js" >https://unpkg.com/valine@latest/dist/Valine.min.js<i class="fas fa-external-link-alt"></i></a>ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ‰“å¼€ã€‚</p><p>å°±æ˜¯è¢«å¢™äº†ï¼Œæ‰€ä»¥å¯¼è‡´è¯„è®ºæ¨¡å—æ˜¾ç¤ºä¸å‡ºæ¥äº†ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><ul><li>1.ä¿å­˜ä¸€ä¸ª Valine.min.js æ–‡ä»¶ï¼Œæ”¾åˆ°ä¸»é¢˜ç›®å½•ä¸‹çš„ <code>source\js</code>ç›®å½•ä¸­ï¼›</li><li>2.ä¿®æ”¹ valine.ejsæ–‡ä»¶ï¼ŒæŠŠ <code>src=&quot;//unpkg.com/valine@latest/dist/Valine.min.js&quot;</code>è¿™å¥æ”¹æˆä»¥ä¸‹å†…å®¹ï¼Œå¼•ç”¨æœ¬åœ°æ–‡ä»¶å°±è¡Œäº†ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">src&#x3D;&quot;&#x2F;js&#x2F;Valine.min.js&quot;</span><br></pre></td></tr></table></figure>é¡ºæ‰‹æä¾›ä¸€ä¸ªValine.min.js 1.5.1ä¸‹è½½åœ°å€ï¼š</li></ul><p><a class="link"   href="https://gitee.com/hduzn/share_files/blob/master/Valine.min.js" >https://gitee.com/hduzn/share_files/blob/master/Valine.min.js<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLè¯­å¥ä»¥åŠåœ¨Pythonä¸­çš„åº”ç”¨</title>
      <link href="/2023/12/01/SQL%E8%AF%AD%E5%8F%A5%E4%BB%A5%E5%8F%8A%E5%9C%A8Python%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/"/>
      <url>/2023/12/01/SQL%E8%AF%AD%E5%8F%A5%E4%BB%A5%E5%8F%8A%E5%9C%A8Python%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡è®°å½•ä¸€äº›è‡ªå·±ä½¿ç”¨è¿‡çš„SQLè¯­å¥ï¼Œä»¥åŠåœ¨Pythonä¸­çš„åº”ç”¨ã€‚</p><a id="more"></a><h2 id="SQLè¯­å¥"><a href="#SQLè¯­å¥" class="headerlink" title="SQLè¯­å¥"></a>SQLè¯­å¥</h2><h3 id="ä¸€ã€å­¦ç”Ÿå¾—åˆ†æ•°æ®è¡¨"><a href="#ä¸€ã€å­¦ç”Ÿå¾—åˆ†æ•°æ®è¡¨" class="headerlink" title="ä¸€ã€å­¦ç”Ÿå¾—åˆ†æ•°æ®è¡¨"></a>ä¸€ã€å­¦ç”Ÿå¾—åˆ†æ•°æ®è¡¨</h3><p>å­—æ®µæ•°æ®ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><table><thead><tr><th>id</th><th>name</th><th>class_no</th><th>stu_id</th><th>lesson</th><th>score</th></tr></thead><tbody><tr><td>1</td><td>å¼ ä¸‰</td><td>501</td><td>1</td><td>lesson1</td><td>10</td></tr><tr><td>2</td><td>å¼ ä¸‰</td><td>501</td><td>1</td><td>lesson2</td><td>9</td></tr></tbody></table><p>è¡¨è®¾è®¡å¦‚ä¸‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> &quot;stu_data&quot; (</span><br><span class="line">  &quot;id&quot; <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY AUTOINCREMENT,</span><br><span class="line">  &quot;name&quot; TEXT <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  &quot;class_no&quot; <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  &quot;stu_id&quot; <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  &quot;lesson&quot; TEXT,</span><br><span class="line">  &quot;score&quot; <span class="type">INTEGER</span>,</span><br><span class="line">  <span class="keyword">UNIQUE</span> (&quot;id&quot; <span class="keyword">ASC</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="1-æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ"><a href="#1-æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ" class="headerlink" title="1.æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ"></a>1.æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ</h3><ul><li>æŒ‰å­¦å· stu_id æ’åºç”¨ <code>ORDER BY t1.stu_id</code>ï¼›</li><li>æŒ‰æ€»åˆ†æ’åºç”¨ <code>ORDER BY total_score DESC</code>ï¼Œ<code>DESC</code>è¡¨ç¤ºé™åºæ’åºï¼›</li><li>ç»Ÿè®¡é0çš„ä¸ªæ•°ç”¨<code>COUNT(CASE WHEN t1.score &gt; 0 THEN 1 ELSE NULL END) AS non_zero_count</code>ã€‚</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ</span></span><br><span class="line"><span class="comment">-- [&#x27;ç­çº§&#x27;, &#x27;å­¦å·&#x27;, &#x27;å§“å&#x27;, &#x27;æ€»åˆ†&#x27;, &#x27;é0åˆ†çš„æ¬¡æ•°&#x27;]</span></span><br><span class="line"><span class="keyword">SELECT</span> t1.class_no, t1.stu_id, t1.name, <span class="built_in">SUM</span>(t1.score) <span class="keyword">AS</span> total_score,</span><br><span class="line"><span class="built_in">COUNT</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> t1.score <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">THEN</span> <span class="number">1</span> <span class="keyword">ELSE</span> <span class="keyword">NULL</span> <span class="keyword">END</span>) <span class="keyword">AS</span> non_zero_count</span><br><span class="line"><span class="keyword">FROM</span> stu_data t1  </span><br><span class="line"><span class="keyword">WHERE</span> t1.class_no <span class="operator">=</span> <span class="number">506</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> t1.name, t1.class_no</span><br><span class="line"><span class="comment">-- ORDER BY t1.stu_id</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> total_score <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure><h3 id="2-æŸ¥è¯¢åŒä¸€ä¸ªlessonæ¯ä¸ªç­çº§class-noçš„å¹³å‡åˆ†"><a href="#2-æŸ¥è¯¢åŒä¸€ä¸ªlessonæ¯ä¸ªç­çº§class-noçš„å¹³å‡åˆ†" class="headerlink" title="2.æŸ¥è¯¢åŒä¸€ä¸ªlessonæ¯ä¸ªç­çº§class_noçš„å¹³å‡åˆ†"></a>2.æŸ¥è¯¢åŒä¸€ä¸ªlessonæ¯ä¸ªç­çº§class_noçš„å¹³å‡åˆ†</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢åŒä¸€ä¸ªé¡¹ç›®lessonæ¯ä¸ªç­çº§class_noçš„å¹³å‡åˆ†</span></span><br><span class="line"><span class="comment">-- [&#x27;é¡¹ç›®&#x27;, &#x27;ç­çº§&#x27;, &#x27;å¹³å‡åˆ†&#x27;, &#x27;å»é™¤0åˆ†åçš„å¹³å‡åˆ†&#x27;, &#x27;é0åˆ†çš„æ¬¡æ•°&#x27;]</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    t1.lesson,</span><br><span class="line">    t1.class_no,</span><br><span class="line">    ROUND(<span class="built_in">AVG</span>(t1.score), <span class="number">2</span>) <span class="keyword">AS</span> avg_score,</span><br><span class="line">    ROUND(<span class="built_in">SUM</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> t1.score <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">THEN</span> t1.score <span class="keyword">ELSE</span> <span class="keyword">NULL</span> <span class="keyword">END</span>) <span class="operator">/</span>  </span><br><span class="line">          <span class="built_in">COUNT</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> t1.score <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">THEN</span> t1.score <span class="keyword">ELSE</span> <span class="keyword">NULL</span> <span class="keyword">END</span>), <span class="number">2</span>) <span class="keyword">AS</span> avg_score_excluding0,</span><br><span class="line">    <span class="built_in">COUNT</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> t1.score <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">THEN</span> t1.score <span class="keyword">ELSE</span> <span class="keyword">NULL</span> <span class="keyword">END</span>) <span class="keyword">AS</span> non_zero_count</span><br><span class="line"><span class="keyword">FROM</span> stu_data t1 </span><br><span class="line"><span class="keyword">WHERE</span> t1.lesson <span class="operator">=</span> <span class="string">&#x27;lesson3&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> t1.lesson, t1.class_no</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> avg_score <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure><h3 id="3-æŸ¥è¯¢æ‰€æœ‰é¡¹ç›®lessonæ¯ä¸ªç­çº§class-noçš„å¹³å‡åˆ†"><a href="#3-æŸ¥è¯¢æ‰€æœ‰é¡¹ç›®lessonæ¯ä¸ªç­çº§class-noçš„å¹³å‡åˆ†" class="headerlink" title="3.æŸ¥è¯¢æ‰€æœ‰é¡¹ç›®lessonæ¯ä¸ªç­çº§class_noçš„å¹³å‡åˆ†"></a>3.æŸ¥è¯¢æ‰€æœ‰é¡¹ç›®lessonæ¯ä¸ªç­çº§class_noçš„å¹³å‡åˆ†</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢æ‰€æœ‰é¡¹ç›®lessonæ¯ä¸ªç­çº§class_noçš„å¹³å‡åˆ†</span></span><br><span class="line"><span class="keyword">SELECT</span>  </span><br><span class="line">    t1.lesson, t1.class_no,</span><br><span class="line">    ROUND(<span class="built_in">AVG</span>(t1.score), <span class="number">2</span>) <span class="keyword">AS</span> avg_score</span><br><span class="line"><span class="keyword">FROM</span> stu_data t1</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> t1.lesson, t1.class_no</span><br></pre></td></tr></table></figure><h2 id="åœ¨Pythonä¸­çš„åº”ç”¨"><a href="#åœ¨Pythonä¸­çš„åº”ç”¨" class="headerlink" title="åœ¨Pythonä¸­çš„åº”ç”¨"></a>åœ¨Pythonä¸­çš„åº”ç”¨</h2><h3 id="1-æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ-1"><a href="#1-æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ-1" class="headerlink" title="1.æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ"></a>1.æŸ¥è¯¢åŒä¸€ä¸ªç­çº§æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰lessonçš„scoreæ€»å’Œ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sqlite3</span><br><span class="line">db_file = <span class="string">&#x27;test.db&#x27;</span></span><br><span class="line">conn = sqlite3.connect(db_file)</span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line">class_no = <span class="number">501</span></span><br><span class="line">query_sql = <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        SELECT t1.name, t1.class_no, t1.stu_id, SUM(t1.score) AS total_score,</span></span><br><span class="line"><span class="string">        COUNT(CASE WHEN t1.score &gt; 0 THEN 1 ELSE NULL END) AS non_zero_count</span></span><br><span class="line"><span class="string">        FROM stu_data t1</span></span><br><span class="line"><span class="string">        WHERE t1.class_no = <span class="subst">&#123;class_no&#125;</span>  </span></span><br><span class="line"><span class="string">        GROUP BY t1.name, t1.class_no</span></span><br><span class="line"><span class="string">        ORDER BY total_score DESC</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">cursor.execute(query_sql)</span><br><span class="line">query_results = cursor.fetchall()</span><br><span class="line"><span class="built_in">print</span>(query_results)</span><br><span class="line">cursor.close()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå¤„ç†Excelè¡¨æ ¼ä¹‹åˆ—è½¬è¡Œ</title>
      <link href="/2023/11/11/Python%E5%A4%84%E7%90%86Excel%E8%A1%A8%E6%A0%BC-%E5%88%97%E8%BD%AC%E8%A1%8C/"/>
      <url>/2023/11/11/Python%E5%A4%84%E7%90%86Excel%E8%A1%A8%E6%A0%BC-%E5%88%97%E8%BD%AC%E8%A1%8C/</url>
      
        <content type="html"><![CDATA[<p>ç”¨ Pythonå¤„ç†Excelä¸­çš„æ•°æ®ï¼ŒæŠŠä»¥ä¸‹å›¾ç‰‡ä¸­çš„å›¾ä¸€è½¬åˆ°ä¸‹é¢å›¾äºŒçš„å½¢å¼ï¼š</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_Excel_liezhuanhang.png"                      style="zoom: 50%;"                ><p>å°±æ˜¯ä¸€ä¸ªåˆ—è½¬åˆ°è¡Œã€‚</p><p>è§£å†³æ€è·¯ï¼š</p><ul><li>1.ç”¨Pandasåº“è¯»å–è¡¨æ ¼ä¸­çš„æ•°æ®ï¼›</li><li>2.æŠŠè¯»å–å‡ºæ¥çš„æ•°æ®å¤„ç†ä¸‹ï¼Œå½¢æˆåˆ—è½¬åˆ°è¡Œï¼›</li><li>3.å†æŠŠæ•°æ®å†™å…¥ä¸€ä¸ªæ–°çš„Excelè¡¨æ ¼ã€‚</li></ul><a id="more"></a><p>Pythonä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–Excelæ•°æ®è½¬åˆ°List</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_ex</span>(<span class="params">ex_file</span>):</span></span><br><span class="line">    df = pd.read_excel(ex_file, sheet_name=<span class="string">&#x27;Sheet1&#x27;</span>, keep_default_na=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    data_list = np.array(df).tolist()</span><br><span class="line">    <span class="keyword">return</span> data_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_data</span>(<span class="params">data_list</span>):</span></span><br><span class="line">    new_data_list = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> sublist <span class="keyword">in</span> data_list:</span><br><span class="line">        company = sublist[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(sublist)):</span><br><span class="line">            <span class="keyword">if</span> sublist[i] != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">                new_data_list.append([company, sublist[i]])</span><br><span class="line">    <span class="keyword">return</span> new_data_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™å…¥Excel</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_ex</span>(<span class="params">ex_file, data_list</span>):</span></span><br><span class="line">    <span class="comment"># åˆ é™¤å·²å­˜åœ¨çš„ex_fileæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(ex_file):</span><br><span class="line">        os.remove(ex_file)</span><br><span class="line">    df = pd.DataFrame(data_list)</span><br><span class="line">    df.to_excel(ex_file, index=<span class="literal">False</span>, header=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.è¯»å–Excel</span></span><br><span class="line">ex_file = <span class="string">r&#x27;.\test1.xlsx&#x27;</span></span><br><span class="line">data_list = read_ex(ex_file)</span><br><span class="line"><span class="comment"># print(data_list)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.å¤„ç†æ•°æ®</span></span><br><span class="line">new_data_list = process_data(data_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å†™å…¥Excel</span></span><br><span class="line">write_to_ex(<span class="string">r&#x27;.\new_data.xlsx&#x27;</span>, new_data_list)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">10</span>, <span class="string">&#x27;fine!&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win11å®‰è£…Hyper-Vè„šæœ¬</title>
      <link href="/2023/11/09/Win11%E5%AE%89%E8%A3%85Hyper-V%E8%84%9A%E6%9C%AC/"/>
      <url>/2023/11/09/Win11%E5%AE%89%E8%A3%85Hyper-V%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p>ç¬”è®°æœ¬è£…çš„æ˜¯win11å®¶åº­ç‰ˆï¼Œæ²¡æœ‰è£…Hyper-Vã€‚å› ä¸ºæƒ³è£…Docker Desktopï¼Œå¶å°”æµ‹è¯•ç”¨ï¼Œæ‰€ä»¥å°±æŠŠ Hyper-Vè£…èµ·æ¥è¯•ä¸€ä¸‹ã€‚</p><a id="more"></a><h2 id="æ­¥éª¤ï¼š"><a href="#æ­¥éª¤ï¼š" class="headerlink" title="æ­¥éª¤ï¼š"></a>æ­¥éª¤ï¼š</h2><h3 id="1-åˆ›å»ºbatæ–‡ä»¶"><a href="#1-åˆ›å»ºbatæ–‡ä»¶" class="headerlink" title="1.åˆ›å»ºbatæ–‡ä»¶"></a>1.åˆ›å»ºbatæ–‡ä»¶</h3><p>æ‰“å¼€ã€è®°äº‹æœ¬ã€‘è½¯ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pushd &quot;%~dp0&quot;</span><br><span class="line">dir &#x2F;b %SystemRoot%\servicing\Packages\*Hyper-V*.mum &gt;hyper-v.txt</span><br><span class="line">for &#x2F;f %%i in (&#39;findstr &#x2F;i . hyper-v.txt 2^&gt;nul&#39;) do dism &#x2F;online &#x2F;norestart &#x2F;add-package:&quot;%SystemRoot%\servicing\Packages\%%i&quot;</span><br><span class="line">del hyper-v.txt</span><br><span class="line">Dism &#x2F;online &#x2F;enable-feature &#x2F;featurename:Microsoft-Hyper-V-All &#x2F;LimitAccess &#x2F;ALL</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæ–‡ä»¶ä¿å­˜æˆâ€è‡ªå®šä¹‰åå­—.batâ€ï¼Œåæ­£æ˜¯ .batçš„æ–‡ä»¶å°±è¡Œã€‚</p><h3 id="2-è¿è¡Œ"><a href="#2-è¿è¡Œ" class="headerlink" title="2.è¿è¡Œ"></a>2.è¿è¡Œ</h3><p>å³é”®ï¼Œ<mark>ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</mark>ã€‚</p><p>ç­‰è¿è¡Œå®Œæˆï¼Œé‡å¯ç”µè„‘åå°±å®‰è£…å¥½äº†ã€‚</p><h3 id="3-æŸ¥çœ‹"><a href="#3-æŸ¥çœ‹" class="headerlink" title="3.æŸ¥çœ‹"></a>3.æŸ¥çœ‹</h3><p>æ‰“å¼€ã€å¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½ã€‘ï¼Œçœ‹åˆ° Hyper-Vå·²ç»æœ‰äº†ï¼Œå¹¶æ‰“ä¸Šäº†å‹¾ï¼›é€‚ç”¨äº Linuxçš„Windowså­ç³»ç»Ÿä¹Ÿæœ‰äº†ã€‚</p><p>è£…å®Œè¿™ä¸ªï¼Œå†è¿è¡Œ Docker Desktopå®‰è£…åŒ…ï¼Œå°±å®‰è£…æˆåŠŸäº†ã€‚</p><p>ä¹‹å‰å¥½åƒæœ‰è¯•è¿‡ï¼Œå®‰è£…å¤±è´¥äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python3.8å®‰è£…turleåº“æŠ¥é”™</title>
      <link href="/2023/10/12/Python3-8%E5%AE%89%E8%A3%85turle%E5%BA%93%E6%8A%A5%E9%94%99/"/>
      <url>/2023/10/12/Python3-8%E5%AE%89%E8%A3%85turle%E5%BA%93%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸ªåº”è¯¥æ˜¯Pythonä½ç‰ˆæœ¬éƒ½ä¼šç¢°åˆ°çš„é”™è¯¯ï¼Œæˆ‘ç”¨çš„Python3.8.6å°±æŠ¥é”™äº†ï¼Œæ¯”è¿™ä¸ªä½çš„ç‰ˆæœ¬å¯èƒ½éƒ½ä¼šæœ‰è¿™ä¸ªé”™è¯¯ã€‚</p><p>æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œ pip install turtle</span></span><br><span class="line">Collecting turtle</span><br><span class="line">Downloading<span class="string">&#x27; turtle-0.0.2. tar. gz (11,kB) Preparing metadata (setup.py)</span></span><br><span class="line"><span class="string">error. error: subprocess-exited-with-error.</span></span><br><span class="line"><span class="string">X python setup.py egg info did not run successfully. exit code:1</span></span><br><span class="line"><span class="string">&#x27;</span>[7 lines<span class="string">&#x27;of output]</span></span><br><span class="line"><span class="string">Traceback (most recent call last): File â€œ&lt;string&gt;&quot;, line.36,| in &lt;module&gt;</span></span><br><span class="line"><span class="string">File â€œ&lt;pip=setuptools-caller&gt;&quot;, line 34, in&#x27;</span>&lt;module&gt;</span><br><span class="line">File <span class="string">&quot;C:\Users\wq\AppData\Local\Temp\pip-install&#x27;-vq_spolw\turtle_0870ca33270d4fe9b738a5def2756154\setup.py&quot;</span>,line:40</span><br><span class="line">except ValueError<span class="string">&quot;,ve: SyntaxError: invalid syntax [end of output]</span></span><br><span class="line"><span class="string">U 20</span></span><br><span class="line"><span class="string">note: This error originates from a subprocess, and is liÄ·ely not a problem with pip. </span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><h3 id="1-ä¿®æ”¹-setup-py-æ–‡ä»¶å†…å®¹"><a href="#1-ä¿®æ”¹-setup-py-æ–‡ä»¶å†…å®¹" class="headerlink" title="1.ä¿®æ”¹ setup.py æ–‡ä»¶å†…å®¹"></a>1.ä¿®æ”¹ setup.py æ–‡ä»¶å†…å®¹</h3><p>ä¸‹è½½turtle-0.0.2.tar.gz ï¼š<br><a class="link"   href="https://link.zhihu.com/?target=https://files.pythonhosted.org/packages/ff/f0/21a42e9e424d24bdd0e509d5ed3c7dfb8f47d962d9c044dba903b0b4a26f/turtle-0.0.2.tar.gz" >https://link.zhihu.com/?target=https%3A//files.pythonhosted.org/packages/ff/f0/21a42e9e424d24bdd0e509d5ed3c7dfb8f47d962d9c044dba903b0b4a26f/turtle-0.0.2.tar.gz<i class="fas fa-external-link-alt"></i></a></p><p>è§£å‹åï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ turtle è¿™ä¸ªåº“ä¸­ setup.py æ–‡ä»¶ä¸­ line 40è¡Œçš„ä»£ç çš„é—®é¢˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> ValueError, ve:</span><br></pre></td></tr></table></figure><p>å®Œæ•´ä¸€ç‚¹çš„ä»£ç æ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pluginModules</span> (<span class="params">moduleNames</span>):</span></span><br><span class="line">    <span class="keyword">from</span> twisted.python.reflect <span class="keyword">import</span> namedAny </span><br><span class="line">    <span class="keyword">for</span> moduleName <span class="keyword">in</span> moduleNames:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">yield</span> namedAny(moduleName)</span><br><span class="line">        <span class="keyword">except</span> ImportError:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">except</span> ValueError, ve: <span class="comment"># line 40</span></span><br><span class="line">            <span class="keyword">if</span> ve.drgs[<span class="number">0</span>] != <span class="string">&#x27;Empty module name&#x27;</span>:</span><br><span class="line">                traceback.print_exc()</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            traceback.print_exc()</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°excep åé¢å¹¶æ²¡æœ‰ç”¨æ‹¬å·ï¼Œæ‰€ä»¥è§£å†³æ–¹æ³•å°±æ˜¯ï¼š</p><p>æŠŠ turtuleåº“çš„åŒ…ç›´æ¥ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åä¿®æ”¹ setup.pyä¸­40è¡Œçš„ä»£ç ï¼Œæ”¹ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> (ValueError, ve):</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œåï¼Œä¿å­˜ä¸‹æ–‡ä»¶å°±è¡Œäº†ã€‚</p><h3 id="2-å®‰è£…-turtle"><a href="#2-å®‰è£…-turtle" class="headerlink" title="2.å®‰è£… turtle"></a>2.å®‰è£… turtle</h3><p>å›åˆ° è§£å‹å‡ºæ¥çš„ turtleç›®å½•ä¸Šå±‚ï¼Œ é€‰æ‹©æ‰“å¼€powershell æˆ–è€… å‘½ä»¤æç¤ºç¬¦ã€‚</p><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -e turtle-0.0.2</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œå³å¯ä»¥æ­£å¸¸ç”»é¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼€æºLinuxæœåŠ¡å™¨è¿ç»´ç®¡ç†é¢æ¿1Panel</title>
      <link href="/2023/09/23/%E5%BC%80%E6%BA%90Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E9%9D%A2%E6%9D%BF1Panel/"/>
      <url>/2023/09/23/%E5%BC%80%E6%BA%90Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E9%9D%A2%E6%9D%BF1Panel/</url>
      
        <content type="html"><![CDATA[<p>1Panel æ˜¯ä¸€ä¸ªå¼€æºçš„ Linux æœåŠ¡å™¨è¿ç»´ç®¡ç†é¢æ¿ã€‚</p><p>å®‰è£…å¾ˆæ–¹ä¾¿ï¼Œè¿è¡Œä¸€æ¡å‘½ä»¤å°±å®‰è£…å¥½äº†ã€‚</p><p>åŸæ¥ä¸€ç›´æ²¡ç”¨é¢æ¿ï¼Œä¸»è¦å°±æ˜¯éƒ½ç”¨çš„Dockerï¼Œæ‰€ä»¥ä¹Ÿä¸ç”¨çœ‹ä»€ä¹ˆï¼ŒåŸºæœ¬ä¸Šå‘½ä»¤å°±å¤Ÿç”¨äº†ã€‚</p><p>ä¸è¿‡éšç€Dockerä¸­çš„å®¹å™¨è¶Šæ¥è¶Šå¤šï¼Œå…ˆæ˜¯è£…äº†ä¸ª LazyDocker æ¥çœ‹ã€‚çªç„¶çœ‹åˆ°è¿™ä¸ªå¼€æºçš„ç®¡ç†é¢æ¿å·¥å…·ï¼Œå°±è¯•äº†ä¸‹ã€‚æ„Ÿè§‰è¿˜ä¸é”™ã€‚</p><a id="more"></a><h2 id="åœ¨çº¿å®‰è£…1Panel"><a href="#åœ¨çº¿å®‰è£…1Panel" class="headerlink" title="åœ¨çº¿å®‰è£…1Panel"></a>åœ¨çº¿å®‰è£…1Panel</h2><p>** Ubuntuï¼š**</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh &amp;&amp; sudo bash quick_start.sh</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Debian</span></span><br><span class="line">curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh &amp;&amp; bash quick_start.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># RedHat/CentOS</span></span><br><span class="line">curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh &amp;&amp; sh quick_start.sh</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸåï¼Œæ§åˆ¶å°ä¼šæ‰“å°é¢æ¿è®¿é—®ä¿¡æ¯ï¼Œå¯é€šè¿‡æµè§ˆå™¨è®¿é—® 1Panelï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;æœåŠ¡å™¨IPåœ°å€:ç›®æ ‡ç«¯å£&#x2F;å®‰å…¨å…¥å£</span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨çš„æ˜¯äº‘æœåŠ¡å™¨ï¼Œè¯·è‡³å®‰å…¨ç»„å¼€æ”¾ç›®æ ‡ç«¯å£ã€‚</p><h2 id="å¿˜è®°1Panelç™»å½•çš„è´¦å·å¯†ç "><a href="#å¿˜è®°1Panelç™»å½•çš„è´¦å·å¯†ç " class="headerlink" title="å¿˜è®°1Panelç™»å½•çš„è´¦å·å¯†ç "></a>å¿˜è®°1Panelç™»å½•çš„è´¦å·å¯†ç </h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–rootæƒé™</span></span><br><span class="line">sudo -i</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢è´¦å·å¯†ç ç­‰</span></span><br><span class="line">1pctl user-info</span><br></pre></td></tr></table></figure><p>è¿”å›çš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">username: abcdefg</span><br><span class="line">password: abcdefg123</span><br><span class="line">port: 8080</span><br><span class="line">ssl: disable</span><br><span class="line">entrance: 123450a6b8</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™é‡Œçš„entranceçš„å€¼å°±æ˜¯è®¿é—®é“¾æ¥ä¸­çš„<mark>å®‰å…¨å…¥å£</mark>ã€‚</p><p>ç”¨ <code>1pctl --help</code> å¯ä»¥æ§åˆ¶è¿™ä¸ªå·¥å…·çš„å…¶å®ƒå‘½ä»¤ã€‚</p><h2 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a>å®˜æ–¹æ–‡æ¡£</h2><p><strong>äº§å“ä¼˜åŠ¿</strong></p><ul><li>å¿«é€Ÿå»ºç«™ï¼šæ·±åº¦é›†æˆ Wordpress å’Œ Haloï¼ŒåŸŸåç»‘å®šã€SSL è¯ä¹¦é…ç½®ç­‰ä¸€é”®æå®šï¼›</li><li>é«˜æ•ˆç®¡ç†ï¼šé€šè¿‡ Web ç«¯è½»æ¾ç®¡ç† Linux æœåŠ¡å™¨ï¼ŒåŒ…æ‹¬åº”ç”¨ç®¡ç†ã€ä¸»æœºç›‘æ§ã€æ–‡ä»¶ç®¡ç†ã€æ•°æ®åº“ç®¡ç†ã€å®¹å™¨ç®¡ç†ç­‰ï¼›</li><li>å®‰å…¨å¯é ï¼šæœ€å°æ¼æ´æš´éœ²é¢ï¼Œæä¾›é˜²ç«å¢™å’Œå®‰å…¨å®¡è®¡ç­‰åŠŸèƒ½ï¼›</li><li>ä¸€é”®å¤‡ä»½ï¼šæ”¯æŒä¸€é”®å¤‡ä»½å’Œæ¢å¤ï¼Œå¤‡ä»½æ•°æ®äº‘ç«¯å­˜å‚¨ï¼Œæ°¸ä¸ä¸¢å¤±ã€‚</li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://1panel.cn/docs/" >https://1panel.cn/docs/<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä¸­å…³äºå°æ•°å››èˆäº”å…¥çš„æ–¹æ³•</title>
      <link href="/2023/09/23/Python%E4%B8%AD%E5%85%B3%E4%BA%8E%E5%B0%8F%E6%95%B0%E5%9B%9B%E8%88%8D%E4%BA%94%E5%85%A5%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2023/09/23/Python%E4%B8%AD%E5%85%B3%E4%BA%8E%E5%B0%8F%E6%95%B0%E5%9B%9B%E8%88%8D%E4%BA%94%E5%85%A5%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Pythonä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¯¹å°æ•°è¿›è¡Œå››èˆäº”å…¥æ“ä½œã€‚å››èˆäº”å…¥æ˜¯ä¸€ç§å¸¸è§çš„æ•°å€¼å¤„ç†æ–¹å¼ï¼Œå¯ä»¥å°†å°æ•°ç²¾ç¡®åˆ°æŒ‡å®šçš„ä½æ•°ã€‚Pythonæä¾›äº†å¤šç§æ–¹æ³•æ¥å®ç°å°æ•°çš„å››èˆäº”å…¥æ“ä½œã€‚</p><a id="more"></a><h2 id="æ–¹æ³•ä¸€ï¼šround-å‡½æ•°"><a href="#æ–¹æ³•ä¸€ï¼šround-å‡½æ•°" class="headerlink" title="æ–¹æ³•ä¸€ï¼šround()å‡½æ•°"></a>æ–¹æ³•ä¸€ï¼šround()å‡½æ•°</h2><p>ä½¿ç”¨å†…ç½®çš„round()å‡½æ•°æ¥è¿›è¡Œå››èˆäº”å…¥ã€‚</p><p><strong>å‡½æ•°ç”¨æ³•ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">round</span>(number, ndigits)</span><br></pre></td></tr></table></figure><ul><li>numberï¼šè¦è¿›è¡Œå››èˆäº”å…¥çš„æ•°å­—ã€‚</li><li>ndigitsï¼šä¿ç•™çš„å°æ•°ä½æ•°ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœndigitsä¸ºæ­£æ•°ï¼Œåˆ™è¡¨ç¤ºä¿ç•™çš„å°æ•°ä½æ•°ï¼›å¦‚æœndigitsä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºè¦å››èˆäº”å…¥åˆ°æ•´æ•°ä½æ•°ã€‚</li></ul><p><strong>ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å››èˆäº”å…¥åˆ°æ•´æ•°ä½æ•°</span></span><br><span class="line">a = <span class="number">3.6</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(a))  <span class="comment"># è¾“å‡ºï¼š4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å››èˆäº”å…¥åˆ°1ä½å°æ•°</span></span><br><span class="line">a = <span class="number">3.14159</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(a, <span class="number">1</span>))  <span class="comment"># è¾“å‡ºï¼š3.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å››èˆäº”å…¥åˆ°2ä½å°æ•°</span></span><br><span class="line">a = <span class="number">3.14159</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(a, <span class="number">2</span>)) <span class="comment"># è¾“å‡ºï¼š3.14</span></span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæµ®ç‚¹æ•°çš„ç²¾åº¦é—®é¢˜ï¼Œround()å‡½æ•°å¯èƒ½æ— æ³•å¾—åˆ°å‡†ç¡®çš„ç»“æœã€‚å¦‚æœéœ€è¦æ›´é«˜ç²¾åº¦çš„å››èˆäº”å…¥ï¼Œå»ºè®®ä½¿ç”¨decimalåº“ä¸­çš„Decimalç±»ã€‚</p><h2 id="æ–¹æ³•äºŒï¼šformat-æ ¼å¼åŒ–æ–¹æ³•"><a href="#æ–¹æ³•äºŒï¼šformat-æ ¼å¼åŒ–æ–¹æ³•" class="headerlink" title="æ–¹æ³•äºŒï¼šformat()æ ¼å¼åŒ–æ–¹æ³•"></a>æ–¹æ³•äºŒï¼šformat()æ ¼å¼åŒ–æ–¹æ³•</h2><p><strong>ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="number">3.14159</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="built_in">format</span>(b)) <span class="comment"># ä¿ç•™2ä½å°æ•°</span></span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹ä¸round() å‡½æ•°ä¸€æ ·ï¼Œç”±äºæµ®ç‚¹æ•°çš„ç²¾åº¦é—®é¢˜ï¼Œå¯èƒ½æ— æ³•å¾—åˆ°å‡†ç¡®çš„ç»“æœã€‚</p><h2 id="æ–¹æ³•ä¸‰ï¼šDecimalç±»"><a href="#æ–¹æ³•ä¸‰ï¼šDecimalç±»" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šDecimalç±»"></a>æ–¹æ³•ä¸‰ï¼šDecimalç±»</h2><p>Decimalç±»æä¾›äº†æ›´é«˜ç²¾åº¦çš„åè¿›åˆ¶è¿ç®—ï¼Œå¯ä»¥é¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ã€‚é€šè¿‡ä½¿ç”¨Decimalç±»çš„quantize()æ–¹æ³•ï¼Œå¯ä»¥æŒ‡å®šè¦ä¿ç•™çš„å°æ•°ä½æ•°ï¼Œå¹¶é€‰æ‹©å››èˆäº”å…¥çš„æ–¹å¼è¿›è¡Œèˆå…¥ã€‚</p><p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨Decimalç±»è¿›è¡Œå››èˆäº”å…¥çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal, ROUND_HALF_UP</span><br><span class="line"></span><br><span class="line">a = Decimal(<span class="string">&#x27;543.012355&#x27;</span>)</span><br><span class="line">rounded_number = a.quantize(Decimal(<span class="string">&#x27;0.00001&#x27;</span>), rounding=ROUND_HALF_UP)</span><br><span class="line"><span class="built_in">print</span>(rounded_number)  <span class="comment"># è¾“å‡ºï¼š543.01236</span></span><br><span class="line"></span><br><span class="line">b = <span class="number">543.012355</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(b, <span class="number">5</span>)) <span class="comment"># è¾“å‡ºï¼š543.01235</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#123;:.5f&#125;&#x27;</span>.<span class="built_in">format</span>(b)) <span class="comment"># è¾“å‡ºï¼š543.01235</span></span><br></pre></td></tr></table></figure><ul><li>a æ˜¯ä¸€ä¸ªDecimalå¯¹è±¡ï¼›</li><li>Decimal(â€˜0.00001â€™)æ˜¯ä¸€ä¸ªDecimalå¯¹è±¡ï¼Œè¡¨ç¤ºè¦ä¿ç•™çš„å°æ•°ä½æ•°ä¸º5ä½ï¼›</li><li>rounding=ROUND_HALF_UPæ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œè¡¨ç¤ºé‡‡ç”¨å››èˆäº”å…¥çš„æ–¹å¼ã€‚</li></ul><p>é€šè¿‡ä½¿ç”¨Decimalç±»ï¼Œå¯ä»¥è·å¾—æ›´å‡†ç¡®çš„å››èˆäº”å…¥ç»“æœï¼Œé¿å…äº†æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ã€‚</p><h3 id="å…¶ä»–èˆå…¥æ–¹å¼çš„å¸¸é‡"><a href="#å…¶ä»–èˆå…¥æ–¹å¼çš„å¸¸é‡" class="headerlink" title="å…¶ä»–èˆå…¥æ–¹å¼çš„å¸¸é‡"></a>å…¶ä»–èˆå…¥æ–¹å¼çš„å¸¸é‡</h3><p>é™¤äº†ROUND_HALF_UPï¼Œdecimalåº“ä¸­è¿˜æä¾›äº†å…¶ä»–èˆå…¥æ–¹å¼çš„å¸¸é‡ï¼Œå¯ä»¥ç”¨ä½œquantize()æ–¹æ³•çš„roundingå‚æ•°ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„èˆå…¥æ–¹å¼å¸¸é‡ï¼š</p><ul><li>ROUND_DOWNï¼šå‘é›¶æ–¹å‘èˆå…¥ã€‚</li><li>ROUND_UPï¼šè¿œç¦»é›¶æ–¹å‘èˆå…¥ã€‚</li><li>ROUND_CEILINGï¼šå‘æ­£æ— ç©·æ–¹å‘èˆå…¥ã€‚</li><li>ROUND_FLOORï¼šå‘è´Ÿæ— ç©·æ–¹å‘èˆå…¥ã€‚</li><li>ROUND_HALF_DOWNï¼šå‘æœ€è¿‘çš„å¶æ•°èˆå…¥ï¼Œå¦‚æœè·ç¦»ä¸¤ä¸ªæœ€è¿‘çš„æ•´æ•°ç›¸ç­‰ï¼Œåˆ™å‘ä¸‹èˆå…¥ã€‚</li><li>ROUND_HALF_EVENï¼šå‘æœ€è¿‘çš„å¶æ•°èˆå…¥ï¼Œå¦‚æœè·ç¦»ä¸¤ä¸ªæœ€è¿‘çš„æ•´æ•°ç›¸ç­‰ï¼Œåˆ™å‘å¶æ•°èˆå…¥ã€‚</li><li>ROUND_HALF_UPï¼šå‘æœ€è¿‘çš„å¶æ•°èˆå…¥ï¼Œå¦‚æœè·ç¦»ä¸¤ä¸ªæœ€è¿‘çš„æ•´æ•°ç›¸ç­‰ï¼Œåˆ™å‘ä¸Šèˆå…¥ã€‚</li></ul><p>è¿™äº›å¸¸é‡å¯ä»¥æ ¹æ®å…·ä½“çš„èˆå…¥éœ€æ±‚è¿›è¡Œé€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦å‘ä¸‹èˆå…¥ï¼Œå¯ä»¥ä½¿ç”¨ROUND_DOWNï¼›å¦‚æœéœ€è¦å‘ä¸Šèˆå…¥ï¼Œå¯ä»¥ä½¿ç”¨ROUND_UPã€‚</p><p><a class="link"   href="https://docs.python.org/3/library/functions.html#round" >pythonå®˜æ–¹æ–‡æ¡£ä¸Šå…³äºround()å‡½æ•°çš„ä»‹ç»<i class="fas fa-external-link-alt"></i></a>ï¼š</p><blockquote><p>round(number, ndigits=None)<br>Return number rounded to ndigits precision after the decimal point. If ndigits is omitted or is None, it returns the nearest integer to its input.</p><p>For the built-in types supporting round(), values are rounded to the closest multiple of 10 to the power minus ndigits; if two multiples are equally close, rounding is done toward the even choice (so, for example, both round(0.5) and round(-0.5) are 0, and round(1.5) is 2). Any integer value is valid for ndigits (positive, zero, or negative). The return value is an integer if ndigits is omitted or None. Otherwise, the return value has the same type as number.</p><p>For a general Python object number, round delegates to number.<strong>round</strong>.</p><p>Noteï¼š The behavior of round() for floats can be surprising: for example, round(2.675, 2) gives 2.67 instead of the expected 2.68. This is not a bug: itâ€™s a result of the fact that most decimal fractions canâ€™t be represented exactly as a float. See Floating Point Arithmetic: Issues and Limitations for more information.</p><p>è¯‘æ–‡ï¼š</p><p>round(number, ndigits=None)<br>è¿”å›å°æ•°ç‚¹åç²¾ç¡®åˆ°ndigitsä½çš„å››èˆäº”å…¥å€¼ã€‚å¦‚æœçœç•¥ndigitsæˆ–ä¸ºNoneï¼Œåˆ™è¿”å›æœ€æ¥è¿‘è¾“å…¥çš„æ•´æ•°ã€‚</p><p>å¯¹äºæ”¯æŒround()çš„å†…ç½®ç±»å‹ï¼Œå€¼ä¼šè¢«å››èˆäº”å…¥åˆ°10çš„è´Ÿndigitsæ¬¡å¹‚çš„æœ€æ¥è¿‘å€æ•°ï¼›å¦‚æœæœ‰ä¸¤ä¸ªå€æ•°è·ç¦»ç›¸ç­‰ï¼Œåˆ™å‘å¶æ•°æ–¹å‘è¿›è¡Œèˆå…¥ï¼ˆä¾‹å¦‚ï¼Œround(0.5)å’Œround(-0.5)éƒ½æ˜¯0ï¼Œè€Œround(1.5)æ˜¯2ï¼‰ã€‚ä»»ä½•æ•´æ•°å€¼éƒ½å¯ä»¥ä½œä¸ºndigitsçš„æœ‰æ•ˆå€¼ï¼ˆæ­£ã€é›¶æˆ–è´Ÿï¼‰ã€‚å¦‚æœçœç•¥æˆ–ä¸ºNoneï¼Œåˆ™è¿”å›å€¼ä¸ºæ•´æ•°ã€‚å¦åˆ™ï¼Œè¿”å›å€¼ä¸numberå…·æœ‰ç›¸åŒç±»å‹ã€‚</p><p>å¯¹äºä¸€èˆ¬Pythonå¯¹è±¡numberï¼Œroundå§”æ‰˜ç»™number.__round__ã€‚</p><p>æ³¨æ„ï¼šå¯¹æµ®ç‚¹æ•°ä½¿ç”¨round()å¯èƒ½ä¼šäº§ç”Ÿä»¤äººæƒŠè®¶çš„ç»“æœï¼šä¾‹å¦‚ï¼Œ round(2.675, 2)å¾—åˆ°2.67è€Œä¸æ˜¯é¢„æœŸä¸­çš„2.68ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªé”™è¯¯ï¼šå®ƒæ˜¯ç”±äºå¤§å¤šæ•°åè¿›åˆ¶åˆ†æ•°æ— æ³•å®Œå…¨è¡¨ç¤ºä¸ºæµ®ç‚¹å‹æ‰€å¯¼è‡´ã€‚è¯·å‚é˜…ã€Šæµ®ç‚¹è¿ç®—é—®é¢˜å’Œé™åˆ¶ã€‹è·å–æ›´å¤šä¿¡æ¯ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonæ‰¾å‡ºä¸€å †æŒ‰é€’å¢çš„æ–‡ä»¶ä¸­ç¼ºå°‘çš„åºå·</title>
      <link href="/2023/08/30/Python%E6%89%BE%E5%87%BA%E4%B8%80%E5%A0%86%E6%8C%89%E9%80%92%E5%A2%9E%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%AD%E7%BC%BA%E5%B0%91%E7%9A%84%E5%BA%8F%E5%8F%B7/"/>
      <url>/2023/08/30/Python%E6%89%BE%E5%87%BA%E4%B8%80%E5%A0%86%E6%8C%89%E9%80%92%E5%A2%9E%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%AD%E7%BC%BA%E5%B0%91%E7%9A%84%E5%BA%8F%E5%8F%B7/</url>
      
        <content type="html"><![CDATA[<p>åŸå› æ˜¯è¿™æ ·çš„ï¼š</p><p>ç”¨æ‰‹æœºæ‹äº†å››äº”ç™¾å¼ ç…§ç‰‡åï¼Œç”¨è‹¹æœæ‰‹æœºè¿æ¥ç”µè„‘ï¼Œæƒ³å¯¼å…¥åˆ°ç”µè„‘é‡Œã€‚</p><p>ç„¶åå‘ç°äº†è¿™ä¸ªé—®é¢˜ï¼šè¿æ¥ç”µè„‘åï¼Œåœ¨ç”µè„‘ä¸Šçœ‹åˆ°äº†åƒUç›˜ç›˜ç¬¦çš„Appleç›˜ç¬¦ï¼Œæ‰“å¼€åå‘ç°ç…§ç‰‡ä¸å…¨ï¼›å¦‚æœåœ¨æ‰‹æœºç›¸å†Œä¸­æ‰“å¼€æŸå¼ æ²¡æœ‰çš„ç…§ç‰‡ï¼Œå†åœ¨ç”µè„‘ä¸­æ‰“å¼€å°±èƒ½çœ‹åˆ°è¿™å¼ ç…§ç‰‡ï¼Œä¸çŸ¥é“ä»€ä¹ˆbugï¼Œæ„Ÿè§‰æ˜¯æ²¡åŠ è½½å…¨çš„ã€‚</p><p>ä¸ºäº†å¿«é€Ÿæ‰¾åˆ°åˆ°åº•ç¼ºäº†å“ªäº›ç…§ç‰‡ï¼Œå› ä¸ºå›¾ç‰‡æ–‡ä»¶åéƒ½æ˜¯æŒ‰åºå·é€’å¢çš„ï¼Œå°±æƒ³ç”¨åˆ°Pythonç›´æ¥æ£€æŸ¥ä¸€ä¸‹å¥½äº†ã€‚æ¯•ç«Ÿå°‘äº†å¥½å‡ åå¼ ï¼Œæ‰‹åŠ¨æ‰¾èµ·æ¥çœŸçš„éº»çƒ¦æ­»äº†ã€‚</p><a id="more"></a><p><strong>åŠŸèƒ½å®ç°ï¼š</strong> æ‰¾å‡º pic ç›®å½•ä¸‹çš„å›¾ç‰‡æ–‡ä»¶ç¼ºå°‘å“ªå‡ ä¸ªåºå·çš„æ–‡ä»¶åã€‚</p><p>å›¾ç‰‡æ˜¯ä»è‹¹æœæ‰‹æœºå¯¼å‡ºçš„ï¼Œæ‰€ä»¥æ–‡ä»¶åä¸­çš„åºå·éƒ½æ˜¯è§„å¾‹çš„ã€é€’å¢çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">@File    :   test.py</span></span><br><span class="line"><span class="string">@Time    :   2023/08/30</span></span><br><span class="line"><span class="string">@Author  :   HDUZN</span></span><br><span class="line"><span class="string">@Version :   1.0</span></span><br><span class="line"><span class="string">@Contact :   hduzn@vip.qq.com</span></span><br><span class="line"><span class="string">@License :   (C)Copyright 2022-2023</span></span><br><span class="line"><span class="string">@Desc    :   æŠŠç›®å½•ä¸­æ‰€æœ‰çš„å›¾ç‰‡æ–‡ä»¶åç”±IMG_7255.JPGå˜æˆ7255åå†™å…¥åˆ°excelè¡¨æ ¼</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># here put the import lib</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç›®å½•ä¸­æ‰€æœ‰çš„å›¾ç‰‡æ–‡ä»¶å</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_file_names</span>(<span class="params">directory</span>):</span></span><br><span class="line">    file_names = []</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(directory):</span><br><span class="line">        file_names.append(filename)</span><br><span class="line">    <span class="keyword">return</span> file_names</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†æ–‡ä»¶åï¼Œç”± IMG_7255.JPG å˜æˆ 7255</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_file_names</span>(<span class="params">file_names</span>):</span></span><br><span class="line">    num_list = []</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> file_names:</span><br><span class="line">        name_without_extension = os.path.splitext(filename)[<span class="number">0</span>] <span class="comment"># å»é™¤åç¼€</span></span><br><span class="line">        num = name_without_extension.split(<span class="string">&#x27;_&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">        num_list.append(<span class="built_in">int</span>(num))</span><br><span class="line">    <span class="keyword">return</span> num_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç¼ºå°‘çš„æ•°å­—</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_missing_numbers</span>(<span class="params">num_list</span>):</span></span><br><span class="line">    min_num = <span class="built_in">min</span>(num_list)</span><br><span class="line">    max_num = <span class="built_in">max</span>(num_list)</span><br><span class="line">    all_nums = <span class="built_in">set</span>(<span class="built_in">range</span>(min_num, max_num+<span class="number">1</span>))</span><br><span class="line">    missing_nums = <span class="built_in">sorted</span>(all_nums - <span class="built_in">set</span>(num_list))</span><br><span class="line">    <span class="keyword">return</span> missing_nums</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™å…¥Excelè¡¨æ ¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_excel</span>(<span class="params">num_list, missing_nums, output_file</span>):</span></span><br><span class="line">    workbook = openpyxl.Workbook()</span><br><span class="line">    sheet = workbook.active</span><br><span class="line">    <span class="keyword">for</span> i, num <span class="keyword">in</span> <span class="built_in">enumerate</span>(num_list):</span><br><span class="line">        sheet.cell(row=i+<span class="number">1</span>, column=<span class="number">1</span>, value=num)</span><br><span class="line">    <span class="keyword">for</span> i, num <span class="keyword">in</span> <span class="built_in">enumerate</span>(missing_nums):</span><br><span class="line">        sheet.cell(row=i+<span class="number">1</span>, column=<span class="number">2</span>, value=num)</span><br><span class="line">    workbook.save(output_file)</span><br><span class="line"></span><br><span class="line">directory = <span class="string">r&#x27;.\pic&#x27;</span></span><br><span class="line">output_file = <span class="string">&quot;num_list.xlsx&quot;</span></span><br><span class="line"></span><br><span class="line">file_names = get_file_names(directory) <span class="comment"># è·å–ç›®å½•ä¸­æ‰€æœ‰çš„å›¾ç‰‡æ–‡ä»¶å</span></span><br><span class="line">num_list = process_file_names(file_names) <span class="comment"># å¤„ç†æ–‡ä»¶å</span></span><br><span class="line">missing_nums = generate_missing_numbers(num_list) <span class="comment"># è·å–ç¼ºå°‘çš„æ•°å­—</span></span><br><span class="line">write_to_excel(num_list, missing_nums, output_file) <span class="comment"># å†™å…¥Excelè¡¨æ ¼</span></span><br></pre></td></tr></table></figure><p>æ€è·¯æœ‰äº†ï¼Œä»£ç å°±ä¸€æ­¥ä¸€æ­¥è®©èŠå¤©æœºå™¨äººå†™çš„ï¼Œçœ‹çœ‹æ²¡é—®é¢˜ç›´æ¥æ‹¿è¿‡æ¥ç”¨å°±è¡Œäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä½¿ç”¨pytesseractåº“è¿›è¡Œæ–‡å­—è¯†åˆ«</title>
      <link href="/2023/08/29/Python%E4%BD%BF%E7%94%A8pytesseract%E5%BA%93%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/"/>
      <url>/2023/08/29/Python%E4%BD%BF%E7%94%A8pytesseract%E5%BA%93%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>pytesseractæ˜¯Pythonçš„ä¸€ä¸ªOCRæ–‡æœ¬è¯†åˆ«åº“ã€‚</p><p>ä»¥ä¸‹å‡ ç‚¹æ¦‚æ‹¬äº†å®ƒçš„ä¸»è¦ä¿¡æ¯ï¼š</p><ul><li>åŸºäºTesseract OCRå¼•æ“ï¼špytesseractæ˜¯Tesseract OCRå¼•æ“çš„Pythonæ¥å£ï¼Œéœ€è¦å…ˆå®‰è£…Tesseractã€‚</li><li>æ”¯æŒå¤šç§è¯­è¨€ï¼šé€šè¿‡Tesseractè®­ç»ƒå¥½çš„è¯­è¨€æ•°æ®ï¼Œpytesseractæ”¯æŒè‹±æ–‡ã€ä¸­æ–‡ç­‰å¤šç§è¯­è¨€çš„OCRè¯†åˆ«ã€‚</li><li>ä¸»è¦åŠŸèƒ½ï¼šä¸»è¦æä¾› image_to_stringç­‰æ–¹æ³•ï¼Œå°†å›¾åƒæ–‡ä»¶è¯†åˆ«ä¸ºæ–‡æœ¬å†…å®¹ã€‚</li><li>å‡†ç¡®ç‡ï¼šåŸºäºæ·±åº¦å­¦ä¹ çš„Tesseract 4.0+ï¼Œè¯†åˆ«å‡†ç¡®ç‡å¯ä»¥è¾¾åˆ°96%ä»¥ä¸Šã€‚</li><li>ä½¿ç”¨ç®€å•ï¼šåªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥å®ç°OCRè¯†åˆ«ï¼Œéå¸¸æ˜“äºä¸Šæ‰‹ã€‚</li><li>è¯†åˆ«æµç¨‹ï¼šåŠ è½½å›¾åƒ-&gt; é¢„å¤„ç†(æé«˜è¯†åˆ«è´¨é‡) -&gt; OCRè¯†åˆ« -&gt; åå¤„ç†æ–‡æœ¬</li><li>é€‚ç”¨åœºæ™¯ï¼šprintedæ–‡æœ¬è¯†åˆ«ã€ invoicesè¯†åˆ«ã€èº«ä»½è¯/æŠ¤ç…§è¯†åˆ«ç­‰ã€‚</li><li>ä¼˜åŠ¿ï¼šå¼€æºã€ä½¿ç”¨ç®€å•ã€æ”¯æŒå¤šè¯­è¨€ã€æ”¯æŒè®­ç»ƒè‡ªå®šä¹‰æ¨¡å‹ã€‚</li><li>åŠ£åŠ¿ï¼šå¯¹æ‰‹å†™ä½“è¯†åˆ«æ•ˆæœè¾ƒå·®ï¼Œå¯¹å›¾åƒè´¨é‡è¦æ±‚è¾ƒé«˜ã€‚</li><li>å¤‡é€‰æ–¹æ¡ˆï¼šEasyOCRã€PaddleOCRç­‰å…¶ä»–OCRåº“ã€‚</li></ul><p>Githubé¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/tesseract-ocr/tesseract" >https://github.com/tesseract-ocr/tesseract<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="ä½¿ç”¨æ­¥éª¤"><a href="#ä½¿ç”¨æ­¥éª¤" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h2><p>è¦ä½¿ç”¨pytesseractï¼Œé™¤äº†ç¼–å†™ä»£ç å¤–ï¼Œè¿˜éœ€è¦è¿›è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><h3 id="1-å®‰è£…Tesseract-OCRå¼•æ“"><a href="#1-å®‰è£…Tesseract-OCRå¼•æ“" class="headerlink" title="1. å®‰è£…Tesseract OCRå¼•æ“"></a>1. å®‰è£…Tesseract OCRå¼•æ“</h3><p>pytesseractæ˜¯ä¸€ä¸ªPythonçš„OCRåº“ï¼Œå®ƒä¾èµ–äºTesseract OCRå¼•æ“ã€‚å› æ­¤ï¼Œé¦–å…ˆéœ€è¦å®‰è£…Tesseract OCRå¼•æ“ã€‚</p><p>Githubé¡¹ç›®é¡µä¸Šæœ‰ä¸‹è½½åœ°å€ï¼š<a class="link"   href="https://github.com/UB-Mannheim/tesseract/wiki" >https://github.com/UB-Mannheim/tesseract/wiki<i class="fas fa-external-link-alt"></i></a></p><p>æ‰¾åˆ°â€œTesseract installer for Windowsâ€é¡¹ä¸­ <mark>tesseract-ocr-w64-setup-5.3.1.20230401.exe (64 bit)</mark> ä¸‹è½½å°±è¡Œï¼ˆå¦‚æœ32ä½çš„å°±æ‰“å¼€ <a class="link"   href="https://digi.bib.uni-mannheim.de/tesseract/" >older versions for 32 and 64 bit Windows<i class="fas fa-external-link-alt"></i></a> çš„é¡µé¢æ‰¾å¯¹åº”åŒ…å«w32çš„å»ä¸‹è½½ï¼‰</p><p>æ³¨æ„ï¼šå®‰è£…çš„æ—¶å€™æœ‰ä¸ªè¯­è¨€æ•°æ®çš„é€‰æ‹©å¯ä»¥é€‰ä¸€ä¸‹è‡ªå·±éœ€è¦çš„ï¼Œæˆ‘è¿™å°±é€‰æ‹©äº†chineseç›¸å…³çš„4ä¸ªã€‚</p><p>å®‰è£…å®Œåï¼Œå¯ä»¥æŠŠå®‰è£…ç›®å½•ä¸‹çš„ exe æ–‡ä»¶æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œé»˜è®¤æ˜¯ï¼š<code>C:\Program Files\Tesseract-OCR\tesseract.exe</code></p><p>æ·»åŠ äº†ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå°±å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å®‰è£…çš„è¯­è¨€æœ‰å“ªäº›ï¼ˆæ²¡æ·»åŠ çš„è¯å°±å®‰è£…ç›®å½•ä¸‹è¿è¡Œä¹Ÿå¯ä»¥çš„ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tesseract --list-langs</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line">chi_sim <span class="comment"># ç®€ä½“ä¸­æ–‡</span></span><br><span class="line">chi_sim_vert</span><br><span class="line">chi_tra</span><br><span class="line">chi_tra_vert</span><br><span class="line">eng</span><br><span class="line">osd</span><br></pre></td></tr></table></figure><h3 id="2-å®‰è£…pytesseractåº“"><a href="#2-å®‰è£…pytesseractåº“" class="headerlink" title="2. å®‰è£…pytesseractåº“"></a>2. å®‰è£…pytesseractåº“</h3><p>åœ¨å®‰è£…äº†Tesseract OCRå¼•æ“ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨pipå‘½ä»¤å®‰è£…pytesseractåº“ã€‚æ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pytesseract</span><br></pre></td></tr></table></figure><h3 id="3-Pythonä»£ç ä¸¾ä¾‹"><a href="#3-Pythonä»£ç ä¸¾ä¾‹" class="headerlink" title="3.Pythonä»£ç ä¸¾ä¾‹"></a>3.Pythonä»£ç ä¸¾ä¾‹</h3><p>ä½¿ç”¨pytesseractåº“çš„<code>image_to_string</code>å‡½æ•°å¯ä»¥å°†å›¾åƒè½¬æ¢ä¸ºæ–‡æœ¬ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> pytesseract</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®Tesseractçš„å®‰è£…è·¯å¾„ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="comment"># å¦‚æœTesseract OCRå¼•æ“æ²¡æœ‰è¢«è‡ªåŠ¨è¯†åˆ«ï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®å…¶å®‰è£…è·¯å¾„ã€‚</span></span><br><span class="line">pytesseract.pytesseract.tesseract_cmd = <span class="string">r&#x27;C:\Program Files\Tesseract-OCR\tesseract.exe&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾ç‰‡</span></span><br><span class="line">image = cv2.imread(<span class="string">&#x27;IMG_2103.JPG&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›è¡Œå›¾åƒé¢„å¤„ç†,åŒ…æ‹¬ç°åº¦åŒ–ã€é™å™ªç­‰</span></span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨Pytesseractè¯†åˆ«å›¾ç‰‡</span></span><br><span class="line">text = pytesseract.image_to_string(image, lang=<span class="string">&#x27;chi_sim&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(text)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯ä½¿ç”¨pytesseractçš„åŸºæœ¬æ­¥éª¤ã€‚</p><p>å¾ˆå¤šæ—¶å€™ç›´æ¥å¯¹åŸå›¾ä½¿ç”¨ pytesseract è¯†åˆ«æ•ˆæœä¸ä½³ï¼Œéœ€è¦å…ˆå¯¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼Œæé«˜è¯†åˆ«å‡†ç¡®ç‡ã€‚å¸¸è§çš„é¢„å¤„ç†æœ‰è£åˆ‡ã€å»å™ªã€ç¼©æ”¾ã€é˜ˆå€¼åŒ–ã€è†¨èƒ€è…èš€ç­‰ã€‚å¯ä»¥ä½¿ç”¨ OpenCV ç­‰å›¾åƒå¤„ç†åº“ã€‚</p><p>æ¯”å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å–å›¾ç‰‡</span></span><br><span class="line">image = cv2.imread(<span class="string">&#x27;IMG_2103.JPG&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›è¡Œå›¾åƒé¢„å¤„ç†,åŒ…æ‹¬ç°åº¦åŒ–ã€é™å™ªç­‰</span></span><br><span class="line">gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</span><br><span class="line">gray = cv2.threshold(gray, <span class="number">0</span>, <span class="number">255</span>, cv2.THRESH_BINARY | cv2.THRESH_OTSU)[<span class="number">1</span>]</span><br><span class="line">gray = cv2.medianBlur(gray, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨Pytesseractè¯†åˆ«å›¾ç‰‡</span></span><br><span class="line">text = pytesseract.image_to_string(gray, lang=<span class="string">&#x27;chi_sim&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(text)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> äººå·¥æ™ºèƒ½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä½¿ç”¨Easyocråº“è¿›è¡Œæ–‡å­—è¯†åˆ«</title>
      <link href="/2023/08/29/Python%E4%BD%BF%E7%94%A8Easyocr%E5%BA%93%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/"/>
      <url>/2023/08/29/Python%E4%BD%BF%E7%94%A8Easyocr%E5%BA%93%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>EasyOCRæ˜¯ä¸€ä¸ªå¼€æºçš„Pythonåº“ï¼Œç”¨äºè¿›è¡Œå…‰å­¦å­—ç¬¦è¯†åˆ«(OCR)ã€‚</p><p>å®ƒçš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li>ç®€å•æ˜“ç”¨ï¼šåªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥å®ç°OCRï¼Œéå¸¸å®¹æ˜“ä¸Šæ‰‹ã€‚</li><li>æ”¯æŒå¤šç§è¯­è¨€ï¼šè‹±è¯­ã€ä¸­æ–‡ã€æ—¥è¯­ç­‰80å¤šç§è¯­è¨€éƒ½æ”¯æŒã€‚</li><li>å‡†ç¡®ç‡é«˜ï¼š<mark>åŸºäºæ·±åº¦å­¦ä¹ çš„ç®—æ³•</mark>ï¼Œè¯†åˆ«å‡†ç¡®ç‡é«˜ã€‚</li><li>è®­ç»ƒè‡ªå®šä¹‰æ¨¡å‹ï¼šæ”¯æŒä½¿ç”¨è‡ªå·±çš„æ•°æ®é›†è®­ç»ƒè‡ªå®šä¹‰OCRæ¨¡å‹ã€‚</li><li>æ”¯æŒæ£€æµ‹æ–¹å‘ï¼šå¯ä»¥è‡ªåŠ¨æ£€æµ‹å›¾åƒæ–‡å­—æ–¹å‘ã€‚</li><li>æ”¯æŒå¤šè¯­è¨€æ··åˆ:å¯ä»¥å¤„ç†å¤šå›½è¯­è¨€æ··åˆçš„å›¾åƒã€‚</li><li>åŸºäºPyTorchï¼šå»ºç«‹åœ¨PyTorchæ·±åº¦å­¦ä¹ æ¡†æ¶ä¹‹ä¸Šã€‚</li></ul><p>ç”±äºæ˜“ç”¨æ€§å¼ºã€å‡†ç¡®ç‡é«˜ç­‰ä¼˜ï¼ŒEasyOCRéå¸¸é€‚åˆç”¨äºå¿«é€Ÿå®ç°OCRåŠŸèƒ½ï¼Œæˆ–è€…ä½œä¸ºOCRé¡¹ç›®çš„åŸºç¡€åº“ã€‚å®ƒå¯ä»¥å¹¿æ³›åº”ç”¨äºç¥¨æ®è¯†åˆ«ã€è½¦ç‰Œè¯†åˆ«ã€èº«ä»½è¯è¯†åˆ«ç­‰é¢†åŸŸã€‚</p><p>Githubé¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/JaidedAI/EasyOCR" >https://github.com/JaidedAI/EasyOCR<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>æµ‹è¯•åœ°å€ï¼š<a class="link"   href="https://www.jaided.ai/easyocr/" >https://www.jaided.ai/easyocr/<i class="fas fa-external-link-alt"></i></a></p><p>ç®€ä½“ä¸­æ–‡çš„è¯­è¨€ä»£ç ï¼š<code>ch_sim</code></p><h2 id="Pythonä»£ç ä¸¾ä¾‹"><a href="#Pythonä»£ç ä¸¾ä¾‹" class="headerlink" title="Pythonä»£ç ä¸¾ä¾‹"></a>Pythonä»£ç ä¸¾ä¾‹</h2><p>APIæ–‡æ¡£ï¼š<a class="link"   href="https://www.jaided.ai/easyocr/documentation/" >https://www.jaided.ai/easyocr/documentation/<i class="fas fa-external-link-alt"></i></a></p><p>ä½¿ç”¨EasyOCRä¸»è¦åˆ†ä¸º <strong>ä¸‰ä¸ªæ­¥éª¤</strong>:</p><ol><li>å¯¼å…¥åº“ï¼š<code>import easyocr</code></li><li>åˆå§‹åŒ–è¯†åˆ«å™¨ï¼š<code>reader = easyocr.Reader([è¯­è¨€ä»£ç ])</code></li><li>å…‰å­¦å­—ç¬¦è¯†åˆ«ï¼š<code>result = reader.readtext([å›¾ç‰‡è·¯å¾„])</code></li></ol><p>result å°†è¿”å›æ¯ä¸ªæ£€æµ‹åˆ°æ–‡æœ¬åŒºåŸŸçš„åæ ‡ã€æ–‡æœ¬å†…å®¹ç­‰ä¿¡æ¯ã€‚</p><p>è¯­è¨€ä»£ç ä¸­æœ‰å¤šç§çš„è¯ï¼Œå¯ä»¥ç”¨é€—å·éš”å¼€ï¼Œæ¯”å¦‚åŒæ—¶æœ‰ä¸­æ–‡å’Œè‹±æ–‡ï¼š <code>[&#39;ch_sim&#39;, &#39;en&#39;]</code></p><h3 id="å®‰è£…åº“"><a href="#å®‰è£…åº“" class="headerlink" title="å®‰è£…åº“"></a>å®‰è£…åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install easyocr</span><br></pre></td></tr></table></figure><h3 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥åº“</span></span><br><span class="line"><span class="keyword">import</span> easyocr</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªç®€ä½“ä¸­æ–‡è¯­è¨€æ¨¡å‹çš„OCRè¯†åˆ«å™¨</span></span><br><span class="line">reader = easyocr.Reader([<span class="string">&#x27;ch_sim&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯†åˆ«å›¾åƒä¸­çš„æ–‡å­—</span></span><br><span class="line">result = reader.readtext(<span class="string">&#x27;IMG_2103.JPG&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–æ˜¾ç¤ºresultç»“æœ</span></span><br><span class="line"><span class="keyword">for</span> idx, res <span class="keyword">in</span> <span class="built_in">enumerate</span>(result):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Text <span class="subst">&#123;idx&#125;</span>: <span class="subst">&#123;res[<span class="number">1</span>]&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿è¡Œä»£ç çš„æ—¶å€™å¦‚æœæŠ¥äº†ä»¥ä¸‹çš„é”™è¯¯ï¼ˆè¿™ä¸ªæ˜¯easyocråº“ä¸­çš„æ–‡ä»¶ä¸­çš„ä»£ç ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    img = cv2.resize(img,(int(model_height*ratio),model_height),interpolation=Image.ANTIALIAS)   </span><br><span class="line">AttributeError: module <span class="string">&#x27;PIL.Image&#x27;</span> has no attribute <span class="string">&#x27;ANTIALIAS&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æŸ¥çœ‹å½“å‰Pillowç‰ˆæœ¬ï¼Œå…¶ä¸­åŒ…å«ç‰ˆæœ¬å·ï¼Œæˆ‘è¿™æ˜¯ 10.0.0</span></span><br><span class="line">pip show pillow</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.å¸è½½Pillow</span></span><br><span class="line">pip uninstall Pillow</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å®‰è£…9.5.0ç‰ˆæœ¬çš„Pillow</span></span><br><span class="line">pip install Pillow==9.5.0</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¯ç”¨pipçš„æ–¹å¼ï¼Œç”¨è‡ªå·±çš„æ–¹å¼å°±è¡Œäº†ï¼Œåæ­£å°±æ˜¯Pillowçš„ç‰ˆæœ¬çš„é—®é¢˜ã€‚</p><h3 id="è¯­è¨€æ¨¡å‹"><a href="#è¯­è¨€æ¨¡å‹" class="headerlink" title="è¯­è¨€æ¨¡å‹"></a>è¯­è¨€æ¨¡å‹</h3><p>è¯­è¨€æ¨¡å‹æœ‰å“ªäº›ï¼Œä¸Šé¢çš„æµ‹è¯•åœ°å€ä¸­æœ‰ã€‚è¿™äº›ä¾‹ä¸€ä¸‹å¸¸è§çš„å‡ ç§è¯­è¨€ï¼š</p><table><thead><tr><th>Language</th><th>Code Name</th></tr></thead><tbody><tr><td>Simplified Chinese ç®€ä½“ä¸­æ–‡</td><td>ch_sim</td></tr><tr><td>Traditional Chinese ç¹ä½“ä¸­æ–‡</td><td>ch_tra</td></tr><tr><td>German å¾·è¯­</td><td>de</td></tr><tr><td>English è‹±è¯­</td><td>en</td></tr><tr><td>French æ³•è¯­</td><td>fa</td></tr><tr><td>Italian æ„å¤§åˆ©è¯­</td><td>it</td></tr><tr><td>Japanese æ—¥è¯­</td><td>ja</td></tr><tr><td>Korean éŸ©è¯­</td><td>ko</td></tr><tr><td>Russian ä¿„è¯­</td><td>ru</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> äººå·¥æ™ºèƒ½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux æ ¡å‡†ç³»ç»Ÿæ—¶é—´æ–¹æ³•</title>
      <link href="/2023/07/07/Linux%E6%A0%A1%E5%87%86%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E6%96%B9%E6%B3%95/"/>
      <url>/2023/07/07/Linux%E6%A0%A1%E5%87%86%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>æ‰‹ä¸Šçš„è¡Œç©ºæ¿é‡Œçš„Linux(Debian)ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿæ—¶é—´ä¸å¯¹ï¼Œæ‰€ä»¥çœ‹ä¸€ä¸‹æ€ä¹ˆæ ¡å‡†æ–¹ä¾¿ã€‚</p><p>æ ¡æ­£Linuxç³»ç»Ÿæ—¶é—´æœ‰å¤šç§æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡æ‰‹åŠ¨è®¾ç½®æ—¶é—´ã€ä½¿ç”¨NTPæœåŠ¡å™¨åŒæ­¥æ—¶é—´ç­‰æ–¹å¼æ¥å®ç°ã€‚</p><a id="more"></a><h3 id="æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è®¾ç½®ç³»ç»Ÿæ—¶é—´"><a href="#æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è®¾ç½®ç³»ç»Ÿæ—¶é—´" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è®¾ç½®ç³»ç»Ÿæ—¶é—´"></a>æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è®¾ç½®ç³»ç»Ÿæ—¶é—´</h3><p>æ‰‹åŠ¨è®¾ç½®ç³»ç»Ÿæ—¶é—´å¯ä»¥é€šè¿‡dateå‘½ä»¤æ¥å®ç°ã€‚<mark>ä¸è¿‡ï¼Œç³»ç»Ÿé‡å¯åæ—¶é—´è¿˜æ˜¯ä¸å¯¹çš„ï¼Œéœ€è¦é‡æ–°æ ¡å‡†ã€‚</mark></p><p>ä¾‹å¦‚ï¼Œå¦‚æœè¦å°†ç³»ç»Ÿæ—¶é—´è®¾ç½®ä¸º2023å¹´7æœˆ6æ—¥14ç‚¹46åˆ†30ç§’ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºè¡Œç©ºæ¿å½“å‰ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line">date</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®è¡Œç©ºæ¿ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line">date -s <span class="string">&quot;20230706 14:46:30&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­ï¼Œ-sé€‰é¡¹æŒ‡å®šè¦è®¾ç½®çš„æ—¶é—´ï¼Œåé¢è·Ÿç€çš„æ˜¯éœ€è¦è®¾ç½®çš„æ—¶é—´å­—ç¬¦ä¸²ã€‚</p></blockquote><h3 id="æ–¹æ³•äºŒï¼šä½¿ç”¨systemd-timesyncdæœåŠ¡åŒæ­¥æ—¶é—´"><a href="#æ–¹æ³•äºŒï¼šä½¿ç”¨systemd-timesyncdæœåŠ¡åŒæ­¥æ—¶é—´" class="headerlink" title="æ–¹æ³•äºŒï¼šä½¿ç”¨systemd-timesyncdæœåŠ¡åŒæ­¥æ—¶é—´"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨systemd-timesyncdæœåŠ¡åŒæ­¥æ—¶é—´</h3><p><mark>ç”¨æ­¤æ–¹æ³•åŒæ­¥æ—¶é—´åï¼Œé‡å¯ç³»ç»Ÿåæ—¶é—´å°±æ˜¯å¯¹çš„äº†ã€‚</mark></p><p>systemd-timesyncdæ˜¯Linuxç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ—¶é—´åŒæ­¥æœåŠ¡ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥åŒæ­¥è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´ã€‚è¯¥æœåŠ¡é»˜è®¤æƒ…å†µä¸‹å·²ç»å®‰è£…åœ¨å¤§å¤šæ•°Linuxå‘è¡Œç‰ˆä¸­ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…ã€‚</p><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹systemd-timesyncdæœåŠ¡çš„çŠ¶æ€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status systemd-timesyncd.service</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨ã€åœæ­¢ã€é‡å¯systemd-timesyncdæœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start systemd-timesyncd.service</span><br><span class="line">sudo systemctl stop systemd-timesyncd.service</span><br><span class="line">sudo systemctl restart systemd-timesyncd.service</span><br></pre></td></tr></table></figure><p>systemd-timesyncdæœåŠ¡ä¼šè‡ªåŠ¨ä»ç½‘ç»œæ—¶é—´æœåŠ¡å™¨åŒæ­¥æ—¶é—´ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®ã€‚å¦‚æœéœ€è¦ä¿®æ”¹é»˜è®¤çš„æ—¶é—´æœåŠ¡å™¨ï¼Œå¯ä»¥ç¼–è¾‘ <code>/etc/systemd/timesyncd.conf</code>æ–‡ä»¶ï¼Œå°†NTP=è¡Œæ”¹ä¸ºéœ€è¦çš„æ—¶é—´æœåŠ¡å™¨åœ°å€ï¼Œç„¶åé‡å¯systemd-timesyncdæœåŠ¡å³å¯ã€‚</p><h3 id="æ–¹æ³•ä¸‰ï¼šä½¿ç”¨NTPæœåŠ¡å™¨åŒæ­¥æ—¶é—´"><a href="#æ–¹æ³•ä¸‰ï¼šä½¿ç”¨NTPæœåŠ¡å™¨åŒæ­¥æ—¶é—´" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šä½¿ç”¨NTPæœåŠ¡å™¨åŒæ­¥æ—¶é—´"></a>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨NTPæœåŠ¡å™¨åŒæ­¥æ—¶é—´</h3><p>NTPï¼ˆNetwork Time Protocolï¼‰æ˜¯ä¸€ç§ç½‘ç»œæ—¶é—´åè®®ï¼Œå¯ä»¥ç”¨æ¥åŒæ­¥è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´ã€‚Linuxç³»ç»Ÿä¸­å¯ä»¥ä½¿ç”¨ntpdateå‘½ä»¤æ¥ä»NTPæœåŠ¡å™¨åŒæ­¥æ—¶é—´ã€‚</p><p>é¦–å…ˆéœ€è¦å®‰è£…ntpdateå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ntpdate</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åŒæ­¥æ—¶é—´ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ntpdate ntp.server.com</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œntp.server.comæ˜¯NTPæœåŠ¡å™¨çš„åœ°å€ï¼Œå¯ä»¥æ›¿æ¢ä¸ºå…¶ä»–å¯ç”¨çš„NTPæœåŠ¡å™¨åœ°å€ã€‚</p><p>å¦å¤–ï¼Œå¯ä»¥å°†ntpdateå‘½ä»¤æ·»åŠ åˆ°crontabä¸­ï¼Œå®šæœŸåŒæ­¥æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨<code>/etc/crontab</code>ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*/5 * * * * root /usr/sbin/ntpdate ntp.server.com</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå†…å®¹è¡¨ç¤ºæ¯éš”5åˆ†é’ŸåŒæ­¥ä¸€æ¬¡æ—¶é—´ã€‚</p><p>å½“ç„¶ï¼Œç”¨æ–¹æ³•äºŒå°±è§£å†³äº†åï¼Œæ–¹æ³•ä¸‰æˆ‘å°±æ²¡æµ‹è¯•äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸º Docker åˆ›å»ºçš„ Nginx å®¹å™¨é…ç½®äºŒçº§åŸŸå</title>
      <link href="/2023/07/02/%E4%B8%BADocker%E5%88%9B%E5%BB%BA%E7%9A%84Nginx%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D/"/>
      <url>/2023/07/02/%E4%B8%BADocker%E5%88%9B%E5%BB%BA%E7%9A%84Nginx%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<p>Dockerä¸­ç”¨ Nginx é•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªç½‘ç«™ã€‚</p><p>å‡è®¾ç”¨Nginxé•œåƒåˆ›å»ºäº†å®¹å™¨1ï¼š</p><ul><li>å®¹å™¨åç§°ï¼š<strong>nginx</strong></li><li>è®¿é—®çš„åœ°å€ï¼š<a href="http://ip:80ï¼ˆå³ç›´æ¥ç”¨ipæˆ–è€…åŸŸåå¯è®¿é—®ï¼‰">http://ip:80ï¼ˆå³ç›´æ¥ç”¨ipæˆ–è€…åŸŸåå¯è®¿é—®ï¼‰</a></li><li>é…ç½®æ–‡ä»¶ï¼šnginx.conf</li><li>ç½‘é¡µï¼šindex.html</li></ul><p>ç”¨Nginxé•œåƒåˆ›å»ºäº†å®¹å™¨2ï¼š</p><ul><li>å®¹å™¨åç§°ï¼š<strong>ai_html_index</strong></li><li>è®¿é—®åœ°å€ï¼š<a href="http://ip:9080ï¼ˆæˆ–è€…">http://ip:9080ï¼ˆæˆ–è€…</a> http://åŸŸå:9080 ï¼‰</li><li>ç½‘ç«™ç›®å½•ï¼šnginx-indexï¼ˆå†…å«index.htmlï¼‰</li></ul><p>é‚£å®¹å™¨1å¯ä»¥é€šè¿‡åŸŸåç›´æ¥è®¿é—®ï¼Œæƒ³æŠŠå®¹å™¨2çš„è®¿é—®è®¾ç½®ä¸€ä¸ªäºŒçº§åŸŸåçš„æ“ä½œæ­¥éª¤å¦‚ä¸‹ã€‚</p><a id="more"></a><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p><strong>1.ipå’ŒåŸŸå</strong><br>å‡è®¾æˆ‘çš„ipä¸ºï¼š110.22.33.44ï¼ŒåŸŸåä¸ºï¼šabc.comï¼Œå½“ç„¶å·²ç»è®¾ç½®å¥½äº†åŸŸåè§£æã€‚</p><p>æƒ³è¦æ·»åŠ çš„äºŒçº§åŸŸåä¸ºï¼šai.abc.com</p><p><strong>2.å®¹å™¨1çš„é…ç½®æ–‡ä»¶nginx.conf</strong><br>å‡†å¤‡å¥½æ–‡ä»¶ä»¥åŠå®¹å™¨1çš„é…ç½®æ–‡ä»¶nginx.confï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application&#x2F;octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name abc.com www.abc.com;</span><br><span class="line">        root &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;</span><br><span class="line">        index index.html;</span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            try_files $uri $uri&#x2F; &#x2F;index.html;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>3.åˆ›å»ºå®¹å™¨1å’Œå®¹å™¨2</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå®¹å™¨1 nginx</span></span><br><span class="line">docker run -d -p 80:80 --name nginx -v /home/ubuntu/nginx-config/nginx.conf:/etc/nginx/nginx.conf:ro -v /home/ubuntu/nginx-config/html:/usr/share/nginx/html:ro nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå®¹å™¨2 ai_html_index</span></span><br><span class="line">docker run -d --restart always -p 9080:80 -v /home/ubuntu/nginx-index/:/usr/share/nginx/html --name ai_html_index nginx</span><br></pre></td></tr></table></figure><h2 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h2><p><strong>1.åŸŸåè§£ææ·»åŠ Aè®°å½•</strong></p><p>é¦–å…ˆï¼Œéœ€è¦åœ¨åŸŸåè§£ææœåŠ¡å•†å¤„æ·»åŠ ä¸€ä¸ªAè®°å½•ï¼Œå°† ai.abc.com æŒ‡å‘ 110.22.33.44ã€‚è¿™æ ·è®¿é—®ai.abc.com æ—¶ï¼ŒDNSè§£æä¼šå°†å…¶è§£æä¸º110.22.33.44ã€‚</p><p><strong>2.ä¿®æ”¹ nginx.conf é…ç½®æ–‡ä»¶</strong></p><p>éœ€è¦åœ¨å®¹å™¨1çš„ nginxçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„serverå—ï¼Œç”¨äºå¤„ç† ai.abc.com çš„è¯·æ±‚ã€‚nginx.conf æ–‡ä»¶ä¿®æ”¹åçš„å†…å®¹ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application&#x2F;octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name abc.com www.abc.com;</span><br><span class="line">        root &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;</span><br><span class="line">        index index.html;</span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            try_files $uri $uri&#x2F; &#x2F;index.html;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"># ai</span><br><span class="line">server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name ai.abc.com;</span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            proxy_pass http:&#x2F;&#x2F;110.22.33.44:9080;</span><br><span class="line">            proxy_set_header Host $host;</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å¥½åï¼Œç›´æ¥é‡å¯ä¸€ä¸‹å®¹å™¨1ï¼š<code>docker restart nginx</code>ï¼Œå°±å¯ä»¥ç”¨äºŒçº§åŸŸå ai.abc.com è®¿é—®å®¹å™¨2çš„ç½‘ç«™äº†ã€‚</p><h3 id="proxy-set-header"><a href="#proxy-set-header" class="headerlink" title="proxy_set_header"></a>proxy_set_header</h3><blockquote><p>åœ¨nginxçš„åå‘ä»£ç†é…ç½®ä¸­ï¼Œ<code>proxy_set_header</code>æŒ‡ä»¤ç”¨äºè®¾ç½®HTTPè¯·æ±‚å¤´ã€‚å…·ä½“æ¥è¯´ï¼š</p><ol><li><p><code>proxy_set_header Host $host;</code>ï¼šè¯¥æŒ‡ä»¤å°†è®¾ç½®ä»£ç†è¯·æ±‚çš„<code>Host</code>å¤´å­—æ®µä¸ºå®¢æˆ·ç«¯è¯·æ±‚çš„<code>Host</code>å¤´å­—æ®µã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿åç«¯æœåŠ¡å™¨èƒ½å¤Ÿæ­£ç¡®å¤„ç†è¯·æ±‚ï¼Œå¹¶æ ¹æ®è¯·æ±‚çš„åŸŸåè¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p></li><li><p><code>proxy_set_header X-Real-IP $remote_addr;</code>ï¼šè¯¥æŒ‡ä»¤å°†è®¾ç½®ä»£ç†è¯·æ±‚çš„<code>X-Real-IP</code>å¤´å­—æ®µä¸ºå®¢æˆ·ç«¯çš„çœŸå®IPåœ°å€ã€‚è¿™æ˜¯ä¸ºäº†å°†å®¢æˆ·ç«¯çš„çœŸå®IPåœ°å€ä¼ é€’ç»™åç«¯æœåŠ¡å™¨ï¼Œä»¥ä¾¿åç«¯æœåŠ¡å™¨èƒ½å¤Ÿè·å–åˆ°å®¢æˆ·ç«¯çš„çœŸå®IPåœ°å€ã€‚</p></li></ol><p>è¿™ä¸¤ä¸ªæŒ‡ä»¤åœ¨åå‘ä»£ç†é…ç½®ä¸­æ˜¯å¸¸è§çš„è®¾ç½®ï¼Œå¯ä»¥ç¡®ä¿åç«¯æœåŠ¡å™¨èƒ½å¤Ÿæ­£ç¡®å¤„ç†è¯·æ±‚ï¼Œå¹¶è·å–åˆ°å®¢æˆ·ç«¯çš„çœŸå®IPåœ°å€ã€‚åœ¨ä½ çš„é…ç½®ä¸­ï¼Œè¿™ä¸¤ä¸ªæŒ‡ä»¤ç”¨äºå°†å®¢æˆ·ç«¯è¯·æ±‚çš„<code>Host</code>å¤´å­—æ®µå’ŒçœŸå®IPåœ°å€ä¼ é€’ç»™ç¬¬äºŒä¸ªå®¹å™¨ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python å†™æ¥å£æ—¶ç¼–ç é—®é¢˜</title>
      <link href="/2023/06/29/Python%E5%86%99%E6%8E%A5%E5%8F%A3%E6%97%B6%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/"/>
      <url>/2023/06/29/Python%E5%86%99%E6%8E%A5%E5%8F%A3%E6%97%B6%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>æƒ³å†™ä¸ªç®€å•çš„æ¥å£ï¼Œæœ‰äº†api2dçš„keyï¼ˆå°±åƒæœ‰äº†openaiçš„keyä¸€æ ·ï¼‰ï¼Œå¯ä»¥è°ƒç”¨APIäº†ï¼Œå°±ç®€å•å†™ä¸ªæ¥å£å½“æœåŠ¡å™¨ç”¨ã€‚</p><p>ç”¨çš„Webæ¡†æ¶æ˜¯Bottleï¼Œè·ŸFlaskç”¨æ³•ä¸€æ ·ï¼Œä¹Ÿæ˜¯è·¯ç”±ã€è§†å›¾é‚£ä¸€å¥—ã€‚åªæ˜¯ç®€å•çš„ä¸€ä¸ªèŠå¤©æ¥å£ï¼Œæ‰€ä»¥å°±ç”¨äº†è¿™ä¸ªæ›´å¾®å‹çš„ã€‚<br>ç”¨æ³•ï¼š<a href="/2023/06/27/Python-Bottle%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/" title="Python Bottleæ¡†æ¶ä½¿ç”¨ä¸¾ä¾‹">Python Bottleæ¡†æ¶ä½¿ç”¨ä¸¾ä¾‹</a></p><p>å†™å¥½æ¥å£ï¼Œç”¨ Requests è¿›è¡Œæµ‹è¯•æ—¶å‘ç°ï¼Œç¼–ç æœ‰é—®é¢˜ï¼Œå“åº”çš„ç»“æœè€æ˜¯ä¹±ç ã€‚</p><a href="/2023/06/29/Python-Requests%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/" title="Python Requests ä½¿ç”¨ä¸¾ä¾‹">Python Requests ä½¿ç”¨ä¸¾ä¾‹</a><a id="more"></a><p>åœ¨GPT3.5 ä¸Šé—®äº†è€åŠå¤©ï¼Œæ¥å›å°±é‚£å‡ ç§æ–¹æ³•ï¼Œç¼–ç è§£ç çš„ï¼Œè¯•æ¥è¯•å»éƒ½ä¸è¡Œã€‚å“åº”ç»“æœå°±æ˜¯ä¹±ç ï¼Œä¸ç®¡æ˜¯Getè¯·æ±‚ï¼Œè¿˜æ˜¯Postè¯·æ±‚ï¼Œéƒ½ä¹±ç ã€‚</p><p>å¿ƒä¸€æ¨ªï¼Œç”¨GPT4 é—®äº†ä¸€ä¸‹ï¼Œå¥½å®¶ä¼™ï¼Œä¸¤æ¬¡å›ç­”å°±è§£å†³äº†ã€‚ï¼ˆå°±æ˜¯è´¹tokenï¼‰</p><h2 id="Getè¯·æ±‚æ¥å£ä¸¾ä¾‹"><a href="#Getè¯·æ±‚æ¥å£ä¸¾ä¾‹" class="headerlink" title="Getè¯·æ±‚æ¥å£ä¸¾ä¾‹"></a>Getè¯·æ±‚æ¥å£ä¸¾ä¾‹</h2><p>è¿è¡Œåï¼Œç›´æ¥åœ¨æµè§ˆå™¨ <a class="link"   href="http://localhost:8080/chat?q=%E6%9D%A5%E9%A6%96%E5%94%90%E8%AF%97" >http://localhost:8080/chat?q=æ¥é¦–å”è¯—<i class="fas fa-external-link-alt"></i></a> è®¿é—®ï¼Œå°±å¯ä»¥çœ‹åˆ°å“åº”çš„ç»“æœäº†ã€‚</p><p>è§£å†³ä¹±ç é—®é¢˜çš„å…³é”®æ˜¯<mark>getunicodeæ–¹æ³•</mark>ï¼Œ<code>question = request.query.getunicode(&#39;q&#39;)</code> è¿™æ ·ä¼šè‡ªåŠ¨å¤„ç†ç¼–ç é—®é¢˜ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> Bottle, request, response</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">app = Bottle()</span><br><span class="line"></span><br><span class="line"><span class="comment"># http://localhost:8080/chat?q=æ¥é¦–å”è¯—</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/chat&#x27;</span>, method=<span class="string">&#x27;GET&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chat</span>():</span></span><br><span class="line">    <span class="comment"># è·å–è¯·æ±‚ä¸­çš„æ•°æ®, getunicodeæ–¹æ³•ä¼šè‡ªåŠ¨å¤„ç†ç¼–ç é—®é¢˜</span></span><br><span class="line">    <span class="comment"># question = request.query.get(&#x27;q&#x27;)</span></span><br><span class="line">    question = request.query.getunicode(<span class="string">&#x27;q&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤„ç†è¾“å…¥è¯è¯­ï¼Œæ ¹æ®ä¸šåŠ¡é€»è¾‘æ„å»ºå“åº”æ•°æ®</span></span><br><span class="line">    result = question + <span class="string">&quot;:test----22222&quot;</span> <span class="comment"># è¿™é‡Œåªæ˜¯éšä¾¿ä¸¾ä¾‹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤„ç†æ•°æ®ï¼Œè¿™é‡Œç®€å•åœ°è¿”å›å›ºå®šçš„å“åº”æ•°æ®</span></span><br><span class="line">    response_data = &#123;</span><br><span class="line">        <span class="string">&#x27;message&#x27;</span>: <span class="string">&#x27;Success&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;answer&#x27;</span>: result</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å“åº”çš„ Content-Type ä¸º JSON</span></span><br><span class="line">    <span class="comment"># response.content_type = &#x27;application/json&#x27;</span></span><br><span class="line">    <span class="comment"># è®¾ç½®å“åº”çš„ Content-Type ä¸º JSONï¼Œå¹¶æŒ‡å®šç¼–ç ä¸º UTF-8</span></span><br><span class="line">    response.headers[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/json; charset=utf-8&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿”å› JSON å“åº”, åºåˆ—åŒ–æˆ JSONå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment"># return response_data</span></span><br><span class="line">    <span class="keyword">return</span> json.dumps(response_data, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">8080</span>)</span><br></pre></td></tr></table></figure><p>æ¶‰åŠ JSONçš„åºåˆ—åŒ–å†…å®¹è¯¦è§£å¯ä»¥çœ‹è¿™ç¯‡ï¼š<a href="/2022/07/12/Python-JSON%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/" title="Python JSONä½¿ç”¨ä¸¾ä¾‹">Python JSONä½¿ç”¨ä¸¾ä¾‹</a></p><h2 id="Postè¯·æ±‚æ¥å£ä¸¾ä¾‹"><a href="#Postè¯·æ±‚æ¥å£ä¸¾ä¾‹" class="headerlink" title="Postè¯·æ±‚æ¥å£ä¸¾ä¾‹"></a>Postè¯·æ±‚æ¥å£ä¸¾ä¾‹</h2><p>è·Ÿåœ¨Getè¯·æ±‚ä¸­ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œç”¨<mark>getunicodeæ–¹æ³•</mark>ï¼Œ<code>question = request.forms.getunicode(&#39;question&#39;)</code> è¿™æ ·ä¼šè‡ªåŠ¨å¤„ç†ç¼–ç é—®é¢˜ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> Bottle, request, response</span><br><span class="line"><span class="keyword">import</span> json, http.client</span><br><span class="line"></span><br><span class="line">app = Bottle()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/chat&#x27;</span>, method=<span class="string">&#x27;POST&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chat</span>():</span></span><br><span class="line">    <span class="comment"># è·å–æŸ¥è¯¢å‚æ•°ä¸­çš„è¾“å…¥è¯è¯­ï¼Œgetunicodeæ–¹æ³•ä¼šè‡ªåŠ¨å¤„ç†ç¼–ç é—®é¢˜</span></span><br><span class="line">    question = request.forms.getunicode(<span class="string">&#x27;question&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤„ç†è¾“å…¥è¯è¯­ï¼Œæ ¹æ®ä¸šåŠ¡é€»è¾‘æ„å»ºå“åº”æ•°æ®    </span></span><br><span class="line">    <span class="comment"># question = &quot;åºŠå‰æ˜æœˆå…‰&quot;</span></span><br><span class="line">    result = question + <span class="string">&quot;:test----22222&quot;</span></span><br><span class="line">    <span class="comment"># print(result)</span></span><br><span class="line"></span><br><span class="line">    response_data = &#123;</span><br><span class="line">        <span class="string">&#x27;message&#x27;</span>: <span class="string">&#x27;Success&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;answer&#x27;</span>: result</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å“åº”çš„ Content-Type ä¸º JSONï¼Œå¹¶æŒ‡å®šç¼–ç ä¸º UTF-8</span></span><br><span class="line">    response.headers[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/json; charset=utf-8&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿”å› JSON å“åº”ï¼Œensure_ascii=False è¿”å›çš„JSONå­—ç¬¦ä¸²ä¸­çš„éASCIIå­—ç¬¦ä¸ä¼šè¢«è½¬ä¹‰</span></span><br><span class="line">    <span class="keyword">return</span> json.dumps(response_data, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">8080</span>)</span><br></pre></td></tr></table></figure><h2 id="jsonå‚æ•°ä¸dataå‚æ•°åŒºåˆ«"><a href="#jsonå‚æ•°ä¸dataå‚æ•°åŒºåˆ«" class="headerlink" title="jsonå‚æ•°ä¸dataå‚æ•°åŒºåˆ«"></a>jsonå‚æ•°ä¸dataå‚æ•°åŒºåˆ«</h2><p>Post è¯·æ±‚æ—¶ï¼Œå‘ç°å¦‚æœè°ƒç”¨çš„æ—¶å€™ç”¨çš„æ˜¯ json å‚æ•°ï¼š<code>response = requests.post(url, json=&#123;&#39;question&#39;: &#39;ä»Šå¤©å¤©æ°”&#39;&#125;)</code><br>å¦‚æœæ˜¯dataå‚æ•°ï¼š <code>response = requests.post(url, data=&#123;&#39;question&#39;: &#39;ä»Šå¤©å¤©æ°”&#39;&#125;)</code> ã€‚</p><p>åœ¨requestsåº“ä¸­ï¼Œ<code>json</code>å’Œ<code>data</code>å‚æ•°éƒ½å¯ä»¥ç”¨äºå‘é€POSTè¯·æ±‚çš„è¯·æ±‚ä½“æ•°æ®ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨æ–¹å¼å’Œæ•°æ®æ ¼å¼æœ‰æ‰€ä¸åŒã€‚</p><h3 id="1-jsonå‚æ•°"><a href="#1-jsonå‚æ•°" class="headerlink" title="1.jsonå‚æ•°"></a>1.jsonå‚æ•°</h3><ul><li>ä½¿ç”¨ json å‚æ•°æ—¶ï¼Œå¯ä»¥å°†ä¸€ä¸ªPythonå¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å­—å…¸ï¼‰ä½œä¸ºå‚æ•°ä¼ é€’ç»™ json ï¼Œrequestsåº“ä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºJSONæ ¼å¼ï¼Œå¹¶å°†å…¶ä½œä¸ºè¯·æ±‚ä½“å‘é€ã€‚</li><li>json å‚æ•°ä¼šè‡ªåŠ¨è®¾ç½®è¯·æ±‚å¤´ä¸­çš„<code>Content-Type</code>ä¸º<code>application/json</code>ï¼Œè¡¨ç¤ºè¯·æ±‚ä½“ä¸­çš„æ•°æ®ä¸ºJSONæ ¼å¼ã€‚</li><li>è¿™ç§æ–¹å¼é€‚ç”¨äºä¸APIè¿›è¡Œäº¤äº’ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å‘é€JSONæ ¼å¼æ•°æ®çš„æƒ…å†µã€‚</li><li>ä¾‹å¦‚ï¼Œå½“å‘ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„æ¥å£å‘é€ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œå¯ä»¥ä½¿ç”¨jsonå‚æ•°å°†æ•°æ®ä»¥JSONæ ¼å¼å‘é€ã€‚<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">data = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;John Doe&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>&#125;</span><br><span class="line">headers = &#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">response = requests.post(<span class="string">&#x27;https://api.example.com/user&#x27;</span>, json=data, headers=headers)</span><br><span class="line"><span class="built_in">print</span>(response.status_code)</span><br></pre></td></tr></table></figure><h3 id="2-dataå‚æ•°"><a href="#2-dataå‚æ•°" class="headerlink" title="2.dataå‚æ•°"></a>2.dataå‚æ•°</h3></li><li>ä½¿ç”¨ data å‚æ•°æ—¶ï¼Œå¯ä»¥å°†ä¸€ä¸ªå­—å…¸å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™ data ï¼Œrequestsåº“ä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºURLç¼–ç æ ¼å¼ï¼Œå¹¶å°†å…¶ä½œä¸ºè¯·æ±‚ä½“å‘é€ã€‚</li><li>data å‚æ•°ä¸ä¼šè‡ªåŠ¨è®¾ç½®è¯·æ±‚å¤´ä¸­çš„<code>Content-Type</code>ï¼Œé»˜è®¤ä¸º<code>application/x-www-form-urlencoded</code>ï¼Œè¡¨ç¤ºè¯·æ±‚ä½“ä¸­çš„æ•°æ®ä¸ºURLç¼–ç æ ¼å¼ã€‚</li><li>è¿™ç§æ–¹å¼é€‚ç”¨äºä¸ä¼ ç»Ÿçš„Webè¡¨å•è¿›è¡Œäº¤äº’ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å‘é€URLç¼–ç æ ¼å¼æ•°æ®çš„æƒ…å†µã€‚</li><li>ä¾‹å¦‚ï¼Œå½“å‘ä¸€ä¸ªç™»å½•æ¥å£å‘é€ç”¨æˆ·åå’Œå¯†ç æ—¶ï¼Œå¯ä»¥ä½¿ç”¨dataå‚æ•°å°†æ•°æ®ä»¥URLç¼–ç æ ¼å¼å‘é€ã€‚<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">data = &#123;<span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;admin&#x27;</span>, <span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;123456&#x27;</span>&#125;</span><br><span class="line">response = requests.post(<span class="string">&#x27;https://api.example.com/login&#x27;</span>, data=data)</span><br><span class="line"><span class="built_in">print</span>(response.status_code)</span><br></pre></td></tr></table></figure>æ€»ç»“ï¼š</li><li>json å‚æ•°é€‚ç”¨äºä¸APIè¿›è¡Œäº¤äº’ï¼Œå‘é€JSONæ ¼å¼çš„æ•°æ®ã€‚è‡ªåŠ¨è®¾ç½®è¯·æ±‚å¤´ä¸º<code>application/json</code>ã€‚</li><li>data å‚æ•°é€‚ç”¨äºé€‚ç”¨äºä¸ä¼ ç»Ÿçš„Webè¡¨å•è¿›è¡Œäº¤äº’ï¼Œå‘é€URLç¼–ç æ ¼å¼çš„æ•°æ®ã€‚ä¸ä¼šè‡ªåŠ¨è®¾ç½®è¯·æ±‚å¤´ï¼Œé»˜è®¤ä¸º<code>application/x-www-form-urlencoded</code>ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Requests ä½¿ç”¨ä¸¾ä¾‹</title>
      <link href="/2023/06/29/Python-Requests%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/"/>
      <url>/2023/06/29/Python-Requests%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Pythonä¸­ï¼ŒRequests æ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“ï¼Œç”¨äºå‘é€HTTPè¯·æ±‚ã€‚å®ƒæä¾›äº†ç®€æ´è€Œç›´è§‚çš„APIï¼Œä½¿å¾—å‘é€HTTPè¯·æ±‚å˜å¾—éå¸¸å®¹æ˜“ã€‚requestsåº“å¯ä»¥ç”¨äºå‘é€GETã€POSTã€PUTã€DELETEç­‰å„ç§ç±»å‹çš„è¯·æ±‚ï¼Œå¹¶ä¸”æ”¯æŒå¤„ç†Cookieã€Sessionã€æ–‡ä»¶ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://requests.readthedocs.io/en/latest/" >https://requests.readthedocs.io/en/latest/<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="å®‰è£…-requests-åŒ…"><a href="#å®‰è£…-requests-åŒ…" class="headerlink" title="å®‰è£… requests åŒ…"></a>å®‰è£… requests åŒ…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-requests-åº“"><a href="#ä½¿ç”¨-requests-åº“" class="headerlink" title="ä½¿ç”¨ requests åº“"></a>ä½¿ç”¨ requests åº“</h2><h3 id="1-Get-è¯·æ±‚"><a href="#1-Get-è¯·æ±‚" class="headerlink" title="1.Get è¯·æ±‚"></a>1.Get è¯·æ±‚</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests <span class="comment"># å¯¼å…¥requestsåº“</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_test</span>():</span></span><br><span class="line">    ques = <span class="string">&quot;ä»Šæ—¥å¤©æ°”&quot;</span> <span class="comment"># è®¾ç½®é—®é¢˜ä¸º&quot;ä»Šæ—¥å¤©æ°”&quot;</span></span><br><span class="line">    url = <span class="string">&quot;http://127.0.0.1:8080/chat?q=&quot;</span> + ques  <span class="comment"># æ„å»ºè¯·æ±‚çš„URL</span></span><br><span class="line">    response = requests.get(url) <span class="comment"># å‘é€GETè¯·æ±‚</span></span><br><span class="line">    result = response.json()  <span class="comment"># å°†å“åº”å†…å®¹è§£æä¸ºJSONæ ¼å¼</span></span><br><span class="line">    <span class="comment"># result = response.text</span></span><br><span class="line">    <span class="built_in">print</span>(result)  <span class="comment"># æ‰“å°ç»“æœ</span></span><br><span class="line"></span><br><span class="line">get_test()</span><br></pre></td></tr></table></figure><p>ç”¨æ³•å¾ˆç®€å•ï¼Œä¸»è¦çœ‹è¯·æ±‚è¿”å›çš„æ•°æ®ï¼Œå¦‚æœæ˜¯ jsonæ ¼å¼çš„ï¼Œå°±ç”¨ <code>result = response.json()</code> ç›´æ¥å¾—åˆ° jsonæ ¼å¼æ•°æ®ï¼Œå†çœ‹å…·ä½“éœ€è¦å“ªä¸€é¡¹ã€‚å¦‚æœä¸æ˜¯ json æ ¼å¼ï¼Œç›´æ¥ç”¨ <code>result = response.text</code> æ–‡æœ¬æ ¼å¼å°±è¡Œã€‚</p><h3 id="2-Post-è¯·æ±‚"><a href="#2-Post-è¯·æ±‚" class="headerlink" title="2.Post è¯·æ±‚"></a>2.Post è¯·æ±‚</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_test</span>():</span></span><br><span class="line">    url = <span class="string">&quot;http://127.0.0.1:8080/chat&quot;</span></span><br><span class="line">    response = requests.post(url, data=&#123;<span class="string">&#x27;question&#x27;</span>: <span class="string">&#x27;ä»Šå¤©å¤©æ°”&#x27;</span>&#125;) <span class="comment"># è®¾ç½®é—®é¢˜ä¸º&quot;ä»Šæ—¥å¤©æ°”&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(response.status_code) <span class="comment"># å“åº”çŠ¶æ€ç </span></span><br><span class="line">    <span class="keyword">if</span> (response.status_code == <span class="number">200</span>): <span class="comment"># çŠ¶æ€ç 200æ—¶ï¼Œè¡¨ç¤ºæ­£å¸¸</span></span><br><span class="line">        result = response.json()</span><br><span class="line">        <span class="built_in">print</span>((result[<span class="string">&quot;answer&quot;</span>])) <span class="comment"># å“åº”å†…å®¹ä¸­å¯¹åº” &quot;answer&quot;çš„å€¼</span></span><br><span class="line"></span><br><span class="line">post_test()</span><br></pre></td></tr></table></figure><p>å¦‚æœè°ƒç”¨APIæ¥å£ï¼Œä¸€èˆ¬æ²¡å•¥é—®é¢˜ï¼Œä½†å¦‚æœæ˜¯è‡ªå·±å†™çš„æ¥å£ï¼Œå¯èƒ½å°±ä¼šç¢°åˆ°<mark>è¿”å›çš„ç»“æœæœ‰ä¹±ç </mark>çš„é—®é¢˜ã€‚</p><p>ç”¨Pythonçš„Webæ¡†æ¶ï¼ˆBottleæˆ–Flaskï¼‰å†™æ¥å£çš„æ—¶å€™ï¼Œå°±ç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œè§£å†³æ–¹æ³•ï¼š<a href="/2023/06/29/Python%E5%86%99%E6%8E%A5%E5%8F%A3%E6%97%B6%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/" title="Python å†™æ¥å£æ—¶ç¼–ç é—®é¢˜">Python å†™æ¥å£æ—¶ç¼–ç é—®é¢˜</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Bottleæ¡†æ¶ä½¿ç”¨ä¸¾ä¾‹</title>
      <link href="/2023/06/27/Python-Bottle%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/"/>
      <url>/2023/06/27/Python-Bottle%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>æƒ³å†™ä¸ªç®€å•çš„Getè¯·æ±‚å’ŒPostè¯·æ±‚çš„æ¥å£ï¼Œå› ä¸ºåŠŸèƒ½ä¸Šéƒ½å¾ˆç®€å•ï¼Œæ‰€ä»¥æƒ³æ‰¾ä¸ªå°å‹çš„Webæ¡†æ¶ï¼ŒåŸæ¥ä¸€ç›´ç”¨çš„Flaskï¼Œç„¶åçœ‹åˆ°äº†Bottleã€‚</p><p>Bottle æ˜¯ä¸€ä¸ªç®€å•è€Œå¿«é€Ÿçš„å¾®å‹Webæ¡†æ¶ï¼Œå®ƒåªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ²¡æœ‰å¤–éƒ¨ä¾èµ–ã€‚é€‚åˆå°å‹é¡¹ç›®å’Œå¿«é€ŸåŸå‹å¼€å‘ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ„å»ºAPIå’Œå¾®æœåŠ¡ã€‚é€‚åˆåˆå­¦è€…å’Œå°å‹é¡¹ç›®ä½¿ç”¨ã€‚</p><p>å®˜æ–¹æ–‡æ¡£åŸæ–‡ï¼š</p><blockquote><p>Bottle is a fast, simple and lightweight WSGI micro web-framework for Python. It is distributed as a single file module and has no dependencies other than the Python Standard Library.</p><p>Bottleæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€å•ã€è½»é‡çº§çš„WSGIå¾®Webæ¡†æ¶ï¼Œé€‚ç”¨äºPythonã€‚å®ƒæ˜¯ä½œä¸ºå•ä¸ªæ–‡ä»¶æ¨¡å—åˆ†å‘çš„ï¼Œé™¤äº†Pythonæ ‡å‡†åº“ä¹‹å¤–æ²¡æœ‰å…¶ä»–ä¾èµ–é¡¹ã€‚</p></blockquote><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://bottlepy.org/docs/dev/" >https://bottlepy.org/docs/dev/<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="å®‰è£…-Bottle"><a href="#å®‰è£…-Bottle" class="headerlink" title="å®‰è£… Bottle"></a>å®‰è£… Bottle</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install bottle</span><br></pre></td></tr></table></figure><p>å®‰è£…äº†ä¸‹ï¼Œä¸€çœ‹è¿™ä¸ªåŒ…æœç„¶å¤Ÿå°äº†ã€‚</p><h2 id="Python-ä¸¾ä¾‹"><a href="#Python-ä¸¾ä¾‹" class="headerlink" title="Python ä¸¾ä¾‹"></a>Python ä¸¾ä¾‹</h2><p>åŸæ¥ç”¨è¿‡Flaskçš„è¯ï¼Œå°±æ›´ç®€å•äº†ï¼Œä¹Ÿæ˜¯è·¯ç”±ã€è§†å›¾é‚£ä¸€å¥—ã€‚</p><p>ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> Bottle</span><br><span class="line"></span><br><span class="line">app = Bottle()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/n/&lt;name&gt;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greet</span>(<span class="params">name</span>):</span></span><br><span class="line">    result = <span class="string">&quot;Hello, &#123;&#125;!&quot;</span>.<span class="built_in">format</span>(name)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">8080</span>)</span><br></pre></td></tr></table></figure><ul><li>1.é¦–å…ˆï¼Œç„¶ååˆ›å»ºäº†ä¸€ä¸ªBottleå®ä¾‹ï¼Œ<code>app = Bottle()</code> ï¼›</li><li>2.ç”¨routeè£…é¥°å™¨å®šä¹‰äº†ä¸¤ä¸ªè·¯ç”±ã€‚ç¬¬ä¸€ä¸ªè·¯ç”±å¤„ç†æ ¹è·¯å¾„<code>/</code>ï¼Œè¿”å›â€Hello, World!â€ã€‚ç¬¬äºŒä¸ªè·¯ç”±å¤„ç†å½¢å¦‚<code>/n/&lt;name&gt;</code>çš„è·¯å¾„ï¼Œå…¶ä¸­nameæ˜¯ä¸€ä¸ªåŠ¨æ€å‚æ•°ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­ä½¿ç”¨ã€‚</li><li>3.æœ€åï¼Œé€šè¿‡è°ƒç”¨runå‡½æ•°æ¥è¿è¡Œåº”ç”¨ç¨‹åºï¼ŒæŒ‡å®šä¸»æœºå’Œç«¯å£ã€‚</li></ul><p>å½“è¿è¡Œä¸Šè¿°ä»£ç åï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Bottle v0.12.25 server starting up (using WSGIRefServer())...</span><br><span class="line">Listening on http:&#x2F;&#x2F;localhost:8080&#x2F;</span><br><span class="line">Hit Ctrl-C to quit.</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>http://localhost:8080/</code> æ ¹è·¯å¾„æ—¶ï¼Œä¼šæ˜¾ç¤ºâ€Hello, World!â€ï¼›<br>è®¿é—® <code>http://localhost:8080/n/John</code> çš„è·¯å¾„æ—¶ï¼Œä¼šæ˜¾ç¤ºâ€Hello, John!â€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ChatGPTæç¤ºè¯ã€ç¬”è®°ã€‘</title>
      <link href="/2023/06/17/ChatGPT%E6%8F%90%E7%A4%BA%E8%AF%8D-%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/06/17/ChatGPT%E6%8F%90%E7%A4%BA%E8%AF%8D-%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>çœ‹äº†DeepLearning.ai è”åˆ OpenAI æ¨å‡ºã€Šé¢å‘å¼€å‘è€…çš„ ChatGPT æç¤ºå·¥ç¨‹ã€‹æ•™ç¨‹ã€‚<br>è®²å¸ˆæ˜¯ DeepLearning åˆ›å§‹äººå´æ©è¾¾ä»¥åŠ OpenAI å¼€å‘è€… Isa Fulfordã€‚</p><p>Bç«™æœ‰è§†é¢‘åŠ äº†ä¸­æ–‡å­—å¹•ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1s24y1F7eq/?vd_source=7b206824d261f356cd0389d937705d37" >ChatGPT æç¤ºå·¥ç¨‹æ•™ç¨‹<i class="fas fa-external-link-alt"></i></a></p><p>ç„¶ååˆçœ‹äº†ã€æ–¹ç³–GPTè¯¾ã€‘ï¼ˆä»˜è´¹è¯¾ç¨‹ï¼‰ä¸­å¯¹äºä¸Šé¢æ•™ç¨‹ä¸­æç¤ºè¯çš„ä¸¾ä¾‹ã€‚</p><p>å°±é¡ºä¾¿è®°ä¸€ä¸‹ç¬”è®°ã€‚</p><a id="more"></a><h2 id="ä¸¤å¤§åŸåˆ™ï¼å…­æ¡ç­–ç•¥"><a href="#ä¸¤å¤§åŸåˆ™ï¼å…­æ¡ç­–ç•¥" class="headerlink" title="ä¸¤å¤§åŸåˆ™ï¼å…­æ¡ç­–ç•¥"></a>ä¸¤å¤§åŸåˆ™ï¼å…­æ¡ç­–ç•¥</h2><h3 id="åŸåˆ™ä¸€ï¼šç¼–å†™æ¸…æ™°å…·ä½“çš„æŒ‡ä»¤"><a href="#åŸåˆ™ä¸€ï¼šç¼–å†™æ¸…æ™°å…·ä½“çš„æŒ‡ä»¤" class="headerlink" title="åŸåˆ™ä¸€ï¼šç¼–å†™æ¸…æ™°å…·ä½“çš„æŒ‡ä»¤"></a>åŸåˆ™ä¸€ï¼šç¼–å†™æ¸…æ™°å…·ä½“çš„æŒ‡ä»¤</h3><ul><li>ä½¿ç”¨<mark>ç•Œå®šç¬¦</mark>åˆ’åˆ†è¾“å…¥åŒºåŸŸã€‚ä¾‹å¦‚ï¼š&lt;&gt;ï¼Œ```</li><li>ç»“æ„åŒ–è¾“å‡ºã€‚ä¾‹å¦‚ï¼š<mark>JSON</mark>ï¼Œ<mark>HTML</mark></li><li>æ‰§è¡Œæ—¶éšæ—¶<mark>æ£€æŸ¥æ¡ä»¶</mark>åå†ç»§ç»­</li><li><mark>å°‘é‡</mark>ä¸¾ä¾‹</li></ul><p>åŸæ–‡ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/chatgpt_prompt_1.png"                      style="zoom: 50%;"                ></p><p><strong>ä¸¾ä¾‹ï¼š</strong></p><ul><li>1).ä½¿ç”¨ç¿»è¯‘çš„å†…å®¹ç”¨``` åŒ…è£¹</li><li>2).ä»¥JSONæ ¼å¼è¿”å›</li><li>3).ä¸¾ä¾‹äº†JSONæ ¼å¼è¿”å›çš„æ ·ä¾‹<img                       lazyload                     src="/images/loading.svg"                     data-src="/img/chatgpt_prompt_2.png"                      style="zoom: 100%;"                ></li></ul><h3 id="åŸåˆ™äºŒï¼šç»™æ¨¡å‹æ—¶é—´æ€è€ƒ"><a href="#åŸåˆ™äºŒï¼šç»™æ¨¡å‹æ—¶é—´æ€è€ƒ" class="headerlink" title="åŸåˆ™äºŒï¼šç»™æ¨¡å‹æ—¶é—´æ€è€ƒ"></a>åŸåˆ™äºŒï¼šç»™æ¨¡å‹æ—¶é—´æ€è€ƒ</h3><ul><li>æŒ‡å®šå®Œæˆä»»åŠ¡çš„<mark>å…·ä½“æ­¥éª¤</mark></li><li>æç¤ºæ¨¡å‹åœ¨å¾—å‡ºç»“è®ºå‰<mark>åˆ¶å®šè‡ªå·±çš„è§£å†³æ–¹æ¡ˆ</mark></li></ul><p>åŸæ–‡ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/chatgpt_prompt_3.png"                      style="zoom: 50%;"                ></p><p><strong>ä¸¾ä¾‹ï¼š</strong></p><ul><li>æŒ‡å®šå®Œæˆä»»åŠ¡çš„å…·ä½“æ­¥éª¤<img                       lazyload                     src="/images/loading.svg"                     data-src="/img/chatgpt_prompt_4.png"                      style="zoom: 100%;"                ></li></ul><p>å¿…è¦æ—¶å¯ä»¥ç”¨<mark>ä¼ªä»£ç </mark>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> AI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ChatGPT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCodeé…ç½®C++è¿è¡Œç¯å¢ƒ</title>
      <link href="/2023/05/16/VSCode%E9%85%8D%E7%BD%AEC-%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83/"/>
      <url>/2023/05/16/VSCode%E9%85%8D%E7%BD%AEC-%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<p>ä¸ºä»€ä¹ˆè¦åœ¨VS Codeé‡Œé…ç½®C++ç¼–è¯‘çš„ç¯å¢ƒå‘¢ï¼Ÿå› ä¸ºåŸæ¥ç”¨çš„VS Codeå†™Pythonï¼Œå°±æ˜¯ç”¨ä¹ æƒ¯äº†ï¼Œæ„Ÿè§‰VS Codeçš„UIå‡çº§åå¾ˆå¥½çœ‹ï¼Œåæ­£ç”¨ç€å„ç§èˆ’æœã€‚</p><p>è€Œä¸”ï¼Œè¿è¡ŒC++ä¹Ÿä¸ç”¨æ¥å¼€å‘ä»€ä¹ˆé¡¹ç›®ï¼Œåªæ˜¯æ–¹ä¾¿æµ‹è¯•ä¸€ç‚¹ç®€å•çš„ä»£ç ï¼Œæ‰€ä»¥å¯¹æˆ‘æ¥è¯´ï¼Œå°±å¤Ÿç”¨äº†ã€‚</p><p>VS Codeå®˜æ–¹ä¹Ÿæœ‰é…ç½®çš„æ•™ç¨‹ï¼š<a class="link"   href="https://code.visualstudio.com/docs/cpp/config-mingw" >https://code.visualstudio.com/docs/cpp/config-mingw<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><p>ä¸»è¦åˆ†3æ­¥ï¼š</p><ul><li>åœ¨VS Codeä¸­å®‰è£…C++æ‰©å±•ï¼›</li><li>ä¸‹è½½å®‰è£… mingw-w64ï¼ˆå¸¦gcc c++çš„ç¼–è¯‘å™¨å’Œgdbè°ƒè¯•å™¨ï¼‰ï¼›</li><li>VS Codeä¸­é…ç½®ã€‚</li></ul><h3 id="1-åœ¨VS-Codeä¸­å®‰è£…C-æ‰©å±•"><a href="#1-åœ¨VS-Codeä¸­å®‰è£…C-æ‰©å±•" class="headerlink" title="1.åœ¨VS Codeä¸­å®‰è£…C++æ‰©å±•"></a>1.åœ¨VS Codeä¸­å®‰è£…C++æ‰©å±•</h3><p>ç›´æ¥åœ¨VS Codeçš„æ‰©å±•ä¸­æœ C++ å°±èƒ½æ‰¾åˆ° <code>C/C++ for Visual Studio Code</code>ï¼Œç›´æ¥å®‰è£…å°±è¡Œã€‚</p><h3 id="2-ä¸‹è½½å®‰è£…-mingw-w64"><a href="#2-ä¸‹è½½å®‰è£…-mingw-w64" class="headerlink" title="2.ä¸‹è½½å®‰è£… mingw-w64"></a>2.ä¸‹è½½å®‰è£… mingw-w64</h3><p>å®˜ç½‘ä¸‹è½½ï¼š<a class="link"   href="https://www.mingw-w64.org/downloads/#mingw-builds" >https://www.mingw-w64.org/downloads/#mingw-builds<i class="fas fa-external-link-alt"></i></a></p><p>Windwosç³»ç»ŸæŒ‰ä¸Šé¢çš„æç¤ºï¼Œå¯ä»¥ç›´æ¥è¿›å…¥winlibsä¸‹è½½ï¼š<a class="link"   href="https://winlibs.com/" >https://winlibs.com/<i class="fas fa-external-link-alt"></i></a></p><p>æ‰¾åˆ° Release versions -&gt; UCRT runtime ï¼Œæ¯”å¦‚æˆ‘è¿™ä¸‹è½½æœ€æ–°çš„ gcc 13.1.0ï¼Œwin64ç‰ˆæœ¬ï¼Œç›´æ¥ä¸‹è½½ç¬¬1ä¸ª 7-Zip archiveã€‚</p><p>ä¸‹è½½å¥½åï¼Œå¾—åˆ°å‹ç¼©åŒ…ï¼šwinlibs-x86_64-mcf-seh-gcc-13.1.0-llvm-16.0.2-mingw-w64ucrt-11.0.0-r1.7z</p><p>ç›´æ¥è§£å‹ï¼Œæ¯”å¦‚æ”¾åœ¨Dç›˜ï¼Œè§£å‹åå¾—åˆ°ï¼š<code>D:\mingw64</code>ç›®å½•ï¼Œè§£å‹å³å¯ï¼Œä¸éœ€è¦å®‰è£…ã€‚</p><p>PS.åœ¨winlibsä¸Šä¸‹è½½ï¼Œå…¶å®æ˜¯ä¸‹è½½çš„githubä¸Šçš„ï¼Œæ‰€ä»¥å¦‚æœä¸èƒ½è®¿é—®githubçš„è¯ï¼Œå¯èƒ½å°±ä¸è¡Œäº†ï¼Œå»åˆ«çš„åœ°æ–¹ä¸‹è½½å§ã€‚</p><p><strong>æ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</strong></p><p>æŠŠ <code>D:\mingw64\bin</code> ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ã€‚</p><p>æµ‹è¯•ï¼Œæ‰“å¼€Windows PowerShellæˆ–è€…å‘½ä»¤æç¤ºç¬¦ï¼Œä¾æ¬¡è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gcc --version</span><br><span class="line">g++ --version</span><br><span class="line">gdb --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾æ¬¡ç»“æœèƒ½çœ‹åˆ°ç‰ˆæœ¬å·å°±è¡¨ç¤ºå¯ä»¥ç”¨äº†ã€‚</span></span><br><span class="line">gcc.exe (MinGW-W64 x86_64-ucrt-mcf-seh, built by Brecht Sanders) 13.1.0</span><br><span class="line">â€¦â€¦</span><br><span class="line">g++.exe (MinGW-W64 x86_64-ucrt-mcf-seh, built by Brecht Sanders) 13.1.0</span><br><span class="line">â€¦â€¦</span><br><span class="line">GNU gdb (GDB <span class="keyword">for</span> MinGW-W64 x86_64, built by Brecht Sanders) 13.1</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure><h3 id="3-VS-Codeä¸­é…ç½®"><a href="#3-VS-Codeä¸­é…ç½®" class="headerlink" title="3.VS Codeä¸­é…ç½®"></a>3.VS Codeä¸­é…ç½®</h3><p>1).åœ¨VS Codeä¸­æ‰“å¼€ä¸€ä¸ªé¡¹ç›®ç›®å½•ï¼Œæ·»åŠ ä¸€ä¸ª test.cpp æ–‡ä»¶ã€‚</p><p>æ·»åŠ ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Hello, world!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2).ç‚¹å‡»ç¼–è¾‘å™¨å³ä¸Šè§’çš„è¿è¡ŒæŒ‰é’®ã€‚</p><p>åœ¨ç¼–è¯‘å™¨åˆ—è¡¨ä¸­é€‰æ‹© <code>C/C++: g++.exe build and debug active fileï¼ˆç”Ÿæˆå’Œè°ƒè¯•æ´»åŠ¨æ–‡ä»¶ï¼‰ </code></p><p>åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œ test.cpp æ—¶æ‰ä¼šè¦æ±‚é€‰æ‹©ç¼–è¯‘å™¨ã€‚æ­¤ç¼–è¯‘å™¨å°†è¢«è®¾ç½®ä¸º tasks.json æ–‡ä»¶ä¸­çš„â€œé»˜è®¤â€ç¼–è¯‘å™¨ã€‚</p><p>ç¼–è¯‘æˆåŠŸåï¼Œç»“æœå°±è¾“å‡ºåœ¨é›†æˆçš„ç»ˆç«¯ä¸­äº†ã€‚</p><p>ç¬¬ä¸€æ¬¡è¿è¡Œç¨‹åºæ—¶ï¼ŒC++æ‰©å±•ä¼šåˆ›å»º tasks.json ï¼Œå­˜å‚¨ç”Ÿæˆçš„é…ç½®ã€‚æ–‡ä»¶åœ¨é¡¹ç›®çš„ .vscode æ–‡ä»¶å¤¹ä¸­ã€‚</p><p>3).è°ƒè¯•</p><p>Debugæ¨¡å¼è¿˜æ˜¯ä¸€æ ·çš„ç”¨æ³•ï¼Œè·Ÿè¿è¡Œpythonæ²¡å•¥åŒºåˆ«äº†ã€‚</p><p>é…ç½®å¥½ç¼–è¯‘å™¨åï¼Œæ„Ÿè§‰ä¹Ÿæ²¡å•¥åŒºåˆ«äº†ã€‚ä¸è¿‡gccä¸åŒç‰ˆæœ¬ä¼šæœ‰ä»€ä¹ˆå·®è·ï¼Œè¿˜ä¸çŸ¥é“ã€‚å› ä¸ºæˆ‘ç”¨çš„ä¼šæ¯”è¾ƒå°‘ï¼Œåªæ˜¯æµ‹è¯•ä¸€äº›åŸºç¡€ä»£ç ï¼Œåº”è¯¥æ²¡å•¥å…³ç³»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> VSCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VSCode </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Flaskä½¿ç”¨æ­£åˆ™ æ¨¡ç³ŠæŸ¥è¯¢æ‰‹æœºå·</title>
      <link href="/2023/05/10/Python-Flask%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%E6%89%8B%E6%9C%BA%E5%8F%B7/"/>
      <url>/2023/05/10/Python-Flask%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%E6%89%8B%E6%9C%BA%E5%8F%B7/</url>
      
        <content type="html"><![CDATA[<p>Flaskå†™äº†ä¸ªé¡µé¢ï¼Œç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ‰‹æœºå·å¯¹åº”çš„ä¿¡æ¯ã€‚</p><p>æˆ‘æƒ³æŸ¥è¯¢çš„å°±ä¸¤ç§æƒ…å†µã€‚</p><ul><li>ç²¾ç¡®æŸ¥è¯¢</li><li>æ¨¡ç³ŠæŸ¥è¯¢ï¼ˆåˆ†ä¸¤ç§ï¼Œå·ç ä¸å…¨å’Œå¸¦<code>*</code>å·çš„ï¼‰</li></ul><a id="more"></a><p>ç²¾ç¡®æŸ¥è¯¢å°±ä¸ç”¨è¯´äº†ï¼Œä¸»è¦è¯´ä¸€ä¸‹ä¸¤ç§æ¨¡ç³ŠæŸ¥è¯¢çš„æƒ…å†µã€‚</p><p><strong>ç¬¬ä¸€ç§ï¼šå·ç ä¸å…¨çš„ï¼ˆä¸è¶³11ä½ï¼‰</strong></p><p>åœ¨Flaskä¸­ï¼Œæ•°æ®åº“ç”¨çš„æ˜¯SQLAlchemyç±»ï¼Œæ‰€ä»¥æ²¡æœ‰ç›´æ¥å†™sqlè¯­å¥æŸ¥è¯¢ã€‚ç”¨likeå°±è¡Œäº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query_string = <span class="string">&#x27;13606735&#x27;</span></span><br><span class="line">users = User.query.<span class="built_in">filter</span>(User.phone.like(<span class="string">f&#x27;%<span class="subst">&#123;query_string&#125;</span>%&#x27;</span>)).<span class="built_in">all</span>()</span><br><span class="line"><span class="built_in">print</span>(users)</span><br></pre></td></tr></table></figure><p><strong>ç¬¬äºŒç§ï¼šå¸¦<code>*</code>å·çš„</strong></p><p>æˆ‘è¿™é‡Œæ˜¯å›ºå®šçš„æ ¼å¼ï¼Œæ˜¾ç¤ºå‰3ä½å’Œå3ä½ï¼Œä¸­é—´ä¸€ä¸²<code>*</code>å·ã€‚æ¯”å¦‚ï¼š<code>136*******322</code></p><p>æ€è·¯ï¼š</p><ul><li>å…ˆæŠŠå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œè·å–å‰3ä½å’Œå3ä½ï¼›</li><li>å†æŠŠæ­£åˆ™è¡¨è¾¾å¼çš„æŸ¥è¯¢æ¡ä»¶regexæ‹¼å‡ºæ¥ï¼›</li><li>æœ€ååœ¨filterä¸­ç”¨ç”¨textå°±è¡Œäº†ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> text</span><br><span class="line"></span><br><span class="line">query_string = <span class="string">&#x27;136*******322&#x27;</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;*&#x27;</span> <span class="keyword">in</span> query_string:</span><br><span class="line"><span class="comment"># åˆ‡å‰²ç”µè¯å·ç </span></span><br><span class="line">phone_prefix = query_string[:<span class="number">3</span>]  <span class="comment"># è·å–å‰3ä½</span></span><br><span class="line">phone_suffix = query_string[-<span class="number">3</span>:]  <span class="comment"># è·å–å3ä½</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢ä»¥136å¼€å¤´æ‰‹æœºå·ç çš„ç”¨æˆ·ï¼Œè¿™é‡Œçš„phoneæ˜¯å¯¹åº”çš„å­—æ®µå</span></span><br><span class="line"><span class="comment"># users = User.query.filter(text(&quot;phone REGEXP &#x27;^136&#x27;&quot;)).params(regex=regex).all()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„é€ æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢æ¡ä»¶ &quot;^[1][3][6][0-9]&#123;5&#125;[3][2][2]$&quot;</span></span><br><span class="line">regex = <span class="string">f&#x27;^[<span class="subst">&#123;phone_prefix[<span class="number">0</span>]&#125;</span>][<span class="subst">&#123;phone_prefix[<span class="number">1</span>]&#125;</span>][<span class="subst">&#123;phone_prefix[<span class="number">2</span>]&#125;</span>][0-9]&#123;&#123;5&#125;&#125;[<span class="subst">&#123;phone_suffix[<span class="number">0</span>]&#125;</span>][<span class="subst">&#123;phone_suffix[<span class="number">1</span>]&#125;</span>][<span class="subst">&#123;phone_suffix[<span class="number">2</span>]&#125;</span>]$&#x27;</span></span><br><span class="line"><span class="comment"># print(regex)  # ^[1][3][6][0-9]&#123;5&#125;[3][2][2]$</span></span><br><span class="line">users = User.query.<span class="built_in">filter</span>(text(<span class="string">&quot;phone REGEXP :regex&quot;</span>)).params(regex=regex).<span class="built_in">all</span>()</span><br><span class="line"><span class="built_in">print</span>(users)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯¹åº”ç›´æ¥ç”¨sqlè¯­å¥æŸ¥è¯¢çš„è¯æ˜¯ï¼š<br><code>select * from users where phone REGEXP &quot;^[1][3][6][0-9]&#123;5&#125;[3][2][2]$&quot;</code></p><p>å®Œæˆä¸€ç‚¹çš„ä»£ç ç‰‡å°±æ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template, request</span><br><span class="line"><span class="keyword">from</span> flask_sqlalchemy <span class="keyword">import</span> SQLAlchemy</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> text</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">query_test</span>():</span></span><br><span class="line">    query_tel = <span class="string">&#x27;136*******322&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(query_tel) == <span class="number">11</span> <span class="keyword">and</span> query_tel.isdigit():</span><br><span class="line">        <span class="comment"># ç²¾ç¡®æŸ¥è¯¢ 13676666322</span></span><br><span class="line">        user = User.query.filter_by(phone=query_tel).first()</span><br><span class="line">        <span class="built_in">print</span>(user)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># æ¨¡ç³ŠæŸ¥è¯¢ 136*******322</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;*&#x27;</span> <span class="keyword">in</span> query_tel:</span><br><span class="line">            <span class="comment"># åˆ‡å‰²ç”µè¯å·ç </span></span><br><span class="line">            phone_prefix = query_tel[:<span class="number">3</span>]  <span class="comment"># è·å–å‰3ä½</span></span><br><span class="line">            phone_suffix = query_tel[-<span class="number">3</span>:]  <span class="comment"># è·å–å3ä½</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢ä»¥136å¼€å¤´æ‰‹æœºå·ç çš„ç”¨æˆ·</span></span><br><span class="line">            <span class="comment"># users = User.query.filter(text(&quot;phone REGEXP &#x27;^136&#x27;&quot;)).params(regex=regex).all()</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># æ„é€ æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢æ¡ä»¶ &quot;^[1][3][6][0-9]&#123;5&#125;[3][2][2]$&quot;</span></span><br><span class="line">            regex = <span class="string">f&#x27;^[<span class="subst">&#123;phone_prefix[<span class="number">0</span>]&#125;</span>][<span class="subst">&#123;phone_prefix[<span class="number">1</span>]&#125;</span>][<span class="subst">&#123;phone_prefix[<span class="number">2</span>]&#125;</span>][0-9]&#123;&#123;5&#125;&#125;[<span class="subst">&#123;phone_suffix[<span class="number">0</span>]&#125;</span>][<span class="subst">&#123;phone_suffix[<span class="number">1</span>]&#125;</span>][<span class="subst">&#123;phone_suffix[<span class="number">2</span>]&#125;</span>]$&#x27;</span></span><br><span class="line">            <span class="built_in">print</span>(regex)  <span class="comment"># ^[1][3][6][0-9]&#123;5&#125;[3][2][2]$</span></span><br><span class="line">            users = User.query.<span class="built_in">filter</span>(text(<span class="string">&quot;phone REGEXP :regex&quot;</span>)).params(regex=regex).<span class="built_in">all</span>()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            users = User.query.<span class="built_in">filter</span>(User.phone.like(<span class="string">f&#x27;%<span class="subst">&#123;query_tel&#125;</span>%&#x27;</span>)).<span class="built_in">all</span>()</span><br><span class="line">        <span class="built_in">print</span>(users)</span><br><span class="line"></span><br><span class="line">query_test()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 Dockerå¯åŠ¨å®¹å™¨æ—¶ï¼Œç«¯å£è«åæ²¡æƒé™è¢«æ‹’ç»</title>
      <link href="/2023/05/10/Win10%E7%AB%AF%E5%8F%A3%E8%8E%AB%E5%90%8D%E8%A2%AB%E6%8B%92%E7%BB%9D%E9%97%AE%E9%A2%98/"/>
      <url>/2023/05/10/Win10%E7%AB%AF%E5%8F%A3%E8%8E%AB%E5%90%8D%E8%A2%AB%E6%8B%92%E7%BB%9D%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Win10ç³»ç»Ÿä¸­ï¼Œè£…äº†Docker desktopï¼Œå¯åŠ¨å®¹å™¨çš„æ—¶å€™ï¼Œçªç„¶æç¤ºâ€Permission deniedâ€ äº†ã€‚</p><p>ä¹‹å‰è¿˜æ­£å¸¸çš„ï¼Œçªç„¶æŸæ¬¡å¼€æœºåï¼Œå°±æç¤ºæ˜ å°„çš„ç«¯å£æ²¡æœ‰æƒé™ï¼Œè¢«æ‹’ç»äº†ã€‚</p><p>è¾“å…¥ <code>netstat -ano | findstr &quot;50000&quot;</code> æŸ¥çœ‹ç«¯å£å ç”¨ä¿¡æ¯æ—¶ï¼Œå®ƒå´æ— ä»»ä½•è¾“å‡ºã€‚ç«¯å£å¹¶æ²¡è¢«å ç”¨ä½¿ç”¨ã€‚</p><p>è¿™æ˜¯æ²¡æœ‰æƒé™ç›´æ¥è¢«æ‹’ç»äº†ï¼Œå¹¶ä¸æ˜¯è¢«å ç”¨äº†ã€‚</p><p>ç„¶åç½‘ä¸ŠæŸ¥äº†ä¸‹ã€‚</p><a id="more"></a><p>æ‰¾åˆ°åŸå› ï¼š</p><blockquote><p>å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯ Windows 10 çš„è¡¥ä¸ KB4074588 ä¸­å­˜åœ¨ä¸€ä¸ªå·²çŸ¥é—®é¢˜ï¼š</p><p>å®‰è£…æ­¤æ›´æ–°åï¼Œåº”ç”¨ç¨‹åºå¯èƒ½æ— æ³•ä¿ç•™æˆ–ç»‘å®šåˆ°ä»¥å‰å·¥ä½œçš„ç«¯å£ã€‚</p><p>è¿™äº›ç«¯å£ä¼šè¢« Hyper-V æ‹¿æ¥ä¿ç•™å¤‡ç”¨ï¼Œå¤„äºå¤‡ç”¨çš„ç«¯å£æ— æ³•è¢«å…¶ä»–ç¨‹åºä½¿ç”¨ï¼Œç”¨æˆ·ç™»å½•åï¼Œç³»ç»Ÿä¼šéšæœºä¿ç•™ä¸€äº›ç«¯å£ã€‚ä½¿ç”¨ netsh interface ipv4 show excludedportrange protocol=tcp å¯ä»¥æŸ¥çœ‹è¢«ä¿ç•™çš„ç«¯å£æ®µï¼Œæ¯æ¬¡é‡å¯éƒ½æœ‰å¯èƒ½æ˜¯ä¸åŒçš„ç«¯å£ã€‚</p><p>å› æ­¤ï¼Œå½“ä½ çš„ç³»ç»Ÿå¯ç”¨ Hyper-V æˆ–å®‰è£… Dockerï¼ˆå®‰è£… Docker Desktop ä¼šå¯ç”¨ Hyper-Vï¼‰ä¹‹åï¼Œè¿™ä¸ªé—®é¢˜å¯èƒ½å°±ä¼šå‡ºç°ã€‚</p></blockquote><p><strong>1.æŸ¥çœ‹è¢«ä¿ç•™çš„ç«¯å£æ®µ</strong></p><p>æ‰€ä»¥ï¼Œå…ˆç”¨ä»¥ä¸‹å‘½ä»¤åœ¨Windows PowerShellæŸ¥çœ‹äº†ä¸‹è¢«ä¿ç•™çš„ç«¯å£æ®µï¼ŒèŒƒå›´å†…çš„ç«¯å£æ®µè¢«ä¿ç•™äº†ï¼Œå°±æ— æ³•ä½¿ç”¨äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">netsh interface ipv4 show excludedportrange protocol=tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line">åè®® tcp ç«¯å£æ’é™¤èŒƒå›´</span><br><span class="line"></span><br><span class="line">å¼€å§‹ç«¯å£    ç»“æŸç«¯å£</span><br><span class="line">----------    --------</span><br><span class="line">      5357        5357</span><br><span class="line">     14353       14452</span><br><span class="line">     14453       14552</span><br><span class="line">     14553       14652</span><br><span class="line">     14653       14752</span><br><span class="line">     14759       14858</span><br><span class="line">     50000       50059     *</span><br><span class="line"></span><br><span class="line">* - ç®¡ç†çš„ç«¯å£æ’é™¤ã€‚</span><br></pre></td></tr></table></figure><p><strong>2.æŸ¥çœ‹æŸä¸ªç«¯å£TCPæ˜¯å¦å¯ç”¨</strong></p><p>å…·ä½“æŸ¥çœ‹æŸä¸ªç«¯å£æ˜¯å¦å¯ç”¨ï¼Œå¯ä»¥ç”¨å‘½ä»¤æµ‹è¯•ï¼š<code>Test-NetConnection localhost -Port &lt;ç«¯å£å·&gt;</code></p><p>å½“çœ‹åˆ°ç»“æœ<code>TcpTestSucceeded       : False</code>ï¼ŒFalseå°±ä¸èƒ½ç”¨äº†ï¼Œå¦‚æœæ˜¯Trueå°±å¯ä»¥ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•50000ç«¯å£æ˜¯å¦å¯ç”¨</span></span><br><span class="line">Test-NetConnection localhost -Port 50000</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line">è­¦å‘Š: TCP connect to (::1 : 50000) failed</span><br><span class="line">è­¦å‘Š: TCP connect to (127.0.0.1 : 50000) failed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ComputerName           : localhost</span><br><span class="line">RemoteAddress          : ::1</span><br><span class="line">RemotePort             : 50000</span><br><span class="line">InterfaceAlias         : Loopback Pseudo-Interface 1</span><br><span class="line">SourceAddress          : ::1</span><br><span class="line">PingSucceeded          : True</span><br><span class="line">PingReplyDetails (RTT) : 0 ms</span><br><span class="line">TcpTestSucceeded       : False</span><br></pre></td></tr></table></figure><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p><p><strong>1.æœ€ç²—æš´çš„æ–¹æ³•</strong></p><p>ç›´æ¥é‡å¯ç”µè„‘ï¼Œå› ä¸ºç«¯å£ä¼šéšæœºæ”¹å˜ã€‚å¤šé‡å¯å‡ æ¬¡ï¼Œæ€»èƒ½è§£å†³çš„ã€‚<br>ä¸è¿‡ä»¥åä»æœ‰å¯èƒ½ä¼šé‡åˆ°åŒæ ·çš„é—®é¢˜ã€‚</p><p><strong>2.æ’é™¤æ‰éœ€è¦ä½¿ç”¨çš„ç«¯å£</strong></p><p>1).ç¦ç”¨ Hyper-V</p><p>2).æ·»åŠ éœ€è¦æ’é™¤çš„ç«¯å£èŒƒå›´</p><p>å¦‚ï¼š<code>netsh int ipv4 add excludedportrange protocol=tcp startport=50051 numberofports=1</code></p><p>è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯æ·»åŠ ä¸€ä¸ª TCP ç«¯å£èŒƒå›´ï¼Œå…¶ä¸­ç«¯å£ä» 50051 å¼€å§‹ï¼Œå…±è®¡ 1 ä¸ªç«¯å£ã€‚åŒæ—¶ï¼Œè¿™ä¸ªèŒƒå›´ä¸­çš„ä¸€ä¸ªç«¯å£å°†è¢«æ’é™¤ï¼Œä»¥ç¡®ä¿è¯¥ç«¯å£ä¸ä¼šè¢«å…¶ä»–åº”ç”¨ç¨‹åºå ç”¨ã€‚</p><blockquote><p>netshï¼šWindows ä¸­çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºé…ç½®ç½‘ç»œå‚æ•°ã€‚<br>int ipv4ï¼šè¡¨ç¤ºè¦é…ç½® IPv4 ç½‘ç»œæ¥å£ã€‚<br>add excludedportrangeï¼šæ·»åŠ ä¸€ä¸ªè¢«æ’é™¤çš„ç«¯å£èŒƒå›´ã€‚<br>protocol=tcpï¼šæŒ‡å®šæ’é™¤çš„æ˜¯ TCP ç«¯å£ã€‚<br>startport=50051ï¼šæŒ‡å®šæ’é™¤çš„ç«¯å£èŒƒå›´çš„èµ·å§‹ç«¯å£ä¸º 50051ã€‚<br>numberofports=1ï¼šæŒ‡å®šç«¯å£èŒƒå›´ä¸­è¦æ’é™¤çš„ç«¯å£æ•°é‡ä¸º 1ã€‚</p></blockquote><p>3).é‡æ–°å¯ç”¨ Hyper-V</p><p>PS.ç¬¬2ç§æ–¹æ³•ä¹Ÿåªæ˜¯é‡å¯ç”µè„‘å‰å¯ä»¥è§£å†³ï¼Œåªè¦é‡å¯ç”µè„‘äº†ï¼Œç«¯å£åˆéšæœºäº†ï¼Œè¿˜æ˜¯ä¼šæœ‰å¯èƒ½å†ç¢°åˆ°è¿™ä¸ªé—®é¢˜ã€‚æ‰€ä»¥ï¼Œæˆ‘å†³å®šï¼Œç›´æ¥å°±é‡å¯ç”µè„‘ç®—äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cctvå®˜ç½‘è§†é¢‘ä¸‹è½½èŠ±å±æ€ä¹ˆåŠ</title>
      <link href="/2023/03/29/cctv%E5%AE%98%E7%BD%91%E8%A7%86%E9%A2%91%E4%B8%8B%E8%BD%BD%E8%8A%B1%E5%B1%8F%E6%80%8E%E4%B9%88%E5%8A%9E/"/>
      <url>/2023/03/29/cctv%E5%AE%98%E7%BD%91%E8%A7%86%E9%A2%91%E4%B8%8B%E8%BD%BD%E8%8A%B1%E5%B1%8F%E6%80%8E%E4%B9%88%E5%8A%9E/</url>
      
        <content type="html"><![CDATA[<p>cctv.com å®˜ç½‘ä¸Šä¸‹è½½çš„è§†é¢‘ï¼ŒåŸæ¥ç”¨çŒ«æŠ“æŠŠm3u8åœ°å€æŠ“å–ï¼Œæˆ–è€…NDMè¿™æ ·çš„ä¸‹è½½å·¥å…·å°±ç›´æ¥å¯ä»¥ä¸‹è½½äº†ã€‚</p><p>å¯æ˜¯ï¼Œè§†é¢‘ä¸‹è½½å‡ºæ¥å‹æ ¹çœ‹ä¸äº†ï¼Œå°±æ˜¯èŠ±å±çš„ã€‚</p><p>ç”¨F12å·¥å…·ï¼Œåœ¨Networkä¸­æ‰¾åˆ°hls-urlåœ°å€ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªå°±æ˜¯çŒ«æŠ“ æŠ“å–åˆ°åœ°m3u8çš„åœ°å€ã€‚</p><p>è¿™ä¸ªèŠ±å±è‚¯å®šå°±æ˜¯åŠ å¯†äº†ã€‚</p><a id="more"></a><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>å…¶å®ï¼Œç”¨F12å·¥å…·ï¼Œå·²ç»æŸ¥æ‰¾åˆ°äº†ï¼Œå†å¾€ä¸‹çœ‹çœ‹å°±èƒ½æ‰¾åˆ°ã€‚</p><p>1.æŒ‰F12å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ°Networkï¼ˆç½‘ç»œï¼‰é€‰é¡¹ï¼Œå†æ‰“å¼€éœ€è¦ä¸‹è½½çš„è§†é¢‘ç½‘å€</p><p>2.ç”¨<code>vdn</code>è¿‡æ»¤ä¸€ä¸‹ï¼Œå°±æ‰¾åˆ°ä¸€ä¸ªï¼Œç„¶åç‚¹å¼€ã€Previewã€‘é€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/cctv_video_download_1.png"                      style="zoom: 75%;"                ><p>è¿™é‡Œæœ‰hls_urlï¼Œä½†è¿™ä¸ªä¸‹è½½äº†æ²¡ç”¨ï¼Œè¿˜æ˜¯èŠ±å±çš„ï¼Œé‡ç‚¹æ˜¯æœ€ä¸‹é¢è¿™é‡Œã€videoã€‘ä¸­çš„ä¿¡æ¯ï¼Œæœ‰çœŸå®æœªåŠ å¯†çš„è§†é¢‘ã€‚</p><p>3.ã€videoã€‘ä¸­è§†é¢‘é“¾æ¥</p><p>ç‚¹å¼€çœ‹ä¸€ä¸‹videoä¸­çš„å…·ä½“ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/cctv_video_download_2.png"                      style="zoom: 100%;"                ><p>ä¸åŒçš„chaptersï¼Œè‚¯å®šæ˜¯è¡¨ç¤ºä¸åŒæ¸…æ™°åº¦ä¹‹ç±»çš„ã€‚<br>durationï¼šè§†é¢‘çš„æ—¶é•¿ï¼ˆå•ä½ç§’ï¼‰ã€‚</p><blockquote><p>chaptersï¼šé‡Œé¢å°±ä¸€ä¸ªmp4è§†é¢‘ï¼Œç›´æ¥ä¸‹è½½ã€‚å‘ç°æ˜¯å®Œæ•´çš„è§†é¢‘ã€‚æ—¶é•¿æ˜¯283ç§’ã€‚</p><p>chapters2ï¼šåŒ…æ‹¬url1-1å’Œurl-2ä¸¤ä¸ªè§†é¢‘ä¸‹è½½çš„é“¾æ¥ã€‚æ˜æ˜¾çœ‹åˆ°è§†é¢‘æ—¶é•¿åˆ†åˆ«æ˜¯180ç§’å’Œ103ç§’ã€‚</p><p>lowChaptersï¼š ä¸€ä¸ªmp4è§†é¢‘ã€‚è§†é¢‘æ—¶é•¿283ç§’ã€‚</p></blockquote><p>å…¶å®çœ‹urlçš„mp4è§†é¢‘é“¾æ¥ä¹Ÿèƒ½çŒœä¸€ä¸‹ï¼Œ</p><ul><li>chapters æ˜¯ä¸€ä¸ªaac32çš„mp4è§†é¢‘ï¼›</li><li>chapters2 æ˜¯åˆ‡åˆ†æˆäº†ä¸¤ä¸ªè§†é¢‘ï¼Œä½†ä¹Ÿæ˜¯aac32ï¼Œåº”è¯¥è·Ÿç¬¬ä¸€ä¸ªè§†é¢‘æ˜¯åŒæ ·çš„æ¸…æ™°åº¦å§ï¼›</li><li>æœ€ålowChaptersï¼Œçœ‹åå­—ä¹ŸçŒœå¾—åˆ°lowçš„æ¸…æ™°åº¦å°±ä½ä¸€æ¡£äº†ã€‚çœ‹é“¾æ¥ä¸­aac16ä¹ŸçŸ¥é“äº†ã€‚</li></ul><p>æœ‰ä¸‹è½½é“¾æ¥äº†ï¼Œç›´æ¥ç”¨ä¸‹è½½å·¥å…·ä¸‹è½½å°±è¡Œäº†ã€‚æˆ–è€…æŠŠé“¾æ¥ç›´æ¥æ‰”åˆ°æµè§ˆå™¨çš„åœ°å€æ å°±å¯ä»¥æ‰“å¼€è§†é¢‘ï¼Œç›´æ¥ä¹Ÿæœ‰ä¸‹è½½çš„æŒ‰é’®å¯ä»¥ä¸‹è½½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowså®‰è£…GiteaæœåŠ¡</title>
      <link href="/2023/02/26/Windows%E5%AE%89%E8%A3%85Gitea%E6%9C%8D%E5%8A%A1/"/>
      <url>/2023/02/26/Windows%E5%AE%89%E8%A3%85Gitea%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<p>Gitea æ˜¯ä¸€ä¸ªå¼€æºç¤¾åŒºé©±åŠ¨çš„è½»é‡çº§ä»£ç æ‰˜ç®¡è§£å†³æ–¹æ¡ˆï¼Œåç«¯é‡‡ç”¨ Go ç¼–å†™ï¼Œé‡‡ç”¨ MIT è®¸å¯è¯ã€‚æ”¯æŒè·¨å¹³å°ï¼Œæ”¯æŒ Linux, macOS å’Œ Windows ä»¥åŠå„ç§æ¶æ„ã€‚</p><p>Gitea æ˜¯ä¸€ä¸ªè‡ªå·±æ‰˜ç®¡çš„GitæœåŠ¡ç¨‹åºã€‚å’ŒGitHub, Bitbucket or Gitlabç­‰æ¯”è¾ƒç±»ä¼¼ï¼Œæ˜¯ä» Gogs å‘å±•è€Œæ¥çš„ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://docs.gitea.io/zh-cn/" >https://docs.gitea.io/zh-cn/<i class="fas fa-external-link-alt"></i></a></p><p>Githubé¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/go-gitea/gitea" >https://github.com/go-gitea/gitea<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="ä¸€ã€å‡†å¤‡å·¥ä½œ"><a href="#ä¸€ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€ã€å‡†å¤‡å·¥ä½œ"></a>ä¸€ã€å‡†å¤‡å·¥ä½œ</h2><h3 id="1-å®‰è£…Git"><a href="#1-å®‰è£…Git" class="headerlink" title="1.å®‰è£…Git"></a>1.å®‰è£…Git</h3><p>Gitea æ‰§è¡Œå„é¡¹ Git æ“ä½œä¾èµ–çš„æ˜¯èƒŒåçš„ git å‘½ä»¤è¡Œå·¥å…·ï¼Œå› æ­¤åœ¨ Windows å¹³å°ä¸Šéœ€è¦å®‰è£…Gitã€‚</p><p>Git for windowsä¸‹è½½åœ°å€ï¼š<a class="link"   href="https://git-scm.com/download/win" >https://git-scm.com/download/win<i class="fas fa-external-link-alt"></i></a></p><p>ä¸€èˆ¬ç°åœ¨éƒ½æ˜¯64ä½çš„ç³»ç»Ÿï¼Œä¸‹è½½ï¼š64-bit Git for Windows Setup è¿™ä¸€ä¸ªå°±è¡Œã€‚</p><p>ä¸‹è½½æ…¢çš„è¯ï¼Œè¿˜å¯ä»¥å»è¿™ä¸‹è½½æœ€æ–°çš„Git for windowsçš„å®‰è£…åŒ…ï¼š<a class="link"   href="https://gitforwindows.org/" >https://gitforwindows.org/<i class="fas fa-external-link-alt"></i></a></p><p>ä¸‹è½½å®Œæˆåï¼Œå®‰è£…å°±è¡Œã€‚</p><p><strong>æ³¨æ„ï¼š</strong><br>å®‰è£…å®Œæˆåï¼Œçœ‹ä¸€ä¸‹ç¯å¢ƒå˜é‡ä¸­æœ‰æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œè¦æŠŠgit.exeçš„ç›®å½•è¦åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡PATHä¸­ã€‚<br>æ¯”å¦‚æˆ‘è¿™æ˜¯ï¼š<code>C:\Program Files\Git\cmd</code></p><h3 id="2-ä¸‹è½½-Gitea"><a href="#2-ä¸‹è½½-Gitea" class="headerlink" title="2.ä¸‹è½½ Gitea"></a>2.ä¸‹è½½ Gitea</h3><p>å®˜ç½‘ä¸Šè¿›å…¥ä¸‹è½½é¡µé¢ï¼š<a class="link"   href="https://dl.gitea.com/gitea/" >https://dl.gitea.com/gitea/<i class="fas fa-external-link-alt"></i></a></p><p>è¿™é‡Œä¸€èˆ¬ä¸‹è½½æœ€æ–°çš„ç¨³å®šå‘è¡Œç‰ˆæœ¬å°±è¡Œã€‚<br>çœ‹ä¸å‡ºçš„è¯ï¼Œå»é¡¹ç›®çš„releaseé¡µé¢ä¸Šçœ‹ï¼š<a class="link"   href="https://github.com/go-gitea/gitea/releases" >https://github.com/go-gitea/gitea/releases<i class="fas fa-external-link-alt"></i></a><br>å½“å‰æœ€æ–°çš„ç¨³å®šå‘è¡Œç‰ˆæœ¬æ˜¯v1.18.5ã€‚</p><p>å½“ç„¶ï¼Œåœ¨releaseé¡µé¢ä¸Šç›´æ¥ä¸‹è½½ä¹Ÿå¯ä»¥çš„ã€‚</p><p>åœ¨å®˜ç½‘çš„ä¸‹è½½é¡µé¢ä¸­å°±è¿›å…¥1.18.5çš„ç›®å½•ï¼Œå³ï¼š<a class="link"   href="https://dl.gitea.com/gitea/1.18.5/" >https://dl.gitea.com/gitea/1.18.5/<i class="fas fa-external-link-alt"></i></a></p><p>å†æ‰¾åˆ°å¸¦ windowsçš„ï¼Œ64ä½ç³»ç»Ÿç”¨amd64ï¼Œ32ä½ç”¨ 386ã€‚è‡³äºæœ‰ä¸ªxzåç¼€çš„å°±æ˜¯å‹ç¼©åŒ…ç‰ˆæœ¬ï¼Œæ— æ‰€è°“ã€‚ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½å‹ç¼©åŒ…ç‰ˆæœ¬ï¼Œå†è§£å‹ã€‚</p><p>çœ‹åˆ°æœ‰2ä¸ªé€‰é¡¹ï¼š</p><blockquote><p>gitea-1.18.5-gogit-windows-4.0-amd64.exe<br>gitea-1.18.5-windows-4.0-amd64.exe</p></blockquote><p>å¸¦gogitçš„åº”è¯¥æ˜¯æŒ‡æ˜¯å¦é›†æˆç”±goæ¥åŸç”Ÿå®ç°çš„gitï¼Œæ„Ÿè§‰ä¹Ÿæ— æ‰€è°“ï¼Œè‡ªå·±é€‰ä¸€ä¸ªä¸‹è½½å°±è¡Œã€‚</p><h2 id="äºŒã€å®‰è£…Gitea"><a href="#äºŒã€å®‰è£…Gitea" class="headerlink" title="äºŒã€å®‰è£…Gitea"></a>äºŒã€å®‰è£…Gitea</h2><p>æ¯”å¦‚ ï¼Œæˆ‘è¿™ä¸‹è½½äº† gitea-1.18.5-gogit-windows-4.0-amd64.exe å®‰è£…åŒ…ï¼Œæ”¾åœ¨ E:\Gitea ç›®å½•ä¸­ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ï¼Œç›´æ¥æŠŠæ–‡ä»¶é‡å‘½åä¸ºï¼šgitea.exe</p><h3 id="1-åŒå‡»è¿è¡Œ-gitea-exe"><a href="#1-åŒå‡»è¿è¡Œ-gitea-exe" class="headerlink" title="1.åŒå‡»è¿è¡Œ gitea.exe"></a>1.åŒå‡»è¿è¡Œ gitea.exe</h3><p>å½“ç¬¬ä¸€æ¬¡è¿è¡Œ Gitea æ—¶ï¼Œéœ€è¦æ‰“å¼€ <a class="link"   href="http://localhost:3000/" >http://localhost:3000<i class="fas fa-external-link-alt"></i></a> æ ¹æ®æŒ‡å¼•å®Œæˆ Gitea çš„åˆå§‹åŒ–å®‰è£…ã€‚<br>è¿™ä¸ªæ­¥éª¤ä¼šåˆ›å»ºé…ç½®æ–‡ä»¶å¹¶å­˜å‚¨åˆ° <code>E:\Gitea\custom\conf\app.ini</code> æ–‡ä»¶ä¸­ã€‚</p><p>å¦‚æœæœ‰é—®é¢˜ï¼Œå¯ä»¥æå‰åœ¨ <code>E:\Gitea</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª custom ç›®å½•å°±è¡Œã€‚</p><h3 id="2-åˆå§‹åŒ–å®‰è£…"><a href="#2-åˆå§‹åŒ–å®‰è£…" class="headerlink" title="2.åˆå§‹åŒ–å®‰è£…"></a>2.åˆå§‹åŒ–å®‰è£…</h3><p>æ‰“å¼€ <a class="link"   href="http://localhost:3000/" >http://localhost:3000<i class="fas fa-external-link-alt"></i></a> åï¼š</p><blockquote><p>æ•°æ®åº“ç±»å‹ï¼šSQLite3ï¼ˆè‡ªå·±ç”¨ï¼Œä¸ºäº†æ–¹ä¾¿å°±ç›´æ¥ç”¨SQLite3äº†ï¼Œä¼ä¸šä¹‹ç±»å¯ä»¥ç”¨MySQLè¿™äº›ï¼‰<br>æ•°æ®åº“æ–‡ä»¶ï¼šé»˜è®¤ã€‚ç»å¯¹è·¯å¾„åœ¨<code>E:\Gitea\data</code>ç›®å½•ä¸‹</p><p>ç«™ç‚¹åç§°ï¼šéšæ„å†™<br>ä»“åº“æ ¹ç›®å½•ï¼šé»˜è®¤<br>æ“ä½œç³»ç»Ÿç”¨æˆ·åï¼šé»˜è®¤<br>æœåŠ¡å™¨åŸŸåï¼šæœ¬æœºipï¼ˆä¾‹å¦‚ï¼š192.168.31.101ï¼‰<br>HTTPæœåŠ¡ç«¯å£ï¼š3000ï¼ˆé»˜è®¤ï¼‰<br>åŸºç¡€URLï¼š<a class="link"   href="http://192.168.31.101:3000/" >http://192.168.31.101:3000/<i class="fas fa-external-link-alt"></i></a></p><p>ç®¡ç†å‘˜è´¦å·è®¾ç½®ï¼šå¯ä»¥å…ˆæ·»åŠ ä¸€ä¸ª</p></blockquote><p>æœ€åç‚¹ç«‹å³å®‰è£…å°±è¡Œã€‚è¿™æ ·å°±åˆå§‹åŒ–å¥½äº†ã€‚</p><p>ç„¶åç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•å°±å¯ä»¥æ“ä½œäº†ã€‚</p><h2 id="ä¸‰ã€å°†Giteaæ³¨å†Œä¸ºWindowsæœåŠ¡"><a href="#ä¸‰ã€å°†Giteaæ³¨å†Œä¸ºWindowsæœåŠ¡" class="headerlink" title="ä¸‰ã€å°†Giteaæ³¨å†Œä¸ºWindowsæœåŠ¡"></a>ä¸‰ã€å°†Giteaæ³¨å†Œä¸ºWindowsæœåŠ¡</h2><p>å®˜æ–¹æ–‡æ¡£ä¸Šæœ‰è¯´ï¼š<a class="link"   href="https://docs.gitea.io/zh-cn/windows-service/" >https://docs.gitea.io/zh-cn/windows-service/<i class="fas fa-external-link-alt"></i></a></p><p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€Windows PowerShellæˆ–å‘½ä»¤æç¤ºç¬¦ ï¼ˆCMDï¼‰ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc create gitea start= auto binPath= <span class="string">&quot;\&quot;C:\gitea\gitea.exe\&quot; web --config \&quot;C:\gitea\custom\conf\app.ini\&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>å°† <code>C:\gitea</code> æ›¿æ¢æˆä½ çš„ Gitea å®‰è£…ç›®å½•ã€‚</p><p>ä½†æ˜¯ï¼Œå‘ç°ç›´æ¥è¿è¡Œçš„æ—¶å€™æœ‰ç‚¹é—®é¢˜ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘çš„ä¸ªä¾‹ï¼‰ã€‚</p><p>ç„¶åçœ‹äº†ä¸‹scå‘½ä»¤åï¼Œæ ¼å¼æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc &lt;server&gt; [<span class="built_in">command</span>] [service name] &lt;option1&gt; &lt;option2&gt;</span><br></pre></td></tr></table></figure><p>å…·ä½“ç”¨çš„æ—¶å€™ï¼Œç¬¬ä¸€æ¬¡å¯èƒ½éœ€è¦åœ¨å‘½ä»¤è¡Œè¾“å…¥Tabé”®ï¼Œç„¶åä¼šè‡ªåŠ¨è¡¥å…¨scå‘½ä»¤çš„ç”¨æ³•ï¼Œæ˜¯<code>.\sc.exe</code>ï¼Œåæ­£æŒ‰æç¤ºè¾“å…¥ã€‚</p><p>æ¯”å¦‚æˆ‘è¿™æ˜¯<code>.\sc.exe</code>ï¼Œå°±æ”¹æˆè¿™æ ·ï¼ˆæ³¨æ„ç­‰å·åé¢æœ‰ç©ºæ ¼ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\sc.exe create gitea binPath= <span class="string">&quot;E:\Gitea\gitea.exe --config E:\Gitea\custom\conf\app.ini&quot;</span> start= auto</span><br></pre></td></tr></table></figure><p>å†æ‰“å¼€ã€æœåŠ¡ã€‘å°±å¯ä»¥çœ‹åˆ° gitea è¿™é¡¹æœåŠ¡ï¼Œå¯åŠ¨ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><p>åé¢å†ç”¨è¿™ä¸ªscå‘½ä»¤çš„æ—¶å€™ï¼Œç›´æ¥ç”¨ <code>sc.exe</code>å°±è¡Œäº†ã€‚æŒ‰Tabé”®ï¼Œçœ‹è¡¥å…¨çš„æ˜¯ä¸æ˜¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨giteaæœåŠ¡ï¼ˆå¯ä»¥ç›´æ¥åœ¨ã€æœåŠ¡ã€‘ä¸­å¯åŠ¨ï¼‰</span></span><br><span class="line">sc start gitea</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»WindowsæœåŠ¡ä¸­åˆ é™¤æœåŠ¡gitea</span></span><br><span class="line">sc delete gitea</span><br></pre></td></tr></table></figure><h2 id="å››ã€åœ¨VS-Codeä¸­ä½¿ç”¨è‡ªå»ºçš„Gitea"><a href="#å››ã€åœ¨VS-Codeä¸­ä½¿ç”¨è‡ªå»ºçš„Gitea" class="headerlink" title="å››ã€åœ¨VS Codeä¸­ä½¿ç”¨è‡ªå»ºçš„Gitea"></a>å››ã€åœ¨VS Codeä¸­ä½¿ç”¨è‡ªå»ºçš„Gitea</h2><h3 id="1-å…‹éš†ä»“åº“ä»£ç "><a href="#1-å…‹éš†ä»“åº“ä»£ç " class="headerlink" title="1.å…‹éš†ä»“åº“ä»£ç "></a>1.å…‹éš†ä»“åº“ä»£ç </h3><p>åœ¨Giteaä¸­åˆ›å»ºä»“åº“åï¼Œåœ¨ã€ä¸‹è½½æ­¤ä»“åº“ã€‘çš„ä¸‹æ‹‰é€‰é¡¹ä¸­ï¼Œç›´æ¥é€‰æ‹©â€œåœ¨ VS Code ä¸­å…‹éš†â€ã€‚<br>ç„¶åè¿™ä¸ªç›®å½•å°±å¯ä»¥è¿›è¡Œç‰ˆæœ¬ç®¡ç†äº†ã€‚</p><h3 id="2-ä¿®æ”¹ã€æäº¤æ–°ä»£ç "><a href="#2-ä¿®æ”¹ã€æäº¤æ–°ä»£ç " class="headerlink" title="2.ä¿®æ”¹ã€æäº¤æ–°ä»£ç "></a>2.ä¿®æ”¹ã€æäº¤æ–°ä»£ç </h3><ul><li>ä¿®æ”¹æ–‡ä»¶ã€å†…å®¹åï¼Œåœ¨VS Codeå·¦ä¾§æœ‰ä¸ªã€æºä»£ç ç®¡ç†ã€‘çš„é€‰é¡¹ï¼ˆä¸€èˆ¬ç¬¬3ä¸ªï¼‰</li><li>ç‚¹å¼€åï¼Œç§»åŠ¨åˆ°æ›´æ”¹è¿‡çš„æ–‡ä»¶ä¸Šæ–¹ï¼Œç‚¹å‡»+å·æŒ‰é’®ï¼ˆæš‚å­˜æ›´æ”¹ï¼‰ï¼Œå¯ä»¥æ‰¹é‡é€‰ä¸­æ–‡ä»¶çš„</li><li>ç„¶ååœ¨ä¸Šé¢æ¶ˆæ¯æ¡†è¾“å…¥æ¶ˆæ¯å†…å®¹ï¼Œç‚¹å‡»â€œæäº¤â€æŒ‰é’®æäº¤</li><li>æœ€åï¼Œç‚¹å‡»â€œåŒæ­¥æ›´æ”¹â€ï¼Œå°±ä¼šæäº¤æ¨é€åˆ°ä»“åº“å»</li></ul>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Flask SQLAlchemy æ’å…¥å­—å…¸æ•°æ®æ–¹æ³•</title>
      <link href="/2023/02/12/Python-Flask-SQLAlchemy%E6%8F%92%E5%85%A5%E5%AD%97%E5%85%B8%E6%95%B0%E6%8D%AE%E6%96%B9%E6%B3%95/"/>
      <url>/2023/02/12/Python-Flask-SQLAlchemy%E6%8F%92%E5%85%A5%E5%AD%97%E5%85%B8%E6%95%B0%E6%8D%AE%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Flaskä¸­ç”¨SQLAlchemyæ¥æ’å…¥å­—å…¸æ•°æ®ï¼Œå¸¸ç”¨æ–¹æ³•å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">item = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;value&#x27;</span>: <span class="number">42.0</span>&#125;</span><br><span class="line">instance = MyModel(name=item[<span class="string">&#x27;name&#x27;</span>], value=item[<span class="string">&#x27;value&#x27;</span>])</span><br><span class="line"></span><br><span class="line">db.session.add(instance)</span><br><span class="line">db.session.commit()</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªMyModelç±»å‹çš„å®ä¾‹instanceï¼Œç„¶åç”¨addæ–¹æ³•æ·»åŠ åˆ°æ•°æ®åº“åæäº¤ä¸€ä¸‹å°±è¡Œäº†ã€‚</p><a id="more"></a><p>ç„¶åå°±æœ‰ä¸ªå°é—®é¢˜æ¥äº†ï¼Œå¦‚æœè¿™ä¸ªæ•°æ®åº“è¡¨çš„å­—æ®µæœ‰åå‡ äºŒåä¸ªï¼Œé‚£è¿™ä¸ªåˆ›å»ºå®ä¾‹çš„æ—¶å€™å°±è¦å†™åå‡ äºŒåä¸ªå‚æ•°å—ï¼Ÿè¿™ä¹Ÿå¤ªé•¿äº†ã€‚</p><p>äºæ˜¯ï¼Œæ‡’äººå°±å‘ç°äº†å¦ä¸€ä¸ª<strong>æ–¹æ³•</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">item = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;value&#x27;</span>: <span class="number">42.0</span>&#125;</span><br><span class="line">instance = MyModel(**item) <span class="comment"># å®ä¾‹åŒ–çš„æ—¶å€™è¿™é‡Œæ”¹äº†</span></span><br><span class="line"></span><br><span class="line">db.session.add(instance)</span><br><span class="line">db.session.commit()</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸ç®¡æœ‰å¤šå°‘ä¸ªå­—æ®µï¼Œå°±ç®€æ´å¤šäº†ï¼</p><p><strong>å®Œæ•´çš„ä»£ç ç¤ºä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask_sqlalchemy <span class="keyword">import</span> SQLAlchemy</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_DATABASE_URI&#x27;</span>] = <span class="string">&#x27;sqlite:///db/test.db&#x27;</span></span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_TRACK_MODIFICATIONS&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">db = SQLAlchemy(app)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyModel</span>(<span class="params">db.Model</span>):</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">80</span>))</span><br><span class="line">    value = db.Column(db.Float)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éå†åˆ—è¡¨ æ’å…¥æ•°æ®åº“è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_data</span>():</span></span><br><span class="line">    <span class="comment"># åˆ—è¡¨ä¸­çš„å­—å…¸æ•°æ®</span></span><br><span class="line">    data = [</span><br><span class="line">        &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;value&#x27;</span>: <span class="number">42.0</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;value&#x27;</span>: <span class="number">23.0</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;baz&#x27;</span>, <span class="string">&#x27;value&#x27;</span>: <span class="number">13.0</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># éå†åˆ—è¡¨ï¼Œæ˜ å°„ä¸ºæ¨¡å‹å®ä¾‹</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> data:</span><br><span class="line">        instance = MyModel(name=item[<span class="string">&#x27;name&#x27;</span>], value=item[<span class="string">&#x27;value&#x27;</span>])</span><br><span class="line">        db.session.add(instance)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æäº¤æ¨¡å‹å®ä¾‹</span></span><br><span class="line">    db.session.commit()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_data2</span>():</span></span><br><span class="line">    <span class="comment"># åˆ—è¡¨ä¸­çš„å­—å…¸æ•°æ®</span></span><br><span class="line">    data = [</span><br><span class="line">        &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;value&#x27;</span>: <span class="number">42.0</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;value&#x27;</span>: <span class="number">23.0</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;baz&#x27;</span>, <span class="string">&#x27;value&#x27;</span>: <span class="number">13.0</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> app.app_context():        </span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> data:</span><br><span class="line">                instance = instance = MyModel(**item)</span><br><span class="line">                db.session.add(instance)</span><br><span class="line">            db.session.commit()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            db.session.rollback()</span><br><span class="line">            <span class="built_in">print</span>(e)</span><br><span class="line"></span><br><span class="line"><span class="comment"># db init</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">db_init</span>():</span></span><br><span class="line">    <span class="keyword">with</span> app.app_context():</span><br><span class="line">        <span class="comment"># åˆ é™¤è¡¨</span></span><br><span class="line">        db.drop_all()</span><br><span class="line">        <span class="comment"># åˆ›å»ºè¡¨</span></span><br><span class="line">        db.create_all()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># æ•°æ®åº“åˆå§‹åŒ–</span></span><br><span class="line">    db_init()</span><br><span class="line"></span><br><span class="line">    insert_data2()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># app.run(debug=True)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>PS.æ³¨æ„ <code>&#39;sqlite:///db/test.db&#39;</code> æ•°æ®åº“è¿æ¥è¿™é‡Œï¼š</p><blockquote><p>sqliteè¿æ¥å­—ç¬¦ä¸²ä¸­çš„/æ–œæ è¯´æ˜ï¼šä¸‰æ–œæ ä¸ºç›¸å¯¹è·¯å¾„ï¼Œå››æ–œæ ä¸ºç»å¯¹è·¯å¾„<br>æ¯”å¦‚è¿™é‡Œç›¸å¯¹è·¯å¾„ test.db æ–‡ä»¶æ˜¯åœ¨å½“å‰é¡¹ç›®ç›®å½•ä¸‹çš„dbç›®å½•ä¸‹</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
            <tag> SQLAlchemy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Flaské¡µé¢å®šæ—¶åˆ·æ–°æ˜¾ç¤ºæ•°æ®</title>
      <link href="/2023/02/12/Python-Flask%E9%A1%B5%E9%9D%A2%E5%AE%9A%E6%97%B6%E5%88%B7%E6%96%B0%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE/"/>
      <url>/2023/02/12/Python-Flask%E9%A1%B5%E9%9D%A2%E5%AE%9A%E6%97%B6%E5%88%B7%E6%96%B0%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘æƒ³åšçš„æ˜¯åœ¨Flaskçš„å‰ç«¯é¡µé¢ä¸Šæ˜¾ç¤ºä¸€æ¡ä»æ•°æ®åº“è·å–è¿‡æ¥çš„æ•°æ®ï¼Œæ˜¯è¿™ä¸ªè¡¨ä¸­æœ€æ–°çš„ä¸€æ¡æ•°æ®ã€‚</p><p>å› ä¸ºæ•°æ®åº“çš„æ•°æ®æ˜¯ä¸€ç›´åœ¨åˆ·æ–°çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸Šå°±éœ€è¦å®šæ—¶æŠŠæ•°æ®ä»æ•°æ®åº“å–å‡ºæ¥ï¼Œå†æ˜¾ç¤ºå‡ºæ¥å°±è¡Œäº†ã€‚</p><a id="more"></a><p><strong>æ€è·¯ï¼š</strong></p><p>ç½‘é¡µç«¯å¯ä»¥ä½¿ç”¨ JavaScript å®ç°å®šæ—¶ä»ä¸€ä¸ªæ¥å£è·å–æ•°æ®å¹¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚</p><p>é‚£åªéœ€è¦ç”¨Flaskå†™ä¸€ä¸ªæ¥å£ï¼Œç„¶åè¿™ä¸ªæ¥å£æ˜¯è·å–æ•°æ®åº“è¡¨ä¸­çš„æœ€æ–°ä¸€æ¡æ•°æ®ã€‚<br>ç„¶åï¼Œç½‘é¡µç«¯å®šæ—¶ä»è¿™ä¸ªæ¥å£è·å–æ•°æ®å°±è¡Œäº†ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><ul><li>1.Flaskåå°å†™ä¸€ä¸ªæ¥å£ <code>/get_data</code>ï¼Œè·å–æ•°æ®åº“è¡¨ä¸­æœ€æ–°ä¸€æ¡æ•°æ®ï¼Œè¿”å› jsonæ ¼å¼çš„æ•°æ®ï¼›</li><li>2.ç½‘é¡µå‰ç«¯æŠŠ jsonæ ¼å¼çš„æ•°æ®æ˜¾ç¤ºå‡ºæ¥ï¼Œå¹¶å®šæ—¶åˆ·æ–°ã€‚</li></ul><p><strong>1.Flaskåå° app.py æ–‡ä»¶å†…å®¹ç¤ºä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Flask æœåŠ¡å™¨ç«¯ä»£ç </span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template, jsonify</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&quot;index.html&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/get_data&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_data</span>():</span></span><br><span class="line">    <span class="comment"># ä»æ•°æ®åº“è·å–æ•°æ®ï¼Œæ­¤å¤„ä»…æ¨¡æ‹Ÿæ•°æ®ï¼Œæ‰€ä»¥è¿™é‡Œæ²¡æœ‰è®¾è®¡æ•°æ®åº“è¡¨è¿™äº›</span></span><br><span class="line">    data_dict = &#123;<span class="string">&#x27;temperature&#x27;</span>: <span class="string">&#x27;20.8&#x27;</span>, <span class="string">&#x27;humidity&#x27;</span>: <span class="string">&#x27;64.29&#x27;</span>, <span class="string">&#x27;light&#x27;</span>: <span class="string">&#x27;201&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> jsonify(data_dict)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(debug=<span class="literal">True</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœæ¥å£æƒ³ä¼ è¾“å¤šä¸ªå¯¹è±¡å»ç½‘é¡µå‰ç«¯ï¼Œå¯ä»¥ç”¨ <code>return jsonify(&#123;&quot;record_id&quot;:record_id, &quot;data&quot;:data_dict&#125;)</code>ã€‚</p><p><strong>2.ç½‘é¡µå‰ç«¯ index.htmlæ–‡ä»¶</strong></p><p>index.html æ–‡ä»¶ä¸­åœ¨JavaScript  ä¸­ updateData å‡½æ•°ä¸­ï¼š</p><ul><li>ä½¿ç”¨äº† XMLHttpRequest å¯¹è±¡å‘é€è¯·æ±‚åˆ° Flask æœåŠ¡å™¨ç«¯ï¼Œå¹¶åœ¨æ¥æ”¶åˆ°å“åº”åé€šè¿‡ JSON.parse å‡½æ•°è§£ææ•°æ®ã€‚</li><li>æ¥ç€ï¼Œé€šè¿‡<code>document.getElementById</code> è·å–é¡µé¢ä¸Šçš„å…ƒç´ ï¼Œå¹¶å°†æ•°æ®æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚</li><li>æœ€åï¼Œé€šè¿‡ setInterval å‡½æ•°æ¯éš” 1 ç§’ï¼ˆ1000æ¯«ç§’ï¼‰è°ƒç”¨ updateData å‡½æ•°ï¼Œä»è€Œå®ç°å®šæ—¶è·å–æ•°æ®å¹¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šçš„æ•ˆæœã€‚</li></ul><p>å†…å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">updateData</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">        xhr.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/get_data&quot;</span>, <span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">          if (xhr.readyState === XMLHttpRequest.DONE &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> response = <span class="built_in">JSON</span>.parse(xhr.responseText);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">&quot;temperature&quot;</span>).innerHTML = response.temperature;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">&quot;humidity&quot;</span>).innerHTML = response.humidity;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">&quot;light&quot;</span>).innerHTML = response.light;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// ... å…¶ä»–æ•°æ®</span></span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        xhr.send();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="built_in">setInterval</span>(updateData, <span class="number">1000</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>å®æ—¶æ•°æ®<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ¸©åº¦ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;temperature&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ¹¿åº¦ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;humidity&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å…‰ç…§å¼ºåº¦ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;light&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    // ... å…¶ä»–æ•°æ®</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œæ‰“å¼€ <code>http://localhost:5000</code> è®¿é—®index.htmlå°±èƒ½çœ‹åˆ°äº†ã€‚</p><p><strong>3.å¸¦æ•°æ®åº“è®¾è®¡çš„å®Œæ•´ app.py å†…å®¹ç¤ºä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Flask æœåŠ¡å™¨ç«¯ä»£ç </span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template, jsonify</span><br><span class="line"><span class="keyword">from</span> flask_sqlalchemy <span class="keyword">import</span> SQLAlchemy</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_DATABASE_URI&#x27;</span>] = <span class="string">&#x27;mysql://root:password@192.168.0.110:3306/db_monitor&#x27;</span></span><br><span class="line"><span class="comment"># è·Ÿè¸ªæ•°æ®åº“çš„ä¿®æ”¹--&gt;ä¸å»ºè®®å¼€å¯æœªæ¥çš„ç‰ˆæœ¬ä¸­ä¼šç§»é™¤</span></span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_TRACK_MODIFICATIONS&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">db = SQLAlchemy(app)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MqttData</span>(<span class="params">db.Model</span>) :</span></span><br><span class="line">    __tablename__ = <span class="string">&quot;mqtt_data&quot;</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    temperature = db.Column(db.Float) <span class="comment"># æ¸©åº¦</span></span><br><span class="line">    humidity = db.Column(db.Float) <span class="comment"># æ¹¿åº¦</span></span><br><span class="line">    light = db.Column(db.Integer) <span class="comment"># ç¯å¢ƒå…‰</span></span><br><span class="line">    create_time = db.Column(db.DateTime) <span class="comment"># datetime.datetime.now()</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">to_list</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> [self.<span class="built_in">id</span>, self.temperature, self.humidity, self.light]</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&quot;index_demo.html&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/get_data&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_data</span>():</span></span><br><span class="line">    <span class="comment"># ä»æ•°æ®åº“è·å–æ•°æ®ï¼Œæ­¤å¤„ä»…æ¨¡æ‹Ÿæ•°æ®</span></span><br><span class="line">    <span class="comment"># data_dict = &#123;&#x27;temperature&#x27;: &#x27;20.8&#x27;, &#x27;humidity&#x27;: &#x27;64.29&#x27;, &#x27;light&#x27;: &#x27;201&#x27;&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è·å–æœ€æ–°ä¸€æ¡æ•°æ®</span></span><br><span class="line">    the_newest_data = MqttData.query.order_by(MqttData.<span class="built_in">id</span>.desc()).first()</span><br><span class="line">    data = the_newest_data.to_list() <span class="comment"># [self.id, self.temperature, self.humidity, self.light]</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> jsonify(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®åº“åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">db_init</span>():</span></span><br><span class="line">    <span class="keyword">with</span> app.app_context():</span><br><span class="line">        <span class="comment"># åˆ é™¤è¡¨</span></span><br><span class="line">        db.drop_all()</span><br><span class="line">        <span class="comment"># åˆ›å»ºè¡¨</span></span><br><span class="line">        db.create_all()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># æ•°æ®åº“åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">#db_init()</span></span><br><span class="line">    <span class="comment"># æ•°æ®åº“çš„æ•°æ®æ’å…¥å°±çœç•¥äº†</span></span><br><span class="line"></span><br><span class="line">    app.run(debug=<span class="literal">True</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Flask &quot;set up an application context with app.app_context()&quot;é—®é¢˜</title>
      <link href="/2023/02/12/Python-Flask-set-up-an-application-context-with-app-app-context-%E9%97%AE%E9%A2%98/"/>
      <url>/2023/02/12/Python-Flask-set-up-an-application-context-with-app-app-context-%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>Flaskæ›´æ–°åˆ°æ–°ç‰ˆæœ¬åï¼Œç°åœ¨æˆ‘ç”¨çš„æ˜¯ Flask2.2.2ï¼Œä¼šæŠ¥è¿™ä¸ªé”™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">This typically means that you attempted to use functionality that needed</span><br><span class="line">to interface with the current application object <span class="keyword">in</span> some way. To solve</span><br><span class="line">this, <span class="built_in">set</span> up an application context with app.app_context().  See the</span><br><span class="line">documentation <span class="keyword">for</span> more information.</span><br></pre></td></tr></table></figure><p>ä»¥å‰ç”¨çš„æ—§ç‰ˆæœ¬æ²¡ç¢°åˆ°è¿™ä¸ªé—®é¢˜ã€‚</p><a id="more"></a><p>è¿™æ˜¯æˆ‘ç¬¬2æ¬¡ç¢°åˆ°è¿™ä¸ªé—®é¢˜äº†ã€‚</p><h3 id="ç¬¬1æ¬¡-æ•°æ®åº“åˆå§‹åŒ–çš„æ—¶å€™"><a href="#ç¬¬1æ¬¡-æ•°æ®åº“åˆå§‹åŒ–çš„æ—¶å€™" class="headerlink" title="ç¬¬1æ¬¡ æ•°æ®åº“åˆå§‹åŒ–çš„æ—¶å€™"></a>ç¬¬1æ¬¡ æ•°æ®åº“åˆå§‹åŒ–çš„æ—¶å€™</h3><p>ç¬¬1æ¬¡æ˜¯æ•°æ®åº“åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒåŸæ¥åœ¨<code>main</code>å‡½æ•°ä¸­æ˜¯è¿™æ ·å†™çš„ï¼Œå°±æŠ¥äº†è¿™ä¸ªé”™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># æ•°æ®åº“åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment"># åˆ é™¤è¡¨</span></span><br><span class="line">    db.drop_all()</span><br><span class="line">    <span class="comment"># åˆ›å»ºè¡¨</span></span><br><span class="line">    db.create_all()</span><br><span class="line"></span><br><span class="line">    app.run(<span class="string">&#x27;0.0.0.0&#x27;</span>, port=<span class="number">5000</span>) <span class="comment"># è¿™å¥ä¼šæŠ¥æé†’ï¼Œæµ‹è¯•ç”¨é—®é¢˜ä¸å¤§</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>æ”¹æˆä¸‹é¢è¿™æ ·å°±è¡Œäº†ï¼ŒåŠ äº†å¥<code>with app.app_context()</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># æ•°æ®åº“åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">with</span> app.app_context():</span><br><span class="line">        <span class="comment"># åˆ é™¤è¡¨</span></span><br><span class="line">        db.drop_all()</span><br><span class="line">        <span class="comment"># åˆ›å»ºè¡¨</span></span><br><span class="line">        db.create_all()</span><br><span class="line"></span><br><span class="line">    app.run(<span class="string">&#x27;0.0.0.0&#x27;</span>, port=<span class="number">5000</span>) <span class="comment"># è¿™å¥ä¼šæŠ¥æé†’ï¼Œæµ‹è¯•ç”¨é—®é¢˜ä¸å¤§</span></span><br></pre></td></tr></table></figure><p>å…³äº<code>app.run()</code>è¿™å¥çš„æé†’ï¼Œæƒ³è§£å†³çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="/2023/01/10/Python-Flask%E4%BD%BF%E7%94%A8WSGI-server/" title="Python Flaskä½¿ç”¨WSGI server">Python Flaskä½¿ç”¨WSGI server</a></p><h3 id="ç¬¬2æ¬¡-æ•°æ®åº“æ’å…¥æ•°æ®çš„æ—¶å€™"><a href="#ç¬¬2æ¬¡-æ•°æ®åº“æ’å…¥æ•°æ®çš„æ—¶å€™" class="headerlink" title="ç¬¬2æ¬¡ æ•°æ®åº“æ’å…¥æ•°æ®çš„æ—¶å€™"></a>ç¬¬2æ¬¡ æ•°æ®åº“æ’å…¥æ•°æ®çš„æ—¶å€™</h3><p>ç”¨flask_sqlalchemyï¼Œè¿›è¡Œæ•°æ®åº“æ’å…¥çš„æ—¶å€™ï¼Œä¹ŸæŠ¥äº†è¿™ä¸ªé”™ã€‚</p><p>åŸæ¥æ˜¯è¿™ä¹ˆå†™çš„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ...çœç•¥</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Record</span>(<span class="params">db.Model</span>):</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    device_id = db.Column(db.String(<span class="number">80</span>), unique=<span class="literal">False</span>, nullable=<span class="literal">False</span>)</span><br><span class="line">    temperature = db.Column(db.Float, nullable=<span class="literal">False</span>)</span><br><span class="line">    humidity = db.Column(db.Float, nullable=<span class="literal">False</span>)</span><br><span class="line">    pressure = db.Column(db.Float, nullable=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, device_id, temperature, humidity, pressure</span>):</span></span><br><span class="line">        self.device_id = device_id</span><br><span class="line">        self.temperature = temperature</span><br><span class="line">        self.humidity = humidity</span><br><span class="line">        self.pressure = pressure</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†è®¢é˜…åˆ°çš„æ¶ˆæ¯ï¼Œå­˜å…¥æ•°æ®åº“</span></span><br><span class="line"><span class="meta">@mqtt_client.on_message()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_mqtt_message</span>(<span class="params">client, userdata, message</span>):</span></span><br><span class="line">    <span class="keyword">global</span> user_data <span class="comment"># user_data æ˜¯dictå­—å…¸ç±»å‹</span></span><br><span class="line">    <span class="comment"># ...çœç•¥</span></span><br><span class="line">    <span class="comment"># å†™å…¥æ•°æ®åº“ï¼Œç„¶åå°±è¿™é‡ŒæŠ¥é”™äº†</span></span><br><span class="line">    record = Record(**user_data)</span><br><span class="line">    <span class="built_in">print</span>(record)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        db.session.add(record)</span><br><span class="line">        db.session.commit()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        db.session.rollback()</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line"><span class="comment"># ...çœç•¥</span></span><br></pre></td></tr></table></figure><p>æ”¹æˆä¸‹é¢è¿™æ ·ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ¶‰åŠåˆ°æ•°æ®åº“å†™å…¥çš„æ—¶å€™ï¼Œå¥—ä¸Š<code>with app.app_context()</code>å°±è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ...çœç•¥</span></span><br><span class="line"><span class="comment"># å¤„ç†è®¢é˜…åˆ°çš„æ¶ˆæ¯ï¼Œå­˜å…¥æ•°æ®åº“</span></span><br><span class="line"><span class="meta">@mqtt_client.on_message()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_mqtt_message</span>(<span class="params">client, userdata, message</span>):</span></span><br><span class="line">    <span class="keyword">global</span> user_data</span><br><span class="line">    <span class="comment"># ...çœç•¥</span></span><br><span class="line">    <span class="comment"># å†™å…¥æ•°æ®åº“</span></span><br><span class="line">    <span class="keyword">with</span> app.app_context():</span><br><span class="line">        record = Record(**user_data)</span><br><span class="line">        <span class="built_in">print</span>(record)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            db.session.add(record)</span><br><span class="line">            db.session.commit()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            db.session.rollback()</span><br><span class="line">            <span class="built_in">print</span>(e)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux dmidecodeå‘½ä»¤è·å–ç¡¬ä»¶ä¿¡æ¯</title>
      <link href="/2023/02/05/Linux-dmidecode%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96%E7%A1%AC%E4%BB%B6%E4%BF%A1%E6%81%AF/"/>
      <url>/2023/02/05/Linux-dmidecode%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96%E7%A1%AC%E4%BB%B6%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<p>dmidecodeå‘½ä»¤å¯ä»¥åœ¨Linuxç³»ç»Ÿä¸‹è·å–æœ‰å…³ç¡¬ä»¶æ–¹é¢çš„ä¿¡æ¯ã€‚dmidecodeçš„ä½œç”¨æ˜¯å°†DMIæ•°æ®åº“ä¸­çš„ä¿¡æ¯è§£ç ï¼Œä»¥å¯è¯»çš„æ–‡æœ¬æ–¹å¼æ˜¾ç¤ºã€‚ç”±äºDMIä¿¡æ¯å¯ä»¥äººä¸ºä¿®æ”¹ï¼Œå› æ­¤é‡Œé¢çš„ä¿¡æ¯ä¸ä¸€å®šæ˜¯ç³»ç»Ÿå‡†ç¡®çš„ä¿¡æ¯ã€‚dmidecodeéµå¾ªSMBIOS/DMIæ ‡å‡†ï¼Œå…¶è¾“å‡ºçš„ä¿¡æ¯åŒ…æ‹¬BIOSã€ç³»ç»Ÿã€ä¸»æ¿ã€å¤„ç†å™¨ã€å†…å­˜ã€ç¼“å­˜ç­‰ç­‰ã€‚</p><p>DMIï¼ˆDesktop Management Interfaceï¼ŒDMIï¼‰å°±æ˜¯å¸®åŠ©æ”¶é›†ç”µè„‘ç³»ç»Ÿä¿¡æ¯çš„ç®¡ç†ç³»ç»Ÿï¼ŒDMIä¿¡æ¯çš„æ”¶é›†å¿…é¡»åœ¨ä¸¥æ ¼éµç…§SMBIOSè§„èŒƒçš„å‰æä¸‹è¿›è¡Œã€‚SMBIOSï¼ˆSystem Management BIOSï¼‰æ˜¯ä¸»æ¿æˆ–ç³»ç»Ÿåˆ¶é€ è€…ä»¥æ ‡å‡†æ ¼å¼æ˜¾ç¤ºäº§å“ç®¡ç†ä¿¡æ¯æ‰€éœ€éµå¾ªçš„ç»Ÿä¸€è§„èŒƒã€‚SMBIOSå’ŒDMIæ˜¯ç”±è¡Œä¸šæŒ‡å¯¼æœºæ„Desktop Management Task Force(DMTF)èµ·è‰çš„å¼€æ”¾æ€§çš„æŠ€æœ¯æ ‡å‡†ï¼Œå…¶ä¸­DMIè®¾è®¡é€‚ç”¨äºä»»ä½•çš„å¹³å°å’Œæ“ä½œç³»ç»Ÿã€‚</p><a id="more"></a><p>DMIå……å½“äº†ç®¡ç†å·¥å…·å’Œç³»ç»Ÿå±‚ä¹‹é—´æ¥å£çš„è§’è‰²ã€‚å®ƒå»ºç«‹äº†æ ‡å‡†çš„å¯ç®¡ç†ç³»ç»Ÿæ›´åŠ æ–¹ä¾¿äº†ç”µè„‘å‚å•†å’Œç”¨æˆ·å¯¹ç³»ç»Ÿçš„äº†è§£ã€‚DMIçš„ä¸»è¦ç»„æˆéƒ¨åˆ†æ˜¯Management Information Format(MIF)æ•°æ®åº“ã€‚è¿™ä¸ªæ•°æ®åº“åŒ…æ‹¬äº†æ‰€æœ‰æœ‰å…³ç”µè„‘ç³»ç»Ÿå’Œé…ä»¶çš„ä¿¡æ¯ã€‚é€šè¿‡DMIï¼Œç”¨æˆ·å¯ä»¥è·å–åºåˆ—å·ã€ç”µè„‘å‚å•†ã€ä¸²å£ä¿¡æ¯ä»¥åŠå…¶å®ƒç³»ç»Ÿé…ä»¶ä¿¡æ¯ã€‚</p><h3 id="å®‰è£…-dmidecode"><a href="#å®‰è£…-dmidecode" class="headerlink" title="å®‰è£… dmidecode"></a>å®‰è£… dmidecode</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Debian/Ubuntu</span></span><br><span class="line">sudo apt-get install dmidecode</span><br><span class="line"></span><br><span class="line"><span class="comment"># RHEL/CentOS/Fedora</span></span><br><span class="line">sudo yum install dmidecode</span><br></pre></td></tr></table></figure><h3 id="dmidecodeå‘½ä»¤è¯¦è§£"><a href="#dmidecodeå‘½ä»¤è¯¦è§£" class="headerlink" title="dmidecodeå‘½ä»¤è¯¦è§£"></a>dmidecodeå‘½ä»¤è¯¦è§£</h3><p><strong>è¯­æ³•ï¼š</strong><br><code>dmidecode [é€‰é¡¹]</code></p><p><strong>é€‰é¡¹ï¼š</strong></p><blockquote><p> -dï¼š(default:/dev/mem)ä»è®¾å¤‡æ–‡ä»¶è¯»å–ä¿¡æ¯ï¼Œè¾“å‡ºå†…å®¹ä¸ä¸åŠ å‚æ•°æ ‡å‡†è¾“å‡ºç›¸åŒã€‚<br>-hï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚<br>-sï¼šåªæ˜¾ç¤ºæŒ‡å®šDMIå­—ç¬¦ä¸²çš„ä¿¡æ¯ã€‚(string)<br><strong>-tï¼šåªæ˜¾ç¤ºæŒ‡å®šæ¡ç›®çš„ä¿¡æ¯ã€‚</strong>(type)<br>-uï¼šæ˜¾ç¤ºæœªè§£ç çš„åŸå§‹æ¡ç›®å†…å®¹ã€‚<br>â€“dump-bin fileï¼šå°†DMIæ•°æ®è½¬å‚¨åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚<br>â€“from-dump FILEï¼šä»ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶è¯»å–DMIæ•°æ®ã€‚<br>-Vï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</p></blockquote><p>ä¸å¸¦é€‰é¡¹æ‰§è¡Œ dmidecode é€šå¸¸ä¼šè¾“å‡ºæ‰€æœ‰çš„ç¡¬ä»¶ä¿¡æ¯ã€‚</p><p><code>-t</code>è¿™ä¸ªå‚æ•°ç”¨çš„å°±æ¯”è¾ƒæ–¹ä¾¿äº†ï¼Œè¾“å‡ºæƒ³è¦çš„ç›¸å…³ä¿¡æ¯ã€‚</p><p><strong>dmidecodeå¸¸ç”¨å‘½ä»¤ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€è¦sudoæƒé™</span></span><br><span class="line">sudo dmidecode -t 1 <span class="comment"># ç³»ç»Ÿä¿¡æ¯ï¼ˆSystem Informationï¼‰</span></span><br><span class="line">sudo dmidecode -t 2 <span class="comment"># åŸºæœ¬ä¸»æ¿ä¿¡æ¯ï¼ˆBase Board Informationï¼‰</span></span><br><span class="line">sudo dmidecode -t 4 <span class="comment"># CPUä¿¡æ¯ï¼ˆProcessor Informationï¼‰</span></span><br><span class="line">sudo dmidecode -t processor <span class="comment"># CPUä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å†…å­˜ä¿¡æ¯</span></span><br><span class="line">sudo dmidecode -t memory</span><br><span class="line"><span class="comment"># æŸ¥çœ‹å†…å­˜çš„æ’æ§½æ•°ï¼Œå·²ç»ä½¿ç”¨å¤šå°‘æ’æ§½ã€‚æ¯æ¡å†…å­˜å¤šå¤§ã€‚</span></span><br><span class="line">sudo dmidecode|grep -P -A5 <span class="string">&quot;Memory\s+Device&quot;</span>|grep Size|grep -v Range</span><br><span class="line"><span class="comment"># æŸ¥çœ‹å†…å­˜æ”¯æŒçš„æœ€å¤§å†…å­˜å®¹é‡</span></span><br><span class="line">sudo dmidecode|grep -P <span class="string">&#x27;Maximum\s+Capacity&#x27;</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å†…å­˜çš„é¢‘ç‡ï¼ˆæŸ¥çœ‹å†…å­˜ä¿¡æ¯çš„çœ‹Speed é¡¹ï¼‰</span></span><br><span class="line">sudo dmidecode|grep -A16 <span class="string">&quot;Memory Device&quot;</span>|grep <span class="string">&#x27;Speed&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitbookä½¿ç”¨æŒ‡å—</title>
      <link href="/2023/01/24/Gitbook%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"/>
      <url>/2023/01/24/Gitbook%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<p>Gitbook å°±æ˜¯ä¸€ä¸ªç”µå­ä¹¦ç”Ÿæˆå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥å†™ç”µå­ä¹¦ï¼Œç”µå­æ•™ç¨‹ã€‚æœ‰ç‚¹åƒHexoï¼Œå†™å®Œåå¯ä»¥ç”Ÿæˆhtmlï¼Œè¿˜å¯ä»¥ç”Ÿæˆpdfã€‚</p><p>å½“ç„¶ï¼Œè·ŸHexoä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”¨Markdownå†™å†…å®¹çš„ï¼ŒæŒºæ–¹ä¾¿å¥½ç”¨çš„ã€‚</p><a id="more"></a><h3 id="ä¸€ã€Gitbookæ­å»º"><a href="#ä¸€ã€Gitbookæ­å»º" class="headerlink" title="ä¸€ã€Gitbookæ­å»º"></a>ä¸€ã€Gitbookæ­å»º</h3><p>æ€ä¹ˆæ­å»ºä½¿ç”¨ï¼Œçœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="/2023/01/10/Docker%E6%90%AD%E5%BB%BAGitbook/" title="Dockeræ­å»ºGitbook">Dockeræ­å»ºGitbook</a></p><p>å½“ç„¶ï¼Œå¯ä»¥ç”¨æˆ‘ä¸Šä¼ çš„é•œåƒï¼š</p><ul><li>Ubuntu(Linuxï¼‰ç”¨ï¼š<code>docker pull hduzn/gitbook:3.2.3</code></li><li>Windowsç”¨ï¼š<code>docker pull hduzn/gitbook_win:3.2.3</code></li></ul><p>ä¸ºä»€ä¹ˆä¸åŒï¼Œåªæ˜¯å› ä¸ºWindowsä¸‹æœ‰ä¸ªjsæ–‡ä»¶ä¼šæŠ¥é”™ï¼Œå°±æ”¹äº†ä¸€ä¸‹è¿™ä¸ªjsæ–‡ä»¶ã€‚</p><h3 id="äºŒã€Gitbookåˆ›å»ºä¸€æœ¬ç”µå­ä¹¦-æ•™ç¨‹"><a href="#äºŒã€Gitbookåˆ›å»ºä¸€æœ¬ç”µå­ä¹¦-æ•™ç¨‹" class="headerlink" title="äºŒã€Gitbookåˆ›å»ºä¸€æœ¬ç”µå­ä¹¦/æ•™ç¨‹"></a>äºŒã€Gitbookåˆ›å»ºä¸€æœ¬ç”µå­ä¹¦/æ•™ç¨‹</h3><h4 id="1-æ–°å»ºç”µå­ä¹¦ç›®å½•"><a href="#1-æ–°å»ºç”µå­ä¹¦ç›®å½•" class="headerlink" title="1.æ–°å»ºç”µå­ä¹¦ç›®å½•"></a>1.æ–°å»ºç”µå­ä¹¦ç›®å½•</h4><p>æ¯”å¦‚æ–°å»ºç›®å½•ï¼šbook_python</p><h4 id="2-åˆå§‹åŒ–"><a href="#2-åˆå§‹åŒ–" class="headerlink" title="2.åˆå§‹åŒ–"></a>2.åˆå§‹åŒ–</h4><p>å¦‚æœæ˜¯ç”¨Dockeréƒ¨ç½²çš„Gitbookï¼Œå°±åˆ›å»ºå®¹å™¨ï¼Œè¿›å…¥å®¹å™¨åå†æ‰§è¡Œ  <code>gitbook init</code>ï¼›<br>å¦‚æœéƒ¨ç½²åœ¨æœ¬åœ°ï¼Œæ²¡æœ‰ç”¨Dockerï¼Œå°±ç›´æ¥è¿›å…¥ book_python ç›®å½•ï¼Œæ‰§è¡Œ  <code>gitbook init</code></p><p>æ‰§è¡Œ<code>gitbook init</code>åï¼Œåœ¨book_pythonç›®å½•ä¸‹å°±ç”Ÿæˆäº†ï¼šREADME.md å’ŒSUMMARY.md æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Dockeréƒ¨ç½²Gitbook</span></span><br><span class="line"><span class="comment"># æ‹‰å–é•œåƒ</span></span><br><span class="line">docker pull hduzn/gitbook:3.2.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.åˆ›å»ºå®¹å™¨</span></span><br><span class="line">docker run -idt --name py_gitbook -p 14000:4000 -v E:\Gitbook\book_python:/gitbook hduzn/gitbook:3.2.3 /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.è¿›å…¥å®¹å™¨ py_gitbook</span></span><br><span class="line">docker <span class="built_in">exec</span> -it py_gitbook /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.è¿›å…¥å®¹å™¨åï¼Œé»˜è®¤æ˜¯åœ¨/gitbookç›®å½•ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–åä¼šåœ¨æœ¬åœ°çš„book_pythonæ˜ å°„ç›®å½•ä¸‹ç”ŸæˆREADME.mdå’ŒSUMMARY.mdæ–‡ä»¶ã€‚</span></span><br><span class="line">gitbook init</span><br></pre></td></tr></table></figure><h4 id="3-ç¼–è¾‘-SUMMARY-md-æ–‡ä»¶"><a href="#3-ç¼–è¾‘-SUMMARY-md-æ–‡ä»¶" class="headerlink" title="3.ç¼–è¾‘ SUMMARY.md æ–‡ä»¶"></a>3.ç¼–è¾‘ SUMMARY.md æ–‡ä»¶</h4><p>SUMMARY.md æ˜¯ä¸€ä¸ªç« èŠ‚å’Œå­ç« èŠ‚çš„ç›®å½•ç»“æ„æ–‡ä»¶ã€‚</p><p>æ¯”å¦‚ç¼–è¾‘å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Summary</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç®€ä»‹</span>](<span class="link">README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">å‰è¨€</span>](<span class="link">README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç¬¬ä¸€ç«  abcd</span>](<span class="link">part1/README.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ç¬¬ä¸€èŠ‚ aaa</span>](<span class="link">part1/1.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ç¬¬äºŒèŠ‚ bbb</span>](<span class="link">part1/2.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ç¬¬ä¸‰èŠ‚ ccc</span>](<span class="link">part1/3.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ç¬¬å››èŠ‚ ddd</span>](<span class="link">part1/4.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç¬¬äºŒç«  efgh</span>](<span class="link">part2/README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç¬¬ä¸‰ç«  hijk</span>](<span class="link">part3/README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç¬¬å››ç«  lmno</span>](<span class="link">part4/README.md</span>)</span><br></pre></td></tr></table></figure><p>README.md æ–‡ä»¶å°±æ˜¯ç®€ä»‹å†…å®¹ï¼Œéšä¾¿å†™ã€‚</p><h4 id="4-ç”Ÿæˆç›®å½•ç»“æ„æ‰€æœ‰æ–‡ä»¶"><a href="#4-ç”Ÿæˆç›®å½•ç»“æ„æ‰€æœ‰æ–‡ä»¶" class="headerlink" title="4.ç”Ÿæˆç›®å½•ç»“æ„æ‰€æœ‰æ–‡ä»¶"></a>4.ç”Ÿæˆç›®å½•ç»“æ„æ‰€æœ‰æ–‡ä»¶</h4><p>ç¼–è¾‘å¥½SUMMARY.md æ–‡ä»¶åï¼Œå†æ¬¡æ‰§è¡Œ<code>gitbook init</code>åï¼Œä¼šç”Ÿæˆæ‰€æœ‰ç›®å½•å’Œå¯¹åº”çš„æ–‡ä»¶ã€‚</p><p>ç„¶åå°±ç¼–è¾‘ç« èŠ‚ç›®å½•ä¸‹çš„æ–‡ä»¶å°±è¡Œã€‚</p><p>åç»­å†ä¿®æ”¹ SUMMARY.md æ–‡ä»¶ï¼Œå†æ‰§è¡Œ<code>gitbook init</code>åï¼Œä¸ä¼šä¿®æ”¹å’Œåˆ é™¤å·²æœ‰æ–‡ä»¶ï¼Œåªä¼šæ·»åŠ æ–°çš„ç« èŠ‚å’Œå­ç« èŠ‚çš„å¯¹åº”æ–‡ä»¶ã€‚</p><h4 id="5-å¯åŠ¨æœåŠ¡ï¼Œåœ¨çº¿é¢„è§ˆ"><a href="#5-å¯åŠ¨æœåŠ¡ï¼Œåœ¨çº¿é¢„è§ˆ" class="headerlink" title="5.å¯åŠ¨æœåŠ¡ï¼Œåœ¨çº¿é¢„è§ˆ"></a>5.å¯åŠ¨æœåŠ¡ï¼Œåœ¨çº¿é¢„è§ˆ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook serve</span><br></pre></td></tr></table></figure><p>ä¼šç”Ÿæˆ <code>_book</code>ç›®å½•ï¼Œç„¶åæ‰“å¼€ <a class="link"   href="http://localhost:14000/" >http://localhost:14000<i class="fas fa-external-link-alt"></i></a> å°±å¯ä»¥çœ‹åˆ°ç”µå­ä¹¦äº†ï¼ˆæˆ‘æŠŠ4000ç«¯å£æ˜ å°„åˆ°14000äº†ï¼Œé»˜è®¤æ˜¯4000ï¼‰</p><h4 id="6-Gitbookè¾“å‡ºæ ¼å¼"><a href="#6-Gitbookè¾“å‡ºæ ¼å¼" class="headerlink" title="6.Gitbookè¾“å‡ºæ ¼å¼"></a>6.Gitbookè¾“å‡ºæ ¼å¼</h4><p>å¦‚æœåªæ˜¯åˆ›å»ºç”µå­ä¹¦ï¼Œä¸ç”Ÿæˆåœ¨çº¿çš„æœåŠ¡ï¼Œåªç”¨ build å°±è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1).è¾“å‡ºé™æ€HTMLé¡µé¢ï¼Œç”Ÿæˆ _book ç›®å½•ï¼›</span></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥ç”¨å‚æ•°æŒ‡å®šç›®å½•åï¼šgitbook build ./ --output=./_book/</span></span><br><span class="line">gitbook build</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2).è¾“å‡ºPDFæ–‡ä»¶</span></span><br><span class="line">gitbook pdf</span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€Gitbookä½¿ç”¨å…¶å®ƒé—®é¢˜"><a href="#ä¸‰ã€Gitbookä½¿ç”¨å…¶å®ƒé—®é¢˜" class="headerlink" title="ä¸‰ã€Gitbookä½¿ç”¨å…¶å®ƒé—®é¢˜"></a>ä¸‰ã€Gitbookä½¿ç”¨å…¶å®ƒé—®é¢˜</h3><h4 id="1-åå°è¿è¡ŒæœåŠ¡"><a href="#1-åå°è¿è¡ŒæœåŠ¡" class="headerlink" title="1.åå°è¿è¡ŒæœåŠ¡"></a>1.åå°è¿è¡ŒæœåŠ¡</h4><p>ç›´æ¥æ‰§è¡Œ<code>gitbook serve</code>ï¼Œå…³æ‰çª—å£å°±å…³æ‰äº†ã€‚<br>å¦‚æœæƒ³è¦åå°è¿è¡Œçš„è¯ï¼Œç”¨Dockerå’ŒLinuxéƒ½æŒºæ–¹ä¾¿çš„ï¼Œç›´æ¥ç”¨nohupå‘½ä»¤å°±è¡Œã€‚Dockeråˆ›å»ºçš„å®¹å™¨ä¹Ÿæ˜¯Linuxç³»ç»Ÿã€‚<br>å‚è€ƒè¿™ç¯‡ç¬”è®°ï¼š<a href="/2022/05/02/Linux-nohup-%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C-%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" title="Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£">Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£</a></p><p>è¿™æ ·å°±å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šç”¨äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup gitbook serve &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>ä¼šè¿”å›è¿›ç¨‹çš„PIDå·ï¼Œç›´æ¥<code>kill [PID]</code>å°±å¯ä»¥ç»“æŸè¿›ç¨‹ã€‚</p><h4 id="2-æ–‡ä»¶æƒé™é—®é¢˜"><a href="#2-æ–‡ä»¶æƒé™é—®é¢˜" class="headerlink" title="2.æ–‡ä»¶æƒé™é—®é¢˜"></a>2.æ–‡ä»¶æƒé™é—®é¢˜</h4><p>å¦‚æœæ˜¯ç›´æ¥åœ¨æœ¬æœºä¸Šæ˜ å°„çš„ç›®å½•é‡Œçš„æ–‡ä»¶ç›´æ¥ç¼–è¾‘å°±è¡Œï¼Œå°±æ²¡å•¥é—®é¢˜ã€‚</p><p>ä½†å¦‚æœæˆ‘æ˜¯åœ¨Linuxçš„æœåŠ¡å™¨ä¸Šç”¨Dockerå»ºäº†gitbookå®¹å™¨çš„ï¼Œæ˜ å°„çš„ç›®å½•æ˜¯åœ¨Linuxçš„æœºå™¨ä¸Šï¼Œ<br>ç„¶åæˆ‘æ˜¯æœ¬åœ°ç¼–è¾‘å¥½äº†ï¼Œå†ä¸Šä¼ åˆ°LinuxæœåŠ¡å™¨çš„æ˜ å°„ç›®å½•é‡Œï¼Œç„¶åå°±æœ‰æ–‡ä»¶æƒé™é—®é¢˜äº†ã€‚</p><p>æ¯”å¦‚ä¿®æ”¹å®Œçš„ SUMMARY.md æ–‡ä»¶ä¸Šä¼ æƒ³è¦†ç›–åŸæ¥çš„æ–‡ä»¶ï¼Œå°±æŠ¥æƒé™é—®é¢˜äº†ã€‚</p><p>æ‰€ä»¥ç›´æ¥åœ¨LinuxæœåŠ¡å™¨çš„æ˜ å°„ç›®å½•ä¸‹æ‰§è¡Œ<code>chmod 777 *</code>å‘½ä»¤ï¼ŒæŠŠæƒé™éƒ½ç»™äº†å°±è¡Œã€‚</p><h4 id="3-æ’å…¥å›¾ç‰‡"><a href="#3-æ’å…¥å›¾ç‰‡" class="headerlink" title="3.æ’å…¥å›¾ç‰‡"></a>3.æ’å…¥å›¾ç‰‡</h4><p>å¦‚æœæ–‡ç« ä¸­éœ€è¦æ’å…¥å›¾ç‰‡çš„ï¼Œå»ºè®®ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><p>ç›´æ¥åœ¨ book_python ç›®å½•ä¸‹å»ºä¸€ä¸ªimgsç›®å½•ï¼Œç”¨äºå­˜æ”¾å›¾ç‰‡ã€‚</p><p>æ¯”å¦‚æˆ‘åœ¨imgsç›®å½•ä¸‹æ”¾äº†ä¸€å¼ å›¾ç‰‡ï¼šgitbook.png<br>ç„¶åç”¨Markdownè¯­æ³•ä½¿ç”¨å°±è¡Œï¼š<br><code>![](\imgs\gitbook.png)</code></p><p>æˆ–è€…ï¼š<br><code>&lt;img src=&quot;/imgs/gitbook.png&quot; style=&quot;zoom: 75%;&quot;/&gt;</code></p><p>åé¢è¿™ç§è¿˜å¯ä»¥æŒ‰æ¯”ä¾‹æ˜¾ç¤ºï¼Œåæ­£å†™Hexoåšå®¢æ—¶ï¼Œæˆ‘å°±ä¸€ç›´åçˆ±ç”¨åè€…ã€‚</p><p>è¿™ä¸ªè·¯å¾„æ˜¯æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ SUMMARY.md å’Œ README.md æ–‡ä»¶å†…è¿™æ ·ä½¿ç”¨ã€‚</p><p>å¦‚æœåœ¨ç« èŠ‚ç›®å½•ä¸‹ï¼Œå¯ä»¥ç”¨ï¼š<code>&lt;img src=&quot;../imgs/gitbook.png&quot; style=&quot;zoom: 75%;&quot;/&gt;</code> è¡¨ç¤ºå›¾ç‰‡è·¯å¾„åœ¨ä¸Šä¸€å±‚è·¯å¾„ã€‚</p><h4 id="4-é…ç½®æ–‡ä»¶book-json"><a href="#4-é…ç½®æ–‡ä»¶book-json" class="headerlink" title="4.é…ç½®æ–‡ä»¶book.json"></a>4.é…ç½®æ–‡ä»¶book.json</h4><p>åœ¨ book_python ç›®å½•ä¸‹è‡ªå·±å»ºä¸ª book.jsonæ–‡ä»¶ã€‚</p><p>å†…å®¹ä¸€èˆ¬å°±æ ‡é¢˜ã€ä½œè€…è¿™äº›ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;GitBookå­¦ä¹ ç¬”è®°&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;è®°å½•Gitbookçš„é…ç½®å’Œä¸€äº›æ’ä»¶çš„ä½¿ç”¨&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;hduzn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;zh-hans&quot;</span>,</span><br><span class="line"><span class="attr">&quot;gitbook&quot;</span>: <span class="string">&quot;3.2.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;links&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;sidebar&quot;</span> : &#123;</span><br><span class="line">            <span class="attr">&quot;Home&quot;</span> : <span class="string">&quot;https://www.hduzn.cn/&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶ä¸­æ›´å¤šçš„å†…å®¹ï¼Œç½‘ä¸Šæœä¸€ä¸‹å°±æœ‰ã€‚</p><h4 id="5-æŠ˜å å·¦ä¾§ç›®å½•ä¾§è¾¹æ ï¼ˆæ’ä»¶ï¼‰"><a href="#5-æŠ˜å å·¦ä¾§ç›®å½•ä¾§è¾¹æ ï¼ˆæ’ä»¶ï¼‰" class="headerlink" title="5.æŠ˜å å·¦ä¾§ç›®å½•ä¾§è¾¹æ ï¼ˆæ’ä»¶ï¼‰"></a>5.æŠ˜å å·¦ä¾§ç›®å½•ä¾§è¾¹æ ï¼ˆæ’ä»¶ï¼‰</h4><p>å®‰è£…æ’ä»¶ï¼šexpandable-chapters-small ï¼Œå°±å¯ä»¥å®ç°å·¦ä¾§çš„ç›®å½•è‡ªåŠ¨æŠ˜å ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ¬åœ°ç¯å¢ƒåœ¨ book_python ä¸‹æ‰§è¡Œï¼›</span></span><br><span class="line"><span class="comment"># Dockerç¯å¢ƒï¼Œåœ¨å®¹å™¨ä¸­é»˜è®¤çš„`/gitbook`ç›®å½•ä¸‹æ‰§è¡Œ</span></span><br><span class="line">npm install gitbook-plugin-expandable-chapters-small</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨é…ç½®æ–‡ä»¶  book.json åŠ ä¸Šç›¸å…³å†…å®¹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;GitBookå­¦ä¹ ç¬”è®°&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;è®°å½•Gitbookçš„é…ç½®å’Œä¸€äº›æ’ä»¶çš„ä½¿ç”¨&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;hduzn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;zh-hans&quot;</span>,</span><br><span class="line"><span class="attr">&quot;gitbook&quot;</span>: <span class="string">&quot;3.2.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;links&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;sidebar&quot;</span> : &#123;</span><br><span class="line">            <span class="attr">&quot;Home&quot;</span> : <span class="string">&quot;https://www.hduzn.cn/&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;plugins&quot;</span>: [</span><br><span class="line"><span class="string">&quot;expandable-chapters-small&quot;</span></span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-å•å‡»æŸ¥çœ‹å›¾ç‰‡ï¼ˆæ’ä»¶ï¼‰"><a href="#6-å•å‡»æŸ¥çœ‹å›¾ç‰‡ï¼ˆæ’ä»¶ï¼‰" class="headerlink" title="6.å•å‡»æŸ¥çœ‹å›¾ç‰‡ï¼ˆæ’ä»¶ï¼‰"></a>6.å•å‡»æŸ¥çœ‹å›¾ç‰‡ï¼ˆæ’ä»¶ï¼‰</h4><p>å®‰è£…æ’ä»¶ï¼šlightbox ï¼Œå°±å¯ä»¥å®ç°å•å‡»æŸ¥çœ‹å›¾ç‰‡ï¼Œä»¥å¼¹çª—å½¢å¼æŸ¥çœ‹å›¾ç‰‡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ¬åœ°ç¯å¢ƒåœ¨ book_python ä¸‹æ‰§è¡Œï¼›</span></span><br><span class="line"><span class="comment"># Dockerç¯å¢ƒï¼Œåœ¨å®¹å™¨ä¸­é»˜è®¤çš„`/gitbook`ç›®å½•ä¸‹æ‰§è¡Œ</span></span><br><span class="line">npm install gitbook-plugin-lightbox</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨é…ç½®æ–‡ä»¶  book.json åŠ ä¸Šç›¸å…³å†…å®¹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;GitBookå­¦ä¹ ç¬”è®°&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;è®°å½•Gitbookçš„é…ç½®å’Œä¸€äº›æ’ä»¶çš„ä½¿ç”¨&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;hduzn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;zh-hans&quot;</span>,</span><br><span class="line"><span class="attr">&quot;gitbook&quot;</span>: <span class="string">&quot;3.2.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;links&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;sidebar&quot;</span> : &#123;</span><br><span class="line">            <span class="attr">&quot;Home&quot;</span> : <span class="string">&quot;https://www.hduzn.cn/&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;plugins&quot;</span>: [</span><br><span class="line"><span class="string">&quot;expandable-chapters-small&quot;</span>,</span><br><span class="line"><span class="string">&quot;lightbox&quot;</span></span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-æ–‡ç« æ‚¬æµ®ç›®å½•ï¼ˆæ’ä»¶ï¼‰"><a href="#7-æ–‡ç« æ‚¬æµ®ç›®å½•ï¼ˆæ’ä»¶ï¼‰" class="headerlink" title="7.æ–‡ç« æ‚¬æµ®ç›®å½•ï¼ˆæ’ä»¶ï¼‰"></a>7.æ–‡ç« æ‚¬æµ®ç›®å½•ï¼ˆæ’ä»¶ï¼‰</h4><p>å®‰è£…æ’ä»¶ï¼šancre-navigation ï¼Œå°±æœ‰å³ä¸Šè§’æ‚¬æµ®å¯¼èˆªå’Œå›åˆ°é¡¶éƒ¨æŒ‰é’®ã€‚</p><p>æ³¨æ„ï¼šå†…å®¹ä»ä»h1ã€h2ä¾æ¬¡å†™æ ‡é¢˜ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ¬åœ°ç¯å¢ƒåœ¨ book_python ä¸‹æ‰§è¡Œï¼›</span></span><br><span class="line"><span class="comment"># Dockerç¯å¢ƒï¼Œåœ¨å®¹å™¨ä¸­é»˜è®¤çš„`/gitbook`ç›®å½•ä¸‹æ‰§è¡Œ</span></span><br><span class="line">npm install gitbook-plugin-ancre-navigation</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨é…ç½®æ–‡ä»¶  book.json åŠ ä¸Šç›¸å…³å†…å®¹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;GitBookå­¦ä¹ ç¬”è®°&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;è®°å½•Gitbookçš„é…ç½®å’Œä¸€äº›æ’ä»¶çš„ä½¿ç”¨&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;hduzn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;zh-hans&quot;</span>,</span><br><span class="line"><span class="attr">&quot;gitbook&quot;</span>: <span class="string">&quot;3.2.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;links&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;sidebar&quot;</span> : &#123;</span><br><span class="line">            <span class="attr">&quot;Home&quot;</span> : <span class="string">&quot;https://www.hduzn.cn/&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;plugins&quot;</span>: [</span><br><span class="line"><span class="string">&quot;expandable-chapters-small&quot;</span>,</span><br><span class="line"><span class="string">&quot;lightbox&quot;</span>,</span><br><span class="line"><span class="string">&quot;ancre-navigation&quot;</span></span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡å™¨Dockeræ­å»ºFlaskåº”ç”¨ï¼ˆäºŒï¼‰</title>
      <link href="/2023/01/14/%E6%9C%8D%E5%8A%A1%E5%99%A8Docker%E6%90%AD%E5%BB%BAFlask%E5%BA%94%E7%94%A8%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2023/01/14/%E6%9C%8D%E5%8A%A1%E5%99%A8Docker%E6%90%AD%E5%BB%BAFlask%E5%BA%94%E7%94%A8%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>ç¬¬ä¸€ç¯‡ï¼š<a href="/2022/05/28/%E6%9C%8D%E5%8A%A1%E5%99%A8Docker%E6%90%AD%E5%BB%BAFlask%E5%BA%94%E7%94%A8%EF%BC%88%E4%B8%80%EF%BC%89/" title="æœåŠ¡å™¨ Dockeræ­å»ºFlaskåº”ç”¨ï¼ˆä¸€ï¼‰">æœåŠ¡å™¨ Dockeræ­å»ºFlaskåº”ç”¨ï¼ˆä¸€ï¼‰</a>ï¼Œæ²¡å¸¦æ•°æ®åº“MySQLã€‚å¦‚æœæ˜¯ç”¨pythonè‡ªå¸¦çš„ sqliteçš„è¯ï¼Œå°±æ¯”è¾ƒç®€å•ï¼Œç›´æ¥åæ­£å°±ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ã€‚</p><p>å¦‚æœè¦ç”¨MySQLçš„è¯ï¼Œå°±éº»çƒ¦ç‚¹ã€‚</p><p>æ¯”å¦‚æˆ‘è‡ªå·±è£…äº†ä¸€å°Ubuntu20.04LTSä½œå°æœåŠ¡å™¨ï¼Œå¹¶æ²¡æœ‰å®‰è£…MySQLï¼Œç„¶ååæ­£è£…äº†Dockerï¼Œå€’ä¹Ÿæ˜¯æ²¡å•¥å¤§å…³ç³»ï¼Œç”¨ä¸ªMySQLçš„é•œåƒï¼Œåˆ›å»ºå®¹å™¨å°±èƒ½ç”¨äº†ã€‚</p><a id="more"></a><h2 id="ä¸€ã€åˆ¶ä½œFlaské¡¹ç›®é•œåƒï¼ˆæœ¬åœ°ï¼‰"><a href="#ä¸€ã€åˆ¶ä½œFlaské¡¹ç›®é•œåƒï¼ˆæœ¬åœ°ï¼‰" class="headerlink" title="ä¸€ã€åˆ¶ä½œFlaské¡¹ç›®é•œåƒï¼ˆæœ¬åœ°ï¼‰"></a>ä¸€ã€åˆ¶ä½œFlaské¡¹ç›®é•œåƒï¼ˆæœ¬åœ°ï¼‰</h2><h3 id="1-é¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰"><a href="#1-é¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰" class="headerlink" title="1.é¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰"></a>1.é¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">flask_demo</span><br><span class="line">â”œâ”€â”€ app</span><br><span class="line">â”‚   â”œâ”€â”€ templates</span><br><span class="line">â”‚       â””â”€â”€ index.html</span><br><span class="line">â”‚   â”œâ”€â”€ app.py</span><br><span class="line">â”‚   â”œâ”€â”€ Dockerfile</span><br><span class="line">â”‚   â””â”€â”€ requirements.txt</span><br><span class="line">â”œâ”€â”€ db_data</span><br><span class="line">â”‚   â””â”€â”€ init.sql</span><br><span class="line">â””â”€â”€ docker-compose.yml</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼šDockerfileã€requirements.txtã€docker-compose.ymlæ–‡ä»¶éƒ½æ˜¯åé¢åˆ›å»ºçš„ã€‚</p><h3 id="2-ç”Ÿæˆ-requirements-txt"><a href="#2-ç”Ÿæˆ-requirements-txt" class="headerlink" title="2.ç”Ÿæˆ requirements.txt"></a>2.ç”Ÿæˆ requirements.txt</h3><p>è¿›å…¥<code>flask_demo\app</code>ç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥ç”Ÿæˆé¡¹ç›®ç¯å¢ƒçš„ requirements.txt æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure><p><strong>requirements.txt ä¸¾ä¾‹</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">cffi&#x3D;&#x3D;1.15.1</span><br><span class="line">click&#x3D;&#x3D;8.1.3</span><br><span class="line">colorama&#x3D;&#x3D;0.4.6</span><br><span class="line">et-xmlfile&#x3D;&#x3D;1.1.0</span><br><span class="line">Flask&#x3D;&#x3D;2.2.2</span><br><span class="line">Flask-SQLAlchemy&#x3D;&#x3D;3.0.2</span><br><span class="line">Flask-WTF&#x3D;&#x3D;1.0.1</span><br><span class="line">gevent&#x3D;&#x3D;22.10.2</span><br><span class="line">greenlet&#x3D;&#x3D;2.0.1</span><br><span class="line">importlib-metadata&#x3D;&#x3D;5.2.0</span><br><span class="line">itsdangerous&#x3D;&#x3D;2.1.2</span><br><span class="line">Jinja2&#x3D;&#x3D;3.1.2</span><br><span class="line">MarkupSafe&#x3D;&#x3D;2.1.1</span><br><span class="line">mysqlclient&#x3D;&#x3D;2.1.1</span><br><span class="line">numpy&#x3D;&#x3D;1.24.1</span><br><span class="line">openpyxl&#x3D;&#x3D;3.0.10</span><br><span class="line">pandas&#x3D;&#x3D;1.5.2</span><br><span class="line">prettytable&#x3D;&#x3D;3.6.0</span><br><span class="line">pycparser&#x3D;&#x3D;2.21</span><br><span class="line">pyecharts&#x3D;&#x3D;2.0.1</span><br><span class="line">PyMySQL&#x3D;&#x3D;1.0.2</span><br><span class="line">python-dateutil&#x3D;&#x3D;2.8.2</span><br><span class="line">pytz&#x3D;&#x3D;2022.7</span><br><span class="line">simplejson&#x3D;&#x3D;3.18.1</span><br><span class="line">six&#x3D;&#x3D;1.16.0</span><br><span class="line">SQLAlchemy&#x3D;&#x3D;1.4.45</span><br><span class="line">wcwidth&#x3D;&#x3D;0.2.5</span><br><span class="line">Werkzeug&#x3D;&#x3D;2.2.2</span><br><span class="line">WTForms&#x3D;&#x3D;3.0.1</span><br><span class="line">zipp&#x3D;&#x3D;3.11.0</span><br><span class="line">zope.event&#x3D;&#x3D;4.6</span><br><span class="line">zope.interface&#x3D;&#x3D;5.5.2</span><br></pre></td></tr></table></figure><p>æˆ‘å®‰è£…çš„åº“å°±æ˜¯è¿™äº›ï¼š<br><code>pip install flask, flask_wtf, flask_sqlalchemy, pymysql, mysqlclient, pandas, openpyxl, gevent, pyecharts</code></p><h3 id="3-ç”¨Dockerfile-æ–‡ä»¶åˆ›å»ºé•œåƒ"><a href="#3-ç”¨Dockerfile-æ–‡ä»¶åˆ›å»ºé•œåƒ" class="headerlink" title="3.ç”¨Dockerfile æ–‡ä»¶åˆ›å»ºé•œåƒ"></a>3.ç”¨Dockerfile æ–‡ä»¶åˆ›å»ºé•œåƒ</h3><p>æ³¨æ„ä¸€ä¸‹ï¼Œæˆ‘è¿™ä¸ªDockerfileæ–‡ä»¶åªæ˜¯å»ºç«‹ä¸€ä¸ªåˆæ­¥çš„ç¯å¢ƒï¼ŒåæœŸæ˜¯å¯ä»¥ä¿®æ”¹é‡Œé¢çš„pythonæ–‡ä»¶ï¼Œæœ€ååœ¨å®¹å™¨é‡Œè¿è¡Œpythonæ–‡ä»¶çš„ã€‚æ‰€ä»¥æ²¡æŠŠæ•´ä¸ªé¡¹ç›®ä»£ç éƒ½copyè¿›å»ã€‚</p><p>Dockerfileæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># Use an official Python runtime as an image</span><br><span class="line">FROM python:3.9</span><br><span class="line"></span><br><span class="line"># Sets the working directory for following COPY and CMD instructions</span><br><span class="line"># Notice we havenâ€™t created a directory by this name - this instruction</span><br><span class="line"># creates a directory with this name if it doesnâ€™t exist</span><br><span class="line">WORKDIR &#x2F;app</span><br><span class="line"></span><br><span class="line"># copy code</span><br><span class="line"># COPY . &#x2F;app</span><br><span class="line">COPY requirements.txt &#x2F;app</span><br><span class="line"></span><br><span class="line"># RUN python -m pip install --upgrade pip</span><br><span class="line"># RUN pip install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host&#x3D;files.pythonhosted.org --no-cache-dir -r requirements.txt</span><br><span class="line">RUN pip3 install -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple --upgrade pip </span><br><span class="line">RUN pip3 install -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple -r requirements.txt </span><br><span class="line"></span><br><span class="line"># The EXPOSE instruction indicates the ports on which a container</span><br><span class="line">EXPOSE 5002</span><br><span class="line"></span><br><span class="line"># Run app.py when the container launches</span><br><span class="line">COPY app.py &#x2F;app</span><br><span class="line"># CMD python app.py</span><br></pre></td></tr></table></figure><p><code>EXPOSE 5020</code>ï¼šè¿™é‡Œéœ€è¦æ”¹æˆä½ è‡ªå·±è®¾ç½®çš„ç«¯å£å·ã€‚Flaskä¸€èˆ¬é»˜è®¤ç”¨5000ã€‚åˆ«çš„å¯ä»¥å•¥ä¹Ÿä¸ç”¨æ”¹ã€‚</p><p>ç„¶åï¼ŒæŠŠappç›®å½•ä¸­çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œæ¯”å¦‚ä¸Šä¼ è‡³ flask_demoç›®å½•ã€‚å¯ä»¥ç›´æ¥ç”¨Xftpä¸Šä¼ ã€‚<br>ï¼ˆappç›®å½•ä¸‹åªéœ€è¦ï¼šDockerfileã€requirements.txtã€app.pyæ–‡ä»¶å°±è¡Œï¼‰</p><p>ç„¶åSSHè¿æ¥æœåŠ¡å™¨ï¼Œè¿›å…¥åˆ°app ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t flask_demo:1.0 .</span><br></pre></td></tr></table></figure><blockquote><p>-t è®¾ç½®é•œåƒåå­—å’Œç‰ˆæœ¬å·<br>æœ€åæœ‰ä¸ªç‚¹ä¸è¦æ¼äº†ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•è·¯å¾„</p></blockquote><p>æ‰§è¡Œå®Œï¼Œå°±å¯ä»¥ç”¨å‘½ä»¤ <code>docker images</code>çœ‹åˆ°ä»¥ä¸‹é•œåƒäº†ï¼ˆå½“ç„¶ä¹Ÿæœ‰python3.9çš„é•œåƒï¼‰ã€‚</p><h2 id="äºŒã€åˆ›å»ºFlaské¡¹ç›®å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰"><a href="#äºŒã€åˆ›å»ºFlaské¡¹ç›®å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰" class="headerlink" title="äºŒã€åˆ›å»ºFlaské¡¹ç›®å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰"></a>äºŒã€åˆ›å»ºFlaské¡¹ç›®å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰</h2><p>æ ¹æ®åˆšåˆ›å»ºçš„é•œåƒï¼šflask_demo:1.0 åˆ›å»ºä¸€ä¸ªå®¹å™¨ã€‚</p><p>å› ä¸ºè¿˜æ¶‰åŠåˆ°MySQLï¼Œæ‰€ä»¥è¿™é‡Œç”¨docker-composeçš„æ–¹æ³•ï¼Œdocker-composeçš„ä»‹ç»çœ‹è¿™é‡Œï¼š<a href="/2022/06/19/Docker-Compose%E8%AF%A6%E8%A7%A3/" title="Docker-Composeè¯¦è§£">Docker-Composeè¯¦è§£</a></p><p>å…ˆåœ¨ flask_demoç›®å½•ä¸‹åˆ›å»ºä¸ª docker_app ç›®å½•ï¼Œä½œæ¥åšæ˜ å°„éœ€è¦çš„ã€‚</p><h3 id="1-docker-compose-ymlæ–‡ä»¶"><a href="#1-docker-compose-ymlæ–‡ä»¶" class="headerlink" title="1.docker-compose.ymlæ–‡ä»¶"></a>1.docker-compose.ymlæ–‡ä»¶</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">flask_demo:1.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">my_flask_demo</span></span><br><span class="line">    <span class="attr">tty:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5002:5002&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5522:22&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">./docker_app:/app</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_HOST:</span> <span class="string">db</span> </span><br><span class="line">      <span class="attr">MYSQL_USER:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">123MYSQL321</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">flask_demo_mysql</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">my_flask_demo_db</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3307:3306&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">123MYSQL321</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">flask_demo_mysql</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./db_data:/docker-entrypoint-initdb.d/:ro</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">  <span class="attr">db:</span></span><br></pre></td></tr></table></figure><blockquote><p>å› ä¸ºåœ¨appä¸­ç”¨ restart: always åˆ›å»ºå®¹å™¨åä¼šä¸€ç›´Restartingï¼Œæ‰€ä»¥ç”¨äº† tty: true</p></blockquote><p>db_data/init.sql æ–‡ä»¶ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database flask_demo_mysql;</span><br><span class="line"><span class="keyword">create</span> database flask_demo_mysql;</span><br><span class="line">use flask_demo_mysql;</span><br></pre></td></tr></table></figure><h3 id="2-éƒ¨ç½²Composeåº”ç”¨"><a href="#2-éƒ¨ç½²Composeåº”ç”¨" class="headerlink" title="2.éƒ¨ç½²Composeåº”ç”¨"></a>2.éƒ¨ç½²Composeåº”ç”¨</h3><p>docker-composeå‘½ä»¤å°±åœ¨æœ‰ docker-compose.ymlæ–‡ä»¶çš„ç›®å½•ä¸‹æ‰§è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br><span class="line"><span class="comment"># -då‚æ•°ä»¤åº”ç”¨åœ¨åå°å¯åŠ¨</span></span><br><span class="line"><span class="comment"># é»˜è®¤æƒ…å†µä¸‹è¯¥å‘½ä»¤ä¼šè¯»å–åä¸º docker-compose.ymlï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨-fæŒ‡å®šå…¶ä»–æ–‡ä»¶åã€‚</span></span><br><span class="line"><span class="comment"># docker-compose -f docker-compose.yml up -d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¶å®ƒå¸¸ç”¨docker-composeå‘½ä»¤</span></span><br><span class="line"><span class="comment"># åˆ—å‡ºComposeåº”ç”¨ä¸­çš„å„ä¸ªå®¹å™¨</span></span><br><span class="line">docker-compose ps</span><br><span class="line">docker ps -a <span class="comment"># æ˜¾ç¤ºåŒ…æ‹¬åœæ­¢çš„å®¹å™¨</span></span><br><span class="line"><span class="comment"># åœæ­¢Composeåº”ç”¨ç›¸å…³çš„æ‰€æœ‰å®¹å™¨ï¼Œä½†ä¸ä¼šåˆ é™¤å®ƒä»¬</span></span><br><span class="line">docker-compose stop</span><br><span class="line"><span class="comment"># é‡å¯å·²åœæ­¢çš„Composeåº”ç”¨</span></span><br><span class="line">docker-compose restart</span><br><span class="line"><span class="comment"># åœæ­¢å¹¶åˆ é™¤è¿è¡Œä¸­çš„Composeåº”ç”¨ï¼Œä¼šåˆ é™¤å®¹å™¨å’Œç½‘ç»œï¼Œä½†æ˜¯ä¸ä¼šåˆ é™¤å·å’Œé•œåƒã€‚</span></span><br><span class="line">docker-compose down</span><br></pre></td></tr></table></figure><h3 id="3-æŠŠappç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker-appç›®å½•ä¸­"><a href="#3-æŠŠappç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker-appç›®å½•ä¸­" class="headerlink" title="3.æŠŠappç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker_appç›®å½•ä¸­"></a>3.æŠŠappç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker_appç›®å½•ä¸­</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r app/. docker_app/</span><br></pre></td></tr></table></figure><blockquote><p>cp -r app docker_app/ ï¼šè¡¨ç¤ºå°†appç›®å½•åŠå…¶ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker_appç›®å½•ä¸‹ï¼Œå°±ä¼šæœ‰ docker_app/appç›®å½•</p><p>cp -r app/. docker_app/ ï¼šè¡¨ç¤ºå°†appç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker_appç›®å½•ä¸‹ï¼Œä¸åŒ…æ‹¬appç›®å½•</p></blockquote><p>ä»¥åè¦æ”¹å®¹å™¨ä¸­çš„ä»£ç ï¼Œå°±ç›´æ¥æ”¹è¿™ä¸ªç›®å½•ä¸‹çš„ä»£ç å°±è¡Œäº†ã€‚</p><h2 id="ä¸‰ã€åå°ä¸€ç›´è¿è¡Œapp-py"><a href="#ä¸‰ã€åå°ä¸€ç›´è¿è¡Œapp-py" class="headerlink" title="ä¸‰ã€åå°ä¸€ç›´è¿è¡Œapp.py"></a>ä¸‰ã€åå°ä¸€ç›´è¿è¡Œapp.py</h2><p>è¿™ä¸ªç”¨<code>nohup</code>å‘½ä»¤ï¼Œæœ‰æ–‡ç« å†™è¿‡ä»‹ç»äº†ï¼š<a href="/2022/05/02/Linux-nohup-%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C-%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" title="Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£">Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it my_flask_demo /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åå°è¿è¡ŒFlaské¡¹ç›®ï¼Œè¿è¡Œåï¼Œä¼šæ˜¾ç¤ºè¿›ç¨‹çš„PID</span></span><br><span class="line"><span class="comment"># è¿è¡Œåå°±å¯ä»¥é€šè¿‡ï¼šhttp://192.168.1.121:5002 è®¿é—®äº†ã€‚</span></span><br><span class="line">nohup python3 -u app.py &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.ç»“æŸè¿›ç¨‹</span></span><br><span class="line"><span class="comment"># 1).æŸ¥æ‰¾è¿›ç¨‹ï¼Œæ‰¾åˆ°app.pyè¿›ç¨‹çš„PID</span></span><br><span class="line">ps -aux | grep <span class="string">&quot;app.py&quot;</span></span><br><span class="line"><span class="comment"># 2).ç»“æŸè¿›ç¨‹</span></span><br><span class="line"><span class="built_in">kill</span> [PID]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.é€€å‡ºå®¹å™¨</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><h2 id="å››ã€MySQL"><a href="#å››ã€MySQL" class="headerlink" title="å››ã€MySQL"></a>å››ã€MySQL</h2><p>çœ‹ docker-compose.ymlæ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">MYSQL_USER:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">123MYSQL321</span></span><br><span class="line"><span class="attr">MYSQL_DATABASE:</span> <span class="string">flask_demo_mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«¯å£å·²ç»ä»3306æ˜ å°„åˆ°3307äº†</span></span><br><span class="line"><span class="string">&quot;3307:3306&quot;</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥åœ¨Flaskä½¿ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql_host = <span class="string">&#x27;192.168.1.121&#x27;</span></span><br><span class="line">mysql_user = <span class="string">&#x27;root&#x27;</span></span><br><span class="line">mysql_passwd = <span class="string">&#x27;123MYSQL321&#x27;</span></span><br><span class="line">mysql_db = <span class="string">&#x27;flask_demo_mysql&#x27;</span></span><br><span class="line">mysql_port = <span class="number">3307</span></span><br><span class="line"><span class="comment"># DATABASE_URI = &#x27;mysql://root:123MYSQL321@192.168.1.121:3307/flask_demo_mysql&#x27;</span></span><br><span class="line">DATABASE_URI = <span class="string">&#x27;mysql://&#x27;</span> + mysql_user + <span class="string">&#x27;:&#x27;</span> + mysql_passwd + <span class="string">&#x27;@&#x27;</span> + mysql_host + <span class="string">&#x27;:&#x27;</span> + <span class="built_in">str</span>(mysql_port) + <span class="string">&#x27;/&#x27;</span> + mysql_db</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ•°æ®åº“åœ°å€</span></span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_DATABASE_URI&#x27;</span>] = DATABASE_URI</span><br><span class="line"><span class="comment"># è·Ÿè¸ªæ•°æ®åº“çš„ä¿®æ”¹--&gt;ä¸å»ºè®®å¼€å¯æœªæ¥çš„ç‰ˆæœ¬ä¸­ä¼šç§»é™¤</span></span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_TRACK_MODIFICATIONS&#x27;</span>] = <span class="literal">False</span></span><br><span class="line">db = SQLAlchemy(app)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Flaskä½¿ç”¨pyechartsç”»å›¾è¡¨</title>
      <link href="/2023/01/13/Python-Flask%E4%BD%BF%E7%94%A8pyecharts%E7%94%BB%E5%9B%BE%E8%A1%A8/"/>
      <url>/2023/01/13/Python-Flask%E4%BD%BF%E7%94%A8pyecharts%E7%94%BB%E5%9B%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p>pyecharts æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆ Echarts å›¾è¡¨çš„ç±»åº“ï¼ŒEcharts æ˜¯ç™¾åº¦å¼€æºçš„ä¸€ä¸ªæ•°æ®å¯è§†åŒ– JS åº“ï¼Œä¸»è¦ç”¨äºæ•°æ®å¯è§†åŒ–ã€‚æ‰€ä»¥ï¼Œpyecharts å®é™…ä¸Šå°±æ˜¯ Echarts ä¸ Python çš„å¯¹æ¥ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://pyecharts.org/#/zh-cn/intro" >https://pyecharts.org/#/zh-cn/intro<i class="fas fa-external-link-alt"></i></a></p><p><strong>å®‰è£…pyechartsï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyecharts</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="1-åœ¨Flaskä¸­ç”»æŸ±å½¢å›¾"><a href="#1-åœ¨Flaskä¸­ç”»æŸ±å½¢å›¾" class="headerlink" title="1.åœ¨Flaskä¸­ç”»æŸ±å½¢å›¾"></a>1.åœ¨Flaskä¸­ç”»æŸ±å½¢å›¾</h3><p>å®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿæœ‰å…³äºåœ¨Flaskä¸­ä½¿ç”¨çš„è¯´æ˜ï¼š<a class="link"   href="https://pyecharts.org/#/zh-cn/web_flask" >https://pyecharts.org/#/zh-cn/web_flask<i class="fas fa-external-link-alt"></i></a></p><p>è¿™ä¸ªè·Ÿå®˜æ–¹çš„ä¾‹å­å·®ä¸å¤šï¼Œç¨å¾®æ”¹äº†ä¸‹ï¼Œchart1ä¸­å˜é‡barèµ‹å€¼çš„æ—¶å€™ç”¨çš„æ˜¯é“¾å¼çš„ï¼Œä¸ä¹ æƒ¯è¿™ç§æ–¹å¼ï¼Œå‚è€ƒchart2ä¸­å†™æ³•å°±è¡Œï¼Œä¸€æ ·çš„æ•ˆæœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># app.py</span></span><br><span class="line"><span class="comment"># pip install gevent</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template</span><br><span class="line"><span class="keyword">from</span> gevent.pywsgi <span class="keyword">import</span> WSGIServer</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/chart1&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chart1</span>():</span></span><br><span class="line">    bar = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis([<span class="string">&quot;è¡¬è¡«&quot;</span>, <span class="string">&quot;ç¾Šæ¯›è¡«&quot;</span>, <span class="string">&quot;é›ªçººè¡«&quot;</span>, <span class="string">&quot;è£¤å­&quot;</span>, <span class="string">&quot;é«˜è·Ÿé‹&quot;</span>, <span class="string">&quot;è¢œå­&quot;</span>])</span><br><span class="line">        .add_yaxis(<span class="string">&quot;å•†å®¶A&quot;</span>, [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">90</span>])</span><br><span class="line">        .add_yaxis(<span class="string">&quot;å•†å®¶B&quot;</span>, [<span class="number">15</span>, <span class="number">25</span>, <span class="number">16</span>, <span class="number">55</span>, <span class="number">48</span>, <span class="number">8</span>])</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar-åŸºæœ¬ç¤ºä¾‹&quot;</span>, subtitle=<span class="string">&quot;æˆ‘æ˜¯å‰¯æ ‡é¢˜&quot;</span>))</span><br><span class="line">    )</span><br><span class="line">    chart1 = bar.render_embed()</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;chart1.html&#x27;</span>, chart1=chart1)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/chart2&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chart2</span>():</span></span><br><span class="line">    bar = Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;400px&#x27;</span>))</span><br><span class="line">    bar.add_xaxis([<span class="string">&quot;è¡¬è¡«&quot;</span>, <span class="string">&quot;ç¾Šæ¯›è¡«&quot;</span>, <span class="string">&quot;é›ªçººè¡«&quot;</span>, <span class="string">&quot;è£¤å­&quot;</span>, <span class="string">&quot;é«˜è·Ÿé‹&quot;</span>, <span class="string">&quot;è¢œå­&quot;</span>])</span><br><span class="line">    bar.add_yaxis(<span class="string">&quot;å•†å®¶A&quot;</span>, [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">90</span>])</span><br><span class="line">    bar.add_yaxis(<span class="string">&quot;å•†å®¶B&quot;</span>, [<span class="number">15</span>, <span class="number">25</span>, <span class="number">16</span>, <span class="number">55</span>, <span class="number">48</span>, <span class="number">8</span>])</span><br><span class="line">    bar.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar-åŸºæœ¬ç¤ºä¾‹&quot;</span>, subtitle=<span class="string">&quot;å‰¯æ ‡é¢˜&quot;</span>))</span><br><span class="line">    chart2 = bar.render_embed()</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;chart2.html&#x27;</span>, chart2=chart2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app.run(&#x27;0.0.0.0&#x27;, port=5000)</span></span><br><span class="line">    http_server = WSGIServer((<span class="string">&#x27;0.0.0.0&#x27;</span>, <span class="number">5000</span>), app)</span><br><span class="line">    http_server.serve_forever()</span><br></pre></td></tr></table></figure><p><strong>chart1.html</strong>ï¼ˆæˆ‘è¿™é‡Œä¸æƒ³ç”¨åœ¨çº¿çš„jsæ–‡ä»¶ï¼Œæ‰€ä»¥æŠŠä¸‹è½½å¥½çš„ echarts.min.jsæ”¾åœ¨é¡¹ç›®ç›®å½•ä¸‹çš„<code>static/js</code>ç›®å½•ä¸‹äº† ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Bar-åŸºæœ¬ç¤ºä¾‹&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;&#123;&#123;url_for(&#39;static&#39;, filename&#x3D;&#39;js&#x2F;echarts.min.js&#39;)&#125;&#125;&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;chart&quot;&gt;</span><br><span class="line">        &#123;&#123; chart1|safe &#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h3 id="2-åœ¨Flaskä¸­ç”»æ—¶é—´çº¿è½®æ’­å¤šå¼ é¥¼å›¾ï¼ˆTimelineï¼‰"><a href="#2-åœ¨Flaskä¸­ç”»æ—¶é—´çº¿è½®æ’­å¤šå¼ é¥¼å›¾ï¼ˆTimelineï¼‰" class="headerlink" title="2.åœ¨Flaskä¸­ç”»æ—¶é—´çº¿è½®æ’­å¤šå¼ é¥¼å›¾ï¼ˆTimelineï¼‰"></a>2.åœ¨Flaskä¸­ç”»æ—¶é—´çº¿è½®æ’­å¤šå¼ é¥¼å›¾ï¼ˆTimelineï¼‰</h3><p>éœ€è¦å±•ç¤ºå¤šä¸ªå›¾è¡¨çš„è¯ï¼Œä¾æ¬¡å±•ç¤ºçš„è¯ç›´æ¥æŠŠ2ä¸ªchartä¼ è¿‡å»å°±è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># app.py</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template</span><br><span class="line"><span class="keyword">from</span> gevent.pywsgi <span class="keyword">import</span> WSGIServer</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Timeline, Pie</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/chart3&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chart3</span>():</span></span><br><span class="line">    <span class="comment"># ç”»æŸ±å½¢å›¾</span></span><br><span class="line">    bar = Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;400px&#x27;</span>))</span><br><span class="line">    bar.add_xaxis([<span class="string">&quot;è¡¬è¡«&quot;</span>, <span class="string">&quot;ç¾Šæ¯›è¡«&quot;</span>, <span class="string">&quot;é›ªçººè¡«&quot;</span>, <span class="string">&quot;è£¤å­&quot;</span>, <span class="string">&quot;é«˜è·Ÿé‹&quot;</span>, <span class="string">&quot;è¢œå­&quot;</span>])</span><br><span class="line">    bar.add_yaxis(<span class="string">&quot;å•†å®¶A&quot;</span>, [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">90</span>])</span><br><span class="line">    bar.add_yaxis(<span class="string">&quot;å•†å®¶B&quot;</span>, [<span class="number">15</span>, <span class="number">25</span>, <span class="number">16</span>, <span class="number">55</span>, <span class="number">48</span>, <span class="number">8</span>])</span><br><span class="line">    bar.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar-åŸºæœ¬ç¤ºä¾‹&quot;</span>, subtitle=<span class="string">&quot;å‰¯æ ‡é¢˜&quot;</span>))</span><br><span class="line">    chart1 = bar.render_embed()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”»æ—¶é—´çº¿è½®æ’­å¤šå¼ é¥¼å›¾ï¼ˆæ¯ä¸€é¢˜ç»Ÿè®¡ç»“æœï¼‰</span></span><br><span class="line">    timeline = Timeline()</span><br><span class="line">    x_list = [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>]</span><br><span class="line">    ques_id_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="comment"># é¢˜ç›®åºå·</span></span><br><span class="line">    standard_answer_dict = &#123;<span class="number">1</span>:<span class="string">&#x27;A&#x27;</span>, <span class="number">2</span>:<span class="string">&#x27;C&#x27;</span>, <span class="number">3</span>:<span class="string">&#x27;D&#x27;</span>, <span class="number">4</span>:<span class="string">&#x27;B&#x27;</span>, <span class="number">5</span>:<span class="string">&#x27;C&#x27;</span>&#125; <span class="comment"># æ ‡å‡†ç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">for</span> ques_id <span class="keyword">in</span> ques_id_list:</span><br><span class="line">        standard_answer = standard_answer_dict[ques_id]</span><br><span class="line">        <span class="comment"># åœ¨æ­£ç¡®ç­”æ¡ˆåé¢æ·»åŠ æ–‡å­—ï¼š&#x27; æ­£ç¡®ç­”æ¡ˆ&#x27;</span></span><br><span class="line">        new_x_list = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> x_list:</span><br><span class="line">            <span class="keyword">if</span>(x == standard_answer):</span><br><span class="line">                new_x_list.append(x + <span class="string">&#x27; æ­£ç¡®ç­”æ¡ˆ&#x27;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                new_x_list.append(x)</span><br><span class="line">        </span><br><span class="line">        num_list = [random.randint(<span class="number">0</span>, <span class="number">5</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>)] <span class="comment"># éšæœºç”Ÿæˆæ¯ä¸ªé€‰é¡¹çš„é€‰æ‹©äººæ•°</span></span><br><span class="line">        pie_data_dict = <span class="built_in">list</span>(<span class="built_in">zip</span>(new_x_list, num_list)) <span class="comment"># [(&#x27;A&#x27;, 1), (&#x27;B æ­£ç¡®ç­”æ¡ˆ&#x27;, 1), (&#x27;C&#x27;, 2), (&#x27;D&#x27;, 3)]</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># é¥¼å›¾</span></span><br><span class="line">        pie = Pie(init_opts=opts.InitOpts(width=<span class="string">&#x27;300px&#x27;</span>, height=<span class="string">&#x27;300px&#x27;</span>))</span><br><span class="line">        pie.add(<span class="string">&quot;&quot;</span>, pie_data_dict)</span><br><span class="line">        pie.set_global_opts(title_opts=opts.TitleOpts(title=<span class="built_in">str</span>(ques_id)+<span class="string">&#x27;é¢˜&#x27;</span>, subtitle=<span class="string">&quot;å‰¯æ ‡é¢˜&quot;</span>))</span><br><span class="line">        pie.set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;b&#125;: &#123;c&#125;&quot;</span>)) <span class="comment"># &#123;b&#125;æ˜¯æ•°æ®é¡¹çš„åç§°ï¼Œ&#123;c&#125;æ˜¯æ•°æ®é¡¹çš„å€¼ã€‚</span></span><br><span class="line">        timeline.add(pie, ques_id)</span><br><span class="line">    chart2 = timeline.render_embed()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;chart3.html&#x27;</span>, chart1=chart1, chart2=chart2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app.run(&#x27;0.0.0.0&#x27;, port=5000)</span></span><br><span class="line">    http_server = WSGIServer((<span class="string">&#x27;0.0.0.0&#x27;</span>, <span class="number">5000</span>), app)</span><br><span class="line">    http_server.serve_forever()</span><br></pre></td></tr></table></figure><p><a class="link"   href="http://localhost:5000/chart3" >http://localhost:5000/chart3<i class="fas fa-external-link-alt"></i></a> è¿è¡Œç»“æœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_flask_pyecharts_1.png"                      style="zoom: 50%;"                ></p><h3 id="3-Gridï¼šå¹¶è¡Œå¤šå›¾"><a href="#3-Gridï¼šå¹¶è¡Œå¤šå›¾" class="headerlink" title="3.Gridï¼šå¹¶è¡Œå¤šå›¾"></a>3.Gridï¼šå¹¶è¡Œå¤šå›¾</h3><p>å¦‚æœéœ€è¦å¸ƒå±€å¤šå¼ å›¾è¡¨çš„è¯ï¼Œå¯ä»¥ç”¨Gridç±»ï¼š</p><blockquote><p>pos_bottomï¼šè¡¨ç¤ºä¸ä¸‹æ–¹é—´è·<br>pos_topï¼šè¡¨ç¤ºä¸ä¸Šæ–¹é—´è·<br>pos_rightï¼šè¡¨ç¤ºä¸å³æ–¹é—´è·<br>pos_leftï¼šè¡¨ç¤ºä¸å·¦æ–¹é—´è·</p></blockquote><p>å¸ƒå±€çš„æ—¶å€™ï¼Œé¡ºä¾¿ä¹Ÿè¦æŠŠ LegendOptsï¼ˆå›¾ä¾‹é…ç½®é¡¹ï¼‰å’Œ TitleOptsï¼ˆæ ‡é¢˜é…ç½®é¡¹ï¼‰ä½ç½®ä¹Ÿè°ƒæ•´ä¸‹ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># app.py</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template</span><br><span class="line"><span class="keyword">from</span> gevent.pywsgi <span class="keyword">import</span> WSGIServer</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Grid</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    bar1 = Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;150px&#x27;</span>, height=<span class="string">&#x27;100px&#x27;</span>))</span><br><span class="line">    bar1.add_xaxis([<span class="string">&quot;è¡¬è¡«&quot;</span>, <span class="string">&quot;ç¾Šæ¯›è¡«&quot;</span>, <span class="string">&quot;é›ªçººè¡«&quot;</span>, <span class="string">&quot;è£¤å­&quot;</span>, <span class="string">&quot;é«˜è·Ÿé‹&quot;</span>, <span class="string">&quot;è¢œå­&quot;</span>])</span><br><span class="line">    bar1.add_yaxis(<span class="string">&quot;å•†å®¶A&quot;</span>, [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">90</span>])</span><br><span class="line">    bar1.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar1-åŸºæœ¬ç¤ºä¾‹&quot;</span>, subtitle=<span class="string">&quot;Bar1å‰¯æ ‡é¢˜&quot;</span>, pos_bottom=<span class="string">&quot;93%&quot;</span>, pos_right=<span class="string">&quot;85%&quot;</span>),</span><br><span class="line">                        legend_opts=opts.LegendOpts(pos_bottom=<span class="string">&quot;95%&quot;</span>, pos_right=<span class="string">&quot;70%&quot;</span>))</span><br><span class="line"></span><br><span class="line">    bar2 = Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;150px&#x27;</span>, height=<span class="string">&#x27;100px&#x27;</span>))</span><br><span class="line">    bar2.add_xaxis([<span class="string">&quot;è¡¬è¡«&quot;</span>, <span class="string">&quot;ç¾Šæ¯›è¡«&quot;</span>, <span class="string">&quot;é›ªçººè¡«&quot;</span>, <span class="string">&quot;è£¤å­&quot;</span>, <span class="string">&quot;é«˜è·Ÿé‹&quot;</span>, <span class="string">&quot;è¢œå­&quot;</span>])</span><br><span class="line">    bar2.add_yaxis(<span class="string">&quot;å•†å®¶A&quot;</span>, [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">80</span>])</span><br><span class="line">    bar2.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar2-åŸºæœ¬ç¤ºä¾‹&quot;</span>, subtitle=<span class="string">&quot;Bar2å‰¯æ ‡é¢˜&quot;</span>, pos_bottom=<span class="string">&quot;93%&quot;</span>, pos_left=<span class="string">&quot;55%&quot;</span>),</span><br><span class="line">                        legend_opts=opts.LegendOpts(pos_bottom=<span class="string">&quot;95%&quot;</span>, pos_left=<span class="string">&quot;70%&quot;</span>))</span><br><span class="line"></span><br><span class="line">    bar3 = Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;150px&#x27;</span>, height=<span class="string">&#x27;100px&#x27;</span>))</span><br><span class="line">    bar3.add_xaxis([<span class="string">&quot;è¡¬è¡«&quot;</span>, <span class="string">&quot;ç¾Šæ¯›è¡«&quot;</span>, <span class="string">&quot;é›ªçººè¡«&quot;</span>, <span class="string">&quot;è£¤å­&quot;</span>, <span class="string">&quot;é«˜è·Ÿé‹&quot;</span>, <span class="string">&quot;è¢œå­&quot;</span>])</span><br><span class="line">    bar3.add_yaxis(<span class="string">&quot;å•†å®¶A&quot;</span>, [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">70</span>])</span><br><span class="line">    bar3.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar3-åŸºæœ¬ç¤ºä¾‹&quot;</span>, subtitle=<span class="string">&quot;Bar3å‰¯æ ‡é¢˜&quot;</span>, pos_top=<span class="string">&quot;52%&quot;</span>, pos_right=<span class="string">&quot;85%&quot;</span>),</span><br><span class="line">                        legend_opts=opts.LegendOpts(pos_top=<span class="string">&quot;54%&quot;</span>, pos_right=<span class="string">&quot;70%&quot;</span>))</span><br><span class="line"></span><br><span class="line">    bar4 = Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;150px&#x27;</span>, height=<span class="string">&#x27;100px&#x27;</span>))</span><br><span class="line">    bar4.add_xaxis([<span class="string">&quot;è¡¬è¡«&quot;</span>, <span class="string">&quot;ç¾Šæ¯›è¡«&quot;</span>, <span class="string">&quot;é›ªçººè¡«&quot;</span>, <span class="string">&quot;è£¤å­&quot;</span>, <span class="string">&quot;é«˜è·Ÿé‹&quot;</span>, <span class="string">&quot;è¢œå­&quot;</span>])</span><br><span class="line">    bar4.add_yaxis(<span class="string">&quot;å•†å®¶A&quot;</span>, [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">60</span>])</span><br><span class="line">    bar4.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar4-åŸºæœ¬ç¤ºä¾‹&quot;</span>, subtitle=<span class="string">&quot;Bar4å‰¯æ ‡é¢˜&quot;</span>, pos_top=<span class="string">&quot;52%&quot;</span>, pos_left=<span class="string">&quot;55%&quot;</span>),</span><br><span class="line">                        legend_opts=opts.LegendOpts(pos_top=<span class="string">&quot;54%&quot;</span>, pos_left=<span class="string">&quot;70%&quot;</span>))</span><br><span class="line"></span><br><span class="line">    grid = Grid(init_opts=opts.InitOpts(width=<span class="string">&#x27;960px&#x27;</span>, height=<span class="string">&#x27;800px&#x27;</span>))</span><br><span class="line">    grid.add(bar1, grid_opts=opts.GridOpts(pos_bottom=<span class="string">&quot;60%&quot;</span>, pos_right=<span class="string">&quot;60%&quot;</span>)) <span class="comment"># å·¦ä¸Š</span></span><br><span class="line">    grid.add(bar2, grid_opts=opts.GridOpts(pos_bottom=<span class="string">&quot;60%&quot;</span>, pos_left=<span class="string">&quot;60%&quot;</span>)) <span class="comment"># å³ä¸Š</span></span><br><span class="line">    grid.add(bar3, grid_opts=opts.GridOpts(pos_top=<span class="string">&quot;60%&quot;</span>, pos_right=<span class="string">&quot;60%&quot;</span>)) <span class="comment"># å·¦ä¸‹</span></span><br><span class="line">    grid.add(bar4, grid_opts=opts.GridOpts(pos_top=<span class="string">&quot;60%&quot;</span>, pos_left=<span class="string">&quot;60%&quot;</span>)) <span class="comment"># å³ä¸‹</span></span><br><span class="line"></span><br><span class="line">    chart1 = grid.render_embed()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;index.html&#x27;</span>, chart1=chart1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app.run(&#x27;0.0.0.0&#x27;, port=5000)</span></span><br><span class="line">    http_server = WSGIServer((<span class="string">&#x27;0.0.0.0&#x27;</span>, <span class="number">5000</span>), app)</span><br><span class="line">    http_server.serve_forever()</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_flask_pyecharts_2.png"                      style="zoom: 50%;"                ></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Flaskä½¿ç”¨WSGI server</title>
      <link href="/2023/01/10/Python-Flask%E4%BD%BF%E7%94%A8WSGI-server/"/>
      <url>/2023/01/10/Python-Flask%E4%BD%BF%E7%94%A8WSGI-server/</url>
      
        <content type="html"><![CDATA[<p>Flaskè¿è¡Œåæœ‰ä»¥ä¸‹WARNINGæç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Do not use the development server <span class="keyword">in</span> a production environment.Use a production WSGI server instead.</span><br></pre></td></tr></table></figure><p>ä¸Šé¢åªæ˜¯è­¦å‘Šï¼Œä¸ç®¡ç»§ç»­ç”¨ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å®ƒçš„æ„æ€æ˜¯Flask çš„é»˜è®¤æœåŠ¡å™¨æ˜¯åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨çš„ï¼Œä»…ä¾›å¼€å‘æµ‹è¯•ã€‚ç„¶åFlaské…ç½®é»˜è®¤æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œæ‰€ä»¥å»ºè®®ç”¨ç”Ÿäº§çº§çš„WSGIæœåŠ¡å™¨ä»£æ›¿ã€‚</p><a id="more"></a><p>åŸæ¥çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(<span class="string">&#x27;0.0.0.0&#x27;</span>, port=<span class="number">5000</span>, debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pip install gevent</span></span><br><span class="line"><span class="keyword">from</span> gevent.pywsgi <span class="keyword">import</span> WSGIServer</span><br><span class="line">â€¦â€¦</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># åŸæ¥ç”¨ï¼šapp.run(&#x27;0.0.0.0&#x27;, port=5000, debug=True)</span></span><br><span class="line">    http_server = WSGIServer((<span class="string">&#x27;0.0.0.0&#x27;</span>, <span class="number">5000</span>), app)</span><br><span class="line">    http_server.serve_forever()</span><br></pre></td></tr></table></figure><p>å†è¿è¡Œåå‘ç°ä¸åƒåŸæ¥æœ‰è¿™æ ·ä¸€å †æç¤ºï¼Œä½†ç›´æ¥æ‰“å¼€ <a class="link"   href="http://127.0.0.1:5000/" >http://127.0.0.1:5000/<i class="fas fa-external-link-alt"></i></a> ä¹Ÿæ˜¯å¯ä»¥è®¿é—®çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* Serving Flask app <span class="string">&quot;app&quot;</span> (lazy loading)</span><br><span class="line">* Environment: production</span><br><span class="line">WARNING: Do not use the development server <span class="keyword">in</span> a production environment.Use a production wSGI server instead.</span><br><span class="line">* Debug mode: on</span><br><span class="line">* Restarting with <span class="built_in">stat</span></span><br><span class="line">* Debugger is active!</span><br><span class="line">* Debugger PIN:146-032-183</span><br><span class="line">* Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</span><br></pre></td></tr></table></figure><p>PS.Flask çš„å¼€å‘æœåŠ¡å™¨æ˜¯ Werkzeug è®¾è®¡çš„ï¼Œä¾¿äºæµ‹è¯•ï¼Œä½†ä¸æ˜¯é‚£ä¹ˆçš„é«˜æ•ˆã€ç¨³å®šæˆ–å®‰å…¨ã€‚æ‰€ä»¥æƒ³æŠ•å…¥ç”Ÿäº§ç¯å¢ƒï¼Œè¿˜æ˜¯é¦–é€‰ WSGI æœåŠ¡å™¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker Dockerfileåˆ¶ä½œGitbooké•œåƒ</title>
      <link href="/2023/01/10/Docker-Dockerfile%E5%88%B6%E4%BD%9CGitbook%E9%95%9C%E5%83%8F/"/>
      <url>/2023/01/10/Docker-Dockerfile%E5%88%B6%E4%BD%9CGitbook%E9%95%9C%E5%83%8F/</url>
      
        <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡æ–‡ç« ç”¨Dockeræ­å»ºäº†Gitbookçš„ç¯å¢ƒï¼š<a href="/2023/01/10/Docker%E6%90%AD%E5%BB%BAGitbook/" title="Dockeræ­å»ºGitbook">Dockeræ­å»ºGitbook</a>ï¼Œç„¶åå‘ç°ä¸ªå°é—®é¢˜ï¼Œé—®é¢˜ä¸å¤§ï¼Œä¸è¿‡æ„Ÿè§‰Gitbookçš„ç‰ˆæœ¬å®åœ¨å¤ªä½äº†ã€‚</p><p>æ¯•ç«Ÿæ˜¯7å¹´å‰çš„é•œåƒäº†ï¼Œç”¨<code>gitbook -V</code>æŸ¥çœ‹äº†ä¸‹gitbookçš„ç‰ˆæœ¬ï¼Œç«Ÿç„¶æ˜¯ï¼š0.3.4</p><p>äºæ˜¯ï¼Œå†³å®šè¿˜æ˜¯è‡ªå·±ç”¨Dockerfileåˆ¶ä½œä¸ªGitbookçš„é•œåƒå¥½äº†ã€‚</p><p>è‡ªå·±ç”¨Dockerfileåˆ¶ä½œé•œåƒä¹ŸæŒºæ–¹ä¾¿çš„ï¼Œå‚è€ƒï¼š<a href="/2022/05/29/Docker-Dockerfile%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3%EF%BC%88%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%EF%BC%89/" title="Docker Dockerfileæ–‡ä»¶è¯¦è§£ï¼ˆåˆ¶ä½œè‡ªå·±çš„é•œåƒï¼‰">Docker Dockerfileæ–‡ä»¶è¯¦è§£ï¼ˆåˆ¶ä½œè‡ªå·±çš„é•œåƒï¼‰</a></p><p>ä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡ç”Ÿæˆé•œåƒçš„æ—¶å€™èŠ±ç‚¹æ—¶é—´ã€‚</p><a id="more"></a><h2 id="ä¸€ã€åˆ¶ä½œGitbooké•œåƒ"><a href="#ä¸€ã€åˆ¶ä½œGitbooké•œåƒ" class="headerlink" title="ä¸€ã€åˆ¶ä½œGitbooké•œåƒ"></a>ä¸€ã€åˆ¶ä½œGitbooké•œåƒ</h2><h3 id="1-Dockerfileæ–‡ä»¶"><a href="#1-Dockerfileæ–‡ä»¶" class="headerlink" title="1.Dockerfileæ–‡ä»¶"></a>1.Dockerfileæ–‡ä»¶</h3><p>nodeçš„ç‰ˆæœ¬åæ­£ç”¨12ç‚¹å‡ çš„è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œç´¢æ€§é™åˆ°8ï¼Œåæ­£æ˜¯æ²¡é—®é¢˜çš„ã€‚</p><p>å› ä¸ºæˆ‘åªæ˜¯éœ€è¦ç¯å¢ƒï¼Œå¹¶ä¸æ˜¯ç›´æ¥å°±ç”Ÿæˆç”µå­ä¹¦äº†ï¼Œæ‰€ä»¥æœ€åçš„CMDçš„å‘½ä»¤ä¹Ÿä¸éœ€è¦æ‰§è¡Œã€‚</p><p>Dockerfileæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># Use an official Node.js runtime as a parent image</span><br><span class="line">FROM node:8.11.1</span><br><span class="line"></span><br><span class="line"># creates a directory with this name if it doesnâ€™t exist</span><br><span class="line"># WORKDIRï¼šè®¾ç½®å®¹å™¨å¯åŠ¨åçš„é»˜è®¤è¿è¡Œç›®å½• &#x2F;gitbook</span><br><span class="line">WORKDIR &#x2F;gitbook</span><br><span class="line"></span><br><span class="line"># Set npm registry to China Taobao and install Gitbook</span><br><span class="line">RUN npm config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line">RUN npm install gitbook-cli -g</span><br><span class="line">RUN gitbook -V</span><br><span class="line"></span><br><span class="line"># Make port 4000 available to the world outside this container</span><br><span class="line">EXPOSE 4000</span><br><span class="line"></span><br><span class="line"># CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;gitbook install &#x2F;gitbook; gitbook serve &#x2F;gitbook&quot;]</span><br></pre></td></tr></table></figure><h3 id="2-ç”Ÿæˆé•œåƒ"><a href="#2-ç”Ÿæˆé•œåƒ" class="headerlink" title="2.ç”Ÿæˆé•œåƒ"></a>2.ç”Ÿæˆé•œåƒ</h3><p>å› ä¸ºæœ‰æœ¬åœ°å®‰è£…è¿‡ï¼Œæ‰€ä»¥çŸ¥é“ç°åœ¨çš„gitbookç‰ˆæœ¬æ˜¯ï¼š3.2.3ï¼Œä¸ç¡®å®šçš„è¯ï¼Œè¿™é‡Œçš„ç‰ˆæœ¬å·è‡ªå·±çœ‹ç€å†™å§ã€‚è‡ªå·±ç¼–ä¸€ä¸ªå·®ä¸å¤šçš„ä¹Ÿè¡Œã€‚</p><p>æ³¨æ„æœ€åæœ‰ä¸ªç‚¹è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œæ‰€ä»¥éœ€è¦åœ¨Dockerfileæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸‹è¿è¡Œæ­¤å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t gitbook:3.2.3 .</span><br></pre></td></tr></table></figure><p>ç­‰å¾…åˆ¶ä½œå®Œæˆï¼Œä¼°è®¡éœ€è¦å‡ åˆ†é’Ÿã€‚å®Œæˆåç”¨å‘½ä»¤<code>docker images</code>å°±å¯ä»¥çœ‹åˆ° gitbook:3.2.3 è¿™ä¸ªé•œåƒäº†ã€‚</p><h2 id="äºŒã€è¿è¡ŒGitbookå®¹å™¨"><a href="#äºŒã€è¿è¡ŒGitbookå®¹å™¨" class="headerlink" title="äºŒã€è¿è¡ŒGitbookå®¹å™¨"></a>äºŒã€è¿è¡ŒGitbookå®¹å™¨</h2><h3 id="1-è¿è¡ŒGitbookå®¹å™¨"><a href="#1-è¿è¡ŒGitbookå®¹å™¨" class="headerlink" title="1.è¿è¡ŒGitbookå®¹å™¨"></a>1.è¿è¡ŒGitbookå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -idt --name gitbook_cs -p 14001:4000 -v E:\SynologyDrive\Gitbook\cs_gitbook:/gitbook gitbook:3.2.3 /bin/bash</span><br></pre></td></tr></table></figure><blockquote><p>â€“name gitbook_csï¼šå®¹å™¨åç§°ï¼Œè‡ªå·±å–<br>-p 14001:4000ï¼šæŠŠå®¹å™¨ä¸­çš„4000ç«¯å£æ˜ å°„åˆ°æœ¬åœ°14001ç«¯å£ï¼Œè¿™ä¸ªä¹Ÿéšæ„</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it gitbook_cs /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–ï¼Œä¼šç”ŸæˆREADME.md å’ŒSUMMARY.mdæ–‡ä»¶</span></span><br><span class="line">gitbook init</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘README.md å’ŒSUMMARY.mdæ–‡ä»¶åå†æ¬¡æ‰§è¡Œï¼Œç”Ÿæˆç›®å½•ã€æ–‡ä»¶</span></span><br><span class="line">gitbook init</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡ï¼Œåœ¨çº¿é¢„è§ˆï¼Œæ‰“å¼€ http://localhost:14001 å°±å¯ä»¥çœ‹åˆ°äº†</span></span><br><span class="line">gitbook serve</span><br></pre></td></tr></table></figure><h3 id="2-Errorï¼šno-such-file-fontsettings-js"><a href="#2-Errorï¼šno-such-file-fontsettings-js" class="headerlink" title="2.Errorï¼šno such file fontsettings.js"></a>2.Errorï¼šno such file fontsettings.js</h3><p>è¿™ä¸ªæŠ¥é”™ä¸ä¸€å®šä¼šæœ‰ï¼Œæˆ‘ç”¨Win10è£…çš„Dockeré‡Œæœ‰è¿™ä¸ªé—®é¢˜ï¼Œç”¨Ubuntu20.04 LTSçš„æœåŠ¡å™¨ä¸Šä¹Ÿæ˜¯Dockeré‡Œè£…ï¼Œå°±æ²¡ç¢°åˆ°è¿™ä¸ªæŠ¥é”™ã€‚</p><p>æ‰§è¡Œ<code>gitbook serve</code>æˆ–<code>gitbook build</code>éƒ½ä¼šæŠ¥é”™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: ENOENT: no such file or directory, <span class="built_in">stat</span> <span class="string">&#x27;***/_book/gitbook/gitbook-plugin-fontsettings/fontsettings.js&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>æ‰¾åˆ°<code>/root/.gitbook/versions/3.2.3/lib/output/website/copyPluginAssets.js</code>æ–‡ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> fs.copyDir(</span><br><span class="line">    assetsFolder,</span><br><span class="line">    assetOutputFolder,</span><br><span class="line">    &#123;</span><br><span class="line">        deleteFirst: <span class="literal">false</span>,</span><br><span class="line">        overwrite: <span class="literal">true</span>,</span><br><span class="line">        confirm: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æŠŠ<code>confirm: true</code>ä¿®æ”¹ä¸º<code>confirm: false</code>ï¼Œæ³¨æ„æœ‰2å¤„ï¼</p><p>è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ä¸­æœ‰ä¸ªgitbookçš„ç‰ˆæœ¬å·ï¼Œæ‰¾å¯¹åº”çš„ç‰ˆæœ¬å·ã€‚å¯å…ˆåœ¨å®¹å™¨å†…æŸ¥çœ‹æ‰¾åˆ°æ­¤æ–‡ä»¶ã€‚</p><p>å› ä¸ºç”¨çš„Dockerï¼Œæ‰€ä»¥ä½¿ç”¨ Docker å®¹å™¨ä¿®æ”¹æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æŠŠcopyPluginAssets.jsæ–‡ä»¶ä»å®¹å™¨ä¸­æ‹·åˆ°å½“å‰ç›®å½•ä¸‹</span></span><br><span class="line">docker cp gitbook_cs:/root/.gitbook/versions/3.2.3/lib/output/website/copyPluginAssets.js ./copyPluginAssets.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æŒ‰ä¸Šé¢çš„æ–¹æ³•ä¿®æ”¹copyPluginAssets.jsæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å†æŠŠä¿®æ”¹åçš„copyPluginAssets.jsæ–‡ä»¶è¦†ç›–å®¹å™¨å†…çš„æ–‡ä»¶</span></span><br><span class="line">docker cp copyPluginAssets.js gitbook_cs:/root/.gitbook/versions/3.2.3/lib/output/website/copyPluginAssets.js</span><br></pre></td></tr></table></figure><p>å†æ‰§è¡Œ<code>gitbook serve</code>å°±æ²¡é—®é¢˜å•¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockeræ­å»ºGitbook</title>
      <link href="/2023/01/10/Docker%E6%90%AD%E5%BB%BAGitbook/"/>
      <url>/2023/01/10/Docker%E6%90%AD%E5%BB%BAGitbook/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ç½‘ä¸Šçœ‹åˆ°ç”¨Gitbookå†™çš„æ•™ç¨‹/æ–‡æ¡£ï¼Œæ„Ÿè§‰è¿˜æŒºæ–¹ä¾¿çœ‹çš„ï¼Œæƒ³ç”¨å®ƒæ¥è¯•ä¸€ä¸‹å†™æ•™ç¨‹/ç”µå­ä¹¦ä¹‹ç±»çš„ã€‚</p><p>çœ‹åˆ°å®‰è£…Gitbookè¿˜æŒºæ–¹ä¾¿çš„ï¼Œè·ŸHexoä¸€æ ·ï¼ˆç”¨çš„å°±æ˜¯Hexoçš„åšå®¢ï¼‰ï¼Œæ˜¯ä¸€ä¸ªåŸºäºNode.js çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä½¿ç”¨Github/Git å’ŒMarkdown æ¥åˆ¶ä½œç²¾ç¾çš„ç”µå­ä¹¦ã€‚</p><p>äºæ˜¯ï¼ŒåŸæ¥éƒ½è£…å¥½äº†Node.jså’Œgitè¿™äº›ï¼Œæ„Ÿè§‰å€’ä¹Ÿæ–¹ä¾¿ï¼Œå®‰è£…ä¸‹Gitbookå°±è¡Œäº†ã€‚</p><p>è°æ–™ï¼Œæ˜¯æˆ‘å¹´è½»äº†ï¼Œæƒ³çš„å¤ªç®€å•äº†ã€‚</p><a id="more"></a><h2 id="Gitbookç›´æ¥å®‰è£…æ–¹æ³•"><a href="#Gitbookç›´æ¥å®‰è£…æ–¹æ³•" class="headerlink" title="Gitbookç›´æ¥å®‰è£…æ–¹æ³•"></a>Gitbookç›´æ¥å®‰è£…æ–¹æ³•</h2><p>å‰ææ˜¯å·²ç»å®‰è£…äº†Node.jsã€‚ç„¶åç”¨ä»¥ä¸‹å‘½ä»¤èƒ½å®‰è£…ä¸Šï¼Œæ˜¯å¾ˆæ–¹ä¾¿äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å®‰è£… gitbook-cli</span></span><br><span class="line">npm install -g gitbook-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.ç‰ˆæœ¬ï¼Œè¿™é‡Œå¼€å§‹å‡ºé—®é¢˜ï¼ŒGitBook installingå¼€å§‹æŠ¥é”™</span></span><br><span class="line"><span class="comment"># ç„¶åä¿®æ”¹äº†æŠ¥é”™çš„polyfills.jsæ–‡ä»¶ï¼Œæ³¨é‡Šæ‰62~64è¡Œè¿™3è¡Œå†…å®¹ï¼Œæ‰æˆåŠŸå®‰è£…</span></span><br><span class="line">gitbook -V</span><br><span class="line"><span class="comment"># ç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"># CLI version: 2.3.2</span></span><br><span class="line"><span class="comment"># GitBook version: 3.2.3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.åˆ›å»ºç›®å½•ï¼Œåˆå§‹åŒ–</span></span><br><span class="line">mkdir gitbook-test</span><br><span class="line"><span class="built_in">cd</span> gitbook-test</span><br><span class="line">gitbook init</span><br><span class="line"><span class="comment"># ç»“æœæŠ¥é”™ï¼š</span></span><br><span class="line"><span class="comment"># TypeError [ERR_INVALID_ARG_TYPE]: The &quot;data&quot; argument must be of type string or an instance of Buffer, â€¦â€¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Node.jsç‰ˆæœ¬ï¼Œv14.15.4</span></span><br><span class="line">node -v</span><br></pre></td></tr></table></figure><p>å¥½å®¶ä¼™ï¼Œå‰é¢é‚£ä¸ªé—®é¢˜å¥½ä¸å®¹æ˜“è§£å†³ï¼Œinitåˆå§‹åŒ–çš„æ—¶å€™è¿˜æ˜¯æŒ‚äº†ã€‚ç„¶åæŸ¥çœ‹ä¸‹Node.jsçš„ç‰ˆæœ¬ï¼Œåæ­£å°±æ˜¯ç‰ˆæœ¬è¿‡é«˜çš„é—®é¢˜ï¼Œè¦ä¹ˆå†å®‰è£…ä¸ªä½ç‰ˆæœ¬çš„ï¼Œä½†ç¯å¢ƒé—®é¢˜çœŸæ˜¯æŠ˜è…¾äººï¼Œå°±æ”¾å¼ƒäº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸è½½Gitbook</span></span><br><span class="line"><span class="comment"># 1.æ‰¾åˆ°C:\Users\&#123;ç”¨æˆ·å&#125;\.gitbookç›®å½•ï¼Œåˆ é™¤</span></span><br><span class="line"><span class="comment"># 2.å¸è½½</span></span><br><span class="line">npm uninstall -g gitbook-cli</span><br><span class="line"><span class="comment"># 3.æ¸…é™¤npmç¼“å­˜</span></span><br><span class="line">npm cache clean -f</span><br></pre></td></tr></table></figure><h2 id="Dockeræ­å»ºGitbook"><a href="#Dockeræ­å»ºGitbook" class="headerlink" title="Dockeræ­å»ºGitbook"></a>Dockeræ­å»ºGitbook</h2><p>ä¸æƒ³æŠ˜è…¾ç¯å¢ƒï¼Œå°±å¼€å§‹æ‰¾Dockerå®‰è£…çš„æ–¹æ³•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æ‹‰å–é•œåƒ https://hub.docker.com/r/tobegit3hub/gitbook-server</span></span><br><span class="line">docker pull tobegit3hub/gitbook-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆ›å»ºç›®å½• python\gitbookï¼Œå›å¤´ç”¨æ¥ä½œæ˜ å°„çš„</span></span><br><span class="line">mkdir gitbook</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.åˆ›å»ºå®¹å™¨</span></span><br><span class="line">docker run -idt --name gitbook -p 14000:4000 -v E:\SynologyDrive\Gitbook\python\gitbook:/gitbook tobegit3hub/gitbook-server /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it gitbook /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.è¿›å…¥å®¹å™¨åï¼Œé»˜è®¤æ˜¯åœ¨/gitbookç›®å½•ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–åä¼šåœ¨æœ¬åœ°çš„gitbookæ˜ å°„ç›®å½•ä¸‹ç”ŸæˆREADME.mdå’ŒSUMMARY.mdæ–‡ä»¶ã€‚</span></span><br><span class="line">gitbook init</span><br></pre></td></tr></table></figure><p><strong>6.ç¼–è¾‘SUMMARY.mdå’ŒREADME.mdæ–‡ä»¶</strong></p><p>æ¯”å¦‚SUMMARY.mdæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼ˆREADME.mdæ–‡ä»¶éšä¾¿å†™ç‚¹å†…å®¹ï¼‰ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Summary</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç®€ä»‹</span>](<span class="link">README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">å‰è¨€</span>](<span class="link">README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç¬¬ä¸€ç« </span>](<span class="link">part1/README.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ç¬¬ä¸€èŠ‚</span>](<span class="link">part1/1.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ç¬¬äºŒèŠ‚</span>](<span class="link">part1/2.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ç¬¬ä¸‰èŠ‚</span>](<span class="link">part1/3.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ç¬¬å››èŠ‚</span>](<span class="link">part1/4.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç¬¬äºŒç« </span>](<span class="link">part2/README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç¬¬ä¸‰ç« </span>](<span class="link">part3/README.md</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">ç¬¬å››ç« </span>](<span class="link">part4/README.md</span>)</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 7.å†æ¬¡æ‰§è¡Œinit</span></span><br><span class="line"><span class="comment"># ä¼šå‘ç°å®‰ç…§SUMMARY.mdæ–‡ä»¶çš„å†…å®¹è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„ç›®å½•ç»“æ„å’Œmdæ–‡ä»¶</span></span><br><span class="line">gitbook init</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8.å¯åŠ¨æœåŠ¡ï¼Œåœ¨çº¿é¢„è§ˆï¼ˆä¼šç”Ÿæˆ _bookç›®å½•ï¼Œé™æ€HTMLï¼‰</span></span><br><span class="line"><span class="comment"># ç„¶åæ‰“å¼€ http://localhost:14000 å°±å¯ä»¥çœ‹åˆ°ç”µå­ä¹¦äº†ï¼ˆæˆ‘æŠŠ4000ç«¯å£æ˜ å°„åˆ°14000äº†ï¼‰</span></span><br><span class="line">gitbook serve</span><br><span class="line"></span><br><span class="line"><span class="comment"># Gitbookè¾“å‡ºæ ¼å¼</span></span><br><span class="line"><span class="comment"># 1).è¾“å‡ºé™æ€HTMLé¡µé¢ï¼Œç”Ÿæˆ _book ç›®å½•ï¼›</span></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥ç”¨å‚æ•°æŒ‡å®šç›®å½•åï¼šgitbook build ./ --output=./_book/</span></span><br><span class="line">gitbook build</span><br><span class="line"><span class="comment"># 2).è¾“å‡ºPDFæ–‡ä»¶</span></span><br><span class="line">gitbook pdf</span><br></pre></td></tr></table></figure><p><strong>9.æ–‡ä»¶æƒé™é—®é¢˜</strong></p><p>å¦‚æœæ˜¯ç›´æ¥åœ¨æœ¬æœºä¸Šæ˜ å°„çš„ç›®å½•é‡Œçš„æ–‡ä»¶ç›´æ¥ç¼–è¾‘å°±è¡Œï¼Œå°±æ²¡å•¥é—®é¢˜ã€‚</p><p>ä½†å¦‚æœæˆ‘æ˜¯åœ¨Linuxçš„æœåŠ¡å™¨ä¸Šç”¨Dockerå»ºäº†gitbookå®¹å™¨çš„ï¼Œæ˜ å°„çš„ç›®å½•æ˜¯åœ¨Linuxçš„æœºå™¨ä¸Šï¼Œ<br>ç„¶åæˆ‘æ˜¯æœ¬åœ°ç¼–è¾‘å¥½äº†ï¼Œå†ä¸Šä¼ åˆ°LinuxæœåŠ¡å™¨çš„æ˜ å°„ç›®å½•é‡Œï¼Œç„¶åå°±æœ‰æ–‡ä»¶æƒé™é—®é¢˜äº†ã€‚</p><p>æ¯”å¦‚ä¿®æ”¹å®Œçš„ SUMMARY.md æ–‡ä»¶ä¸Šä¼ æƒ³è¦†ç›–åŸæ¥çš„æ–‡ä»¶ï¼Œå°±æŠ¥æƒé™é—®é¢˜äº†ã€‚</p><p>æ‰€ä»¥ç›´æ¥åœ¨LinuxæœåŠ¡å™¨çš„æ˜ å°„ç›®å½•ä¸‹æ‰§è¡Œ<code>chmod 777 *</code>å‘½ä»¤ï¼ŒæŠŠæƒé™éƒ½ç»™äº†å°±è¡Œã€‚</p><p><strong>10.æ’å…¥å›¾ç‰‡</strong></p><p>å¦‚æœéœ€è¦æ’å…¥å›¾ç‰‡çš„ï¼Œå»ºè®®ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><p>ç›´æ¥åœ¨ <code>python\gitbook</code> ç›®å½•ä¸‹å»ºä¸€ä¸ªimgsç›®å½•ï¼Œç”¨äºå­˜æ”¾å›¾ç‰‡ã€‚</p><p>æ¯”å¦‚æˆ‘åœ¨imgsç›®å½•ä¸‹æ”¾äº†ä¸€å¼ å›¾ç‰‡ï¼šgitbook.png<br>ç„¶åç”¨Markdownè¯­æ³•ä½¿ç”¨å°±è¡Œï¼š<br><code>![](\imgs\gitbook.png)</code></p><p>æˆ–è€…ï¼š<br><code>&lt;img src=&quot;/imgs/gitbook.png&quot; style=&quot;zoom: 75%;&quot;/&gt;</code></p><p>åé¢è¿™ç§è¿˜å¯ä»¥æŒ‰æ¯”ä¾‹æ˜¾ç¤ºï¼Œåæ­£å†™Hexoåšå®¢æ—¶ï¼Œæˆ‘å°±ä¸€ç›´åçˆ±ç”¨åè€…ã€‚</p><p><strong>11.é…ç½®æ–‡ä»¶book.json</strong></p><p>åœ¨<code>python\gitbook</code> ç›®å½•ä¸‹è‡ªå·±å»ºä¸ªbook.jsonæ–‡ä»¶ã€‚</p><p>å†…å®¹ä¸€èˆ¬å°±æ ‡é¢˜ã€ä½œè€…è¿™äº›ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;GitBookå­¦ä¹ ç¬”è®°&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;è®°å½•Gitbookçš„é…ç½®å’Œä¸€äº›æ’ä»¶çš„ä½¿ç”¨&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;hduzn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;zh-hans&quot;</span>,</span><br><span class="line"><span class="attr">&quot;gitbook&quot;</span>: <span class="string">&quot;3.2.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;links&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;sidebar&quot;</span> : &#123;</span><br><span class="line">            <span class="attr">&quot;Home&quot;</span> : <span class="string">&quot;https://www.hduzn.cn/&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶ä¸­æ›´å¤šçš„å†…å®¹ï¼Œç½‘ä¸Šæœä¸€ä¸‹å°±æœ‰ã€‚</p><p>PS.å¦‚æœè·Ÿæˆ‘ä¸€æ ·ï¼Œå«Œå¼ƒgitbookçš„ç‰ˆæœ¬å¤ªæ—§äº†ï¼Œå¯ä»¥è€ƒè™‘è‡ªå·±åˆ¶ä½œä¸‹Gitbookçš„é•œåƒï¼š<a href="/2023/01/10/Docker-Dockerfile%E5%88%B6%E4%BD%9CGitbook%E9%95%9C%E5%83%8F/" title="Docker Dockerfileåˆ¶ä½œGitbooké•œåƒ">Docker Dockerfileåˆ¶ä½œGitbooké•œåƒ</a></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker Desktpæ›´æ”¹é•œåƒã€å®¹å™¨å­˜å‚¨ä½ç½®</title>
      <link href="/2023/01/09/Docker-Desktp%E6%9B%B4%E6%94%B9%E9%95%9C%E5%83%8F-%E5%AE%B9%E5%99%A8%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE/"/>
      <url>/2023/01/09/Docker-Desktp%E6%9B%B4%E6%94%B9%E9%95%9C%E5%83%8F-%E5%AE%B9%E5%99%A8%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>Dockerç”¨çš„å¤šä¸€ç‚¹ï¼Œç‰¹åˆ«æ˜¯è£…äº†ä¸€ä¸ªå‡ åGçš„Linuxå ï¼Œå°±å¥½å‡ åGç©ºé—´äº†ï¼Œå¤ªå ç”¨ç³»ç»Ÿç›˜äº†ã€‚æ‰€ä»¥æƒ³æ¢ä¸€ä¸‹å­˜å‚¨ä½ç½®ã€‚</p><p>Docker DesktopæŸ¥çœ‹settingsè®¾ç½®ï¼Œå‘ç°æ— æ³•åœ¨è®¾ç½®é‡Œæ›´æ”¹ï¼Œç”¨çš„æ˜¯WSL2ã€‚é€šè¿‡WSL2å¯åŠ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»º2ä¸ªå­ç³»ç»Ÿï¼Œåˆ†åˆ«å¯¹åº”2ä¸ª vhdx ç¡¬ç›˜æ˜ åƒæ–‡ä»¶ã€‚</p><p>é»˜è®¤å®‰è£…åœ¨Cç›˜ï¼Œé»˜è®¤çš„é•œåƒå®¹å™¨è¿™äº›å­˜å‚¨åœ¨ï¼šC:\Users[ç”¨æˆ·å]\AppData\Local\Docker\wsl\ï¼Œåˆ†åˆ«åœ¨dataå’Œdistroç›®å½•ä¸‹éƒ½æœ‰ä¸ªext4.vhdxæ–‡ä»¶ã€‚ï¼ˆç‰¹åˆ«æ˜¯dataç›®å½•ä¸‹æ–‡ä»¶ï¼Œå°±å·¨å¤§ï¼‰</p><blockquote><p>WSLå…¨ç§°ï¼šWindows Subsystem for Linuxï¼Œå³ã€Œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿã€ï¼Œå¯è®©å¼€å‘äººå‘˜æŒ‰åŸæ ·è¿è¡Œ GNU/Linux ç¯å¢ƒ â€“ åŒ…æ‹¬å¤§å¤šæ•°å‘½ä»¤è¡Œå·¥å…·ã€å®ç”¨å·¥å…·å’Œåº”ç”¨ç¨‹åº â€“ ä¸”ä¸ä¼šäº§ç”Ÿä¼ ç»Ÿè™šæ‹Ÿæœºï¼ˆa traditional virtual machineï¼‰æˆ–åŒå¯åŠ¨è®¾ç½®å¼€é”€ã€‚</p></blockquote><a id="more"></a><p><strong>æ­¥éª¤ï¼š</strong></p><p><strong>1.æŸ¥çœ‹WSL2è‡ªå»ºçš„2ä¸ªå­ç³»ç»Ÿ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹WSL2è‡ªå»ºçš„2ä¸ªå­ç³»ç»Ÿ</span></span><br><span class="line">wsl --list -v</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç»“æœæœ‰2ä¸ªï¼šdocker-desktop-dataå’Œdocker-desktopï¼ŒåŒæ—¶è¿˜èƒ½çœ‹åˆ°STATEï¼ˆçŠ¶æ€ï¼‰æ˜¯Runningæˆ–è€…Stoppedã€‚</p><p><strong>2.å…³é—­WSL</strong></p><p>ç›´æ¥å³é”®é€€å‡º Docker Desktopè½¯ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€€å‡ºåå†æ¬¡è¿è¡ŒæŸ¥çœ‹STATEï¼ˆçŠ¶æ€ï¼‰æ˜¯å¦æ˜¯Stopped</span></span><br><span class="line">wsl --list -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‹¥é€€å‡ºåè¿˜æ˜¯Runningï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å…³é—­WSL</span></span><br><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure><p><strong>3.å¯¼å‡ºé•œåƒext4.vhdxåˆ°å‹ç¼©åŒ…</strong></p><p>å¯¼å‡ºçš„è·¯å¾„éœ€è¦æå‰åˆ›å»ºå¥½ç›®å½•ï¼Œå¦åˆ™å¯èƒ½ä¼šæŠ¥é”™ã€‚<br>æ¯”å¦‚æˆ‘è¿™é‡Œæå‰å»ºå¥½äº†<code>E:\docker\wsl</code>ï¼Œä»¥åŠwslä¸‹çš„dataå’Œdistroç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠŠ data\ext4.vhdx å¯¼å‡ºåˆ°å‹ç¼©æ–‡ä»¶ docker-desktop-data.tar</span></span><br><span class="line">wsl --<span class="built_in">export</span> docker-desktop-data E:\docker\wsl\docker-desktop-data.tar</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠ distro\ext4.vhdx å¯¼å‡ºåˆ°å‹ç¼©æ–‡ä»¶ docker-desktop.tar</span></span><br><span class="line">wsl --<span class="built_in">export</span> docker-desktop E:\docker\wsl\docker-desktop.tar</span><br></pre></td></tr></table></figure><p><strong>4.æ³¨é”€åŸæ¥çš„é•œåƒ</strong></p><p>ä¾æ¬¡æ³¨é”€ï¼Œæ³¨é”€å®Œæˆåå¯ä»¥çœ‹åˆ°åŸæ¥Cç›˜çš„2ä¸ªext4.vhdxæ–‡ä»¶éƒ½æ²¡äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wsl --unregister docker-desktop-data</span><br><span class="line"></span><br><span class="line">wsl --unregister docker-desktop</span><br></pre></td></tr></table></figure><p><strong>5.å°†å¯¼å‡ºçš„å‹ç¼©åŒ…å†å¯¼å…¥å›wslï¼Œå¹¶è®¾ç½®æŒ‚è½½ç›®å½•</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wsl --import docker-desktop-data E:\docker\wsl\data  E:\docker\wsl\docker-desktop-data.tar --version 2</span><br><span class="line"></span><br><span class="line">wsl --import docker-desktop E:\docker\wsl\distro  E:\docker\wsl\docker-desktop.tar --version 2</span><br></pre></td></tr></table></figure><p>ä¾æ¬¡æ‰§è¡Œå®Œåï¼Œåœ¨ç›®å½•ä¸‹åˆå¯ä»¥çœ‹åˆ°ext4.vhdxæ–‡ä»¶äº†ï¼Œå†å¯åŠ¨Docker Desktopï¼Œå°±æ­£å¸¸äº†ã€‚</p><p>å‹ç¼©åŒ…docker-desktop-data.tarå’Œdocker-desktop.taræ­£å¸¸å¯åŠ¨ä»¥åå°±ä¸éœ€è¦äº†ï¼Œå¯ä»¥åˆ é™¤äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python md5åŠ å¯†ï¼ˆå“ˆå¸ŒåŠ å¯†ï¼‰</title>
      <link href="/2023/01/07/Python-md5%E5%8A%A0%E5%AF%86%EF%BC%88%E5%93%88%E5%B8%8C%E5%8A%A0%E5%AF%86%EF%BC%89/"/>
      <url>/2023/01/07/Python-md5%E5%8A%A0%E5%AF%86%EF%BC%88%E5%93%88%E5%B8%8C%E5%8A%A0%E5%AF%86%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>MD5æ˜¯ä¸€ç§æ—§çš„å“ˆå¸Œç®—æ³•ï¼ŒPython å†…ç½®çš„ hashlib åº“å°±å¯ä»¥å®ç° MD5 å“ˆå¸ŒåŠ å¯†ã€‚</p><p>ä¸€èˆ¬è‡ªå·±ç”¨çš„è¯ï¼Œå°±ç”¨æ¥ä¿å­˜å¯†ç åˆ°æ•°æ®åº“ï¼Œå¯†ç ç”¨md5åŠ å¯†ä¸‹å†å­˜è¿›æ•°æ®åº“ã€‚</p><a id="more"></a><h2 id="md5åŠ å¯†"><a href="#md5åŠ å¯†" class="headerlink" title="md5åŠ å¯†"></a>md5åŠ å¯†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># md5åŠ å¯†</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">md5_hash</span>(<span class="params"><span class="built_in">str</span></span>):</span></span><br><span class="line">    <span class="comment"># åˆ›å»ºmd5å¯¹è±¡</span></span><br><span class="line">    new_md5 = hashlib.md5()</span><br><span class="line">    <span class="comment"># è¿™é‡Œå¿…é¡»ç”¨encode()å‡½æ•°å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç </span></span><br><span class="line">    new_md5.update(<span class="built_in">str</span>.encode(encoding=<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> new_md5.hexdigest()</span><br><span class="line"></span><br><span class="line"><span class="comment"># md5åŠ å¯†</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;1234&#x27;</span></span><br><span class="line">str_md5 = md5_hash(<span class="built_in">str</span>)</span><br><span class="line"><span class="built_in">print</span>(str_md5) <span class="comment"># 81dc9bdb52d04dc20036dbd8313ed055</span></span><br></pre></td></tr></table></figure><h2 id="sha-256åŠ å¯†"><a href="#sha-256åŠ å¯†" class="headerlink" title="sha-256åŠ å¯†"></a>sha-256åŠ å¯†</h2><p>md5è¿™ç§åŠ å¯†ç®—æ³•ï¼Œå·²è¢«è®¤ä¸ºä¸å®‰å…¨ã€‚æ¨èä½¿ç”¨æ›´å®‰å…¨çš„ç®—æ³•ï¼Œæ¯”å¦‚sha-256æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># sha-256åŠ å¯†</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sha256_hash</span>(<span class="params"><span class="built_in">str</span></span>):</span></span><br><span class="line">    new_str = hashlib.sha256()</span><br><span class="line">    new_str.update(<span class="built_in">str</span>.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> new_str.hexdigest()</span><br><span class="line"></span><br><span class="line"><span class="comment"># sha-256åŠ å¯†</span></span><br><span class="line"><span class="built_in">print</span>(sha256_hash(<span class="built_in">str</span>)) <span class="comment"># 03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4</span></span><br></pre></td></tr></table></figure><p>md5ï¼š32ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²<br>sha256ï¼š64ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python pandasç»Ÿè®¡Excelè¡¨ä¸­äººåæ¬¡æ•°</title>
      <link href="/2023/01/07/Python-pandas%E7%BB%9F%E8%AE%A1Excel%E8%A1%A8%E4%B8%AD%E4%BA%BA%E5%90%8D%E6%AC%A1%E6%95%B0/"/>
      <url>/2023/01/07/Python-pandas%E7%BB%9F%E8%AE%A1Excel%E8%A1%A8%E4%B8%AD%E4%BA%BA%E5%90%8D%E6%AC%A1%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>æ¯”å¦‚ç”¨é’‰é’‰çš„æ™ºèƒ½å¡«è¡¨åšæŠ•ç¥¨ä¼˜ç§€å‘˜å·¥ï¼Œå¾—åˆ°äº†ä»¥ä¸‹è¿™æ ·ä¸€ä»½è¡¨æ ¼æ•°æ®ï¼š</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_pandas_ex_count_1.png"                      style="zoom: 50%;"                ><p>æ¯ä¸ªäººæŠ•äº†3ä¸ªä¼˜ç§€å‘˜å·¥ï¼Œå½“ç„¶ï¼Œè¿™é‡Œæ˜¯ä¸¾ä¾‹ï¼Œ3ä¸ªå¯èƒ½è¿˜å¥½æ‹†ï¼Œå¦‚æœæ˜¯10ã€ä¸ª20ä¸ªå‘¢ï¼Ÿç„¶åæœ‰å‡ ç™¾äººæŠ•ç¥¨çš„è¯ï¼Œè¿™ä¸ªç»Ÿè®¡æ¬¡æ•°å°±æœ‰ç‚¹éº»çƒ¦ã€‚</p><p>å¯¹äºè¿™æ ·åœ¨Excelè¡¨æ ¼ä¸­ï¼Œä¸€ä¸ªå•å…ƒæ ¼ä¸­æœ‰å¤šé¡¹å†…å®¹çš„ç»Ÿè®¡ï¼Œåœ¨Excelä¸­å½“ç„¶ä¹Ÿå¯ä»¥å¤„ç†ï¼Œè¿™é‡Œä¼šPythonçš„è¯ï¼Œä»‹ç»ç”¨pandasè¿™ä¸ªåº“ï¼Œå°±è¶…çº§ç®€å•äº†ã€‚</p><a id="more"></a><p><strong>æ€è·¯ï¼š</strong></p><ul><li>1.ä»Excelä¸­è¯»å– â€œä¼˜ç§€å‘˜å·¥â€è¿™ä¸€åˆ—æ•°æ®ï¼›</li><li>2.æŠŠæ•°æ®å¤„ç†æˆä¸€ä¸ªListï¼Œç±»ä¼¼è¿™æ ·ï¼š[â€˜å¼ ä¸‰â€™, â€˜æå››â€™, â€˜æå››â€™, â€˜å¼ ä¸‰â€™]ï¼›</li><li>3.ç»Ÿè®¡Listä¸­æ¯ä¸€é¡¹çš„æ¬¡æ•°ï¼Œå¹¶æŠŠç»“æœå†™å…¥Excelç»Ÿè®¡ç»“æœè¡¨ä¸­ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ceping_count</span>(<span class="params">ex_file, output_file</span>):</span></span><br><span class="line">    <span class="comment"># 1.ä»Excelè¯»å–</span></span><br><span class="line">    usecols = [<span class="string">&#x27;ä¼˜ç§€å‘˜å·¥&#x27;</span>]</span><br><span class="line">    sheet_name = <span class="string">&#x27;Sheet1&#x27;</span> <span class="comment"># sheetå</span></span><br><span class="line">    df = pd.read_excel(ex_file, sheet_name=sheet_name, usecols=usecols)</span><br><span class="line">    data_list = np.array(df).tolist() <span class="comment"># æŠŠæ•°æ®è½¬ä¸ºList</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2.å¤„ç†æ•°æ®</span></span><br><span class="line">    result_list = [] <span class="comment"># ä¸€åˆ—æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> data_list:</span><br><span class="line">        <span class="built_in">str</span> = data[<span class="number">0</span>]</span><br><span class="line">        new_list = <span class="built_in">str</span>.split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        result_list = result_list + new_list</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 3.å†™å…¥Excel</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(output_file):</span><br><span class="line">        os.remove(output_file)</span><br><span class="line">    result = pd.value_counts(result_list) <span class="comment"># ç»Ÿè®¡åˆ—è¡¨ä¸­æ¯é¡¹çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="comment"># print(type(result)) # &lt;class &#x27;pandas.core.series.Series&#x27;&gt;</span></span><br><span class="line">    result.to_excel(output_file)</span><br><span class="line"></span><br><span class="line">ceping_count(<span class="string">&#x27;æ°‘ä¸»æµ‹è¯„.xlsx&#x27;</span>, <span class="string">&#x27;æµ‹è¯„-ç»Ÿè®¡.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹å›¾ï¼ˆé»˜è®¤æ’åºéƒ½é™åºæ’å¥½äº†ï¼Œæ”¹ä¸€ä¸‹æ ‡é¢˜å°±è¡Œäº†ï¼‰ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_pandas_ex_count_2.png"                      style="zoom: 100%;"                ></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå¯è§†åŒ–æŸ¥è¯¢å·¥å…·ï¼šLazydockerï¼ˆUbuntuå®‰è£…ä½¿ç”¨ï¼‰</title>
      <link href="/2022/12/29/Docker%E5%8F%AF%E8%A7%86%E5%8C%96%E6%9F%A5%E8%AF%A2%E5%B7%A5%E5%85%B7%EF%BC%9ALazydocker/"/>
      <url>/2022/12/29/Docker%E5%8F%AF%E8%A7%86%E5%8C%96%E6%9F%A5%E8%AF%A2%E5%B7%A5%E5%85%B7%EF%BC%9ALazydocker/</url>
      
        <content type="html"><![CDATA[<p>Windowsè¿™äº›æœ‰ç•Œé¢çš„ç³»ç»Ÿï¼Œè£…ä¸ªDocker Desktopå°±å¯ä»¥å¯¹Dockerè¿›è¡Œå¯è§†åŒ–æ“ä½œã€ç®¡ç†ã€‚</p><p>åƒLinuxçš„æœåŠ¡å™¨ç³»ç»Ÿï¼Œåªæœ‰å‘½ä»¤è¡Œï¼Œæ²¡æœ‰å¸¦ç•Œé¢çš„ï¼Œæ¯æ¬¡æŸ¥çœ‹Dockerçš„ä½¿ç”¨æƒ…å†µï¼ŒåŸºæœ¬ä¸Šå°±å…ˆç”¨<code>docker images</code>æŸ¥çœ‹æœ‰å“ªäº›é•œåƒï¼Œå†ç”¨<code>docker ps -a</code>æŸ¥çœ‹æœ‰å“ªäº›å®¹å™¨å’Œå®¹å™¨çš„è¿è¡ŒçŠ¶æ€ã€‚</p><p>çœ‹åˆ° Lazydocker è¿™ä¸ªå¼€æºçš„UIç»ˆç«¯ï¼Œæ”¯æŒLinuxã€OSXã€Windowsæ“ä½œç³»ç»Ÿã€‚ç”¨å‘½ä»¤å°±å¯ä»¥è¿è¡Œï¼Œç•Œé¢å¾ˆç®€æ´çš„ï¼Œå°±æ—¥å¸¸æŸ¥çœ‹ä¸‹çŠ¶æ€å¤Ÿç”¨äº†ã€‚</p><a id="more"></a><h2 id="Lazydockerå®‰è£…ä½¿ç”¨ï¼ˆUbuntuï¼‰"><a href="#Lazydockerå®‰è£…ä½¿ç”¨ï¼ˆUbuntuï¼‰" class="headerlink" title="Lazydockerå®‰è£…ä½¿ç”¨ï¼ˆUbuntuï¼‰"></a>Lazydockerå®‰è£…ä½¿ç”¨ï¼ˆUbuntuï¼‰</h2><p>Lazydockeré¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/jesseduffield/lazydocker" >https://github.com/jesseduffield/lazydocker<i class="fas fa-external-link-alt"></i></a></p><p>é¡¹ç›®åœ°å€ä¸Šå®‰è£…æ–¹æ³•ä¹Ÿåˆ†å¥½å‡ ç§ã€‚è¿™é‡Œä»‹ç»åœ¨Ubuntuä¸­ä½¿ç”¨æ–¹æ³•ã€‚</p><p>ç³»ç»Ÿï¼šUbuntu 20.04 LTS</p><p><strong>1.ä¸‹è½½LazydockeråŒ…</strong></p><p>å…ˆå»releasesé¡µé¢ï¼Œä¸‹è½½æœ€æ–°çš„LazydockeråŒ…ï¼š<br><a class="link"   href="https://github.com/jesseduffield/lazydocker/releases" >https://github.com/jesseduffield/lazydocker/releases<i class="fas fa-external-link-alt"></i></a></p><p>çœ‹è‡ªå·±å“ªä¸ªç³»ç»Ÿéœ€è¦å“ªä¸ªï¼Œæˆ‘è¿™ä¸‹è½½çš„æ˜¯ï¼šlazydocker_0.20.0_Linux_x86_64.tar.gz</p><p>ç”¨é˜²æ­¢githubçš„è®¿é—®é—®é¢˜ï¼Œå¯ä»¥åƒæˆ‘ä¸€æ ·ä¸‹è½½åç”¨ftpå·¥å…·ä¸Šä¼ åˆ°UbuntuæœåŠ¡å™¨ã€‚</p><p>å½“ç„¶ï¼Œèƒ½ä¸‹è½½çš„è¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨wgetæˆ–è€…curlä¸‹è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curlä¸‹è½½ä¿å­˜ä¸ºlazydocker_0.20.0.tar.gzï¼Œè¯•äº†ä¸‹ ï¼Œé€Ÿåº¦å¥½æ…¢</span></span><br><span class="line">curl -Lo lazydocker_0.20.0.tar.gz <span class="string">&quot;https://github.com/jesseduffield/lazydocker/releases/download/v0.20.0/lazydocker_0.20.0_Linux_x86_64.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># wgetä¸‹è½½</span></span><br><span class="line">wget https://github.com/jesseduffield/lazydocker/releases/download/v0.20.0/lazydocker_0.20.0_Linux_x86_64.tar.gz</span><br></pre></td></tr></table></figure><p><strong>2.è§£å‹LazydockeråŒ…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar xf lazydocker_0.20.0_Linux_x86_64.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœæƒ³è§£å‹åˆ°æŸä¸ªç›®å½•ï¼Œå¯ä»¥å…ˆåˆ›å»ºä¸ªç›®å½•ï¼Œåæ­£æœ€åå…¶å®ƒçš„éƒ½å¯ä»¥åˆ é™¤çš„</span></span><br><span class="line">mkdir lazydocker-temp</span><br><span class="line">tar xf lazydocker_0.20.0_Linux_x86_64.tar.gz -C lazydocker-temp</span><br></pre></td></tr></table></figure><p><strong>3.æŠŠlazydockerï¼ˆå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ç§»åŠ¨åˆ°ç”¨æˆ·å¯æ‰§è¡Œç¨‹åºç›®å½•ä¸‹</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£å‹å‡ºæ¥çš„lazydockerå¯ä»¥ç”¨ls -lå‘½ä»¤çœ‹æ˜¯ï¼Œæ˜¯å¦æœ‰å¸¦xå¯æ‰§è¡Œæƒé™ï¼Œç°åœ¨æ–°ç‰ˆæœ¬åº”è¯¥éƒ½æœ‰çš„</span></span><br><span class="line">sudo mv lazydocker /usr/<span class="built_in">local</span>/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯æ”¾åœ¨lazydocker-tempç›®å½•çš„ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤</span></span><br><span class="line">sudo mv lazydocker-temp/lazydocker /usr/<span class="built_in">local</span>/bin</span><br></pre></td></tr></table></figure><p><strong>4.ä½¿ç”¨lazydocker</strong></p><p>ç›´æ¥è¿è¡Œå‘½ä»¤å°±è¡Œäº†ã€‚è¿™å°±è·Ÿåœ¨windowsç³»ç»Ÿé‡Œæ”¾äº†ä¸€ä¸ª.exeçš„å°ç¨‹åºä¸€æ ·ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lazydocker</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šèƒ½çœ‹åˆ°æ‰€æœ‰çš„å®¹å™¨ã€é•œåƒã€è¿˜æœ‰æ•°æ®å·Volumesã€‚æŒ‰qé”®é€€å‡ºã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_lazydocker.png"                      style="zoom: 50%;"                ></p><p>å¦‚æœè§‰å¾—<code>lazydocker</code>è¿™ä¸ªå‘½ä»¤å¤ªé•¿äº†ï¼Œé¡¹ç›®æ–‡æ¡£ä¸Šä¹Ÿè¯´äº†å¯ä»¥å–ä¸€ä¸ªå‘½ä»¤åˆ«åï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;alias lzd=&#x27;lazydocker&#x27;&quot;</span> &gt;&gt; ~/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå°±å¯ä»¥ç›´æ¥ç”¨<code>lzd</code>å‘½ä»¤ä»£æ›¿<code>lazydocker</code>å‘½ä»¤äº†ã€‚</p><p>PS.è§£å‹å‡ºæ¥è¿˜æœ‰ä¸€ä¸ªLICENSEå’ŒREADME.mdæ–‡ä»¶éƒ½å¯ä»¥åˆ é™¤ï¼Œå¦‚æœæ˜¯è§£å‹åˆ°lazydocker-tempç›®å½•çš„è¯ï¼Œæ•´ä¸ªç›®å½•éƒ½å¯ä»¥åˆ é™¤ã€‚å‹ç¼©åŒ…ä¸æƒ³ç•™ç€ä¹Ÿå¯ä»¥åˆ é™¤ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¢ç¡¬ç›˜åPythonè™šæ‹Ÿç¯å¢ƒvirtualenvè¿ç§»æ–¹æ³•</title>
      <link href="/2022/12/26/%E6%8D%A2%E7%A1%AC%E7%9B%98%E5%90%8EPython%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83virtualenv%E8%BF%81%E7%A7%BB%E6%96%B9%E6%B3%95/"/>
      <url>/2022/12/26/%E6%8D%A2%E7%A1%AC%E7%9B%98%E5%90%8EPython%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83virtualenv%E8%BF%81%E7%A7%BB%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>å…³äºPythonä½¿ç”¨è™šæ‹Ÿç¯å¢ƒvirtualenvçš„æ–¹æ³•ï¼Œå¯ä»¥çœ‹ä¹‹å‰è¿™ç¯‡ç¬”è®°ï¼š<a href="/2022/09/20/VSCode%E8%BF%90%E8%A1%8CPython%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83virtualenv/" title="VSCodeè¿è¡ŒPythonè™šæ‹Ÿç¯å¢ƒvirtualenv">VSCodeè¿è¡ŒPythonè™šæ‹Ÿç¯å¢ƒvirtualenv</a></p><p>æ¢äº†ç¡¬ç›˜åï¼Œè¦è¿ç§»virtualenvä¹Ÿå¾ˆæ–¹ä¾¿ã€‚å…ˆæŠŠè™šæ‹Ÿç¯å¢ƒçš„æ•´ä¸ªç›®å½•ï¼ˆæ¯”å¦‚æˆ‘æ˜¯Envsï¼‰æ”¾åœ¨ç¡¬ç›˜ä»»æ„ä¸€å¤„ã€‚</p><a id="more"></a><h2 id="è¿ç§»æ­¥éª¤"><a href="#è¿ç§»æ­¥éª¤" class="headerlink" title="è¿ç§»æ­¥éª¤"></a>è¿ç§»æ­¥éª¤</h2><h3 id="1-ç¡®è®¤virtualenvæ­£å¸¸"><a href="#1-ç¡®è®¤virtualenvæ­£å¸¸" class="headerlink" title="1.ç¡®è®¤virtualenvæ­£å¸¸"></a>1.ç¡®è®¤virtualenvæ­£å¸¸</h3><p>å› ä¸ºæˆ‘åªæ˜¯æ¢äº†æ•°æ®ç›˜ï¼Œæ²¡æœ‰åŠ¨ç³»ç»Ÿç›˜è¿™å—ç¡¬ç›˜ï¼Œæ‰€ä»¥æˆ‘çš„Pythonå’Œvirtualenvéƒ½æ˜¯å®‰è£…å¥½çš„ã€‚</p><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹pythonç‰ˆæœ¬</span></span><br><span class="line">python --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹virtualenvç‰ˆæœ¬</span></span><br><span class="line">virtualenv --version</span><br></pre></td></tr></table></figure><p>å¦‚æœç¡¬ç›˜å…¨éƒ¨æ¢æ‰äº†ï¼Œå°±å…ˆé‡æ–°å®‰è£…ç›¸åŒç‰ˆæœ¬çš„Pythonï¼Œå’Œå†å®‰è£…è™šæ‹Ÿç¯å¢ƒvirtualenvå°±è¡Œã€‚</p><h3 id="2-ä¿®æ”¹è™šæ‹Ÿç¯å¢ƒçš„ç³»ç»Ÿç¯å¢ƒå˜é‡å€¼"><a href="#2-ä¿®æ”¹è™šæ‹Ÿç¯å¢ƒçš„ç³»ç»Ÿç¯å¢ƒå˜é‡å€¼" class="headerlink" title="2.ä¿®æ”¹è™šæ‹Ÿç¯å¢ƒçš„ç³»ç»Ÿç¯å¢ƒå˜é‡å€¼"></a>2.ä¿®æ”¹è™šæ‹Ÿç¯å¢ƒçš„ç³»ç»Ÿç¯å¢ƒå˜é‡å€¼</h3><p>åŸæ¥åˆ›å»ºçš„ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</p><blockquote><p>å˜é‡åï¼šWORKON_HOME<br>å˜é‡å€¼ï¼šG:\SynologyDrive\Python\Envs</p></blockquote><p>åªéœ€è¦æŠŠå€¼å˜æˆç°åœ¨çš„Envsè·¯å¾„å°±è¡Œã€‚</p><p>å› ä¸ºmkvirtualenv.bat æ–‡ä»¶(Windows)ä¸­ç”¨çš„æ˜¯<code>%WORKON_HOME%</code>è¿™ä¸ªå˜é‡å ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿®æ”¹ï¼Œåªéœ€è¦ç›´æ¥æ”¹ç³»ç»Ÿå˜é‡çš„å€¼å°±è¡Œäº†ã€‚</p><h3 id="3-åˆ›å»ºä¸åŸè™šæ‹Ÿç¯å¢ƒåŒåçš„è™šæ‹Ÿç¯å¢ƒ"><a href="#3-åˆ›å»ºä¸åŸè™šæ‹Ÿç¯å¢ƒåŒåçš„è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="3.åˆ›å»ºä¸åŸè™šæ‹Ÿç¯å¢ƒåŒåçš„è™šæ‹Ÿç¯å¢ƒ"></a>3.åˆ›å»ºä¸åŸè™šæ‹Ÿç¯å¢ƒåŒåçš„è™šæ‹Ÿç¯å¢ƒ</h3><p>æ¯”å¦‚åŸæ¥å«flask_pyçš„ï¼Œå†åˆ›å»ºä¸€ä¸ªåŒåçš„å°±è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkvirtualenv flask_py</span><br></pre></td></tr></table></figure><h3 id="4-æŠŠåŸç¡¬ç›˜è™šæ‹Ÿç¯å¢ƒä¸­å¯¹åº”çš„ç›®å½•è¦†ç›–"><a href="#4-æŠŠåŸç¡¬ç›˜è™šæ‹Ÿç¯å¢ƒä¸­å¯¹åº”çš„ç›®å½•è¦†ç›–" class="headerlink" title="4.æŠŠåŸç¡¬ç›˜è™šæ‹Ÿç¯å¢ƒä¸­å¯¹åº”çš„ç›®å½•è¦†ç›–"></a>4.æŠŠåŸç¡¬ç›˜è™šæ‹Ÿç¯å¢ƒä¸­å¯¹åº”çš„ç›®å½•è¦†ç›–</h3><p>æŠŠåŸæ¥è™šæ‹Ÿç¯å¢ƒä¸­flask_pyè¿™ä¸ªç›®å½•å…¨éƒ¨è¦†ç›–æ–°åˆ›å»ºçš„ç›®å½•ä¸‹çš„æ–‡ä»¶å°±è¡Œã€‚</p><p>å¦‚æœæœ‰å¤šä¸ªçš„è¯ï¼Œå¯ä»¥ä¸€èµ·åˆ›å»ºå¥½ä¹‹åï¼Œå…¨éƒ¨ä¸€èµ·è¦†ç›–å°±è¡Œäº†ã€‚</p><p>åœ¨VS Codeä¸­ä½¿ç”¨ï¼Œä¹Ÿåªéœ€è¦é‡æ–°é€‰æ‹©ä¸‹è¿è¡Œçš„è§£é‡Šå™¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨pip install æ—¶å‡ºç°â€œç”±äºç›®æ ‡è®¡ç®—æœºç§¯ææ‹’ç»ï¼Œæ— æ³•è¿æ¥â€é”™è¯¯</title>
      <link href="/2022/12/18/%E7%94%A8pip-install%E6%97%B6%E5%87%BA%E7%8E%B0%E2%80%9C%E7%94%B1%E4%BA%8E%E7%9B%AE%E6%A0%87%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%AF%E6%9E%81%E6%8B%92%E7%BB%9D%EF%BC%8C%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E2%80%9D%E9%94%99%E8%AF%AF/"/>
      <url>/2022/12/18/%E7%94%A8pip-install%E6%97%B6%E5%87%BA%E7%8E%B0%E2%80%9C%E7%94%B1%E4%BA%8E%E7%9B%AE%E6%A0%87%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%AF%E6%9E%81%E6%8B%92%E7%BB%9D%EF%BC%8C%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E2%80%9D%E9%94%99%E8%AF%AF/</url>
      
        <content type="html"><![CDATA[<p>åœ¨envsè™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨pip installå®‰è£…åŒ…æ—¶ï¼Œå…¨éƒ¨æŠ¥é”™ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Retrying (Retry(total&#x3D;0, connect&#x3D;None, read&#x3D;None, </span><br><span class="line">redirect&#x3D;None, status&#x3D;None)) after connection broken </span><br><span class="line">by &#39;ProxyError(&#39;Cannot connect to proxy.&#39;, NewConnectionError</span><br><span class="line">(&#39;&lt;pip._vendor.urllib3.connection.VerifiedHTTPSConnection</span><br><span class="line"> object at 0x000001A5C1BEF630&gt;: Failed to establish a new connection: </span><br><span class="line">[WinError 10061] ç”±äºç›®æ ‡è®¡ç®—æœºç§¯ææ‹’ç»ï¼Œæ— æ³•è¿æ¥ã€‚&#39;)</span><br></pre></td></tr></table></figure><p>éƒ½æç¤ºâ€œç”±äºç›®æ ‡è®¡ç®—æœºç§¯ææ‹’ç»ï¼Œæ— æ³•è¿æ¥ã€‚â€ä¸€çœ‹å°±æ„Ÿè§‰è·Ÿä»£ç†æœ‰å…³ç³»ã€‚</p><p>äºæ˜¯ï¼ŒæŠŠä»£ç†å…³äº†ï¼Œç›´æ¥é€€å‡ºäº†ã€‚ä½†æ˜¯å‘ç°è¿˜æ˜¯æŠ¥è¿™ä¸ªé”™ã€‚</p><a id="more"></a><p>ç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œæ‰¾åˆ°äº†è§£å†³æ–¹æ³•ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>1ã€æ‰“å¼€æ³¨å†Œè¡¨<br>æŒ‰Win+Rå¿«æ·é”®ï¼Œè¾“å…¥regeditï¼Œæ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨</p><p>2ã€æ‰¾åˆ°<code>HKEY_CURRENT_USER/Software/Microsoft/Windows/CurrentVersion/Internet Settings</code></p><p>3ã€å°†ä»¥ Proxy å¼€å¤´çš„é”®å€¼å¯¹ï¼ˆå¦‚ProxyEnableã€ProxyOverrideã€ProxyServerç­‰ï¼‰å…¨éƒ¨åˆ é™¤<br>æˆ‘è¿™å°±è¿™3ä¸ªã€‚</p><p>ç„¶åå°±æ­£å¸¸äº†ã€‚</p><p>æœ¬æ¥æ˜¯æƒ³æ³¨é”€ä¸‹ç”µè„‘çš„ï¼Œå› ä¸ºå¼€ç€å¾ˆå¤šçª—å£ï¼Œæœ‰ç‚¹ä¸æƒ³æ³¨é”€ï¼Œè¯•ä¸€ä¸‹æˆåŠŸäº†å°±ä¸ç”¨æ³¨é”€äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>yt-dlp ä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2022/12/18/yt-dlp-%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2022/12/18/yt-dlp-%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>å¾ˆä¹…æ²¡ç”¨youtube-dlè¿™ä¸ªå·¥å…·äº†ï¼Œç„¶ååœ¨æ²¹ç®¡ä¸Šçœ‹åˆ°æƒ³ä¸‹è½½çš„è§†é¢‘ï¼Œå‘ç°ä¸‹è½½é€Ÿåº¦è¶…æ…¢ï¼Œåªæœ‰å‡ åKBæœ€å¤šã€‚</p><p>äºæ˜¯ï¼Œæœä¸€ä¸‹ï¼Œå‘ç°å¯èƒ½æ˜¯è¢«é™é€Ÿäº†å§ã€‚</p><p>æ‰¾åˆ°äº†è¿™ä¸ª yt-dlp çš„ä»£æ›¿å·¥å…·ã€‚<br>é¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/yt-dlp/yt-dlp" >https://github.com/yt-dlp/yt-dlp<i class="fas fa-external-link-alt"></i></a></p><p>è¿™ä¸ªä¸‹è½½ï¼Œå°±çœ‹ä¸ªäººç½‘é€Ÿäº†ï¼Œå› ä¸ºæˆ‘æ™šä¸Šä¸‹è½½æœ‰æ—¶å€™1M/sã€å‡ ç™¾K/séƒ½æœ‰ï¼Œç™½å¤©ä¸‹è½½æœ‰æ—¶å€™10å‡ M/sã€20~30M/sæ¥å›è·³ï¼Œå‡ M/séƒ½æœ‰ã€‚</p><p>å‘ç°å®ƒå°±æ˜¯ä»youtube-dl forkè¿‡æ¥çš„ï¼Œå°±ç†è§£ä¸ºæ˜¯ä»youtube-dlå¤åˆ¶è¿‡æ¥çš„ï¼Œåšäº†ä¸€äº›ä¿®å¤å’Œæ·»åŠ äº†ä¸€äº›ä¸œè¥¿ã€‚</p><a id="more"></a><h2 id="å®‰è£…yt-dlp"><a href="#å®‰è£…yt-dlp" class="headerlink" title="å®‰è£…yt-dlp"></a>å®‰è£…yt-dlp</h2><h3 id="1-å®‰è£…Pythonå’Œffmpeg"><a href="#1-å®‰è£…Pythonå’Œffmpeg" class="headerlink" title="1.å®‰è£…Pythonå’Œffmpeg"></a>1.å®‰è£…Pythonå’Œffmpeg</h3><p>æ˜¯ä»youtube-dlå¤åˆ¶è¿‡æ¥çš„ï¼Œæ‰€ä»¥ï¼ŒåŸæ¥å¦‚æœæœ‰ä½¿ç”¨youtube-dlçš„è¯ï¼Œå°±ç®€å•äº†ï¼ŒåŸæ¥éƒ½å·²ç»å®‰è£…è¿‡äº†ã€‚å°±ç›´æ¥å®‰è£…yt-dlpå°±å¯ä»¥äº†ï¼Œç”¨æ³•éƒ½ä¸€æ ·ã€‚</p><p>youtube-dlçš„ä½¿ç”¨æ•™ç¨‹ï¼Œä¹‹å‰å†™è¿‡äº†ï¼š<a href="/2022/04/09/youtube-dl%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="youtube-dl ä½¿ç”¨æ•™ç¨‹">youtube-dl ä½¿ç”¨æ•™ç¨‹</a><br>ä¸»è¦å°±æ˜¯å®‰è£…äº†ï¼š</p><ul><li>Pythonï¼šå®‰è£…æ—¶æŠŠpipå’Œæ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡éƒ½é€‰ä¸Š</li><li>ffmpegï¼šä¸‹è½½å¥½exeæ–‡ä»¶ï¼ŒæŠŠç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡å°±è¡Œ</li></ul><h3 id="2-å®‰è£…yt-dlp"><a href="#2-å®‰è£…yt-dlp" class="headerlink" title="2.å®‰è£…yt-dlp"></a>2.å®‰è£…yt-dlp</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install yt-dlp</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³ç”¨pipå®‰è£…çš„ï¼Œå°±å»é¡¹ç›®åœ°å€ä¸‹è½½exeç‰ˆæœ¬ï¼š<br><a class="link"   href="https://github.com/yt-dlp/yt-dlp#release-files" >https://github.com/yt-dlp/yt-dlp#release-files<i class="fas fa-external-link-alt"></i></a></p><p>ç„¶åæŠŠyt-dlp.exe ä¹Ÿä¸€æ ·æ”¾åˆ°ç³»ç»Ÿç¯å¢ƒçš„ç›®å½•ä¸‹å°±è¡Œã€‚æ¯”å¦‚å°±æ”¾åˆ°ffmpegçš„binç›®å½•ä¸‹ï¼Œè·Ÿffmpeg.exeå’Œyoutube-dl.exeæ”¾ä¸€èµ·å°±è¡Œã€‚</p><h2 id="ä¸‹è½½è§†é¢‘"><a href="#ä¸‹è½½è§†é¢‘" class="headerlink" title="ä¸‹è½½è§†é¢‘"></a>ä¸‹è½½è§†é¢‘</h2><p>æ”¯æŒä¸‹è½½å“ªäº›ç½‘ç«™ï¼Œé¡¹ç›®æ–‡æ¡£ä¸Šä¹Ÿæœ‰ï¼š<br><a class="link"   href="https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md" >https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md<i class="fas fa-external-link-alt"></i></a></p><p>æˆ‘è¿™é‡Œå°±æœ‰ä¸‹è½½æ²¹ç®¡çš„è§†é¢‘ä¸¾ä¾‹ã€‚</p><p>æ¯”å¦‚æˆ‘æƒ³ä¸‹è½½è¿™ä¸ªè§†é¢‘ï¼š<a class="link"   href="https://www.youtube.com/watch?v=kNU2WCHVVBk" >https://www.youtube.com/watch?v=kNU2WCHVVBk<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘æ ¼å¼ä¸ºï¼š<a class="link"   href="https://www.youtube.com/watch?v=" >https://www.youtube.com/watch?v=<i class="fas fa-external-link-alt"></i></a>*<strong><strong>****</strong></strong></p><h3 id="1-ç›´æ¥ä¸‹è½½"><a href="#1-ç›´æ¥ä¸‹è½½" class="headerlink" title="1.ç›´æ¥ä¸‹è½½"></a>1.ç›´æ¥ä¸‹è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤æ ¼å¼ï¼Œé«˜äº720Pçš„æ ¼å¼ä¸€èˆ¬æ˜¯ webm æ ¼å¼</span></span><br><span class="line">yt-dlp https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½è§†é¢‘è½¬æ¢æˆmp4ï¼ˆç”¨--merge-output-formatå‚æ•°ï¼‰</span></span><br><span class="line">yt-dlp --merge-output-format mp4 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br></pre></td></tr></table></figure><h3 id="2-æŸ¥çœ‹è§†é¢‘æ‰€æœ‰åˆ†è¾¨ç‡"><a href="#2-æŸ¥çœ‹è§†é¢‘æ‰€æœ‰åˆ†è¾¨ç‡" class="headerlink" title="2.æŸ¥çœ‹è§†é¢‘æ‰€æœ‰åˆ†è¾¨ç‡"></a>2.æŸ¥çœ‹è§†é¢‘æ‰€æœ‰åˆ†è¾¨ç‡</h3><p>è·Ÿç”¨ youtube-dlå‘½ä»¤ä¸€æ ·ï¼Œå…ˆç”¨<code>-F</code>å‚æ•°æŸ¥çœ‹æœ‰å“ªäº›åˆ†è¾¨ç‡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yt-dlp -F https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br></pre></td></tr></table></figure><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/yt-dlp.png"                      style="zoom: 50%;"                >ç»“æœè·Ÿç”¨ youtube-dlå‘½ä»¤çš„å·®ä¸å¤šï¼Œæ ‡é¢˜è¡Œå«ä¹‰ï¼š> IDï¼šæ–‡ä»¶ID> EXTï¼šæ ¼å¼> RESOLUTIONï¼šåˆ†è¾¨ç‡> FPSï¼šè§†é¢‘çš„å¸§ç‡> FILESIZEï¼šæ–‡ä»¶å¤§å°> VCODECï¼šaudio onlyè¡¨ç¤ºä»…éŸ³é¢‘> ACODECï¼švideo onlyè¡¨ç¤ºä»…è§†é¢‘ï¼ˆæ²¡æœ‰éŸ³é¢‘ï¼‰ï¼›åƒmp4a.40.2ï¼ˆ720pï¼‰å°±ç›´æ¥åŒ…å«äº†éŸ³é¢‘<h3 id="3-ä¸‹è½½æŒ‡å®šåˆ†è¾¨ç‡"><a href="#3-ä¸‹è½½æŒ‡å®šåˆ†è¾¨ç‡" class="headerlink" title="3.ä¸‹è½½æŒ‡å®šåˆ†è¾¨ç‡"></a>3.ä¸‹è½½æŒ‡å®šåˆ†è¾¨ç‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.åªä¸‹è½½éŸ³é¢‘</span></span><br><span class="line"><span class="comment"># æ‰¾m4aæ ¼å¼ï¼Œåˆ—è¡¨è¶Šé åè¶Šæ¸…æ™°ã€‚æ¯”å¦‚IDï¼š140 | EXTï¼šm4a | audio only</span></span><br><span class="line">yt-dlp -f140 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.ä¸‹è½½éŸ³é¢‘è½¬æ¢æˆmp3ï¼ˆåŠ ä¸Š-x --audio-formatå‚æ•°ï¼‰</span></span><br><span class="line">yt-dlp -f140 -x --audio-format mp3 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.ä¸‹è½½è§†é¢‘ï¼ˆå¸¦éŸ³é¢‘ï¼‰IDï¼š22 | EXTï¼šmp4 | 1280*720</span></span><br><span class="line">yt-dlp -f22 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.ä¸‹è½½æŒ‡å®šåˆ†è¾¨ç‡è§†é¢‘+éŸ³é¢‘ï¼ˆä¸ºäº†æ–¹ä¾¿å°±ç›´æ¥ä¸‹è½½mp4æ ¼å¼äº†ï¼‰</span></span><br><span class="line"><span class="comment"># 1080åŠä»¥ä¸Šåˆ†è¾¨ç‡çš„éŸ³é¢‘å’Œè§†é¢‘æ˜¯åˆ†å¼€çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šéŸ³é¢‘å’Œè§†é¢‘ä¸€èµ·ä¸‹è½½</span></span><br><span class="line">yt-dlp -f299+140 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.(é€šç”¨ï¼‰ä¸‹è½½æœ€ä½³mp4è§†é¢‘+æœ€ä½³m4aéŸ³é¢‘æ ¼å¼å¹¶åˆæˆmp4</span></span><br><span class="line">yt-dlp -f <span class="string">&#x27;bv[ext=mp4]+ba[ext=m4a]&#x27;</span> --embed-metadata --merge-output-format mp4 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.æŒ‡å®šæ–‡ä»¶åä¸‹è½½ï¼ˆç”¨-oå‚æ•°ï¼‰</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸‹è½½çš„æ–‡ä»¶æ ¼å¼æ˜¯ï¼štitle+ç©ºæ ¼+[id].æ ¼å¼ï¼Œæ¯”å¦‚***** [kNU2WCHVVBk].mp4</span></span><br><span class="line"><span class="comment"># æ–‡ä»¶ååªè¦æ ‡é¢˜ï¼Œä¸è¦idï¼ŒåŠ ä¸Š -o &#x27;%(title)s.mp4&#x27;</span></span><br><span class="line">yt-dlp -f <span class="string">&#x27;bv[ext=mp4]+ba[ext=m4a]&#x27;</span> --embed-metadata --merge-output-format mp4 https://www.youtube.com/watch?v=kNU2WCHVVBk -o <span class="string">&#x27;%(title)s.mp4&#x27;</span></span><br></pre></td></tr></table></figure><p>æœ€æ–¹ä¾¿ç›´æ¥ç”¨ï¼Œå¯ä»¥ç›´æ¥ç”¨æœ€åä¸€ç§é€šç”¨çš„ä¸‹è½½æœ€ä½³è§†é¢‘çš„æ–¹å¼ã€‚</p><h3 id="5-ä¸‹è½½æ’­æ”¾åˆ—è¡¨æ‰€æœ‰è§†é¢‘"><a href="#5-ä¸‹è½½æ’­æ”¾åˆ—è¡¨æ‰€æœ‰è§†é¢‘" class="headerlink" title="5.ä¸‹è½½æ’­æ”¾åˆ—è¡¨æ‰€æœ‰è§†é¢‘"></a>5.ä¸‹è½½æ’­æ”¾åˆ—è¡¨æ‰€æœ‰è§†é¢‘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yt-dlp https://www.youtube.com/playlist?list=**********</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
            <tag> ffmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerä»å®¹å™¨ä¸­å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°</title>
      <link href="/2022/12/16/Docker%E4%BB%8E%E5%AE%B9%E5%99%A8%E4%B8%AD%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%AC%E5%9C%B0/"/>
      <url>/2022/12/16/Docker%E4%BB%8E%E5%AE%B9%E5%99%A8%E4%B8%AD%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%AC%E5%9C%B0/</url>
      
        <content type="html"><![CDATA[<p>å¯¹äºè¿è¡Œçš„å®¹å™¨æ²¡æœ‰åšç›®å½•æ˜ å°„çš„ï¼Œæˆ–è€…æœ‰æƒé™é—®é¢˜çš„ï¼Œéœ€è¦æŠŠæ–‡ä»¶ä»å®¹å™¨ä¸­å¤åˆ¶å‡ºæ¥ã€‚ç”¨<code>docker cp</code>å‘½ä»¤ã€‚</p><p><code>docker cp</code>å‘½ä»¤ä¸ç®¡å®¹å™¨æœ‰æ²¡æœ‰å¯åŠ¨ï¼Œæ‹·è´å‘½ä»¤éƒ½ä¼šç”Ÿæ•ˆã€‚ å¦‚æœæ‹·è´çš„å†…å®¹å·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¦†ç›–ã€‚</p><a id="more"></a><h3 id="ä»å®¹å™¨ä¸­å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°"><a href="#ä»å®¹å™¨ä¸­å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°" class="headerlink" title="ä»å®¹å™¨ä¸­å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°"></a>ä»å®¹å™¨ä¸­å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°</h3><p>æ¯”å¦‚åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºäº† temp_data ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æŠŠoj-backendå®¹å™¨ä¸­çš„/dataç›®å½•ä¸‹çš„publicç›®å½•éƒ½å¤åˆ¶åˆ°æœ¬åœ°temp_dataç›®å½•ä¸‹</span></span><br><span class="line">docker cp oj-backend:/data/public ./temp_data/</span><br><span class="line"><span class="comment"># 2.æŠŠoj-backendå®¹å™¨ä¸­çš„/dataç›®å½•ä¸‹çš„test_caseç›®å½•å¤åˆ¶åˆ°æœ¬åœ°temp_dataç›®å½•ä¸‹</span></span><br><span class="line">docker cp oj-backend:/data/test_case ./temp_data/</span><br></pre></td></tr></table></figure><h3 id="æŠŠæœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­"><a href="#æŠŠæœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­" class="headerlink" title="æŠŠæœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­"></a>æŠŠæœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å¤åˆ¶æ•°æ®(db_backup_a.sql)åˆ°oj-postgreså®¹å™¨çš„/rootä¸­</span></span><br><span class="line">docker cp db_backup_a.sql oj-postgres:/root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.å¤åˆ¶å½“å‰ç›®å½•ä¸‹çš„temp_data/public/ç›®å½•åˆ°oj-backendå®¹å™¨çš„/data/ç›®å½•</span></span><br><span class="line">docker cp ./temp_data/public/ oj-backend:/data/</span><br><span class="line"><span class="comment"># 3.å¤åˆ¶å½“å‰ç›®å½•ä¸‹çš„temp_data/test_case/ç›®å½•åˆ°oj-backendå®¹å™¨çš„/data/ç›®å½•</span></span><br><span class="line">docker cp ./temp_data/test_case/ oj-backend:/data/</span><br></pre></td></tr></table></figure><p>å¤åˆ¶æ–‡ä»¶å’Œç›®å½•éƒ½å¯ä»¥ï¼Œå°±æ˜¯å®¹å™¨çš„è·¯å¾„æ˜¯ï¼š[å®¹å™¨å]:[æ–‡ä»¶/ç›®å½•]</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ é™¤postgresqlæ•°æ®åº“æŠ¥é”™database xx is being accessed by other users</title>
      <link href="/2022/12/16/%E5%88%A0%E9%99%A4postgresql%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%A5%E9%94%99database-xx-is-being-accessed-by-other-users/"/>
      <url>/2022/12/16/%E5%88%A0%E9%99%A4postgresql%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%A5%E9%94%99database-xx-is-being-accessed-by-other-users/</url>
      
        <content type="html"><![CDATA[<p>æ¢å¤é’å²›å¤§å­¦çš„onlinejudgeçš„æ•°æ®åº“çš„æ—¶å€™ï¼Œè¿è¡Œåˆ é™¤postgresqlæ•°æ®åº“å‘½ä»¤<br><code>dropdb -U onlinejudge onlinejudge</code>æ—¶å‘ç°æŠ¥é”™äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dropdb: database removal failed: ERROR:  database <span class="string">&quot;onlinejudge&quot;</span> is being accessed by other users</span><br><span class="line">DETAIL:  There are 2 other sessions using the database.</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºå½“å‰æ•°æ®åº“ä¹Ÿåœ¨è¢«åˆ«çš„ç”¨æˆ·ä½¿ç”¨ï¼Œè¿™é‡Œè¦åˆ é™¤ä¹Ÿè¦æ…é‡ï¼Œç¡®ä¿æ•°æ®åº“æ˜¯å¯ä»¥è¢«åˆ é™¤çš„å†ç»§ç»­æ“ä½œã€‚</p><a id="more"></a><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>æ–­å¼€è¿æ¥åˆ°è¿™ä¸ªæ•°æ®åº“ä¸Šçš„æ‰€æœ‰é“¾æ¥ï¼Œå†åˆ é™¤æ•°æ®åº“ã€‚åœ¨PostgreSQL 9.2 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œæ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.ç™»å½•postgresæ•°æ®åº“</span></span><br><span class="line">psql -U onlinejudge</span><br><span class="line"><span class="comment"># åˆ—å‡ºæ•°æ®åº“</span></span><br><span class="line"><span class="comment"># \l or \list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æ–­å¼€æ‰€æœ‰è¿æ¥åˆ°è¿™ä¸ªæ•°æ®åº“ä¸Šçš„è¿æ¥ï¼ŒæˆåŠŸå¯ä»¥çœ‹åˆ°æç¤º2 rows</span></span><br><span class="line">SELECT pg_terminate_backend(pg_stat_activity.pid)</span><br><span class="line">FROM pg_stat_activity</span><br><span class="line">WHERE datname=<span class="string">&#x27;onlinejudge&#x27;</span> AND pid&lt;&gt;pg_backend_pid();</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.é€€å‡ºpostgres</span></span><br><span class="line">\q</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†åˆ é™¤åŸæœ‰æ•°æ®åº“</span></span><br><span class="line">dropdb -U onlinejudge onlinejudge</span><br></pre></td></tr></table></figure><p>æ–­å¼€æ‰€æœ‰è¿æ¥åˆ°è¿™ä¸ªæ•°æ®åº“ä¸Šçš„è¿æ¥çš„è¯­å¥è¯´æ˜ï¼š</p><blockquote><p>pg_terminate_backendï¼šç”¨æ¥ç»ˆæ­¢ä¸æ•°æ®åº“çš„è¿æ¥çš„è¿›ç¨‹idçš„å‡½æ•°ã€‚<br>pg_stat_activityï¼šæ˜¯ä¸€ä¸ªç³»ç»Ÿè¡¨ï¼Œç”¨äºå­˜å‚¨æœåŠ¡è¿›ç¨‹çš„å±æ€§å’ŒçŠ¶æ€ã€‚<br>pg_backend_pid()ï¼šæ˜¯ä¸€ä¸ªç³»ç»Ÿå‡½æ•°ï¼Œè·å–é™„åŠ åˆ°å½“å‰ä¼šè¯çš„æœåŠ¡å™¨è¿›ç¨‹çš„IDã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Postgresql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Postgresql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QingdaoU OnlineJudge æ•°æ®å¤‡ä»½ä¸æ¢å¤</title>
      <link href="/2022/12/16/QingdaoU-OnlineJudge%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D/"/>
      <url>/2022/12/16/QingdaoU-OnlineJudge%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D/</url>
      
        <content type="html"><![CDATA[<p>å¹³å°æœ¬èº«æä¾›äº†æ•°æ®åº“çš„å¤‡ä»½ï¼Œè¿˜æŒºæ–¹ä¾¿çš„ã€‚ä¸è¿‡ï¼Œå‘ç°åªå¯¼å…¥æ•°æ®åº“çš„å¤‡ä»½æ–‡ä»¶ï¼Œè¿˜æ˜¯æœ‰é—®é¢˜ã€‚å°±æŠ˜è…¾äº†å¥½ä¸€ä¼šã€‚</p><a id="more"></a><h2 id="Online-Judgeå¹³å°æ•°æ®å¤‡ä»½ä¸æ¢å¤"><a href="#Online-Judgeå¹³å°æ•°æ®å¤‡ä»½ä¸æ¢å¤" class="headerlink" title="Online Judgeå¹³å°æ•°æ®å¤‡ä»½ä¸æ¢å¤"></a>Online Judgeå¹³å°æ•°æ®å¤‡ä»½ä¸æ¢å¤</h2><h3 id="1-æ•°æ®å¤‡ä»½"><a href="#1-æ•°æ®å¤‡ä»½" class="headerlink" title="1.æ•°æ®å¤‡ä»½"></a>1.æ•°æ®å¤‡ä»½</h3><h4 id="1-æ•°æ®åº“å¤‡ä»½ï¼ˆpostgresqlï¼‰"><a href="#1-æ•°æ®åº“å¤‡ä»½ï¼ˆpostgresqlï¼‰" class="headerlink" title="1).æ•°æ®åº“å¤‡ä»½ï¼ˆpostgresqlï¼‰"></a>1).æ•°æ®åº“å¤‡ä»½ï¼ˆpostgresqlï¼‰</h4><p>è¿›å…¥OnlineJudgeDeploy/backupç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å°±ä¼šæ­¤ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª.sqlæ•°æ®åº“å¤‡ä»½æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh db_backup.sh</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘å¾—åˆ°äº† db_backup_2022_12_16_13_51_41.sql æ–‡ä»¶</p><h4 id="2-dataç›®å½•ä¸‹çš„publicå’Œtest-caseæ–‡ä»¶å¤¹å¤‡ä»½"><a href="#2-dataç›®å½•ä¸‹çš„publicå’Œtest-caseæ–‡ä»¶å¤¹å¤‡ä»½" class="headerlink" title="2).dataç›®å½•ä¸‹çš„publicå’Œtest_caseæ–‡ä»¶å¤¹å¤‡ä»½"></a>2).dataç›®å½•ä¸‹çš„publicå’Œtest_caseæ–‡ä»¶å¤¹å¤‡ä»½</h4><p>å¦‚æœåªç”¨ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ï¼Œæ²¡æœ‰å¯¼å…¥è¿™ä¸¤ä¸ªç›®å½•ï¼Œåˆ¤é¢˜æ—¶ä¼šæ˜¾ç¤ºç¼–è¯‘é”™è¯¯ï¼Œç‚¹å‡»ä¼šæ˜¾ç¤ºæµ‹è¯•ç”¨ä¾‹ä¸å­˜åœ¨ã€‚æ‰€ä»¥éœ€è¦æŠŠè¿™ä¸¤ä¸ªç›®å½•ä¹Ÿä»å®¹å™¨ä¸­å¤åˆ¶å‡ºæ¥ã€‚</p><p>å› ä¸ºç›´æ¥ç”¨ftpå·¥å…·å‘ç°ä¸è¡Œï¼Œtest_caseç›®å½•éƒ½æ²¡æœ‰è¯»çš„æƒé™ã€‚æ‰€ä»¥ï¼Œå°±ç›´æ¥ä»å®¹å™¨ä¸­æŠŠè¿™ä¸¤ä¸ªç›®å½•å¤åˆ¶å‡ºæ¥ã€‚</p><p>æ¯”å¦‚æˆ‘å°±åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªtemp_dataç›®å½•ï¼Œç„¶åæŠŠpublicå’Œtest_caseç›®å½•éƒ½å¤åˆ¶åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker cp oj-backend:/data/public ./temp_data/</span><br><span class="line">docker cp oj-backend:/data/test_case ./temp_data/</span><br></pre></td></tr></table></figure><h3 id="2-æ•°æ®æ¢å¤"><a href="#2-æ•°æ®æ¢å¤" class="headerlink" title="2.æ•°æ®æ¢å¤"></a>2.æ•°æ®æ¢å¤</h3><p>å¿…é¡»å…ˆæ¢å¤æ•°æ®åº“ï¼Œå†å¤åˆ¶publicå’Œtest_caseç›®å½•ã€‚</p><p>ä¸ç®¡æ˜¯æœ¬æœºï¼Œè¿˜æ˜¯æ¢äº†ä¸€å°æ–°çš„æœºå­ï¼Œéƒ½å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•æ¢å¤æ•°æ®ï¼Œå› ä¸ºæ˜¯å¾ˆå½»åº•çš„åˆ é™¤äº†æ•°æ®åº“çš„ã€‚</p><h4 id="1-æ•°æ®åº“å¯¼å…¥ï¼ˆpostgresqlï¼‰"><a href="#1-æ•°æ®åº“å¯¼å…¥ï¼ˆpostgresqlï¼‰" class="headerlink" title="1).æ•°æ®åº“å¯¼å…¥ï¼ˆpostgresqlï¼‰"></a>1).æ•°æ®åº“å¯¼å…¥ï¼ˆpostgresqlï¼‰</h4><p>å…ˆæŸ¥çœ‹docker-compse.ymlé…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ•°æ®åº“å®¹å™¨ã€æ•°æ®åº“åå’Œæ•°æ®åº“ä½¿ç”¨ç”¨æˆ·åï¼š</p><ul><li>æ•°æ®åº“å®¹å™¨ï¼šoj-postgres</li><li>æ•°æ®åº“åï¼šonlinejudge</li><li>æ•°æ®åº“ä½¿ç”¨ç”¨æˆ·åï¼šonlinejudge</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æ‹·è´æ•°æ®(.sql)åˆ°æ•°æ®åº“å®¹å™¨oj-postgres</span></span><br><span class="line">docker cp db_backup_xxxxxxx.sql oj-postgres:/root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.è¿›å…¥æ•°æ®åº“æ‰€åœ¨å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it oj-postgres bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.åˆ é™¤åŸæœ‰æ•°æ®åº“</span></span><br><span class="line"><span class="comment"># -U onlinejudgeè¡¨ç¤ºæ•°æ®åº“user:onlinejudge</span></span><br><span class="line">dropdb -U onlinejudge onlinejudge</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤çš„æ—¶å€™å¦‚æœæç¤ºæœ‰å…¶å®ƒç”¨æˆ·åœ¨ç”¨ï¼Œæœ‰2ä¸ªsessionsåœ¨ç”¨ï¼Œæ— æ³•åˆ é™¤ï¼Œå°±éœ€è¦å…ˆæ–­å¼€æ‰€æœ‰è¿æ¥åˆ°è¿™ä¸ªæ•°æ®åº“ä¸Šçš„è¿æ¥</span></span><br><span class="line"><span class="comment"># 1).ç™»å½•postgresqlæ•°æ®åº“</span></span><br><span class="line">psql -U onlinejudge</span><br><span class="line"><span class="comment"># åˆ—å‡ºæ•°æ®åº“</span></span><br><span class="line"><span class="comment"># \l or \list</span></span><br><span class="line"><span class="comment"># 2).æ–­å¼€æ‰€æœ‰è¿æ¥åˆ°è¿™ä¸ªæ•°æ®åº“ä¸Šçš„è¿æ¥ï¼ŒæˆåŠŸå¯ä»¥çœ‹åˆ°æç¤º2 rows</span></span><br><span class="line">SELECT pg_terminate_backend(pg_stat_activity.pid)</span><br><span class="line">FROM pg_stat_activity</span><br><span class="line">WHERE datname=<span class="string">&#x27;onlinejudge&#x27;</span> AND pid&lt;&gt;pg_backend_pid();</span><br><span class="line"><span class="comment"># 3).é€€å‡ºpostgresql</span></span><br><span class="line">\q</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†åˆ é™¤åŸæœ‰æ•°æ®åº“</span></span><br><span class="line">dropdb -U onlinejudge onlinejudge</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line"><span class="comment"># æ•°æ®åº“user:onlinejudgeï¼Œæ•°æ®åº“å:onlinejudgeï¼‰</span></span><br><span class="line">createdb -U onlinejudge onlinejudge</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.å¤åˆ¶æ•°æ®åº“ï¼Œæ‰§è¡Œsqlè¯­å¥</span></span><br><span class="line">psql -f /root/db_backup_xxxxxxx.sql -U onlinejudge</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.é€€å‡ºå®¹å™¨</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><h4 id="2-publicå’Œtest-caseç›®å½•å¯¼å…¥"><a href="#2-publicå’Œtest-caseç›®å½•å¯¼å…¥" class="headerlink" title="2).publicå’Œtest_caseç›®å½•å¯¼å…¥"></a>2).publicå’Œtest_caseç›®å½•å¯¼å…¥</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker cp ./temp_data/public/ oj-backend:/data/</span><br><span class="line">docker cp ./temp_data/test_case/ oj-backend:/data/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç»“æœï¼Œè¿›å…¥oj-backendå®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it oj-backend sh</span><br><span class="line"><span class="comment"># åˆ—å‡º/dataç›®å½•ï¼Œçœ‹åˆ°è¿™ä¸¤ä¸ªç›®å½•çš„æ—¥æœŸè·Ÿåˆ«çš„ä¸åŒå°±æ˜¯æœ‰æ•ˆäº†</span></span><br><span class="line">ls -l /data</span><br><span class="line"><span class="comment"># é€€å‡ºå®¹å™¨</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><p>å†ç™»å½•ï¼Œå‘ç°æ‰€æœ‰çš„æ•°æ®éƒ½æ¢å¤è¿‡æ¥äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockeræ­å»ºQingdaoU OnlineJudgeå¹³å°</title>
      <link href="/2022/12/16/Docker%E6%90%AD%E5%BB%BAQingdaoU-OnlineJudge%E5%B9%B3%E5%8F%B0/"/>
      <url>/2022/12/16/Docker%E6%90%AD%E5%BB%BAQingdaoU-OnlineJudge%E5%B9%B3%E5%8F%B0/</url>
      
        <content type="html"><![CDATA[<p>Online Judgeç³»ç»Ÿï¼ˆç®€ç§°OJï¼‰æ˜¯ä¸€ä¸ªåœ¨çº¿çš„åˆ¤é¢˜ç³»ç»Ÿã€‚ç”¨æˆ·å¯ä»¥åœ¨çº¿æäº¤ç¨‹åºå¤šç§ç¨‹åºï¼ˆå¦‚Cã€C++ã€Pythonï¼‰æºä»£ç ï¼Œç³»ç»Ÿå¯¹æºä»£ç è¿›è¡Œç¼–è¯‘å’Œæ‰§è¡Œï¼Œå¹¶é€šè¿‡é¢„å…ˆè®¾è®¡çš„æµ‹è¯•æ•°æ®æ¥æ£€éªŒç¨‹åºæºä»£ç çš„æ­£ç¡®æ€§ã€‚</p><p>ä»¥å‰æ˜¯çŸ¥é“å„ä¸ªå¤§å­¦éƒ½æœ‰è‡ªå·±çš„OJç³»ç»Ÿç”¨æ¥è®­ç»ƒACMçš„ã€‚</p><p>é’å²›å¤§å­¦çš„è¿™ä¸ªå¼€æºOnline Judgeç³»ç»Ÿæ˜¯æ¯”è¾ƒæ–°çš„ï¼Œç•Œé¢æ„Ÿè§‰ä¹Ÿä¸é”™ï¼Œè¿˜æ˜¯å¼€æºçš„ï¼Œè¿˜å¯ä»¥ç”¨Dockerç›´æ¥æ­å»ºï¼Œå°±å¾ˆæ–¹ä¾¿äº†ã€‚</p><a id="more"></a><h2 id="Online-Judgeå¹³å°æ­å»º"><a href="#Online-Judgeå¹³å°æ­å»º" class="headerlink" title="Online Judgeå¹³å°æ­å»º"></a>Online Judgeå¹³å°æ­å»º</h2><p>é’å²›å¤§å­¦çš„OJé¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/QingdaoU/OnlineJudge/blob/master/README-CN.md" >https://github.com/QingdaoU/OnlineJudge/blob/master/README-CN.md<i class="fas fa-external-link-alt"></i></a></p><p>ä¸Šé¢æœ‰OJå¹³å°æ­å»ºçš„é¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/QingdaoU/OnlineJudgeDeploy/tree/2.0" >https://github.com/QingdaoU/OnlineJudgeDeploy/tree/2.0<i class="fas fa-external-link-alt"></i></a></p><p>æˆ‘æ˜¯åœ¨ä¸€å°è£…äº†Ubuntu 20.04 LTSçš„æœºå™¨ä¸Šè£…çš„ã€‚</p><h3 id="1-ä¸‹è½½"><a href="#1-ä¸‹è½½" class="headerlink" title="1.ä¸‹è½½"></a>1.ä¸‹è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b 2.0 https://github.com/QingdaoU/OnlineJudgeDeploy.git &amp;&amp; <span class="built_in">cd</span> OnlineJudgeDeploy</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œä¸Šé¢çš„å‘½ä»¤åï¼Œä¼šè¿›å…¥OnlineJudgeDeployç›®å½•ã€‚</p><p>ä¸èƒ½ç”¨gitä¸‹è½½çš„è¯ï¼Œç›´æ¥æŠŠä¸Šé¢OJå¹³å°é¡¹ç›®çš„CodeåŒ…ä¸€èµ·ä¸‹è½½ä¸‹æ¥ã€‚ç„¶åè§£å‹åˆ°OnlineJudgeDeployç›®å½•åï¼Œå†cdè¿›å…¥ç›®å½•ï¼Œä¸€æ ·çš„ã€‚</p><h3 id="2-å¯åŠ¨æœåŠ¡"><a href="#2-å¯åŠ¨æœåŠ¡" class="headerlink" title="2.å¯åŠ¨æœåŠ¡"></a>2.å¯åŠ¨æœåŠ¡</h3><h4 id="1-docker-composeå®‰è£…"><a href="#1-docker-composeå®‰è£…" class="headerlink" title="1).docker-composeå®‰è£…"></a>1).docker-composeå®‰è£…</h4><p>ç”¨çš„æ˜¯docker-composeå®‰è£…ä¸€é”®éƒ¨ç½²ã€‚</p><p>æ‰€ä»¥ï¼Œéœ€è¦æå‰å®‰è£…Dockerï¼ˆ<a href="/2022/11/19/Ubuntu%E5%AE%89%E8%A3%85Docker/" title="Ubuntuå®‰è£…Docker">Ubuntuå®‰è£…Docker</a>ï¼‰å’Œdocker-composeã€‚</p><p>å¦‚æœè£…äº†Dockerï¼Œæ²¡æœ‰å®‰è£…docker-composeçš„è¯ï¼Œæœ‰pythonã€pipçš„è¯å°±å¾ˆç®€å•äº†ï¼Œç›´æ¥ç”¨pipå‘½ä»¤å®‰è£…å°±è¡Œäº†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install docker-compose</span><br></pre></td></tr></table></figure><h4 id="2-docker-compse-yml-é…ç½®æ–‡ä»¶"><a href="#2-docker-compse-yml-é…ç½®æ–‡ä»¶" class="headerlink" title="2).docker-compse.yml é…ç½®æ–‡ä»¶"></a>2).docker-compse.yml é…ç½®æ–‡ä»¶</h4><p>å› ä¸ºæœåŠ¡ä¼šæœ‰ä¸ªåœ°å€ï¼Œæ¶‰åŠåˆ°ç«¯å£å·ä¼šä¸ä¼šå†²çªã€‚æ‰€ä»¥ï¼Œå¯ä»¥å…ˆçœ‹ä¸‹OnlineJudgeDeployç›®å½•ä¸‹çš„docker-compse.ymlé…ç½®æ–‡ä»¶ï¼Œä¸Šé¢é¡¹ç›®åœ°å€ä¸­ä¹Ÿå¯ä»¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶ã€‚</p><p>æ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°æ˜¯å¼€äº†å¥½å‡ ä¸ªæœåŠ¡çš„ï¼š</p><ul><li>oj-redis</li><li>oj-postgresï¼šæ•°æ®åº“ï¼Œå¯ä»¥çœ‹åˆ°è®¾ç½®çš„æ•°æ®åº“DBåï¼Œç”¨æˆ·USERåå’Œå¯†ç PASSWORD</li><li>judge-serverï¼šæœåŠ¡å™¨</li><li>oj-backendï¼šæœ€åçœ‹åˆ°è¿™ä¸ªæ˜¯ä¾èµ–ä»¥ä¸Šçš„æœåŠ¡çš„ã€‚é‡ç‚¹å°±æ˜¯æœ€ä¸‹é¢è¿™ä¸ªç«¯å£å·äº†ï¼š<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;0.0.0.0:80:8000&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;0.0.0.0:443:1443&quot;</span></span><br></pre></td></tr></table></figure>å‰é¢çš„é»˜è®¤çš„æ˜ å°„åˆ°æœ¬æœºæ˜¯80ç«¯å£ï¼ˆHTTPï¼‰å’Œ443ç«¯å£ï¼ˆHTTPSï¼‰ã€‚<br>è¿™ä¸ªåªè¦ä¸å†²çªï¼Œå°±éšä¾¿ä½ è‡ªå·±æ”¹äº†ã€‚</li></ul><p>æ¯”å¦‚ä¸€èˆ¬ä¸æƒ³å†²çªçš„è¯ï¼Œæˆ‘æ”¹æˆå¦‚ä¸‹çš„ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;0.0.0.0:8080:8000&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;0.0.0.0:8443:1443&quot;</span></span><br></pre></td></tr></table></figure><h4 id="3-docker-composeå¯åŠ¨æœåŠ¡"><a href="#3-docker-composeå¯åŠ¨æœåŠ¡" class="headerlink" title="3).docker-composeå¯åŠ¨æœåŠ¡"></a>3).docker-composeå¯åŠ¨æœåŠ¡</h4><p>ç”¨viå‘½ä»¤ä¿®æ”¹å¥½é…ç½®æ–‡ä»¶åï¼Œç”¨ä»¥ä¸‹å‘½ä»¤ä¸€é”®éƒ¨ç½²å¯åŠ¨å°±è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p>æ ¹æ®ç½‘é€Ÿæƒ…å†µï¼Œå¤§çº¦2åˆ°30åˆ†é’Ÿéƒ½æœ‰å¯èƒ½ï¼Œæ­£å¸¸çš„è¯ï¼Œæ„Ÿè§‰ä¸€èˆ¬å‡ åˆ†é’Ÿå°±å¥½äº†ã€‚</p><p>å¸¸ç”¨çš„docker-composeè¿˜æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker-compose <span class="built_in">help</span> <span class="comment"># æŸ¥çœ‹å¸®åŠ©</span></span><br><span class="line">docker-compose up <span class="comment"># åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker-compose ps <span class="comment"># åˆ—å‡ºå®¹å™¨</span></span><br><span class="line">docker-compose stop <span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line">docker-compose start <span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">docker-compose down <span class="comment"># åœæ­¢å¹¶åˆ é™¤èµ„æº</span></span><br></pre></td></tr></table></figure><h4 id="4-æœåŠ¡æˆåŠŸå¯åŠ¨"><a href="#4-æœåŠ¡æˆåŠŸå¯åŠ¨" class="headerlink" title="4).æœåŠ¡æˆåŠŸå¯åŠ¨"></a>4).æœåŠ¡æˆåŠŸå¯åŠ¨</h4><p>è¿˜æ˜¯åœ¨OnlineJudgeDeployç›®å½•ä¸‹ï¼Œç”¨<code>docker-compose ps</code>å‘½ä»¤æŸ¥çœ‹ç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@VM-8-10-ubuntu:~&#x2F;onlinejudge&#x2F;OnlineJudgeDeploy$ docker-compose ps</span><br><span class="line">    Name                  Command                  State                            Ports                      </span><br><span class="line">---------------------------------------------------------------------------------------------------------------</span><br><span class="line">judge-server   &#x2F;bin&#x2F;sh -c &#x2F;code&#x2F;entrypoint.sh   Up (healthy)   8080&#x2F;tcp                                        </span><br><span class="line">oj-backend     &#x2F;bin&#x2F;sh -c &#x2F;app&#x2F;deploy&#x2F;ent ...   Up (healthy)   0.0.0.0:8443-&gt;1443&#x2F;tcp, 0.0.0.0:8080-&gt;8000&#x2F;tcp</span><br><span class="line">oj-postgres    docker-entrypoint.sh postgres    Up             5432&#x2F;tcp                                        </span><br><span class="line">oj-redis       docker-entrypoint.sh redis ...   Up             6379&#x2F;tcp                                        </span><br><span class="line">ubuntu@VM-8-10-ubuntu:~&#x2F;onlinejudge&#x2F;OnlineJudgeDeploy$</span><br></pre></td></tr></table></figure><p><code>docker ps -a</code>å‘½ä»¤ä¹Ÿæ˜¯å¯ä»¥æŸ¥çœ‹åˆ°è¿™äº›æ‰€æœ‰å®¹å™¨çš„ï¼ˆjudge-serverã€oj-backendã€oj-postgreså’Œoj-redisï¼‰</p><p>å‰ç«¯ç™»å½•åœ°å€ï¼š<a class="link"   href="http://ip:8080/" >http://ip:8080<i class="fas fa-external-link-alt"></i></a> ï¼ˆ8080æ˜¯å¯¹åº”8000ç«¯å£æ˜ å°„åˆ°æœ¬æœºçš„åœ°å€ï¼‰<br>åå°ç®¡ç†åœ°å€ï¼š<a class="link"   href="http://ip:8080/admin" >http://ip:8080/admin<i class="fas fa-external-link-alt"></i></a><br>é»˜è®¤è¶…çº§ç®¡ç†å‘˜ç”¨æˆ·åä¸ºrootï¼Œå¯†ç ä¸ºrootroot</p><p>å…³äºæ•°æ®å¤‡ä»½ä¸æ¢å¤çœ‹è¿™ç¯‡ï¼š<a href="/2022/12/16/QingdaoU-OnlineJudge%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D/" title="QingdaoU OnlineJudge æ•°æ®å¤‡ä»½ä¸æ¢å¤">QingdaoU OnlineJudge æ•°æ®å¤‡ä»½ä¸æ¢å¤</a></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python æ±‰å­—è½¬æ‹¼éŸ³</title>
      <link href="/2022/12/06/Python-%E6%B1%89%E5%AD%97%E8%BD%AC%E6%8B%BC%E9%9F%B3/"/>
      <url>/2022/12/06/Python-%E6%B1%89%E5%AD%97%E8%BD%AC%E6%8B%BC%E9%9F%B3/</url>
      
        <content type="html"><![CDATA[<p>ä¸€èˆ¬ç”¨æ¥æ‰¹é‡åˆ›å»ºè´¦å·ï¼Œæƒ³æŠŠå§“åæ‰¹é‡ç”Ÿæˆå§“åæ‹¼éŸ³çš„è´¦å·ã€‚</p><p>Pythonå¾ˆç®€å•ï¼Œç”¨pypinyinè¿™ä¸ªåº“å°±è¡Œäº†ã€‚</p><a id="more"></a><h2 id="å®‰è£…pypinyinåº“"><a href="#å®‰è£…pypinyinåº“" class="headerlink" title="å®‰è£…pypinyinåº“"></a>å®‰è£…pypinyinåº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pypinyin</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://pypinyin.readthedocs.io/zh_CN/master/usage.html#example" >https://pypinyin.readthedocs.io/zh_CN/master/usage.html#example<i class="fas fa-external-link-alt"></i></a></p><h2 id="å§“åè½¬æ‹¼éŸ³"><a href="#å§“åè½¬æ‹¼éŸ³" class="headerlink" title="å§“åè½¬æ‹¼éŸ³"></a>å§“åè½¬æ‹¼éŸ³</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pypinyin</span><br><span class="line"></span><br><span class="line"><span class="comment"># å§“åè½¬æ¢æˆæ‹¼éŸ³</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_pinyin</span>(<span class="params"><span class="built_in">str</span></span>):</span></span><br><span class="line">    pinyin = pypinyin.pinyin(<span class="built_in">str</span>, style=pypinyin.NORMAL) <span class="comment"># [[&#x27;zhang&#x27;], [&#x27;san&#x27;]]</span></span><br><span class="line">    <span class="comment"># pinyin = pypinyin.pinyin(str, heteronym=True) # æ˜¾ç¤ºå£°è°ƒ</span></span><br><span class="line">    result1 = <span class="string">&#x27;&#x27;</span>.join(i[<span class="number">0</span>] <span class="keyword">for</span> i <span class="keyword">in</span> pinyin) <span class="comment"># &#x27;zhangsan&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> result1</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(get_pinyin(<span class="string">&quot;å¼ ä¸‰&quot;</span>)) <span class="comment"># &#x27;zhangsan&#x27;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šå¸¦å£°è°ƒçš„çœ‹å®˜æ–¹æ–‡æ¡£ä¸Šçš„ä¾‹å­ä¸Šéƒ½æœ‰ã€‚</p><h2 id="æ‰¹é‡å§“åè½¬æ‹¼éŸ³"><a href="#æ‰¹é‡å§“åè½¬æ‹¼éŸ³" class="headerlink" title="æ‰¹é‡å§“åè½¬æ‹¼éŸ³"></a>æ‰¹é‡å§“åè½¬æ‹¼éŸ³</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pypinyin</span><br><span class="line"></span><br><span class="line"><span class="comment"># å§“åè½¬æ¢æˆæ‹¼éŸ³</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_pinyin</span>(<span class="params"><span class="built_in">str</span></span>):</span></span><br><span class="line">    pinyin = pypinyin.pinyin(<span class="built_in">str</span>, style=pypinyin.NORMAL) <span class="comment"># [[&#x27;zhang&#x27;], [&#x27;san&#x27;]]</span></span><br><span class="line">    <span class="comment"># pinyin = pypinyin.pinyin(str, heteronym=True) # æ˜¾ç¤ºå£°è°ƒ</span></span><br><span class="line">    result1 = <span class="string">&#x27;&#x27;</span>.join(i[<span class="number">0</span>] <span class="keyword">for</span> i <span class="keyword">in</span> pinyin) <span class="comment"># zhangsan</span></span><br><span class="line">    <span class="keyword">return</span> result1</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¹é‡å§“åè½¬æ‹¼éŸ³</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_pinyin_list</span>(<span class="params">name_list</span>):</span></span><br><span class="line">    name_pinyin_list = []</span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> name_list:</span><br><span class="line">        n = name[<span class="number">0</span>]</span><br><span class="line">        n_pinyin = get_pinyin(n)</span><br><span class="line">        name_pinyin_list.append(n_pinyin)</span><br><span class="line">    <span class="keyword">return</span> name_pinyin_list</span><br><span class="line"></span><br><span class="line">name_list = [<span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="string">&#x27;æå››&#x27;</span>, <span class="string">&#x27;ç‹äº”&#x27;</span>]</span><br><span class="line">name_pinyin_list = get_pinyin_list(name_list)</span><br><span class="line"><span class="built_in">print</span>(name_pinyin_list)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Pandasä½¿ç”¨ä¸¾ä¾‹</title>
      <link href="/2022/12/04/Python-Pandas%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/"/>
      <url>/2022/12/04/Python-Pandas%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>å½“Pythonè¦æ“ä½œExcelè¡¨æ ¼æ—¶ï¼Œç”¨Pandasåº“å°±è¶…çº§æ–¹ä¾¿äº†ã€‚</p><p>Pandasçš„ä¸»è¦æ•°æ®ç»“æ„æœ‰Seriesï¼ˆä¸€ç»´æ•°æ®ï¼‰ä¸DataFrameï¼ˆäºŒç»´æ•°æ®ï¼‰ã€‚<br>ç”¨æ¥æ“ä½œExcelè¡¨æ—¶ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯DataFrameäº†ã€‚</p><a id="more"></a><h2 id="å®‰è£…pandasåº“"><a href="#å®‰è£…pandasåº“" class="headerlink" title="å®‰è£…pandasåº“"></a>å®‰è£…pandasåº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…pandasåº“ï¼š</span></span><br><span class="line">pip install pandas</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“ç„¶ï¼Œæ“ä½œexcelçš„åº“ä¹Ÿè¦å®‰è£…ä¸€ä¸‹ï¼Œä¸€èˆ¬æ“ä½œ.xlsxæ ¼å¼çš„ï¼Œå®‰è£…openpyxlï¼š</span></span><br><span class="line">pip install openpyxl</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœï¼Œæœ€åä¿å­˜æ–‡ä»¶æ˜¯.xlsæ ¼å¼çš„ï¼Œéœ€è¦å®‰è£…xlwtï¼š</span></span><br><span class="line">pip install xlwt</span><br></pre></td></tr></table></figure><p>æœ€åä¿å­˜æˆ<code>.xls</code>æ ¼å¼çš„æ—¶å€™ï¼Œä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">As the xlwt package is no longer maintained, the xlwt engine will be removed in a fuine will be removed in a future version of pandas.</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¸œè¥¿åœ¨pandasä¸­ä¼šè¢«æ·˜æ±°ï¼Œä¸ç”¨ç®¡ï¼Œç­‰ä»¥åä¸èƒ½ç”¨äº†å†è¯´ã€‚<br>æ¯•ç«Ÿè¿˜æ˜¯æœ‰äº›ç ´ç³»ç»Ÿçš„å¯¼å…¥ï¼Œåªæ”¯æŒxlsæ ¼å¼çš„ã€‚ä¸è¿‡ï¼Œè‡ªå·±è‚¯å®šæ˜¯èƒ½ç”¨xlsxå°±ç”¨xlsxã€‚</p><h2 id="ä½¿ç”¨ä¸¾ä¾‹"><a href="#ä½¿ç”¨ä¸¾ä¾‹" class="headerlink" title="ä½¿ç”¨ä¸¾ä¾‹"></a>ä½¿ç”¨ä¸¾ä¾‹</h2><p>ä»¥ä»¥ä¸‹è¡¨æ ¼ï¼ˆdata.xlsxï¼‰ä¸¾ä¾‹ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_pandas_demo.png"                      style="zoom: 100%;"                ></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.è¯»å–æ•´ä¸ªExcelè¡¨æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_ex_01</span>(<span class="params">ex_file</span>):</span></span><br><span class="line">    df = pd.read_excel(ex_file)</span><br><span class="line">    <span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.è¯»å–æŸå¼ sheetä¸­æŸå‡ åˆ—çš„æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_ex_02</span>(<span class="params">ex_file</span>):</span></span><br><span class="line">    usecols = [<span class="string">&#x27;ä¸»é¢˜&#x27;</span>, <span class="string">&#x27;å€¼&#x27;</span>] <span class="comment"># usecols = [&#x27;ä¸»é¢˜&#x27;, &#x27;å€¼&#x27;, &#x27;æ—¶é—´&#x27;]</span></span><br><span class="line">    sheet_name = <span class="string">&#x27;Sheet1&#x27;</span> <span class="comment"># sheet_name=0 ä¹Ÿå¯</span></span><br><span class="line">    df = pd.read_excel(ex_file, sheet_name=sheet_name, usecols=usecols)</span><br><span class="line">    <span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.è¯»å–Excelæ•°æ®è½¬åˆ°List</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_ex_03</span>(<span class="params">ex_file</span>):</span></span><br><span class="line">    df = pd.read_excel(ex_file)</span><br><span class="line">    data_list = np.array(df).tolist() <span class="comment"># æ–¹æ³•ä¸€</span></span><br><span class="line">    <span class="comment"># data_list = df.values.tolist()  # æ–¹æ³•äºŒï¼šå°†DataFrameè½¬æ¢ä¸ºåˆ—è¡¨</span></span><br><span class="line">    <span class="built_in">print</span>(data_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.å†™å…¥Excel</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_ex01</span>(<span class="params">ex_file</span>):</span></span><br><span class="line">    name_list = [<span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="string">&#x27;æå››&#x27;</span>,  <span class="string">&#x27;ç‹äº”&#x27;</span>]</span><br><span class="line">    name_pinyin_list = [<span class="string">&#x27;zhangsan&#x27;</span>, <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;wangwu&#x27;</span>]</span><br><span class="line">    data_dict = &#123;<span class="string">&#x27;å§“å&#x27;</span>:name_list, <span class="string">&#x27;è´¦å·&#x27;</span>:name_pinyin_list&#125;</span><br><span class="line">    data = pd.DataFrame(data_dict)</span><br><span class="line">    data.to_excel(ex_file)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.è¿½åŠ å†™å…¥Excel</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_ex02</span>(<span class="params">ex_file, new_col, data_list</span>):</span></span><br><span class="line">    dr = pd.read_excel(ex_file)</span><br><span class="line">    col_name = dr.columns.tolist() <span class="comment"># æ‰€æœ‰åˆ—å</span></span><br><span class="line">    col_name.append(new_col) <span class="comment"># å°†æ–°å¢çš„åˆ—æ·»åŠ åˆ°æœ€å</span></span><br><span class="line">    dr.reindex(columns=col_name) <span class="comment"># å¯¹åŸè¡Œ/åˆ—ç´¢å¼•é‡æ–°æ„å»ºç´¢å¼•å€¼</span></span><br><span class="line">    dr[new_col] = data_list</span><br><span class="line">    dr.to_excel(ex_file, index=<span class="literal">False</span>) <span class="comment"># index=False è¡¨ç¤ºä¸éœ€è¦æœ€å‰é¢çš„ç´¢å¼•åˆ—</span></span><br><span class="line"></span><br><span class="line">ex_file = <span class="string">r&#x27;.\data.xlsx&#x27;</span></span><br><span class="line"><span class="comment"># è¯»å–Excel</span></span><br><span class="line">read_ex_01(ex_file)</span><br><span class="line">read_ex_02(ex_file)</span><br><span class="line">read_ex_03(ex_file)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™å…¥Excel</span></span><br><span class="line">write_to_ex01(<span class="string">r&#x27;.\ex\data1.xlsx&#x27;</span>)</span><br><span class="line">write_to_ex02(ex_file, <span class="string">&#x27;è´¦å·&#x27;</span>, [<span class="string">&#x27;zhangsan&#x27;</span>, <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;wangwu&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä½¿ç”¨Pandasçš„æ–‡ç« ï¼š</p><ul><li><a href="/2022/07/01/Python%E6%8B%86%E5%88%86Excel%E8%A1%A8/" title="Pythonæ‹†åˆ†Excelè¡¨">Pythonæ‹†åˆ†Excelè¡¨</a></li><li><a href="/2022/10/12/Python-pandas%E8%AF%BB%E5%8F%96Excel%E6%97%B6%E7%A9%BA%E5%8D%95%E5%85%83%E6%A0%BC%E8%AF%BB%E5%8F%96%E4%B8%BAnan/" title="Python pandasè¯»å–Excelæ—¶ç©ºå•å…ƒæ ¼è¯»å–ä¸ºnan">Python pandasè¯»å–Excelæ—¶ç©ºå•å…ƒæ ¼è¯»å–ä¸ºnan</a></li><li><a href="/2023/01/07/Python-pandas%E7%BB%9F%E8%AE%A1Excel%E8%A1%A8%E4%B8%AD%E4%BA%BA%E5%90%8D%E6%AC%A1%E6%95%B0/" title="Python pandasç»Ÿè®¡Excelè¡¨ä¸­äººåæ¬¡æ•°">Python pandasç»Ÿè®¡Excelè¡¨ä¸­äººåæ¬¡æ•°</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PowerShell æç¤ºå‡ºäºå…¼å®¹æ€§ç›®çš„å·²ç¦ç”¨PSReadLineé—®é¢˜</title>
      <link href="/2022/12/04/PowerShell%E6%8F%90%E7%A4%BA%E5%87%BA%E4%BA%8E%E5%85%BC%E5%AE%B9%E6%80%A7%E7%9B%AE%E7%9A%84%E5%B7%B2%E7%A6%81%E7%94%A8PSReadLine%E9%97%AE%E9%A2%98/"/>
      <url>/2022/12/04/PowerShell%E6%8F%90%E7%A4%BA%E5%87%BA%E4%BA%8E%E5%85%BC%E5%AE%B9%E6%80%A7%E7%9B%AE%E7%9A%84%E5%B7%B2%E7%A6%81%E7%94%A8PSReadLine%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>Windows10ç³»ç»Ÿï¼Œå‘ç°æ¯æ¬¡PowerShelléƒ½æœ‰æç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å°è¯•æ–°çš„è·¨å¹³å° PowerShell https://aka.ms/pscore6</span><br><span class="line"></span><br><span class="line">è­¦å‘Š: PowerShell æ£€æµ‹åˆ°ä½ å¯èƒ½æ­£åœ¨ä½¿ç”¨å±å¹•é˜…è¯»å™¨ï¼Œå¹¶ä¸”å·²å‡ºäºå…¼å®¹æ€§ç›®çš„ç¦ç”¨ PSReadLineã€‚å¦‚æœè¦é‡æ–°å¯ç”¨å®ƒï¼Œè¯·è¿è¡Œ <span class="string">&quot;Import-Module PSReadLine&quot;</span>ã€‚</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œå‘ç°è¿è¡Œ<code>Import-Module PSReadLine</code>åå¹¶æ²¡æœ‰è§£å†³ã€‚è€ŒåŠå…¬å®¤ç”µè„‘çš„win10ä¸Šå¾ˆæ­£å¸¸ï¼Œå¹¶æ²¡æœ‰å‘ç°è¿™ä¸ªé—®é¢˜ã€‚</p><p>è¯è¯´ï¼Œæ˜¯æ€ä¹ˆå‘ç°è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿå€’ä¹Ÿä¸æ˜¯ç”¨PowerShellçš„æ—¶å€™ï¼Œæ˜¯å› ä¸ºç”¨VS Codeï¼Œå‘ç°ç»ˆç«¯ç•Œé¢ä¸Šå‘½ä»¤éƒ½æ²¡æœ‰é«˜äº®äº†ï¼Œè€Œç»ˆç«¯ç”¨çš„å°±æ˜¯PowerShellï¼Œæ„Ÿè§‰å°±æ˜¯PowerShellçš„é—®é¢˜äº†ã€‚</p><a id="more"></a><p>äºæ˜¯ï¼Œç½‘ä¸ŠæŸ¥äº†å¾ˆå¤šæ–¹æ³•ï¼Œä¸‹è½½äº†æœ€æ–°ç‰ˆçš„PowerShellä¹Ÿæ²¡ç”¨ã€‚</p><p>æœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªæœ‰ç”¨çš„ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>1.åˆ›å»ºä¸€ä¸ª.ps1æ–‡ä»¶ï¼ˆåå­—éšä¾¿å–ï¼Œæ¯”å¦‚xiufu_powershell.ps1ï¼‰ï¼Œç²˜è´´ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Add-Type</span> <span class="literal">-TypeDefinition</span> <span class="string">&#x27;</span></span><br><span class="line"><span class="string">using System;</span></span><br><span class="line"><span class="string">using System.ComponentModel;</span></span><br><span class="line"><span class="string">using System.Runtime.InteropServices;</span></span><br><span class="line"><span class="string">public static class ScreenReaderFixUtil</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    public static bool IsScreenReaderActive()</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        var ptr = IntPtr.Zero;</span></span><br><span class="line"><span class="string">        try</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            ptr = Marshal.AllocHGlobal(sizeof(int));</span></span><br><span class="line"><span class="string">            int hr = Interop.SystemParametersInfo(</span></span><br><span class="line"><span class="string">                Interop.SPI_GETSCREENREADER,</span></span><br><span class="line"><span class="string">                sizeof(int),</span></span><br><span class="line"><span class="string">                ptr,</span></span><br><span class="line"><span class="string">                0);</span></span><br><span class="line"><span class="string">            if (hr == 0)</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                throw new Win32Exception(Marshal.GetLastWin32Error());</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            return Marshal.ReadInt32(ptr) != 0;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        finally</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            if (ptr != IntPtr.Zero)</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                Marshal.FreeHGlobal(ptr);</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    public static void SetScreenReaderActiveStatus(bool isActive)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        int hr = Interop.SystemParametersInfo(</span></span><br><span class="line"><span class="string">            Interop.SPI_SETSCREENREADER,</span></span><br><span class="line"><span class="string">            isActive ? 1u : 0u,</span></span><br><span class="line"><span class="string">            IntPtr.Zero,</span></span><br><span class="line"><span class="string">            Interop.SPIF_SENDCHANGE);</span></span><br><span class="line"><span class="string">        if (hr == 0)</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            throw new Win32Exception(Marshal.GetLastWin32Error());</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    private static class Interop</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        public const int SPIF_SENDCHANGE = 0x0002;</span></span><br><span class="line"><span class="string">        public const int SPI_GETSCREENREADER = 0x0046;</span></span><br><span class="line"><span class="string">        public const int SPI_SETSCREENREADER = 0x0047;</span></span><br><span class="line"><span class="string">        [DllImport(&quot;user32&quot;, SetLastError = true, CharSet = CharSet.Unicode)]</span></span><br><span class="line"><span class="string">        public static extern int SystemParametersInfo(</span></span><br><span class="line"><span class="string">            uint uiAction,</span></span><br><span class="line"><span class="string">            uint uiParam,</span></span><br><span class="line"><span class="string">            IntPtr pvParam,</span></span><br><span class="line"><span class="string">            uint fWinIni);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br><span class="line"><span class="keyword">if</span> ([<span class="type">ScreenReaderFixUtil</span>]::IsScreenReaderActive()) &#123;</span><br><span class="line">    [<span class="type">ScreenReaderFixUtil</span>]::SetScreenReaderActiveStatus(<span class="variable">$false</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.åœ¨PowerShellä¸­è¿è¡Œè¿™ä¸ªæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\xiufu_powershell.ps1</span><br></pre></td></tr></table></figure><p>ç„¶åé‡å¯PowerShellï¼Œå°±è§£å†³äº†ã€‚</p><p>å½“ç„¶ï¼ŒVS Codeçš„ç»ˆç«¯ä¸­é«˜äº®é—®é¢˜ä¹Ÿè§£å†³äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonæ›¿æ¢Wordæ–‡æ¡£ä¸­æŒ‡å®šå­—ç¬¦</title>
      <link href="/2022/12/01/Python%E6%9B%BF%E6%8D%A2Word%E6%96%87%E6%A1%A3%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6/"/>
      <url>/2022/12/01/Python%E6%9B%BF%E6%8D%A2Word%E6%96%87%E6%A1%A3%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6/</url>
      
        <content type="html"><![CDATA[<p>æ¯”å¦‚æˆ‘æœ‰ä¸€å¤§æ‰¹æ–‡æ¡£ï¼ˆå¥½å‡ åä¸ªã€ä¸Šç™¾ä¸ªï¼‰ï¼Œæ¯ä¸ªé‡Œé¢çš„ç¬¬ä¸€é¡µä¸­éƒ½æœ‰ä¸€ä¸ªâ€2021å¹´â€ï¼Œæˆ‘æƒ³æŠŠè¿™ä¸ªæ›¿æ¢æˆâ€2022å¹´â€ã€‚</p><p>åˆä¸æƒ³ä¸€ä¸ªä¸€ä¸ªæ‰“å¼€å»æ”¹ï¼Œäºæ˜¯ç”¨Pythonå†™äº†ä¸‹ï¼Œè¿™æ ·æ¯å¹´åªéœ€è¦ä»£ç è·‘ä¸€ä¸‹å°±å…¨éƒ¨æ”¹äº†~ çœŸæ˜¯æœºæ™ºã€‚</p><p>Pythonæœ‰ä¸€ä¸ªpython-docxçš„åº“ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥å¤„ç†.docxçš„Wordæ–‡æ¡£çš„ã€‚</p><a id="more"></a><h2 id="å®‰è£…python-docxåº“"><a href="#å®‰è£…python-docxåº“" class="headerlink" title="å®‰è£…python-docxåº“"></a>å®‰è£…python-docxåº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-docx</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://python-docx.readthedocs.org/en/latest/" >https://python-docx.readthedocs.org/en/latest/<i class="fas fa-external-link-alt"></i></a></p><p>å®‰è£…å®Œåï¼Œå…ˆç®€å•äº†è§£ä¸‹è¿™ä¸ªåº“è¯»å–Wordåï¼Œæœ‰å‡ ç§å¯¹è±¡ï¼š</p><ul><li>wordæ–‡ä»¶ï¼š<strong>Document</strong></li><li>æ®µè½ï¼š<strong>Paragraph</strong></li><li>æ–‡å­—å—ï¼š<strong>Run</strong>ï¼Œæ„Ÿè§‰æ–‡å­—å—æœ‰ç‚¹ç„å­¦ï¼Œä¸ä¸€å®šæ˜¯ä¸€å¥è¯ï¼Œåé¢ä¼šçœ‹ä»£ç æ¼”ç¤ºã€‚<img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_replace_word_str.png"                      style="zoom: 50%;"                ></li></ul><h2 id="æ›¿æ¢Wordä¸­çš„å­—ç¬¦"><a href="#æ›¿æ¢Wordä¸­çš„å­—ç¬¦" class="headerlink" title="æ›¿æ¢Wordä¸­çš„å­—ç¬¦"></a>æ›¿æ¢Wordä¸­çš„å­—ç¬¦</h2><p>æ¯”å¦‚æˆ‘å°±æŠŠâ€2021å¹´â€æ›¿æ¢æˆâ€2022å¹´â€ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªå­—ç¬¦æ˜¯å”¯ä¸€çš„ã€‚</p><p>å…ˆç›´æ¥æ”¾ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> docx <span class="keyword">import</span> Document</span><br><span class="line"><span class="keyword">from</span> docx.shared <span class="keyword">import</span> Pt</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_filelist</span>(<span class="params">path</span>):</span></span><br><span class="line">    file_list = []</span><br><span class="line">    <span class="keyword">for</span> home, dirs, files <span class="keyword">in</span> os.walk(path):</span><br><span class="line">        <span class="keyword">for</span> filename <span class="keyword">in</span> files:</span><br><span class="line">            <span class="keyword">if</span>(filename.startswith(<span class="string">&#x27;~$&#x27;</span>)):</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># æ–‡ä»¶ååˆ—è¡¨ï¼ŒåŒ…å«å®Œæ•´è·¯å¾„</span></span><br><span class="line">                file_list.append(os.path.join(home, filename))</span><br><span class="line">                <span class="comment"># æ–‡ä»¶ååˆ—è¡¨ï¼ŒåªåŒ…å«æ–‡ä»¶å</span></span><br><span class="line">                <span class="comment"># file_list.append(filename)</span></span><br><span class="line">    <span class="keyword">return</span> file_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›¿æ¢Wordæ–‡æ¡£ä¸­çš„æŒ‡å®šå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">replace_str_in_word</span>(<span class="params">old_str, new_str, docx_file_list</span>):</span></span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> docx_file_list:</span><br><span class="line">        doc = Document(file)</span><br><span class="line">        <span class="comment"># æ¯ä¸€æ®µå†…å®¹</span></span><br><span class="line">        <span class="keyword">for</span> p <span class="keyword">in</span> doc.paragraphs:</span><br><span class="line">            <span class="keyword">if</span> old_str <span class="keyword">in</span> p.text:</span><br><span class="line">                <span class="comment"># inline = p.runs</span></span><br><span class="line">                <span class="comment"># for i in inline:</span></span><br><span class="line">                <span class="comment">#     if old_str in i.text:</span></span><br><span class="line">                <span class="comment">#         text = i.text.replace(old_str, new_str)</span></span><br><span class="line">                <span class="comment">#         i.text = text</span></span><br><span class="line">                p.text = p.text.replace(old_str, new_str) <span class="comment"># æ›¿æ¢å­—ç¬¦</span></span><br><span class="line">                <span class="comment"># è®¾ç½®æ›¿æ¢åçš„æ®µè½çš„æ ¼å¼</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> p.runs:</span><br><span class="line">                    i.font.size = Pt(<span class="number">18</span>) <span class="comment"># å°äºŒ</span></span><br><span class="line">                    i.font.bold = <span class="literal">True</span> <span class="comment"># åŠ ç²—</span></span><br><span class="line">                    <span class="comment"># i.font.name = &#x27;Arial&#x27;</span></span><br><span class="line">                    i.font.name = <span class="string">u&#x27;å®‹ä½“&#x27;</span></span><br><span class="line"></span><br><span class="line">        doc.save(file)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-----------------å¼€å§‹-----------------&#x27;</span>)</span><br><span class="line"><span class="comment"># wordæ–‡ä»¶ä½ç½®</span></span><br><span class="line">path = <span class="string">r&#x27;F:\abc&#x27;</span></span><br><span class="line"></span><br><span class="line">file_list = get_filelist(path) <span class="comment"># æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(file_list))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›¿æ¢Wordæ–‡æ¡£ä¸­çš„æŒ‡å®šå­—ç¬¦ä¸²ï¼ŒæŠŠ2021æ›¿æ¢æˆ2022</span></span><br><span class="line">replace_str_in_word(<span class="string">&#x27;2021&#x27;</span>, <span class="string">&#x27;2022&#x27;</span>, file_list)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-----------------å®Œæˆï¼-----------------&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³è§£é‡Š"><a href="#ç›¸å…³è§£é‡Š" class="headerlink" title="ç›¸å…³è§£é‡Š"></a>ç›¸å…³è§£é‡Š</h2><h3 id="1-replace-str-in-wordæ–¹æ³•"><a href="#1-replace-str-in-wordæ–¹æ³•" class="headerlink" title="1.replace_str_in_wordæ–¹æ³•"></a>1.replace_str_in_wordæ–¹æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">doc = Document(file)</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> doc.paragraphs: <span class="comment"># è¯»å–æ¯ä¸€æ®µå†…å®¹ï¼Œpæ˜¯paragraphå¯¹è±¡</span></span><br><span class="line"><span class="keyword">if</span> old_str <span class="keyword">in</span> p.text: <span class="comment"># å½“æ—§çš„å­—ç¬¦ä¸²&#x27;2021&#x27;å­˜åœ¨è¿™ä¸ªæ®µè½å†…å®¹ä¸­</span></span><br><span class="line">p.text = p.text.replace(old_str, new_str) <span class="comment"># æŠŠè¿™ä¸€æ®µçš„å†…å®¹è®¾ç½®æˆæ›¿æ¢åçš„å­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1).å…³äºæˆ‘æ³¨é‡Šçš„è¿™ä¸€æ®µæ˜¯ä»€ä¹ˆæƒ…å†µ</span></span><br><span class="line"><span class="comment"># ä¸‹é¢è¿™ä¸€æ®µæ˜¯æŒ‰å—æ¥æŸ¥è¯¢çš„ï¼Œä½†æ˜¯ä¸»è¦åˆ†å—æ„Ÿè§‰å¾ˆç„å­¦ï¼Œæ¯”å¦‚æˆ‘çš„&#x27;2021&#x27;å°±æ‹†æˆäº†&#x27;20&#x27;ã€&#x27;2&#x27;ã€&#x27;1&#x27;è¿™æ ·3ä¸ªrunï¼ˆæ–‡å­—å—ï¼‰ã€‚</span></span><br><span class="line"><span class="comment"># æ‰€ä»¥ï¼Œå¦‚æœèƒ½ç”¨æ–‡å­—å—ç›´æ¥æ›¿æ¢çš„è¯ä¹Ÿå¯ä»¥è¿™æ ·å­åšçš„ã€‚</span></span><br><span class="line"><span class="comment"># inline = p.runs</span></span><br><span class="line"><span class="comment"># for i in inline:</span></span><br><span class="line"><span class="comment">#     if old_str in i.text:</span></span><br><span class="line"><span class="comment">#         text = i.text.replace(old_str, new_str)</span></span><br><span class="line"><span class="comment">#         i.text = text</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2).å…³äºè®¾ç½®æ›¿æ¢åçš„æ®µè½çš„æ ¼å¼çš„ä»£ç ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥è®¾ç½®æ®µè½çš„æ ¼å¼ï¼Œè€Œè¦ç”¨ä¸€ä¸ªå¾ªç¯æ¥è®¾ç½®è¿™ä¸ªå­—ä½“æ ¼å¼</span></span><br><span class="line"><span class="comment"># å½“ç„¶æ˜¯å› ä¸ºæˆ‘æ²¡æ‰¾åˆ°ç›´æ¥è®¾ç½®æ®µè½æ ¼å¼çš„æ–¹æ³•ï¼Œfontè¿™ä¸ªå±æ€§å°±æ˜¯runï¼ˆæ–‡å­—å—ï¼‰çš„ï¼Œæ®µè½å¯¹è±¡æ²¡æœ‰çš„ã€‚</span></span><br></pre></td></tr></table></figure><p>æƒ³æ¸…æ¥šçœ‹åˆ°æ¯ä¸€æ®µï¼Œæ¯ä¸ªrunçš„å†…å®¹ï¼Œå»ºè®®ç”¨debugæ¨¡å¼è·‘ä¸€ä¸‹å°±èƒ½çœ‹æ¸…æ¥šäº†ã€‚</p><h3 id="2-å­—å·å’Œç£…å€¼å¯¹åº”å…³ç³»"><a href="#2-å­—å·å’Œç£…å€¼å¯¹åº”å…³ç³»" class="headerlink" title="2.å­—å·å’Œç£…å€¼å¯¹åº”å…³ç³»"></a>2.å­—å·å’Œç£…å€¼å¯¹åº”å…³ç³»</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    å­—å·å’Œç£…å€¼å¯¹åº”å…³ç³»: </span></span><br><span class="line"><span class="string">    åˆå·: 42ç£…</span></span><br><span class="line"><span class="string">    å°åˆ: 36ç£…</span></span><br><span class="line"><span class="string">    ä¸€å·: 26ç£…</span></span><br><span class="line"><span class="string">    å°ä¸€: 24ç£…</span></span><br><span class="line"><span class="string">    äºŒå·: 22ç£…</span></span><br><span class="line"><span class="string">    å°äºŒ: 18ç£…</span></span><br><span class="line"><span class="string">    ä¸‰å·: 16ç£…</span></span><br><span class="line"><span class="string">    å°ä¸‰: 15ç£…</span></span><br><span class="line"><span class="string">    å››å·: 14ç£…</span></span><br><span class="line"><span class="string">    å°å››: 12ç£…</span></span><br><span class="line"><span class="string">    äº”å·: 10.5ç£…</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="3-å¦‚æœæ˜¯-docæ ¼å¼æ€ä¹ˆåŠ"><a href="#3-å¦‚æœæ˜¯-docæ ¼å¼æ€ä¹ˆåŠ" class="headerlink" title="3.å¦‚æœæ˜¯.docæ ¼å¼æ€ä¹ˆåŠ"></a>3.å¦‚æœæ˜¯.docæ ¼å¼æ€ä¹ˆåŠ</h3><p>å¦‚æœæ˜¯.docæ ¼å¼çš„æ–‡æ¡£ï¼Œè€Œä¸æ˜¯.docxæ ¼å¼çš„æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>å½“ç„¶æ˜¯å…ˆå…¨éƒ¨è½¬æ¢æˆ.docxæ ¼å¼å•¦ï¼Œè·å–åˆ°æ–‡ä»¶åˆ—è¡¨åï¼Œå¾ªç¯è½¬æ¢ä¸€ä¸‹å°±è¡Œã€‚</p><p>ç”¨ä¸€ä¸ªpywin32çš„åº“å°±å¯ä»¥å•¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pip install pywin32</span></span><br><span class="line"><span class="keyword">from</span> win32com <span class="keyword">import</span> client</span><br><span class="line"></span><br><span class="line"><span class="comment"># .doc æ ¼å¼è½¬æ¢æˆ .docx</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">doc2docx</span>(<span class="params">doc_file</span>):</span></span><br><span class="line">    word = client.Dispatch(<span class="string">&quot;Word.Application&quot;</span>)</span><br><span class="line">    doc = word.Documents.Open(doc_file)</span><br><span class="line">    doc.SaveAs(<span class="string">&quot;&#123;&#125;x&quot;</span>.<span class="built_in">format</span>(doc_file), <span class="number">12</span>)</span><br><span class="line">    doc.Close()</span><br><span class="line">    word.Quit()</span><br><span class="line">    <span class="keyword">return</span> doc_file+<span class="string">&#x27;x&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="4-æ‰¹é‡æ›¿æ¢wordæ–‡ä»¶åä¸­æŒ‡å®šå­—ç¬¦"><a href="#4-æ‰¹é‡æ›¿æ¢wordæ–‡ä»¶åä¸­æŒ‡å®šå­—ç¬¦" class="headerlink" title="4.æ‰¹é‡æ›¿æ¢wordæ–‡ä»¶åä¸­æŒ‡å®šå­—ç¬¦"></a>4.æ‰¹é‡æ›¿æ¢wordæ–‡ä»¶åä¸­æŒ‡å®šå­—ç¬¦</h3><p>å¦‚æœæ–‡ä»¶åä¸­ï¼Œä¹Ÿæƒ³æŠŠâ€2021å¹´â€æ›¿æ¢æˆâ€2022å¹´â€å‘¢ï¼Ÿ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å‘½åæ–‡ä»¶ï¼Œä¿®æ”¹æ–‡ä»¶åä¸­çš„å¹´ä»½</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rename_year</span>(<span class="params">year, file_list</span>):</span></span><br><span class="line">    docx_file_list = []</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> file_list:</span><br><span class="line">        <span class="comment"># file: .doc</span></span><br><span class="line">        (file_path, file_name) = os.path.split(file)</span><br><span class="line">        <span class="comment"># file_path = F:\abc</span></span><br><span class="line">        <span class="comment"># file_name: 2021å¹´åº¦******.docx</span></span><br><span class="line">        <span class="comment"># print(file_name)</span></span><br><span class="line">        new_file_name = year + file_name[<span class="number">4</span>:]</span><br><span class="line">        new_file = os.path.join(file_path, new_file_name)</span><br><span class="line">        <span class="comment"># print(new_file) # F:\abc\2022å¹´åº¦******.docx</span></span><br><span class="line">        os.rename(file, new_file)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¦‚æœæœ‰.docæ ¼å¼ï¼Œé¡ºæ‰‹åœ¨è¿™é‡Œè½¬æ¢æˆ.docx</span></span><br><span class="line">        <span class="keyword">if</span>(new_file.endswith(<span class="string">&quot;.doc&quot;</span>)):</span><br><span class="line">            new_file = doc2docx(new_file) <span class="comment"># doc2docxæ–¹æ³•ä¸Šé¢æœ‰è®²</span></span><br><span class="line">        docx_file_list.append(new_file)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> docx_file_list</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-----------------å¼€å§‹-----------------&#x27;</span>)</span><br><span class="line"><span class="comment"># æ–‡ä»¶ä½ç½®</span></span><br><span class="line">path = <span class="string">r&#x27;F:\abc&#x27;</span></span><br><span class="line">file_list = get_filelist(path) <span class="comment"># get_filelistæ–¹æ³•ä¸Šé¢ä¹Ÿæœ‰è®²</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(file_list))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘½åæ–‡ä»¶ï¼Œä¿®æ”¹æ–‡ä»¶åä¸­çš„å¹´ä»½ï¼Œè¿™é‡Œä¹Ÿæ‡’å¾—æ›¿æ¢äº†ï¼Œå°±å‰é¢4ä¸ªæ•°å­—ï¼Œåæ­£å°±ç›´æ¥æ¢ä¸Šäº†</span></span><br><span class="line">docx_file_list = rename_year(<span class="string">&#x27;2022&#x27;</span>, file_list)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-----------------å®Œæˆï¼-----------------&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonåˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶</title>
      <link href="/2022/11/29/Python%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AAts%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/"/>
      <url>/2022/11/29/Python%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AAts%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>å…¶å®ç”¨çš„è¿˜æ˜¯ffmpegï¼Œä¹‹å‰å·²ç»å†™è¿‡ç¬”è®°äº†ï¼š<a href="/2022/09/21/%E7%94%A8ffmpeg%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AAts%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/" title="ç”¨ffmpegåˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶">ç”¨ffmpegåˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶</a>ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæœ‰å¥½å¤šå¥½å¤šçš„tsæ–‡ä»¶çš„è¯ï¼Œæˆ‘åˆæ‡’å¾—æ•´ç†è¿™ä¸ªfile.txtï¼ˆåŒ…å«æ¯ä¸€ä¸ªtsæ–‡ä»¶çš„è·¯å¾„ï¼‰æ–‡ä»¶ã€‚</p><p>äºæ˜¯ï¼Œæƒ³åˆ°äº†ç”¨Pythonæ¥ç”Ÿæˆè¿™ä¸ªfile.txtæ–‡ä»¶ã€‚</p><p>è¯è¯´ï¼Œæ˜¯ä»Šå¤©ç”¨è…¾è®¯è§†é¢‘ï¼Œå‘ç°çŒ«æŠ“å‡ºæ¥æ²¡æœ‰m3u8æ–‡ä»¶çš„è·¯å¾„ï¼Œå…¨éƒ¨æ˜¯tsæ–‡ä»¶ã€‚äºæ˜¯ï¼Œå°±ç´¢æ€§å…¨éƒ¨ä¸‹è½½ä¸‹æ¥ï¼Œåˆå¹¶ä¸€ä¸‹ç®—äº†ã€‚ï¼ˆåˆ«çš„ä¸‹è½½æ–¹æ³•å¯èƒ½è¿˜æœ‰å¾ˆå¤šï¼Œè¿™ä¸ªå°±æ˜¯å¯ä»¥ç”¨æ¥åˆå¹¶å¤šä¸ªtsæ–‡ä»¶çš„ï¼‰</p><p>Pythonè¯»å–æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œéƒ½å¾ˆç®€å•çš„ã€‚</p><a id="more"></a><p>æ¯”å¦‚ç”¨Pythonå¯ä»¥ç”Ÿæˆè¿™ä¸ªfile.txtå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç„¶åä¸ç®¡æ˜¯ç”¨Pythonç›´æ¥æ‰§è¡Œä¸‹ffmpegæˆ–è€…ç”¨ffmpegç›´æ¥æ‰§è¡Œä¸€æ¡å‘½ä»¤å°±è¡Œäº†ã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_merge_ts_files.png"                      style="zoom: 50%;"                ><h3 id="1-Pythonè·å–æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰tsæ–‡ä»¶çš„è·¯å¾„åˆ—è¡¨"><a href="#1-Pythonè·å–æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰tsæ–‡ä»¶çš„è·¯å¾„åˆ—è¡¨" class="headerlink" title="1.Pythonè·å–æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰tsæ–‡ä»¶çš„è·¯å¾„åˆ—è¡¨"></a>1.Pythonè·å–æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰tsæ–‡ä»¶çš„è·¯å¾„åˆ—è¡¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">file_dir=<span class="string">r&#x27;F:\3&#x27;</span></span><br><span class="line">ts_files_dir = file_dir + <span class="string">&#x27;\\&#x27;</span> + <span class="string">&#x27;*.*&#x27;</span></span><br><span class="line">ts_file_path_list = glob.glob(ts_files_dir)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(ts_file_path_list), ts_file_path_list)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°±æœ‰äº†ä¸€ä¸ªé—®é¢˜ï¼Œä½ ä¼šå‘ç°ï¼Œts_file_path_listè¿™ä¸ªåˆ—è¡¨ä¸­è¿™äº›æ–‡ä»¶åæƒ³è¦çš„é¡ºåºå¹¶ä¸æ˜¯ä½ æƒ³è¦çš„é¡ºåºï¼Œå›å¤´æŒ‰ç…§è¿™ä¸ªé¡ºåºæ‹¼æ¥å‡ºæ¥çš„è§†é¢‘å°±ä¼šæœ‰é—®é¢˜äº†ã€‚</p><p>ç›´æ¥ç”¨åˆ—è¡¨çš„sort()æ–¹æ³•æ’åºå°±æ˜¯é»˜è®¤çš„æ’åºæ–¹æ³•ï¼Œä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œè¦ç”¨è¿™ç¯‡ç¬”è®°ä¸­çš„æ–¹æ³•ï¼Œç»™å¸¦æ•°å­—çš„å­—ç¬¦ä¸²è¿›è¡Œä¸€ä¸ªæ’åºå…ˆï¼š<a href="/2022/11/29/Python-%E5%B8%A6%E6%95%B0%E5%AD%97%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F/" title="Python å¸¦æ•°å­—çš„å­—ç¬¦ä¸²æ’åº">Python å¸¦æ•°å­—çš„å­—ç¬¦ä¸²æ’åº</a></p><p><strong>ä¿®æ”¹åçš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"><span class="comment"># &#x27;F:\3\00_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1.ts&#x27;</span></span><br><span class="line"><span class="comment"># å› ä¸ºæ˜¯ç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥tsæ–‡ä»¶å‰é¢çš„å­—ç¬¦ä¸²æ˜¯å›ºå®šçš„é•¿åº¦ï¼Œå»ºè®®æ”¾ä¸ªç®€å•çš„ä½ç½®ï¼Œæˆ‘è¿™ä»ç¬¬5ä¸ªåæ ‡å¼€å§‹çš„</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">customeSort</span>(<span class="params">arr</span>):</span></span><br><span class="line">    <span class="comment"># æŸ¥çœ‹ç¬¬ä¸€ä¸ª&#x27;_&#x27;çš„ä½ç½®</span></span><br><span class="line">    i = arr.index(<span class="string">&#x27;_&#x27;</span>) <span class="comment"># 5</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(arr[<span class="number">5</span>:i]), arr[i:]</span><br><span class="line"></span><br><span class="line">file_dir=<span class="string">r&#x27;F:\3&#x27;</span></span><br><span class="line">ts_files_dir = file_dir + <span class="string">&#x27;\\&#x27;</span> + <span class="string">&#x27;*.*&#x27;</span></span><br><span class="line">ts_file_path_list = glob.glob(ts_files_dir)</span><br><span class="line">ts_file_path_list.sort(key=customeSort)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(ts_file_path_list), ts_file_path_list)</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ’åºå‡ºæ¥å°±æ²¡å•¥é—®é¢˜äº†ã€‚</p><h3 id="2-å†™å…¥file-txtæ–‡ä»¶"><a href="#2-å†™å…¥file-txtæ–‡ä»¶" class="headerlink" title="2.å†™å…¥file.txtæ–‡ä»¶"></a>2.å†™å…¥file.txtæ–‡ä»¶</h3><p>æœ‰äº†ts_file_path_liståï¼ŒæŒ‰ç…§ffmpegåˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶çš„file.txtæ–‡ä»¶æ ·å¼ï¼Œç›´æ¥å†™å…¥å°±è¡Œäº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># æŠŠtsæ–‡ä»¶è·¯å¾„å†™å…¥file.txt</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_file_path_to_txt</span>(<span class="params">file_name, ts_file_path_list</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> ts_path <span class="keyword">in</span> ts_file_path_list:</span><br><span class="line">            f.write(<span class="string">&#x27;file &#x27;</span> + <span class="string">&quot;&#x27;&quot;</span> + ts_path + <span class="string">&quot;&#x27;&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"></span><br><span class="line">ts_file_path_list = [] <span class="comment"># è¿™é‡Œå…ˆè¡¨ç¤ºä¸€ä¸‹</span></span><br><span class="line">file_dir=<span class="string">r&#x27;F:\3&#x27;</span></span><br><span class="line">txt_file = file_dir + <span class="string">&#x27;\\&#x27;</span> + <span class="string">&#x27;file.txt&#x27;</span></span><br><span class="line"><span class="comment"># å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ é™¤</span></span><br><span class="line"><span class="keyword">if</span>(os.path.exists(txt_file)):</span><br><span class="line">    os.remove(txt_file)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠtsæ–‡ä»¶è·¯å¾„å†™å…¥file.txt</span></span><br><span class="line">write_file_path_to_txt(txt_file, ts_file_path_list)</span><br></pre></td></tr></table></figure><h3 id="3-Pythonä¸­æ‰§è¡Œffmpegå‘½ä»¤"><a href="#3-Pythonä¸­æ‰§è¡Œffmpegå‘½ä»¤" class="headerlink" title="3.Pythonä¸­æ‰§è¡Œffmpegå‘½ä»¤"></a>3.Pythonä¸­æ‰§è¡Œffmpegå‘½ä»¤</h3><p>ç”¨<code>os.system(dos_command)</code>å°±å¯ä»¥æ‰§è¡Œå‘½ä»¤äº†ã€‚<br>ä»¥ä¸‹ä»£ç å°±åœ¨â€™F:\3â€™è¿™ä¸ªtsæ–‡ä»¶ç›®å½•ä¸­ç”Ÿæˆäº†åˆå¹¶å¥½çš„è§†é¢‘ï¼ša.mp4</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">file_dir=<span class="string">r&#x27;F:\3&#x27;</span></span><br><span class="line">mp4_fie_name=<span class="string">&#x27;a.mp4&#x27;</span></span><br><span class="line">mp4_fie = file_dir + <span class="string">&#x27;\\&#x27;</span> + mp4_fie_name</span><br><span class="line"><span class="comment"># ç”¨ffmpegåˆå¹¶å…¨éƒ¨tsæ–‡ä»¶ä¸ºmp4æ–‡ä»¶ï¼Œå½“ç„¶è¿™ä¸ªffmpegè‚¯å®šæ˜¯æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡äº†çš„</span></span><br><span class="line"><span class="comment"># åŸå‘½ä»¤ï¼šffmpeg.exe -f concat -safe 0 -i file.txt -c copy output.mp4</span></span><br><span class="line">dos_command = <span class="string">&#x27;ffmpeg.exe -f concat -safe 0 -i &#x27;</span> + txt_file + <span class="string">&#x27; -c copy &#x27;</span> + mp4_fie</span><br><span class="line"><span class="built_in">print</span>(dos_command)</span><br><span class="line">os.system(dos_command)</span><br></pre></td></tr></table></figure><h3 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os, glob</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠtsæ–‡ä»¶è·¯å¾„å†™å…¥file.txt</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_file_path_to_txt</span>(<span class="params">file_name, ts_file_path_list</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> ts_path <span class="keyword">in</span> ts_file_path_list:</span><br><span class="line">            f.write(<span class="string">&#x27;file &#x27;</span> + <span class="string">&quot;&#x27;&quot;</span> + ts_path + <span class="string">&quot;&#x27;&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x27;F:\3\00_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1.ts&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">customeSort</span>(<span class="params">arr</span>):</span></span><br><span class="line">    <span class="comment"># æŸ¥çœ‹ç¬¬ä¸€ä¸ª&#x27;_&#x27;çš„ä½ç½®</span></span><br><span class="line">    i = arr.index(<span class="string">&#x27;_&#x27;</span>) <span class="comment"># 5</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(arr[<span class="number">5</span>:i]), arr[i:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨ffmpegåˆå¹¶å…¨éƒ¨tsæ–‡ä»¶ä¸ºmp4æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">file_dir, mp4_fie_name</span>):</span></span><br><span class="line">    txt_file = file_dir + <span class="string">&#x27;\\&#x27;</span> + <span class="string">&#x27;file.txt&#x27;</span></span><br><span class="line">    <span class="comment"># å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ é™¤</span></span><br><span class="line">    <span class="keyword">if</span>(os.path.exists(txt_file)):</span><br><span class="line">        os.remove(txt_file)</span><br><span class="line">    mp4_fie = file_dir + <span class="string">&#x27;\\&#x27;</span> + mp4_fie_name</span><br><span class="line">    </span><br><span class="line">    ts_files_dir = file_dir + <span class="string">&#x27;\\&#x27;</span> + <span class="string">&#x27;*.*&#x27;</span></span><br><span class="line">    ts_file_path_list = glob.glob(ts_files_dir)</span><br><span class="line">    ts_file_path_list.sort(key=customeSort)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">len</span>(ts_file_path_list), ts_file_path_list)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŠŠtsæ–‡ä»¶è·¯å¾„å†™å…¥file.txt</span></span><br><span class="line">    write_file_path_to_txt(txt_file, ts_file_path_list)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”¨ffmpegåˆå¹¶å…¨éƒ¨tsæ–‡ä»¶ä¸ºmp4æ–‡ä»¶</span></span><br><span class="line">    <span class="comment"># åŸå‘½ä»¤ï¼šffmpeg.exe -f concat -safe 0 -i file.txt -c copy output.mp4</span></span><br><span class="line">    dos_command = <span class="string">&#x27;ffmpeg.exe -f concat -safe 0 -i &#x27;</span> + txt_file + <span class="string">&#x27; -c copy &#x27;</span> + mp4_fie</span><br><span class="line">    <span class="built_in">print</span>(dos_command)</span><br><span class="line">    os.system(dos_command)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-------------fine!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">main(file_dir=<span class="string">r&#x27;F:\3&#x27;</span>, mp4_fie_name=<span class="string">&#x27;a.mp4&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> ffmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python å¸¦æ•°å­—çš„å­—ç¬¦ä¸²æ’åº</title>
      <link href="/2022/11/29/Python-%E5%B8%A6%E6%95%B0%E5%AD%97%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F/"/>
      <url>/2022/11/29/Python-%E5%B8%A6%E6%95%B0%E5%AD%97%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<p>å½“å­—ç¬¦ä¸²ä¸­æœ‰æ•°å­—çš„æ—¶å€™ï¼Œæƒ³ç»™å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œä¸ç®¡ç”¨åˆ—è¡¨çš„sort()æ–¹æ³•ï¼Œè¿˜æ˜¯sorted()æ–¹æ³•ï¼Œéƒ½ä¸€æƒ³ï¼Œå¾—åˆ°çš„ç»“æœä¼šå‘ç°éƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;01&#x27;</span>, <span class="string">&#x27;11&#x27;</span>, <span class="string">&#x27;10&#x27;</span>, <span class="string">&#x27;21&#x27;</span>, <span class="string">&#x27;02&#x27;</span>]</span><br><span class="line">list2 = [<span class="string">&#x27;å­¦ç”Ÿ2&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ1&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ10&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ4&#x27;</span>]</span><br><span class="line"></span><br><span class="line">list1.sort()</span><br><span class="line"><span class="built_in">print</span>(list1) <span class="comment"># [&#x27;01&#x27;, &#x27;02&#x27;, &#x27;10&#x27;, &#x27;11&#x27;, &#x27;21&#x27;]</span></span><br><span class="line">list2.sort()</span><br><span class="line"><span class="built_in">print</span>(list2) <span class="comment"># [&#x27;å­¦ç”Ÿ1&#x27;, &#x27;å­¦ç”Ÿ10&#x27;, &#x27;å­¦ç”Ÿ2&#x27;, &#x27;å­¦ç”Ÿ4&#x27;]</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>å½“ç»™è¿™æ ·çš„åˆ—è¡¨ä¸­çš„å­—ç¬¦ä¸²ç›´æ¥æ’åºçš„æ—¶å€™ï¼Œçœ‹printæ‰“å°å‡ºæ¥çš„ç»“æœï¼Œåªæœ‰çº¯æ•°å­—çš„å­—ç¬¦ä¸²åˆ—è¡¨list1æ˜¯æ­£ç¡®çš„ï¼Œlist2å’Œlist3æ’å®Œåéƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p><p>æ¯”å¦‚list2çš„æ’åºï¼Œæ’åºå‰æ˜¯ï¼š<br><code>list2 = [&#39;å­¦ç”Ÿ2&#39;, &#39;å­¦ç”Ÿ1&#39;, &#39;å­¦ç”Ÿ10&#39;, &#39;å­¦ç”Ÿ4&#39;]</code><br>æ’åºå®Œåæ˜¯ï¼š<br><code>list2 = [&#39;å­¦ç”Ÿ1&#39;, &#39;å­¦ç”Ÿ10&#39;, &#39;å­¦ç”Ÿ2&#39;, &#39;å­¦ç”Ÿ4&#39;]</code></p><p>è¿™é‡Œå°±éœ€è¦ç”¨åˆ°sort()æ–¹æ³•ä¸­çš„keyå‚æ•°äº†ã€‚</p><h3 id="List-sort-æ–¹æ³•"><a href="#List-sort-æ–¹æ³•" class="headerlink" title="List sort()æ–¹æ³•"></a>List sort()æ–¹æ³•</h3><p><strong>åŠŸèƒ½ï¼š</strong>ç”¨äºå¯¹åŸåˆ—è¡¨è¿›è¡Œæ’åºï¼Œå¦‚æœæŒ‡å®šå‚æ•°ï¼Œåˆ™ä½¿ç”¨æ¯”è¾ƒå‡½æ•°æŒ‡å®šçš„æ¯”è¾ƒå‡½æ•°ã€‚<br><strong>è¯­æ³•ï¼š</strong>list.sort(cmp=None, key=None, reverse=False)</p><blockquote><p>cmpï¼šå¯é€‰å‚æ•°, å¦‚æœæŒ‡å®šäº†è¯¥å‚æ•°ä¼šä½¿ç”¨è¯¥å‚æ•°çš„æ–¹æ³•è¿›è¡Œæ’åºã€‚<br>keyï¼šä¸»è¦æ˜¯ç”¨æ¥è¿›è¡Œæ¯”è¾ƒçš„å…ƒç´ ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…·ä½“çš„å‡½æ•°çš„å‚æ•°å°±æ˜¯å–è‡ªäºå¯è¿­ä»£å¯¹è±¡ä¸­ï¼ŒæŒ‡å®šå¯è¿­ä»£å¯¹è±¡ä¸­çš„ä¸€ä¸ªå…ƒç´ æ¥è¿›è¡Œæ’åºã€‚<br>reverseï¼šæ’åºè§„åˆ™ï¼Œreverse=True é™åºï¼Œ reverse=False å‡åºï¼ˆé»˜è®¤ï¼‰ã€‚</p></blockquote><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><h4 id="1-ä½¿ç”¨åŒ¿åå‡½æ•°"><a href="#1-ä½¿ç”¨åŒ¿åå‡½æ•°" class="headerlink" title="1.ä½¿ç”¨åŒ¿åå‡½æ•°"></a>1.ä½¿ç”¨åŒ¿åå‡½æ•°</h4><p>ä»£ç å¦‚ä¸‹ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list2 = [<span class="string">&#x27;å­¦ç”Ÿ2&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ1&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ10&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ4&#x27;</span>]</span><br><span class="line"></span><br><span class="line">list2.sort(key=<span class="keyword">lambda</span> customeSort: (customeSort[:<span class="number">2</span>], <span class="built_in">int</span>(customeSort[<span class="number">2</span>:])))</span><br><span class="line"><span class="built_in">print</span>(list2) <span class="comment"># [&#x27;å­¦ç”Ÿ1&#x27;, &#x27;å­¦ç”Ÿ2&#x27;, &#x27;å­¦ç”Ÿ4&#x27;, &#x27;å­¦ç”Ÿ10&#x27;]</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨åŒ¿åå‡½æ•°ï¼ŒcustomeSortæŒ‡åˆ—è¡¨çš„æ•°æ®ã€‚<br>å¦‚æœä¸å¥½ç†è§£ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚</p><h4 id="2-æ›´æ¸…æ™°çš„å†™æ³•"><a href="#2-æ›´æ¸…æ™°çš„å†™æ³•" class="headerlink" title="2.æ›´æ¸…æ™°çš„å†™æ³•"></a>2.æ›´æ¸…æ™°çš„å†™æ³•</h4><p>ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥debugçœ‹ä¸€ä¸‹ï¼Œæ¯ä¸€æ­¥åšäº†ä»€ä¹ˆã€‚ç»“æœæ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">customeSort</span>(<span class="params">arr</span>):</span></span><br><span class="line">    <span class="keyword">return</span> arr[:<span class="number">2</span>], <span class="built_in">int</span>(arr[<span class="number">2</span>:])</span><br><span class="line"></span><br><span class="line">list2 = [<span class="string">&#x27;å­¦ç”Ÿ2&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ1&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ10&#x27;</span>, <span class="string">&#x27;å­¦ç”Ÿ4&#x27;</span>]</span><br><span class="line"></span><br><span class="line">list2.sort(key=customeSort)</span><br><span class="line"><span class="built_in">print</span>(list2) <span class="comment"># [&#x27;å­¦ç”Ÿ1&#x27;, &#x27;å­¦ç”Ÿ2&#x27;, &#x27;å­¦ç”Ÿ4&#x27;, &#x27;å­¦ç”Ÿ10&#x27;]</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ•°å­—çš„èµ·å§‹åæ ‡ä½ç½®éƒ½æ˜¯2ï¼Œå¦‚æœä¸æ˜¯ç¡®å®šçš„å°±å†™èµ·æ¥æ›´å¤æ‚ä¸€ç‚¹äº†ã€‚ä½†å†™å‡ºæ¥ä¸€ä¸ªå‡½æ•°ï¼Œå°±çœ‹èµ·æ¥æ¸…æ™°ä¸€ç‚¹äº†ã€‚</p><p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼ˆæ˜æ˜¾ï¼Œæˆ‘æ˜¯æƒ³æŒ‰ç¬¬ä¸€ä¸ª<code>_</code>å‰é¢çš„æ•°å­—æ’åºä¸€ä¸‹ï¼Œé»˜è®¤çš„æ’åºå‡ºæ¥æ˜¯ä¸å¯¹çš„ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">customeSort</span>(<span class="params">arr</span>):</span></span><br><span class="line">    <span class="comment"># æŸ¥çœ‹ç¬¬ä¸€ä¸ª&#x27;_&#x27;çš„ä½ç½®</span></span><br><span class="line">    i = arr.index(<span class="string">&#x27;_&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(arr[:i]), arr[i:]</span><br><span class="line"></span><br><span class="line">list3 = [<span class="string">&#x27;00_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;011_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;010_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;03_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1&#x27;</span>]</span><br><span class="line"></span><br><span class="line">list3.sort(key=customeSort)</span><br><span class="line"><span class="built_in">print</span>(list3)</span><br><span class="line"><span class="comment"># list3æ’åºåç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"># [&#x27;00_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;03_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;010_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;011_gzc_1000035_0bc3riaguaaacmaebliogjqjlcwdnkfaa2sa.f304110.1&#x27;]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Joplinä½¿ç”¨ç¾¤æ™–NASä½œåŒæ­¥å­˜å‚¨</title>
      <link href="/2022/11/24/Joplin%E4%BD%BF%E7%94%A8%E7%BE%A4%E6%99%96NAS%E4%BD%9C%E5%90%8C%E6%AD%A5%E5%AD%98%E5%82%A8/"/>
      <url>/2022/11/24/Joplin%E4%BD%BF%E7%94%A8%E7%BE%A4%E6%99%96NAS%E4%BD%9C%E5%90%8C%E6%AD%A5%E5%AD%98%E5%82%A8/</url>
      
        <content type="html"><![CDATA[<p>ç”¨äº†å¤šå¹´å°è±¡ç¬”è®°åï¼Œå·²ç»é€æ¸æ”¾å¼ƒäº†ï¼Œè¿‘nä¸ªæœˆ/ä¸€å¹´æ¥ä¹Ÿå°±è¿˜å¶å°”ç”¨ç”¨å‰ªè—ï¼Œåšä¸ªå¤‡ä»½å•¥çš„ã€‚è¶Šæ¥è¶Šè‡ƒè‚¿çš„è½¯ä»¶ï¼Œè¿˜ä¼šå¡æ­»ï¼Œå¯æ€•ï¼Œé¢‘ç‡è¿˜æŒºé«˜ï¼Œå¯èƒ½ä¸€å¤©å°±ä¸€æ¬¡ã€‚è¿˜æœ‰å¥½å‡ å¹´çš„ä¼šå‘˜ï¼Œä½†ä¸å‡ä¸“ä¸šç‰ˆã€è¿ä»£ç å—ä¹Ÿç”¨ä¸äº† ï¼Œç®€ç›´äº†~</p><p>ä¹‹å‰ä¹°äº†ç¾¤æ™–NASï¼Œå°±äº‘åŒæ­¥ç”¨ç”¨ç¾¤æ™–é‚£ä¸‘ä¸‘çš„Note Stationåšåšå¤‡ä»½ï¼Œè™½ç„¶ä¸‘ï¼ŒåŠŸèƒ½å¾ˆç®€æ´ï¼Œåˆ°ä¹Ÿä¸å¡ï¼Œæ‰‹æœºappä¹Ÿå¯ä»¥ç”¨ã€‚ä¸»è¦è¿˜æ˜¯ç”¨Typoraè¿™ä¸ªæœ¬åœ°ç¬”è®°è½¯ä»¶äº†ï¼ŒåŸæ¥åŸºæœ¬ä¸Šç¬”è®°ä¹Ÿæ˜¯ç”¨Markdownè¯­è¨€å†™çš„ï¼Œç”¨çš„Hexoçš„åšå®¢ï¼Œå¸¦æœç´¢åŠŸèƒ½ï¼Œç›¸å½“äºå¾ˆå¤šç¬”è®°éƒ½ç›´æ¥åœ¨åšå®¢ä¸Šæœç´¢äº†ã€‚</p><p>ç„¶åæœ‰å°ä¼™ä¼´æ‰¾åˆ°äº†è¿™æ¬¾å¼€æºçš„å…è´¹ç¬”è®°â€”â€”Joplinï¼Œæ”¯æŒå¤šå¹³å°ï¼ŒWindows/Linux/MacOSï¼ŒIOS/Androidéƒ½æ”¯æŒï¼Œé‚£å°±æ–¹ä¾¿äº†ã€‚</p><p>ç„¶å<strong>äº‘ç«¯åŒæ­¥</strong>æ”¯æŒå¾ˆå¤šç§æ–¹å¼ï¼Œè¿™ä¸ªçœŸæ˜¯å¤ªæ£’äº†ï¼<br>æ¯”å¦‚æ”¯æŒDropboxã€OneDriveï¼Œä¸è¿‡è€ƒè™‘åˆ°è¿™ä¸ªçš„ç©ºé—´ä¹Ÿä¸å¤§ï¼ŒæœåŠ¡å™¨è®¿é—®ä¹Ÿä¸ç¨³å®šï¼Œå°±ä¸ç”¨äº†ï¼›<br>æ¯”å¦‚æ”¯æŒè‡ªå»ºJoplin Serverï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šè‡ªå·±å»ºï¼Œä¹Ÿå¯ä»¥ç”¨è…¾è®¯äº‘çš„å¯¹è±¡å­˜å‚¨ï¼›<br>è¿˜æœ‰å®˜æ–¹æ”¶è´¹ç‰ˆçš„Joplin Cloudï¼›<br>è¿˜æœ‰å°±æ˜¯WebDAVï¼Œç¾¤æ™–NASæœ‰WebDAV Serverçš„å®˜æ–¹å¥—ä»¶ï¼Œç›´æ¥å®‰è£…ã€é…ç½®ä¸‹å°±å¯ä»¥ç”¨äº†ï¼</p><a id="more"></a><h2 id="ä¸€ã€ç¾¤æ™–NASå¯ç”¨WebDAV-Serverå¥—ä»¶"><a href="#ä¸€ã€ç¾¤æ™–NASå¯ç”¨WebDAV-Serverå¥—ä»¶" class="headerlink" title="ä¸€ã€ç¾¤æ™–NASå¯ç”¨WebDAV Serverå¥—ä»¶"></a>ä¸€ã€ç¾¤æ™–NASå¯ç”¨WebDAV Serverå¥—ä»¶</h2><p>ä½¿ç”¨å±äºadministratorsç¾¤ç»„çš„å¸æˆ·ç™»å½• DSMã€‚<br>æ¯”å¦‚æˆ‘çš„DSMåœ°å€ä¸ºï¼š<a class="link"   href="http://192.168.1.151:5000/" >http://192.168.1.151:5000<i class="fas fa-external-link-alt"></i></a>  ï¼ˆé»˜è®¤5000ç«¯å£ï¼‰</p><p>1.è¿›å…¥å¥—ä»¶ä¸­å¿ƒå®‰è£…WebDAV Serverã€‚</p><p>2.å¯åŠ¨WebDAV Serverå¹¶å‹¾é€‰å¯ç”¨ HTTPå’Œå¯ç”¨ HTTPSå¤é€‰æ¡†ã€‚<br>é…ç½®ä¸€èˆ¬é»˜è®¤å°±è¡Œã€‚<br>é…ç½®ç«¯å£å·ï¼ŒHTTPç«¯å£ï¼š5005ï¼ŒHTTPSç«¯å£ï¼š5006ï¼Œä¿å­˜è®¾ç½®ã€‚</p><h2 id="äºŒã€Jopliné…ç½®WebDAVåŒæ­¥"><a href="#äºŒã€Jopliné…ç½®WebDAVåŒæ­¥" class="headerlink" title="äºŒã€Jopliné…ç½®WebDAVåŒæ­¥"></a>äºŒã€Jopliné…ç½®WebDAVåŒæ­¥</h2><p>é¦–å…ˆåœ¨homeç›®å½•ä¸‹ï¼Œå»ºä¸€ä¸ªç›®å½•ç”¨æ¥å­˜å‚¨ï¼Œæ¯”å¦‚ Joplin-noteï¼Œé‚£è·¯å¾„å³ä¸ºï¼š<code>/home/Drive/Joplin-note</code></p><p>æ‰“å¼€Joplin-&gt;ã€å·¥å…·ã€‘-&gt;ã€é€‰é¡¹ã€‘-&gt;ã€åŒæ­¥ã€‘èœå•é¡¹ã€‚</p><h3 id="ï¼ˆä¸€ï¼‰ã€å±€åŸŸç½‘å†…åŒæ­¥é…ç½®"><a href="#ï¼ˆä¸€ï¼‰ã€å±€åŸŸç½‘å†…åŒæ­¥é…ç½®" class="headerlink" title="ï¼ˆä¸€ï¼‰ã€å±€åŸŸç½‘å†…åŒæ­¥é…ç½®"></a>ï¼ˆä¸€ï¼‰ã€å±€åŸŸç½‘å†…åŒæ­¥é…ç½®</h3><h4 id="1-åŒæ­¥ç›®æ ‡ï¼šWebDAV"><a href="#1-åŒæ­¥ç›®æ ‡ï¼šWebDAV" class="headerlink" title="1.åŒæ­¥ç›®æ ‡ï¼šWebDAV"></a>1.åŒæ­¥ç›®æ ‡ï¼šWebDAV</h4><p>åŒæ­¥ç›®æ ‡å¾ˆç®€å•ï¼Œè¿™é‡Œé€‰ï¼šWebDAV</p><h4 id="2-WebDAV-URL"><a href="#2-WebDAV-URL" class="headerlink" title="2.WebDAV URL"></a>2.WebDAV URL</h4><p>è¿™é‡Œæœ€ä¸»è¦å°±æ˜¯è¿™ä¸ªURLæ€ä¹ˆå¡«å†™ã€‚</p><p>å¦‚æœä½ æŒ‰ï¼ˆå±€åŸŸç½‘ï¼‰ipæ¥å¡«å†™ï¼Œç”¨httpçš„è¯ï¼Œé‚£å°±ç”¨ä¸Šé¢é…ç½®çš„5005ç«¯å£ï¼Œä¹Ÿæ˜¯ç®€å•çš„ï¼š<br>http://[ç¾¤æ™–çš„ip]:5005/home/Drive/Joplin-note</p><p>å³ï¼š<a class="link"   href="http://192.168.1.151:5005/home/Drive/Joplin-note" >http://192.168.1.151:5005/home/Drive/Joplin-note<i class="fas fa-external-link-alt"></i></a></p><h4 id="3-WebDAVç”¨æˆ·åå’Œå¯†ç "><a href="#3-WebDAVç”¨æˆ·åå’Œå¯†ç " class="headerlink" title="3.WebDAVç”¨æˆ·åå’Œå¯†ç "></a>3.WebDAVç”¨æˆ·åå’Œå¯†ç </h4><p>WebDAVç”¨æˆ·åå¯†ç å°±æ˜¯ç¾¤æ™–NASçš„ç™»å½•çš„è´¦å·å’Œå¯†ç ã€‚</p><p>å¡«å†™å®Œåï¼Œç›´æ¥ç‚¹å‡»ã€æ£€æŸ¥åŒæ­¥é…ç½®ã€‘ï¼Œçœ‹åˆ°æç¤ºâ€œæˆåŠŸï¼åŒæ­¥é…ç½®çœ‹èµ·æ¥æ²¡é—®é¢˜ã€‚â€åŸºæœ¬ä¸Šå°±æ²¡å•¥é—®é¢˜äº†ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ä¸ªè‚¯å®šå°±åªèƒ½å±€åŸŸç½‘å†…ä½¿ç”¨äº†ï¼Œå°±å®¶é‡Œè¿äº†è¿™ä¸ªè·¯ç”±çš„ï¼Œæ˜¯å¯ä»¥è®¿é—®çš„ã€‚å¦‚æœè¦åœ¨å¤–ç½‘è®¿é—®ï¼Œè‚¯å®šå°±ä¸è¡Œäº† ã€‚</p><p>PS.ç‚¹å‡»ã€æ˜¾ç¤ºé«˜çº§é€‰é¡¹ã€‘ï¼Œæœ‰ä¸€ä¸ªã€åˆ é™¤æœ¬åœ°æ•°æ®å¹¶ä»åŒæ­¥ç›®å½•å¯¼å…¥æ•°æ®ã€‘çš„æŒ‰é’®ï¼Œå½“ç¬¬1ä¸ªå®¢æˆ·ç«¯ç™»å½•å®Œåï¼Œåé¢å†æœ‰å®¢æˆ·ç«¯ç”¨è¿™ä¸ªåŒæ­¥çš„é…ç½®ï¼Œå°±ç‚¹ä¸€ä¸‹è¿™ä¸ªåŒæ­¥ä¸€ä¸‹å°±è¡Œäº†ã€‚</p><h3 id="ï¼ˆäºŒï¼‰ã€å¤–ç½‘åŒæ­¥é…ç½®"><a href="#ï¼ˆäºŒï¼‰ã€å¤–ç½‘åŒæ­¥é…ç½®" class="headerlink" title="ï¼ˆäºŒï¼‰ã€å¤–ç½‘åŒæ­¥é…ç½®"></a>ï¼ˆäºŒï¼‰ã€å¤–ç½‘åŒæ­¥é…ç½®</h3><p><strong>æ€è·¯</strong>ï¼š<br>æ—¢ç„¶å†…ç½‘å¯ä»¥è®¿é—®äº†ï¼Œå¦‚æœåƒæˆ‘ä¸€æ ·æœ‰å…¬ç½‘ipçš„æœåŠ¡å™¨çš„è¯ï¼Œç”¨frpå†…ç½‘ç©¿é€ï¼ˆå†…ç½‘ç©¿é€ä¸é™è¿™ä¸ªå·¥å…·ï¼‰ä¸‹å°±å¯ä»¥å•¦ã€‚</p><p>æ€ä¹ˆåœ¨æœåŠ¡å™¨ä¸Šæ­å»ºfrpæœåŠ¡å™¨çœ‹è¿™ç¯‡ï¼š<a href="/2022/06/18/Docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨">Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨</a><br>æ²¡æœ‰å®‰è£…Dockerçœ‹è¿™ç¯‡ï¼š<a href="/2022/11/19/Ubuntu%E5%AE%89%E8%A3%85Docker/" title="Ubuntuå®‰è£…Docker">Ubuntuå®‰è£…Docker</a><br>ç¾¤æ™–NASä½¿ç”¨frpçœ‹è¿™ç¯‡ï¼š<a href="/2022/10/17/%E7%BE%A4%E6%99%96NAS-frp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%95%99%E7%A8%8B/" title="ç¾¤æ™–NAS frpå†…ç½‘ç©¿é€æ•™ç¨‹">ç¾¤æ™–NAS frpå†…ç½‘ç©¿é€æ•™ç¨‹</a></p><p>ä½¿ç”¨æ–¹æ³•ï¼Œå…¶å®è·Ÿæ™®é€šçš„ç”µè„‘ä¹Ÿæ²¡å•¥åŒºåˆ«ï¼Œç¾¤æ™–å¯ç”¨ä¸‹Dockerï¼Œç›´æ¥Dockerç”¨frpå°±è¡Œã€‚</p><p>æ¯”å¦‚æˆ‘æœåŠ¡å™¨ipï¼š43.142.94.65<br>åœ¨ frpc.inié…ç½®æ–‡ä»¶ä¸­ï¼ŒæŠŠæœ¬æœºï¼ˆç¾¤æ™–ï¼‰çš„ local_port = 5005 æ˜ å°„åˆ°å¯¹åº”çš„ remote_port = 18588åï¼ŒWebDAV URLå°±å˜æˆäº†ï¼š<a class="link"   href="http://43.142.94.65:18588/home/Drive/Joplin-note" >http://43.142.94.65:18588/home/Drive/Joplin-note<i class="fas fa-external-link-alt"></i></a></p><h3 id="ï¼ˆä¸‰ï¼‰ã€å¤–ç½‘HTTPSé…ç½®"><a href="#ï¼ˆä¸‰ï¼‰ã€å¤–ç½‘HTTPSé…ç½®" class="headerlink" title="ï¼ˆä¸‰ï¼‰ã€å¤–ç½‘HTTPSé…ç½®"></a>ï¼ˆä¸‰ï¼‰ã€å¤–ç½‘HTTPSé…ç½®</h3><p>å› ä¸ºæˆ‘çš„æœåŠ¡å™¨æœ¬æ¥å°±é…äº†åŸŸåçš„ã€‚æ‰€ä»¥å°±é¡ºä¾¿ç”¨httpsäº†ï¼Œæ¯•ç«ŸåŸŸåæ¯”ipå¥½è®°ã€‚å›å¤´æœåŠ¡å™¨æ¢äº†ï¼Œipè¿˜ä¼šè·Ÿç€æ¢ã€‚</p><p>ä½¿ç”¨httpsçš„è¯ï¼Œå°±ä¸èƒ½ç›´æ¥ç”¨ipäº†ï¼Œå› ä¸ºç¾¤æ™–ä¸Šæ˜¯éœ€è¦è¯ä¹¦çš„ ï¼Œéœ€è¦ ç»™åŸŸåä¸Šä¼ ä¸ªè¯ä¹¦çš„ã€‚</p><h4 id="1-ç¾¤æ™–NAS-å¯ç”¨DNSPod-DDNS"><a href="#1-ç¾¤æ™–NAS-å¯ç”¨DNSPod-DDNS" class="headerlink" title="1.ç¾¤æ™–NAS å¯ç”¨DNSPod DDNS"></a>1.ç¾¤æ™–NAS å¯ç”¨DNSPod DDNS</h4><p>æˆ‘çš„åŸŸåæ˜¯åœ¨è…¾è®¯äº‘çš„DNSPodä¸Šä¹°çš„ï¼Œç›´æ¥æœ‰å®˜ç½‘æ–‡æ¡£ï¼š<a class="link"   href="https://docs.dnspod.cn/dns/dnspod-synology-nas-ddns/" >ç¾¤æ™–ï¼ˆSynologyï¼‰ NAS å¯ç”¨ DNSPod DDNS<i class="fas fa-external-link-alt"></i></a></p><ul><li><p>1).DNSPodæ³¨å†ŒåŸŸå</p></li><li><p>2).è¿›å…¥DNSPodç®¡ç†æ§åˆ¶å°ï¼Œæ·»åŠ è§£æè®°å½•ï¼Œä¸»æœºè®°å½•ä¸º wwwï¼Œè®°å½•å€¼ä¸ºä»»æ„ IP çš„ A è®°å½•ã€‚</p></li><li><p>3).è¿›å…¥ API å¯†é’¥ é¡µé¢ï¼Œåœ¨DNSPod Tokené¡µç­¾ï¼Œå•å‡»ã€åˆ›å»ºå¯†é’¥ã€‘ï¼Œè¾“å…¥è‡ªå®šä¹‰çš„å¯†é’¥åç§°ã€‚IDå’ŒTokenä¿å­˜å¥½ã€‚</p></li><li><p>4).ç®¡ç†å‘˜ç™»å½•ç¾¤æ™–NASç®¡ç†ï¼Œå•å‡»ã€æ§åˆ¶é¢æ¿ã€‘&gt;ã€å¤–éƒ¨è®¿é—®ã€‘ï¼Œã€DDNSã€‘ä¸­æ–°å¢ã€‚</p><blockquote><p>æœåŠ¡ä¾›åº”å•†ï¼šDNSPod.cn<br>ä¸»æœºåç§°ï¼šæ³¨å†Œçš„åŸŸå<br>å¤–éƒ¨åœ°å€ï¼šæœåŠ¡å™¨ipï¼ˆæˆ‘çš„åŸŸåæ˜¯è§£æåˆ°è¿™å°æœåŠ¡å™¨ipçš„ï¼‰<br>ç”¨æˆ·å/ç”µå­é‚®ç®±ï¼šå¡«å†™è·å–åˆ°çš„DNSPod IDã€‚<br>å¯†ç /å¯†é’¥ï¼šå¡«å†™è·å–åˆ°çš„å¯†é’¥ã€‚</p></blockquote></li><li><p>5).å•å‡»ã€æµ‹è¯•è”æœºã€‘ï¼Œæµ‹è¯•æ˜¯å¦èƒ½æˆåŠŸè”æœºã€‚çŠ¶æ€æ æ˜¾ç¤ºä¸ºæ­£å¸¸ï¼Œå³ä»£è¡¨æˆåŠŸè”æœºã€‚</p></li></ul><h4 id="2-ç¾¤æ™–NAS-å®‰è£…å…è´¹-SSL-è¯ä¹¦"><a href="#2-ç¾¤æ™–NAS-å®‰è£…å…è´¹-SSL-è¯ä¹¦" class="headerlink" title="2.ç¾¤æ™–NAS å®‰è£…å…è´¹ SSL è¯ä¹¦"></a>2.ç¾¤æ™–NAS å®‰è£…å…è´¹ SSL è¯ä¹¦</h4><p>ä¹Ÿæœ‰å®˜ç½‘æ–‡æ¡£ï¼š<a class="link"   href="https://docs.dnspod.cn/dns/dnspod-synology-ssl/" >ç¾¤æ™–ï¼ˆSynologyï¼‰NAS å®‰è£…å…è´¹ SSL è¯ä¹¦<i class="fas fa-external-link-alt"></i></a></p><ul><li><p>1).DNSPodä¸­è¿›å…¥åŸŸåçš„ã€è®°å½•ç®¡ç†ã€‘é¡µé¢ï¼Œå…è´¹ç”³è¯·SSLè¯ä¹¦ã€‚</p></li><li><p>2).ç­‰å¾…é€šè¿‡åä¼šæœ‰é€šçŸ¥çš„ï¼Œå†ã€æŸ¥çœ‹è¯¦æƒ…ã€‘ï¼Œä¸‹è½½è¯ä¹¦åˆ°æœ¬åœ°å°±è¡Œã€‚</p></li><li><p>3).ä¸‹è½½åæ‰“å¼€Nginxæ–‡ä»¶å¤¹</p><blockquote><p>è¯ä¹¦ï¼š.crtåç¼€çš„æ–‡ä»¶<br>ç§é’¥ï¼š.keyåç¼€çš„æ–‡ä»¶</p></blockquote></li><li><p>4).ç®¡ç†å‘˜ç™»å½•ç¾¤æ™–NASç®¡ç†ï¼Œå•å‡»ã€æ§åˆ¶é¢æ¿ã€‘&gt;ã€å®‰å…¨æ€§ã€‘ï¼Œé€‰æ‹©ã€è¯ä¹¦ã€‘é¡µç­¾ï¼Œå•å‡»ã€æ–°å¢ã€‘ã€‚<br>ã€åˆ›å»ºè¯ä¹¦ã€‘-&gt;ã€æ·»åŠ æ–°è¯ä¹¦ã€‘-&gt;ã€å¯¼å…¥è¯ä¹¦ã€‘ï¼Œæè¿°è‡ªå·±å†™ï¼Œä¸Šä¼ åç¡®å®šå°±è¡Œã€‚</p></li></ul><p>ç„¶åå°±å¯ä»¥ä½¿ç”¨ https://[åŸŸå]:5001 è®¿é—®ç¾¤æ™–çš„ç®¡ç†åå°é¡µé¢äº†ã€‚å°±è¡¨ç¤ºéƒ½é…ç½®å¦¥å½“äº†ã€‚</p><h4 id="3-WebDAV-URL"><a href="#3-WebDAV-URL" class="headerlink" title="3.WebDAV URL"></a>3.WebDAV URL</h4><p>å‡è®¾æˆ‘çš„åŸŸåä¸ºï¼šabccba.comï¼ˆå½“ç„¶ï¼ŒåŸŸåå·²è§£æåˆ°æˆ‘çš„æœåŠ¡å™¨ï¼‰<br>ç„¶ååœ¨ frpc.inié…ç½®æ–‡ä»¶ä¸­ï¼ŒæŠŠæœ¬æœºï¼ˆç¾¤æ™–ï¼‰çš„ local_port = 5006 æ˜ å°„åˆ°å¯¹åº”çš„ remote_port = 18589</p><p>é‚£WebDAV URLå°±æ˜¯ï¼š<br><a class="link"   href="https://www.abccba.com:18589/home/Drive/Joplin-note" >https://www.abccba.com:18589/home/Drive/Joplin-note<i class="fas fa-external-link-alt"></i></a></p><p>PS.è¯è¯´ç¾¤æ™–é‡Œæ˜¯å¯ä»¥ç”³è¯·å…è´¹çš„ä¸€ä¸ªåŸŸåçš„ï¼Œç±»ä¼¼<code>[ç”¨æˆ·å].synology.me</code>è¿™æ ·ï¼Œå‰ææ˜¯è¦å®¶é‡Œæœ‰å…¬ç½‘ipæˆ–è€…ç”¨ipv6ï¼Œåæ­£æˆ‘å®¶é‡Œæ²¡å…¬ç½‘ipï¼Œä½†æ˜¯è‡ªå·±æœ‰åŸŸåï¼Œå°±ä¸æŠ˜è…¾äº†ï¼Œç›´æ¥ç”¨è‡ªå·±çš„åŸŸå+æœåŠ¡å™¨ipã€‚</p><p>PPS.è¯è¯´åœ¨ã€é€šç”¨é€‰é¡¹ã€‘ä¸­å¯ä»¥ä¿®æ”¹ç¬”è®°å­˜å‚¨è·¯å¾„ï¼Œå»ºè®®ä¸€å¼€å§‹å°±ä¿®æ”¹å¥½å†ä½¿ç”¨ã€‚åšå®¢å†…æœä¸€ä¸‹ï¼Œæœ‰ç¬”è®°ã€‚ï¼ˆæ¯•ç«Ÿé»˜è®¤åœ¨ç³»ç»ŸCç›˜ï¼‰<br>ç„¶åå­˜å‚¨è·¯å¾„ä¸­çœ‹åˆ°æœ‰ä¸ªdatabase.sqliteçš„æ–‡ä»¶ï¼Œå°±æ˜¯sqliteçš„æ•°æ®åº“æ–‡ä»¶å•¦ã€‚å¯ä»¥ç›´æ¥ç”¨sqliteæ•°æ®åº“çš„å¯è§†åŒ–å·¥å…·æŸ¥çœ‹æ•°æ®åº“ä¸­çš„å†…å®¹ï¼Œæœ‰ä¸ªnotesçš„è¡¨å°±ç”¨æ¥å­˜ç¬”è®°çš„ã€‚æ„Ÿè§‰å®šæ—¶å¤‡ä»½ä¸‹è¿™ä¸ªæ•°æ®åº“æ–‡ä»¶ï¼Œæ•°æ®ä¿å­˜åº”è¯¥é—®é¢˜ä¸å¤§ã€‚</p><p>æœ€åï¼Œæƒ³è¯´Joplinè™½ç„¶ä¹Ÿæ”¯æŒå°è±¡ç¬”è®°å¯¼å‡ºåçš„æ–‡ä»¶ç›´æ¥å¯¼å…¥ï¼Œä½†æ•°æ®åº“å¥½åƒè€æ˜¯å´©ï¼Œä¹Ÿä¸çŸ¥é“å•¥æƒ…å†µï¼Œå¯èƒ½å› ä¸ºä¸€å¼€å§‹æˆ‘ç”¨çš„æ˜¯è…¾è®¯çš„å¯¹è±¡å­˜å‚¨çš„å…³ç³»ï¼Œç®—äº†ï¼Œä¹Ÿä¸å¯¼å…¥äº†ï¼Œå°±å½“é¡ºä¾¿æ•´ç†ä¸‹ç¬”è®°å§ã€‚</p><p>å‚è€ƒï¼š<a class="link"   href="https://www.jianshu.com/p/6cff65fa10b2" >ç¾¤æ™–NASé…åˆJoplinæ­å»ºç§æœ‰ç¬”è®°æœåŠ¡<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuè®¾ç½®æ™®é€šç”¨æˆ·ä¹Ÿèƒ½æ‰§è¡Œdockerå‘½ä»¤</title>
      <link href="/2022/11/19/Ubuntu%E8%AE%BE%E7%BD%AE%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E4%B9%9F%E8%83%BD%E6%89%A7%E8%A1%8Cdocker%E5%91%BD%E4%BB%A4/"/>
      <url>/2022/11/19/Ubuntu%E8%AE%BE%E7%BD%AE%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E4%B9%9F%E8%83%BD%E6%89%A7%E8%A1%8Cdocker%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨dockerå‘½ä»¤çš„æ—¶å€™ï¼Œæ˜¯éœ€è¦åœ¨å‘½ä»¤å‰åŠ ä¸Š<code>sudo</code>çš„ç®¡ç†å‘˜æƒé™çš„ï¼Œä¸ç„¶å°±ä¼šæ²¡æœ‰æƒé™ã€‚</p><p>æ¯æ¬¡è¦åŠ å¾ˆçƒ¦ï¼Œä¹‹å‰æ˜¯ç›´æ¥å°±åˆ‡æ¢åˆ°rootç”¨æˆ·æ¥ç€ ã€‚</p><p>å¦‚æœä¸æƒ³åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œç›´æ¥ä½¿ç”¨å½“å‰ç™»å½•ç”¨æˆ·ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹</p><a id="more"></a><p><strong>è®¾ç½®æ–¹æ³•ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.#æ·»åŠ dockerç”¨æˆ·ç»„</span></span><br><span class="line">sudo groupadd docker</span><br><span class="line"><span class="comment"># ç»“æœå¦‚ä¸‹ï¼šï¼ˆæ­£å¸¸æƒ…å†µä¸‹éƒ½å·²ç»æœ‰dockerç”¨æˆ·ç»„äº†ï¼‰</span></span><br><span class="line"><span class="comment"># roupadd: group &#x27;docker&#x27; already exists</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.å°†å½“å‰ç™»é™†ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­</span></span><br><span class="line">sudo gpasswd -a <span class="variable">$USER</span> docker</span><br><span class="line"><span class="comment"># ç»“æœå¦‚ä¸‹ï¼ˆæ·»åŠ æˆåŠŸï¼‰ï¼š</span></span><br><span class="line"><span class="comment"># Adding user hduzn to group docker</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.æ›´æ–°dockerç”¨æˆ·ç»„</span></span><br><span class="line">newgrp docker</span><br></pre></td></tr></table></figure><p>ç„¶åå½“å‰ç”¨æˆ·å°±å¯ä»¥ç›´æ¥ç”¨dockerå‘½ä»¤äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuå®‰è£…Docker</title>
      <link href="/2022/11/19/Ubuntu%E5%AE%89%E8%A3%85Docker/"/>
      <url>/2022/11/19/Ubuntu%E5%AE%89%E8%A3%85Docker/</url>
      
        <content type="html"><![CDATA[<p>è‡ªå·±è£…äº†ä¸€å°Ubuntu Serverï¼Œå°±æ˜¯ä¸ºäº†è£…ä¸ªDockerï¼Œæ–¹ä¾¿å®‰è£…ä¸€äº›å°çš„æœåŠ¡ã€‚</p><p>Ubuntuå®‰è£…Dockerå¾ˆç®€å•ï¼Œå®˜æ–¹ç›´æ¥å°±æœ‰æ–‡æ¡£ï¼š<br>è‹±æ–‡æ–‡æ¡£ï¼š<a class="link"   href="https://docs.docker.com/engine/install/ubuntu/" >https://docs.docker.com/engine/install/ubuntu/<i class="fas fa-external-link-alt"></i></a><br>ä¸­æ–‡æ–‡æ¡£ï¼š<a class="link"   href="https://dockerdocs.cn/engine/install/ubuntu/" >https://dockerdocs.cn/engine/install/ubuntu/<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="ä¸€ã€æ“ä½œç³»ç»Ÿè¦æ±‚"><a href="#ä¸€ã€æ“ä½œç³»ç»Ÿè¦æ±‚" class="headerlink" title="ä¸€ã€æ“ä½œç³»ç»Ÿè¦æ±‚"></a>ä¸€ã€æ“ä½œç³»ç»Ÿè¦æ±‚</h2><p>è¦å®‰è£…Docker Engineï¼ŒUbuntu64ä½ç‰ˆæœ¬æ”¯æŒçš„æœ‰ï¼š</p><blockquote><p>Ubuntu Hirsute 21.04<br>Ubuntu Groovy 20.10<br>Ubuntu Focal 20.04ï¼ˆLTSï¼‰<br>Ubuntu Bionic 18.04ï¼ˆLTSï¼‰<br>Ubuntu Xenial 16.04ï¼ˆLTSï¼‰</p></blockquote><p>ç°åœ¨æœ€æ–°Ubuntu Serveræ˜¯22.04ï¼Œä¸çŸ¥é“æ˜¯å¦æ”¯æŒï¼Œç…§ç†åº”è¯¥æœ€æ–°çš„éƒ½ä¼šæ”¯æŒçš„ï¼Œå¯èƒ½æ–‡æ¡£è¿˜æ²¡æ›´æ–°ã€‚ä¸ç¡®å®šç³»ç»Ÿç‰ˆæœ¬ï¼Œç”¨å‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›¸å…³ç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line">---------------------------------------</span><br><span class="line">Distributor ID:Ubuntu</span><br><span class="line">Description:Ubuntu 20.04.5 LTS</span><br><span class="line">Release:20.04</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure><h2 id="äºŒã€å¸è½½æ—§ç‰ˆæœ¬Docker"><a href="#äºŒã€å¸è½½æ—§ç‰ˆæœ¬Docker" class="headerlink" title="äºŒã€å¸è½½æ—§ç‰ˆæœ¬Docker"></a>äºŒã€å¸è½½æ—§ç‰ˆæœ¬Docker</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure><p>å¦‚æœæç¤ºæ²¡æœ‰å®‰è£…ï¼Œæ²¡é—®é¢˜ã€‚</p><h2 id="ä¸‰ã€å®‰è£…Docker"><a href="#ä¸‰ã€å®‰è£…Docker" class="headerlink" title="ä¸‰ã€å®‰è£…Docker"></a>ä¸‰ã€å®‰è£…Docker</h2><p><strong>å®‰è£…æ–¹å¼ï¼š</strong></p><ul><li>å¤§å¤šæ•°ç”¨æˆ·ä¼š è®¾ç½®Dockerçš„å­˜å‚¨åº“å¹¶ä»ä¸­è¿›è¡Œå®‰è£…ï¼Œä»¥ç®€åŒ–å®‰è£…å’Œå‡çº§ä»»åŠ¡ã€‚è¿™æ˜¯æ¨èçš„æ–¹æ³•ã€‚</li><li>ä¸€äº›ç”¨æˆ·ä¸‹è½½å¹¶æ‰‹åŠ¨å®‰è£…DEBè½¯ä»¶åŒ…ï¼Œ å¹¶å®Œå…¨æ‰‹åŠ¨ç®¡ç†å‡çº§ã€‚è¿™åœ¨è¯¸å¦‚åœ¨æ— æ³•è®¿é—®äº’è”ç½‘çš„ç©ºç™½ç³»ç»Ÿä¸Šå®‰è£…Dockerçš„æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ã€‚</li><li>åœ¨æµ‹è¯•å’Œå¼€å‘ç¯å¢ƒä¸­ï¼Œä¸€äº›ç”¨æˆ·é€‰æ‹©ä½¿ç”¨è‡ªåŠ¨ ä¾¿åˆ©è„šæœ¬æ¥å®‰è£…Dockerã€‚</li></ul><p>è¿™é‡Œå°±ç”¨æ¨èçš„æ–¹æ³•ï¼šä½¿ç”¨å­˜å‚¨åº“å®‰è£…ï¼ˆInstall using the repositoryï¼‰</p><h3 id="1-è®¾ç½®å­˜å‚¨åº“ï¼ˆSet-up-the-repositoryï¼‰"><a href="#1-è®¾ç½®å­˜å‚¨åº“ï¼ˆSet-up-the-repositoryï¼‰" class="headerlink" title="1.è®¾ç½®å­˜å‚¨åº“ï¼ˆSet up the repositoryï¼‰"></a>1.è®¾ç½®å­˜å‚¨åº“ï¼ˆSet up the repositoryï¼‰</h3><p>1).æ›´æ–°aptè½¯ä»¶åŒ…ç´¢å¼•å¹¶å®‰è£…è½¯ä»¶åŒ…ä»¥å…è®¸apté€šè¿‡HTTPSä½¿ç”¨å­˜å‚¨åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install \</span><br><span class="line">    apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    gnupg \</span><br><span class="line">    lsb-release</span><br></pre></td></tr></table></figure><p>2).æ·»åŠ Dockerçš„å®˜æ–¹GPGå¯†é’¥ï¼ˆAdd Dockerâ€™s official GPG keyï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/apt/keyrings</span><br><span class="line"></span><br><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span><br></pre></td></tr></table></figure><p>3).ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®å­˜å‚¨åº“ï¼ˆUse the following command to set up the repositoryï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">  <span class="subst">$(lsb_release -cs)</span> stable&quot;</span> | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure><h3 id="2-å®‰è£…Dockerå¼•æ“ï¼ˆInstall-Docker-Engineï¼‰"><a href="#2-å®‰è£…Dockerå¼•æ“ï¼ˆInstall-Docker-Engineï¼‰" class="headerlink" title="2.å®‰è£…Dockerå¼•æ“ï¼ˆInstall Docker Engineï¼‰"></a>2.å®‰è£…Dockerå¼•æ“ï¼ˆInstall Docker Engineï¼‰</h3><p>1).æ›´æ–°aptç¨‹åºåŒ…ç´¢å¼•ï¼ˆUpdate the apt package indexï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>2).å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker Engineï¼Œcontainerdå’ŒDocker Composeï¼ˆInstall Docker Engine, containerd, and Docker Composeï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Docker Engineï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºä»“åº“ä¸­å¯ç”¨çš„ç‰ˆæœ¬</span></span><br><span class="line">apt-cache madison docker-ce</span><br><span class="line"><span class="comment"># æŒ‡å®šç‰ˆæœ¬æ¯”å¦‚ï¼š5:18.09.1~3-0~ubuntu-xenial</span></span><br><span class="line"><span class="comment"># VERSION_STRING=5:18.09.1~3-0~ubuntu-xenial</span></span><br><span class="line">sudo apt-get install docker-ce=&lt;VERSION_STRING&gt; docker-ce-cli=&lt;VERSION_STRING&gt; containerd.io</span><br></pre></td></tr></table></figure><p>3).é€šè¿‡è¿è¡Œhello-world æ˜ åƒæ¥éªŒè¯æ˜¯å¦æ­£ç¡®å®‰è£…äº†Docker Engineï¼ˆVerify that the Docker Engine installation is successful by running the hello-world imageï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure><p>æœ€åç”¨dockerå‘½ä»¤æŸ¥çœ‹ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker version <span class="comment"># æŸ¥çœ‹dockerç‰ˆæœ¬</span></span><br><span class="line">docker images <span class="comment"># åˆ—å‡ºé•œåƒåˆ—è¡¨</span></span><br><span class="line">docker ps -a <span class="comment"># åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢çš„å®¹å™¨ï¼‰</span></span><br></pre></td></tr></table></figure><p>Dockerå¸¸ç”¨å‘½ä»¤çœ‹è¿™ç¯‡ç¬”è®°ï¼š<a href="/2022/05/09/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="Dockerå¸¸ç”¨å‘½ä»¤">Dockerå¸¸ç”¨å‘½ä»¤</a></p><h3 id="3-å¯åŠ¨Docker"><a href="#3-å¯åŠ¨Docker" class="headerlink" title="3.å¯åŠ¨Docker"></a>3.å¯åŠ¨Docker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…å®Œæˆåï¼ŒæŸ¥çœ‹DockeræœåŠ¡æ˜¯å¦è¿è¡Œ</span></span><br><span class="line">systemctl status docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨DockeræœåŠ¡</span></span><br><span class="line">sudo systemctl start docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># DockeræœåŠ¡è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure><h3 id="4-å‡çº§Dockerå¼•æ“"><a href="#4-å‡çº§Dockerå¼•æ“" class="headerlink" title="4.å‡çº§Dockerå¼•æ“"></a>4.å‡çº§Dockerå¼•æ“</h3><p>è¦å‡çº§Docker Engineï¼Œè¯·å…ˆè¿è¡Œ<code>sudo apt-get update</code>ã€‚</p><h3 id="5-å¸è½½Dockerå¼•æ“ï¼ˆUninstall-Docker-Engineï¼‰"><a href="#5-å¸è½½Dockerå¼•æ“ï¼ˆUninstall-Docker-Engineï¼‰" class="headerlink" title="5.å¸è½½Dockerå¼•æ“ï¼ˆUninstall Docker Engineï¼‰"></a>5.å¸è½½Dockerå¼•æ“ï¼ˆUninstall Docker Engineï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1).å¸è½½Docker Engineï¼ŒCLIå’ŒContainerdå’ŒDocker Compose packages</span></span><br><span class="line">sudo apt-get purge docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2).ä¸»æœºä¸Šé•œåƒã€çª—å£ã€å·æˆ–è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨åˆ é™¤ã€‚è¦åˆ é™¤æ‰€æœ‰:</span></span><br><span class="line">sudo rm -rf /var/lib/docker</span><br><span class="line">sudo rm -rf /var/lib/containerd</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuä¿®æ”¹ä¸»æœºåï¼ˆhostnamectlå‘½ä»¤ï¼‰</title>
      <link href="/2022/11/19/Ubuntu%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D/"/>
      <url>/2022/11/19/Ubuntu%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<p>å®‰è£…Ubuntuï¼ˆåˆšå®‰è£…äº†Ubuntu 20.04LTSï¼‰çš„æ—¶å€™ï¼Œæœ€åé¢æœ‰è®¾ç½®ç™»å½•çš„è´¦å·ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·åã€å¯†ç ï¼Œè¿˜æœ‰Your serverâ€™s nameè¿™ä¸€é¡¹ï¼Œå½“æ—¶å°±éšæ„è·Ÿç”¨æˆ·åå†™æˆäº†ä¸€æ ·çš„ ã€‚</p><p>ç„¶åç™»å½•è¿›å»åï¼Œå‘ç°å‰é¢æ˜¾ç¤ºçš„å°±æ˜¯ï¼š<strong>ç”¨æˆ·å@ä¸»æœºå</strong>ï¼Œç„¶åå‘ç°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œæ‰€ä»¥æƒ³æ”¹ä¸€ä¸‹ã€‚</p><a id="more"></a><h3 id="1-hostnamectlå‘½ä»¤"><a href="#1-hostnamectlå‘½ä»¤" class="headerlink" title="1.hostnamectlå‘½ä»¤"></a>1.hostnamectlå‘½ä»¤</h3><p><strong>è¯­æ³•</strong>ï¼šhostnamectl [å‚æ•°]<br><strong>å¸¸ç”¨å‚æ•°</strong>ï¼š</p><ul><li>statusï¼šæ˜¾ç¤ºå½“å‰ä¸»æœºåè®¾ç½®</li><li>set-hostnameï¼šè®¾ç½®ä¸»æœºå</li></ul><h3 id="2-ä¿®æ”¹ä¸»æœºå"><a href="#2-ä¿®æ”¹ä¸»æœºå" class="headerlink" title="2.ä¿®æ”¹ä¸»æœºå"></a>2.ä¿®æ”¹ä¸»æœºå</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰ä¸»æœºåè®¾ç½®ï¼Œæˆ–è€… hostnamectl status</span></span><br><span class="line">hostnamectl</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹å½“å‰ä¸»æœºåä¸ºï¼šabc.com</span></span><br><span class="line">hostnamectl set-hostname abc.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä¿®æ”¹åçš„ç»“æœ</span></span><br><span class="line">hostnamectl status</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œåï¼Œå†ç™»å½•åï¼Œå¯ä»¥çœ‹åˆ°ç”¨æˆ·å@ä¸»æœºåè¿™é‡Œå°±é¡ºä¾¿å¤šäº† ã€‚</p><p>æ›´å¤šå…³äºä¸»æœºåçš„ç®€ä»‹ï¼š<a class="link"   href="https://cloud.tencent.com/developer/article/1649332" >å¦‚ä½•åœ¨ Ubuntu 20.04 ä¸Šä¿®æ”¹ä¸»æœºå<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuæ·»åŠ æ–°ç¡¬ç›˜</title>
      <link href="/2022/11/18/Ubuntu%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%A1%AC%E7%9B%98/"/>
      <url>/2022/11/18/Ubuntu%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%A1%AC%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºæˆ‘è¿™å°ä¸»æœºæœ¬èº«å°±è£…äº†2å—ç¡¬ç›˜ï¼Œä¸€å—256Gçš„å›ºæ€+1Tæœºæ¢°ç¡¬ç›˜ã€‚ä¹‹å‰å®‰è£…Ubuntuçš„æ—¶å€™ï¼Œä½¿ç”¨äº†256Gçš„å›ºæ€ç¡¬ç›˜ã€‚</p><p>åŸæ¥è£…çš„æ˜¯windowsï¼Œ2å—ç¡¬ç›˜éƒ½åœ¨ç”¨çš„ã€‚æ‰€ä»¥ï¼Œç°åœ¨éœ€è¦æŠŠ1Tçš„ç¡¬ç›˜æŒ‚è½½ä¸‹ã€‚<br>æœ¬æ–‡ä¸­ä½¿ç”¨äº†rootç”¨æˆ·ï¼Œæ²¡æœ‰ç”¨rootç”¨æˆ·çš„è¯ï¼Œéœ€è¦sudoè®°å¾—åŠ ä¸Šã€‚</p><p><strong>1.æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°ç¡¬ç›˜ç›¸å…³ç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line">---------------------------------------</span><br><span class="line">...</span><br><span class="line">Disk /dev/sda: 931.53 GiB, 1000204886016 bytes, 1953525168 sectors</span><br><span class="line">Disk model: ST1000DM010-2EP1</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 4096 bytes</span><br><span class="line">I/O size (minimum/optimal): 4096 bytes / 4096 bytes</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure><p>è®°ä½ï¼š/dev/sda</p><a id="more"></a><p><strong>2.åˆ é™¤åˆ†åŒº</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ä½¿ç”¨fdisk, /dev/sdaä¸ºfdisk -læŸ¥è¯¢åˆ°çš„æ–°ç¡¬ç›˜çš„ä¿¡æ¯</span></span><br><span class="line">fdisk /dev/sda</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å¸®åŠ©</span></span><br><span class="line">m</span><br><span class="line"><span class="comment"># è¾“å…¥dåå›è½¦ï¼Œåˆ é™¤åˆ†åŒºï¼›ç»§ç»­è¾“å…¥då›è½¦ï¼Œç›´åˆ°æç¤ºæ²¡æœ‰å¯åˆ é™¤çš„åˆ†åŒºäº† </span></span><br><span class="line">d</span><br><span class="line"><span class="comment"># æœ€åè¾“å…¥wå‘½ä»¤ï¼Œå†™å…¥å¹¶é€€å‡º</span></span><br><span class="line">w</span><br></pre></td></tr></table></figure><p><strong>3.æŒ‚è½½ç›®å½•</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼åŒ–æˆxfsæ–‡ä»¶ç³»ç»Ÿï¼Œ/dev/sdaä¸ºfdisk -læŸ¥è¯¢åˆ°çš„æ–°ç¡¬ç›˜çš„ä¿¡æ¯</span></span><br><span class="line">mkfs.xfs -f /dev/sda</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹/dev/sdaæ–‡ä»¶ç³»ç»Ÿæƒ…å†µï¼Œå¯ä»¥çœ‹åˆ°è¿˜æœªæŒ‚è½½</span></span><br><span class="line">lsblk -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæŒ‚è½½ç›®å½•</span></span><br><span class="line">mkdir /mnt/sda</span><br><span class="line"><span class="comment"># æŒ‚è½½ç›®å½•</span></span><br><span class="line">mount /dev/sda /mnt/sda</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å·²æŒ‚è½½çš„åˆ†åŒºå’Œæ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼ˆTypeï¼‰</span></span><br><span class="line">df -T</span><br><span class="line"><span class="comment"># ç›¸å…³ç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line">---------------------------------------</span><br><span class="line">Filesystem                        Type     1K-blocks    Used Available Use% Mounted on</span><br><span class="line">...</span><br><span class="line">/dev/mapper/ubuntu--vg-ubuntu--lv ext4     242397656 8736244 222701312   4% /</span><br><span class="line">/dev/sdb2                         ext4       1992552  109248   1762064   6% /boot</span><br><span class="line">...</span><br><span class="line">/dev/sda                          xfs      976285652 6839860 969445792   1% /mnt/sda</span><br><span class="line">---------------------------------------</span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç£ç›˜ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">df -h</span><br></pre></td></tr></table></figure><p><strong>4.é‡å¯æ—¶è‡ªåŠ¨æŒ‚è½½</strong></p><p>é…ç½®/etc/fstabæ–‡ä»¶ã€‚ç”¨viæ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œç¼–è¾‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/fstab</span><br></pre></td></tr></table></figure><p>åœ¨é…ç½®æ–‡ä»¶æœ€åä¸€è¡Œåé¢åŠ ä¸Šä¸€è¡Œä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;dev&#x2F;sda &#x2F;mnt&#x2F;sda xfs defaults 0 0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuå®‰è£…å®Œæ˜¾ç¤ºå®¹é‡å°äºç¡¬ç›˜å®¹é‡</title>
      <link href="/2022/11/18/Ubuntu%E5%AE%89%E8%A3%85%E5%AE%8C%E6%98%BE%E7%A4%BA%E5%AE%B9%E9%87%8F%E5%B0%8F%E4%BA%8E%E7%A1%AC%E7%9B%98%E5%AE%B9%E9%87%8F/"/>
      <url>/2022/11/18/Ubuntu%E5%AE%89%E8%A3%85%E5%AE%8C%E6%98%BE%E7%A4%BA%E5%AE%B9%E9%87%8F%E5%B0%8F%E4%BA%8E%E7%A1%AC%E7%9B%98%E5%AE%B9%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<p>Ubuntu Server 20.04å®‰è£…å®Œåï¼ˆå®‰è£…ç¬”è®°ï¼š<a href="/2022/11/18/U%E7%9B%98%E5%AE%89%E8%A3%85Ubuntu-Server/" title="Uç›˜å®‰è£…Ubuntu Server">Uç›˜å®‰è£…Ubuntu Server</a>ï¼‰ï¼Œå‘ç°å®‰è£…çš„è¿™å—ç¡¬ç›˜æœ‰256Gï¼Œä½†æ˜æ˜¾åªçœ‹åˆ°100Gã€‚å› ä¸ºå®‰è£…çš„æ—¶å€™éƒ½ç›´æ¥é»˜è®¤äº†ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p><strong>1.ç”¨ <code>lvdisplay</code> å‘½ä»¤æŸ¥çœ‹LVMé€»è¾‘å·ä¿¡æ¯</strong></p><p>å¯ä»¥çœ‹åˆ°ç»“æœä¸­ï¼ˆLV Pathè®°ä¸€ä¸‹ï¼Œåé¢ä¼šç”¨åˆ°ï¼‰ï¼š</p><blockquote><p>LV Path                /dev/ubuntu-vg/ubuntu-lv<br>LV Size           100.00 GiB</p></blockquote><a id="more"></a><p><strong>2.ç”¨ <code>fdisk -l</code>å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰åˆ†åŒºè¡¨</strong></p><p>ç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ç¡¬ç›˜å®é™…å¤§å°æ˜¯238.49Gï¼ˆ256Gç¡¬ç›˜ï¼‰æ˜¯SAMSUNGä¸‰æ˜Ÿçš„ã€‚æ˜æ˜¾æ˜¯å¤§äº100Gçš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------</span><br><span class="line">...</span><br><span class="line">Disk /dev/sdb: 238.49 GiB, 256060514304 bytes, 500118192 sectors</span><br><span class="line">Disk model: SAMSUNG MZNLN256</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel <span class="built_in">type</span>: gpt</span><br><span class="line">Disk identifier: 7F793134-2627-4B7F-AF49-C65449FE962C</span><br><span class="line"></span><br><span class="line">Device       Start       End   Sectors   Size Type</span><br><span class="line">/dev/sdb1     2048   2203647   2201600   1.1G EFI System</span><br><span class="line">/dev/sdb2  2203648   6397951   4194304     2G Linux filesystem</span><br><span class="line">/dev/sdb3  6397952 500115455 493717504 235.4G Linux filesystem</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure><p><strong>3.é€»è¾‘åˆ†åŒºæ‰©å®¹</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lvextendï¼šæ‰©å±•é€»è¾‘å·ç‰©ç†è¾¹ç•Œ</span></span><br><span class="line"><span class="comment"># åé¢çš„é€»è¾‘åˆ†åŒºåç§°ç”¨lvdisplayå‘½ä»¤è·å–åˆ°çš„LV Path</span></span><br><span class="line">lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv</span><br><span class="line"></span><br><span class="line"><span class="comment"># resize2fsï¼šæ‰©å±•é€»è¾‘å·é€»è¾‘è¾¹ç•Œ</span></span><br><span class="line">resize2fs /dev/ubuntu-vg/ubuntu-lv</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç»“æœ,æ˜¾ç¤ºç£ç›˜ä¿¡æ¯</span></span><br><span class="line">df -h</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Filesystem                         Size  Used Avail Use% Mounted on</span><br><span class="line">udev                               3.8G     0  3.8G   0% /dev</span><br><span class="line">tmpfs                              779M  1.5M  777M   1% /run</span><br><span class="line">/dev/mapper/ubuntu--vg-ubuntu--lv  232G  8.4G  213G   4% /</span><br><span class="line">tmpfs                              3.8G     0  3.8G   0% /dev/shm</span><br><span class="line">tmpfs                              5.0M     0  5.0M   0% /run/lock</span><br><span class="line">tmpfs                              3.8G     0  3.8G   0% /sys/fs/cgroup</span><br><span class="line">/dev/sdb2                          2.0G  107M  1.7G   6% /boot</span><br><span class="line">/dev/sdb1                          1.1G  5.3M  1.1G   1% /boot/efi</span><br><span class="line">/dev/loop0                          62M   62M     0 100% /snap/core20/1611</span><br><span class="line">/dev/loop2                          47M   47M     0 100% /snap/snapd/16292</span><br><span class="line">/dev/loop1                          64M   64M     0 100% /snap/core20/1695</span><br><span class="line">/dev/loop3                          50M   50M     0 100% /snap/snapd/17576</span><br><span class="line">/dev/loop4                          68M   68M     0 100% /snap/lxd/22753</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>çœ‹åˆ° /dev/mapper/ubuntuâ€“vg-ubuntuâ€“lv  232Gè¿™é‡Œå·²ç»æœ‰äº†ã€‚</p><p>å¦‚æœè¿˜è¦æ·»åŠ æ–°ç¡¬ç›˜çš„ï¼Œçœ‹ä¸‹ä¸€ç¯‡ç¬”è®°ï¼š<a href="/2022/11/18/Ubuntu%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%A1%AC%E7%9B%98/" title="Ubuntuæ·»åŠ æ–°ç¡¬ç›˜">Ubuntuæ·»åŠ æ–°ç¡¬ç›˜</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Uç›˜å®‰è£…Ubuntu Server</title>
      <link href="/2022/11/18/U%E7%9B%98%E5%AE%89%E8%A3%85Ubuntu-Server/"/>
      <url>/2022/11/18/U%E7%9B%98%E5%AE%89%E8%A3%85Ubuntu-Server/</url>
      
        <content type="html"><![CDATA[<p>æƒ³åœ¨åŠå…¬å®¤æä¸€å°Ubuntu Serverï¼Œç„¶åè£…ä¸Šdockeråï¼Œå°±å¯ä»¥æ­ä¸€äº›å°æœåŠ¡äº†ã€‚æ­£å¥½æœ‰åŒäº‹æ¢ä¸‹æ¥çš„ç”µè„‘ï¼Œé…ç½®è¿˜å¯ä»¥ï¼Œ8Gå†…å­˜+256Gå›ºæ€çš„ï¼Œä¸€ä¸ªæŒºå°çš„æœºç®±ã€‚</p><p>æŸ¥äº†ä¸€ä¸‹ï¼Œå®‰è£…ä¹ŸæŒºæ–¹ä¾¿çš„ï¼Œä¸‹è½½ç³»ç»ŸåŒ…ï¼Œç„¶åç”¨Uç›˜åˆ¶ä½œä¸ªå¯åŠ¨ç›˜ï¼Œå†å®‰è£…å°±è¡Œäº†ã€‚</p><a id="more"></a><h2 id="ä¸€ã€ä¸‹è½½Ubuntu-Serverçš„ISOé•œåƒåŒ…"><a href="#ä¸€ã€ä¸‹è½½Ubuntu-Serverçš„ISOé•œåƒåŒ…" class="headerlink" title="ä¸€ã€ä¸‹è½½Ubuntu Serverçš„ISOé•œåƒåŒ…"></a>ä¸€ã€ä¸‹è½½Ubuntu Serverçš„ISOé•œåƒåŒ…</h2><p>å®˜ç½‘ä¸‹è½½ï¼š<a class="link"   href="https://ubuntu.com/download/server" >https://ubuntu.com/download/server<i class="fas fa-external-link-alt"></i></a><br>å®˜ç½‘ç›®å‰æœ€æ–°ç‰ˆæœ¬ï¼š22.04.1</p><p>ä¹‹å‰ç”¨çš„æ˜¯18.04å’Œ20.04çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯æƒ³ä¸‹è½½ç”¨20.04ç‰ˆæœ¬çš„ã€‚äºæ˜¯ï¼Œå¯ä»¥å»æ¸…åå¤§å­¦çš„å¼€æºè½¯ä»¶é•œåƒç«™ä¸‹è½½ï¼š<a class="link"   href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/20.04/" >https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/20.04/<i class="fas fa-external-link-alt"></i></a></p><p>æ‰¾åˆ°serverç‰ˆæœ¬ä¸‹è½½ï¼šubuntu-20.04.5-live-server-amd64.iso<br>desktopæ˜¯æ¡Œé¢ç‰ˆæœ¬çš„ï¼Œè‡ªå·±ç”¨ä¹Ÿå¯ä»¥ç”¨æ¡Œé¢ç‰ˆçš„ï¼Œåæ­£æˆ‘å°±å½“å½“æœåŠ¡å™¨ï¼Œç”¨ä¸ç€æ¡Œé¢ç‰ˆçš„ï¼Œç›´æ¥å°±serverç‰ˆã€‚</p><h2 id="äºŒã€åˆ¶ä½œUç›˜å¯åŠ¨ç›˜"><a href="#äºŒã€åˆ¶ä½œUç›˜å¯åŠ¨ç›˜" class="headerlink" title="äºŒã€åˆ¶ä½œUç›˜å¯åŠ¨ç›˜"></a>äºŒã€åˆ¶ä½œUç›˜å¯åŠ¨ç›˜</h2><h3 id="1-ä¸‹è½½åˆ¶ä½œå¯åŠ¨ç›˜çš„å·¥å…·è½¯ä»¶ï¼šRufus"><a href="#1-ä¸‹è½½åˆ¶ä½œå¯åŠ¨ç›˜çš„å·¥å…·è½¯ä»¶ï¼šRufus" class="headerlink" title="1.ä¸‹è½½åˆ¶ä½œå¯åŠ¨ç›˜çš„å·¥å…·è½¯ä»¶ï¼šRufus"></a>1.ä¸‹è½½åˆ¶ä½œå¯åŠ¨ç›˜çš„å·¥å…·è½¯ä»¶ï¼šRufus</h3><p>è¿™ä¸ªå°è½¯ä»¶ç‰¹åˆ«å°ï¼Œä¸”å¥½ç”¨ï¼Œæ— éœ€å®‰è£…ï¼Œç›´æ¥è¿è¡Œå°±å¯ä»¥ç”¨ã€‚Win7ä»¥ä¸Šæ“ä½œç³»ç»Ÿéƒ½å¯ä»¥ç”¨ã€‚</p><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a class="link"   href="http://rufus.ie/zh/" >http://rufus.ie/zh/<i class="fas fa-external-link-alt"></i></a><br>ç›®å‰æœ€æ–°çš„æ˜¯ï¼š3.20ç‰ˆæœ¬ï¼ˆ1.3MBï¼‰</p><h3 id="2-åˆ¶ä½œå¯åŠ¨ç›˜"><a href="#2-åˆ¶ä½œå¯åŠ¨ç›˜" class="headerlink" title="2.åˆ¶ä½œå¯åŠ¨ç›˜"></a>2.åˆ¶ä½œå¯åŠ¨ç›˜</h3><p>æ’ä¸ŠUç›˜ï¼Œè¿è¡ŒRufusåï¼Œ</p><blockquote><p>Deviceï¼ˆè®¾å¤‡ï¼‰ï¼šé€‰æ‹©Uç›˜<br>Boot selectionï¼ˆå¼•å¯¼ç±»å‹é€‰æ‹©ï¼‰ï¼šç‚¹å‡»SELECTï¼ˆé€‰æ‹©ï¼‰æŒ‰é’®ï¼Œæ·»åŠ ä¸‹è½½å¥½ ubuntu-20.04.5-live-server-amd64.iso</p></blockquote><p>å…¶å®ƒéƒ½é»˜è®¤å°±è¡Œï¼Œç›´æ¥ç‚¹å‡»STARTï¼ˆå¼€å§‹ï¼‰ã€‚<br>æœŸé—´å‡ºæ¥ä¸€ä¸ªæç¤ºï¼Œè¦ä¸‹è½½2ä¸ªæ–‡ä»¶å•¥çš„ç›´æ¥ä¸‹è½½å°±è¡Œã€‚</p><p>ç„¶åç­‰å¾…å®Œæˆå°±å¥½äº†ã€‚</p><h2 id="ä¸‰ã€å®‰è£…Ubuntu-Server"><a href="#ä¸‰ã€å®‰è£…Ubuntu-Server" class="headerlink" title="ä¸‰ã€å®‰è£…Ubuntu Server"></a>ä¸‰ã€å®‰è£…Ubuntu Server</h2><h3 id="1-å®‰è£…ubuntu-20-04-5-LTS"><a href="#1-å®‰è£…ubuntu-20-04-5-LTS" class="headerlink" title="1.å®‰è£…ubuntu 20.04.5 LTS"></a>1.å®‰è£…ubuntu 20.04.5 LTS</h3><p>æ’ä¸ŠUç›˜ï¼Œè·Ÿå®‰è£…Windowsä¸€æ ·ï¼Œé€‰æ‹©ä»Uç›˜å¯åŠ¨å°±è¡Œã€‚</p><p>å®‰è£…è¿‡ç¨‹éƒ½ç›´æ¥é»˜è®¤å°±è¡Œã€‚å…¶ä¸­ï¼Œ</p><ul><li>ç½‘ç»œæ˜¯æ²¡è®¾ç½®çš„ï¼Œé€‰çš„æ˜¯Continue without networkï¼Œå®‰è£…å®Œå†è®¾ç½®ã€‚</li><li>ç¡¬ç›˜è®¾ç½®ï¼Œçœ‹åˆ°diskçš„åœ°æ–¹ï¼Œå¦‚æœæœ‰2å—ç¡¬ç›˜çš„ï¼Œé€‰ä¸€å—ç¡¬ç›˜ã€‚</li></ul><p>é™¤äº†é€‰äº†ä¸€å—ç¡¬ç›˜ï¼Œåˆ«çš„éƒ½é»˜è®¤äº†ã€‚å…¶å®ƒçš„æä¸æ‡‚å¯ä»¥å®‰è£…å®Œå†æ•´ã€‚</p><p>æœ€åé¢æœ‰ä¸ªç™»å½•è´¦å·ä¿¡æ¯éœ€è¦å¡«å†™ä¸€ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Your name: è‡ªå®šä¹‰ï¼Œéšæ„</span><br><span class="line">Your server&#39;s nameï¼šè‡ªå®šä¹‰ï¼Œéšæ„ã€‚</span><br><span class="line">Pick a username: ç”¨æˆ·åï¼Œè¿™ä¸ªç™»å½•çš„æ—¶å€™éœ€è¦çš„ã€‚æ¯”å¦‚ï¼šubuntuabc</span><br><span class="line">Choose a password: å¯†ç ã€‚æ¯”å¦‚ï¼šubuntuabc</span><br><span class="line">Confirm you password: ç¡®è®¤å¯†ç </span><br></pre></td></tr></table></figure><p>ç­‰å¾…å®‰è£…å®Œæˆåï¼Œé€‰ä¸€ä¸‹ã€Reboot Nowã€‘ï¼ˆé‡å¯ï¼‰ï¼Œé€‰å®Œå°±æ‹”æ‰Uç›˜å¯åŠ¨ã€‚</p><h3 id="2-è®¾ç½®ç½‘ç»œï¼ˆé™æ€IPï¼‰"><a href="#2-è®¾ç½®ç½‘ç»œï¼ˆé™æ€IPï¼‰" class="headerlink" title="2.è®¾ç½®ç½‘ç»œï¼ˆé™æ€IPï¼‰"></a>2.è®¾ç½®ç½‘ç»œï¼ˆé™æ€IPï¼‰</h3><p>å®‰è£…å®Œæˆé‡å¯åï¼Œå¯ä»¥å…ˆæŸ¥çœ‹å‘è¡Œç‰ˆæœ¬ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/issue</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºç»“æœï¼š</span></span><br><span class="line">---------------------------------------</span><br><span class="line">Ubuntu 20.04.5 LTS \n \l</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure><p>æ’ä¸Šç½‘çº¿åï¼Œç”¨viæ‰“å¼€é…ç½®æ–‡ä»¶<code>/etc/netplan/00-installer-config.yaml</code>ï¼ˆä¸åŒç‰ˆæœ¬å¯èƒ½æ–‡ä»¶åæœ‰ç‚¹ä¸ä¸€æ ·ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€è¦rootæƒé™ï¼Œå¯ä»¥åœ¨å‰é¢åŠ ä¸Šsudo</span></span><br><span class="line"><span class="comment"># æˆ‘å°±ç›´æ¥ç”¨å‘½ä»¤ï¼šsudo suåˆ‡æ¢æˆrootç”¨æˆ·äº†</span></span><br><span class="line">vi /etc/netplan/00-installer-config.yaml</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼ˆviå‘½ä»¤ä¸ä¼šçš„çœ‹è¿™ç¯‡ç¬”è®°ï¼š<a href="/2021/02/08/Linux%20vim%E5%91%BD%E4%BB%A4%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="Linux vim&#x2F;vi å‘½ä»¤ç®€å•ä½¿ç”¨">Linux vim&#x2F;vi å‘½ä»¤ç®€å•ä½¿ç”¨</a>ï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This is the network config written by &#x27;subiquity&#x27;</span></span><br><span class="line"><span class="attr">network:</span></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line">    <span class="attr">enp1s0:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">no</span></span><br><span class="line">      <span class="attr">addresses:</span> [<span class="number">192.168</span><span class="number">.1</span><span class="number">.175</span><span class="string">/24</span>]</span><br><span class="line">      <span class="attr">gateway4:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line">      <span class="attr">nameservers:</span></span><br><span class="line">        <span class="attr">addresses:</span> [<span class="number">220.189</span><span class="number">.127</span><span class="number">.106</span>, <span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>]</span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><blockquote><p>dhcp4: no å…³é—­ipv4è‡ªåŠ¨è·å–ã€‚<br>addresses: [192.168.1.175/24] åœ¨æŒ‡å®šIPåœ°å€æ—¶ï¼Œipåœ°å€ä¹‹åçš„å­ç½‘æ©ç æ˜¯å¿…é¡»çš„ï¼Œåœ¨ä½¿ç”¨ipv6æ—¶ä¹Ÿä¸€æ ·å¿…é¡»å¸¦æœ‰å­ç½‘æ©ç ï¼Œä»¥ä¸Šipv4åœ°å€çš„æ©ç æ˜¯24ã€‚<br>gateway4ï¼šå­—æ®µæ˜¯ç½‘å…³å­—æ®µï¼Œå³è·¯ç”±å™¨çš„åœ°å€ã€‚<br>nameserverså­—æ®µï¼šè®¾ç½®åŸŸåæœåŠ¡å™¨IPåœ°å€ã€‚</p></blockquote><p>å¥½äº†ä¹‹åï¼Œä¿å­˜ã€é€€å‡ºã€‚</p><p>å¯åŠ¨æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡ï¼Œå¦‚æœæ²¡æœ‰åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œå°±å‰é¢åŠ sudo</span></span><br><span class="line">netplan apply</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç½‘ç»œæœåŠ¡çš„çŠ¶æ€ï¼Œçœ‹åˆ°ç»¿ç‚¹ï¼ŒçŠ¶æ€æ˜¯routableå°±okäº†</span></span><br><span class="line">networkctl status</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç½‘ç»œæµ‹è¯•</span></span><br><span class="line">ping 192.168.1.1</span><br><span class="line">ping 114.114.114.114</span><br><span class="line">ping www.baidu.com</span><br></pre></td></tr></table></figure><p>ç½‘ç»œæ­£å¸¸äº†ï¼Œé‚£å°±å¯ä»¥åœ¨åˆ«çš„ç”µè„‘ï¼ˆåŒå±€åŸŸç½‘å†…ï¼‰SSHè¿æ¥å•¦ï¼Œå°±ä¸éœ€è¦æ˜¾ç¤ºå™¨äº†ï¼Œå¼€ç€ä¸»æœºå°±è¡Œäº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># SSHè¿æ¥</span><br><span class="line">ä¸»æœºip: 192.168.1.175</span><br><span class="line">ç”¨æˆ·åï¼šubuntuabc</span><br><span class="line">å¯†ç ï¼šubuntuabc</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä½¿ç”¨MQTTä¸¾ä¾‹</title>
      <link href="/2022/11/13/Python%E4%BD%BF%E7%94%A8MQTT%E4%B8%BE%E4%BE%8B/"/>
      <url>/2022/11/13/Python%E4%BD%BF%E7%94%A8MQTT%E4%B8%BE%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>å…³äºMQTTçš„ç®€ä»‹å’ŒæœåŠ¡å™¨çš„æ­å»ºï¼Œä¹‹å‰å·²ç»å†™äº†ç¬”è®°äº†ï¼š<a href="/2022/11/12/Docker%E6%90%AD%E5%BB%BAMQTT%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="Dockeræ­å»ºMQTTæœåŠ¡å™¨">Dockeræ­å»ºMQTTæœåŠ¡å™¨</a></p><p>ç”¨æ¥å­¦ä¹ ã€ç ”ç©¶ï¼Œè‡ªå·±ä¸æ­MQTTæœåŠ¡å™¨ä¹Ÿè¡Œï¼ŒEMQXæœ‰æä¾›å…è´¹çš„åœ¨çº¿ MQTT æœåŠ¡å™¨ï¼ˆè¿˜æä¾›è¯ä¹¦çš„ä¸‹è½½ï¼‰ï¼š<br>å®˜ç½‘ï¼š<a class="link"   href="https://www.emqx.com/zh/mqtt/public-mqtt5-broker" >https://www.emqx.com/zh/mqtt/public-mqtt5-broker<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MQTT æœåŠ¡å™¨ä¿¡æ¯</span><br><span class="line">Broker: broker-cn.emqx.io</span><br><span class="line">TCP ç«¯å£: 1883</span><br><span class="line">WebSocket ç«¯å£: 8083</span><br><span class="line">SSL&#x2F;TLS ç«¯å£: 8883</span><br><span class="line">WebSocket Secure ç«¯å£: 8084</span><br></pre></td></tr></table></figure><a id="more"></a><p>Pythonä½¿ç”¨MQTTçš„ä¾‹å­ï¼Œä¸»è¦å°±å†™2ä¸ªpythonæ–‡ä»¶ï¼Œä¸€ä¸ªç”¨æ¥publishï¼ˆå‘å¸ƒæ¶ˆæ¯ï¼‰ï¼Œä¸€ä¸ªç”¨æ¥subcribeï¼ˆè®¢é˜…æ¶ˆæ¯ï¼‰ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯éƒ½èƒ½æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚ï¼ˆæ¶ˆæ¯è®¢é˜…åéƒ½èƒ½æ¥æ”¶åˆ°ï¼Œå°±å¯ä»¥å­˜å…¥è‡ªå·±å»ºçš„æœ¬åœ°æ•°æ®åº“å•¦ï¼‰</p><h2 id="ä¸€ã€å®‰è£…paho-mqttåº“"><a href="#ä¸€ã€å®‰è£…paho-mqttåº“" class="headerlink" title="ä¸€ã€å®‰è£…paho-mqttåº“"></a>ä¸€ã€å®‰è£…paho-mqttåº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install paho-mqtt</span><br></pre></td></tr></table></figure><p>å®‰è£…äº†è¿™ä¸ªåº“å°±å¯ä»¥å¤„ç†MQTTäº†ï¼Œå®˜æ–¹æ–‡æ¡£ä¸Šä¹Ÿä¾‹å­ï¼š<a class="link"   href="https://pypi.org/project/paho-mqtt/#" >https://pypi.org/project/paho-mqtt/#<i class="fas fa-external-link-alt"></i></a></p><h2 id="äºŒã€publishå‘å¸ƒæ¶ˆæ¯ï¼ˆmqtt-publish-pyï¼‰"><a href="#äºŒã€publishå‘å¸ƒæ¶ˆæ¯ï¼ˆmqtt-publish-pyï¼‰" class="headerlink" title="äºŒã€publishå‘å¸ƒæ¶ˆæ¯ï¼ˆmqtt_publish.pyï¼‰"></a>äºŒã€publishå‘å¸ƒæ¶ˆæ¯ï¼ˆmqtt_publish.pyï¼‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> paho.mqtt.client <span class="keyword">as</span> mqtt_client</span><br><span class="line"><span class="keyword">import</span> time, json, random</span><br><span class="line"></span><br><span class="line"><span class="comment"># MQTTè¿æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connect_mqtt</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_connect</span>(<span class="params">client, userdata, flags, rc</span>):</span></span><br><span class="line">        <span class="keyword">if</span> rc == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Connected to MQTT Broker!&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Failed to connect, return code %d\n&quot;</span>, rc)</span><br><span class="line">    <span class="comment"># Set Connecting Client ID</span></span><br><span class="line">    client = mqtt_client.Client(client_id)</span><br><span class="line">    client.on_connect = on_connect</span><br><span class="line">    client.connect(broker, port)</span><br><span class="line">    <span class="keyword">return</span> client</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">publish</span>(<span class="params">client, topic, msg</span>):</span></span><br><span class="line">    <span class="comment"># msg = f&quot;messages: &#123;msg_count&#125;&quot;</span></span><br><span class="line">    result = client.publish(topic, msg)</span><br><span class="line">    <span class="comment"># result: [0, 1]</span></span><br><span class="line">    status = result[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> status == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Send `<span class="subst">&#123;msg&#125;</span>` to topic `<span class="subst">&#123;topic&#125;</span>`&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Failed to send message to topic <span class="subst">&#123;topic&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_publish</span>():</span></span><br><span class="line">    client = connect_mqtt()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    client.loop_start()</span><br><span class="line">    <span class="comment"># å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line">    <span class="comment"># stus = &#123;&quot;Tempeature&quot;:30.1,&quot;Humidity&quot;:40.2,&quot;Hours&quot;:12, &quot;Minutes&quot;:15&#125;</span></span><br><span class="line">    <span class="comment"># res2 = json.dumps(stus)  # å…ˆæŠŠå­—å…¸è½¬æˆjson</span></span><br><span class="line">    <span class="comment"># client.publish(&#x27;python/mqtt&#x27;, payload=res2, qos=0)</span></span><br><span class="line">    <span class="comment"># client.publish(&#x27;emqtt&#x27;, payload=&#x27;Hello World&#x27;, qos=0)</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        <span class="comment"># å¾ªç¯å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line">        publish(client, <span class="string">&quot;mqtt/guangdu&quot;</span>, i)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹è¿æ¥</span></span><br><span class="line"><span class="comment"># MQTT Brokerè¿æ¥å‚æ•°</span></span><br><span class="line">broker = <span class="string">&#x27;broker-cn.emqx.io&#x27;</span></span><br><span class="line">port = <span class="number">1883</span></span><br><span class="line">client_id = <span class="string">f&#x27;python-mqtt-<span class="subst">&#123;random.randint(<span class="number">0</span>, <span class="number">1000</span>)&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¶ˆæ¯å‘å¸ƒ</span></span><br><span class="line">run_publish()</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€subcribeè®¢é˜…æ¶ˆæ¯ï¼ˆmqtt-subcribe-pyï¼‰"><a href="#ä¸‰ã€subcribeè®¢é˜…æ¶ˆæ¯ï¼ˆmqtt-subcribe-pyï¼‰" class="headerlink" title="ä¸‰ã€subcribeè®¢é˜…æ¶ˆæ¯ï¼ˆmqtt_subcribe.pyï¼‰"></a>ä¸‰ã€subcribeè®¢é˜…æ¶ˆæ¯ï¼ˆmqtt_subcribe.pyï¼‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> paho.mqtt.client <span class="keyword">as</span> mqtt</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_connect</span>(<span class="params">client, userdata, flags, rc</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Connected with result code: &quot;</span> + <span class="built_in">str</span>(rc))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†è®¢é˜…åˆ°çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_message</span>(<span class="params">client, userdata, msg</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(msg.topic + <span class="string">&quot; &quot;</span> + <span class="built_in">str</span>(msg.payload))</span><br><span class="line"></span><br><span class="line">client = mqtt.Client()</span><br><span class="line">client.on_connect = on_connect</span><br><span class="line">client.on_message = on_message</span><br><span class="line"></span><br><span class="line"><span class="comment"># MQTT Brokerè¿æ¥å‚æ•°</span></span><br><span class="line">broker = <span class="string">&#x27;broker-cn.emqx.io&#x27;</span></span><br><span class="line">port = <span class="number">1883</span></span><br><span class="line">client_id = <span class="string">f&#x27;python-mqtt-<span class="subst">&#123;random.randint(<span class="number">0</span>, <span class="number">1000</span>)&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">client.connect(broker, port, <span class="number">600</span>) <span class="comment"># 600ä¸ºkeepaliveçš„æ—¶é—´é—´éš”</span></span><br><span class="line">client.subscribe(<span class="string">&quot;mqtt/guangdu&quot;</span>, qos=<span class="number">0</span>) <span class="comment"># subscribe è®¢é˜…</span></span><br><span class="line"></span><br><span class="line">client.loop_forever() <span class="comment"># ä¿æŒè¿æ¥</span></span><br></pre></td></tr></table></figure><h2 id="å››ã€æµ‹è¯•"><a href="#å››ã€æµ‹è¯•" class="headerlink" title="å››ã€æµ‹è¯•"></a>å››ã€æµ‹è¯•</h2><ul><li>1.å…ˆæŠŠ mqtt_subcribe.py è¿è¡Œèµ·æ¥ï¼ˆåœ¨VS Codeï¼‰ä¸­</li><li>2.å†æŠŠ mqtt_publish.py åœ¨å‘½ä»¤è¡Œæˆ–Windows PowerShellä¸­è¿è¡Œèµ·æ¥<code>python .\mqtt_publish.py</code></li></ul><p>å°±èƒ½çœ‹åˆ°æ•ˆæœå•¦ã€‚è®¢é˜…æ¶ˆæ¯çš„è¿™è¾¹ä¸€ç›´å¯ä»¥æ¥æ”¶åˆ°å‘å¸ƒå‡ºæ¥çš„æ¶ˆæ¯å•¦ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨è®¢é˜…æ¶ˆæ¯çš„ on_messageæ–¹æ³•ä¸­ï¼Œå¯ä»¥æŠŠæ¶ˆæ¯çš„ä¸»é¢˜ï¼ˆmsg.topicï¼‰å’Œæ¶ˆæ¯çš„å†…å®¹ï¼ˆmsg.payloadï¼‰ç›´æ¥å­˜è¿›æ•°æ®åº“å•¦ï¼Œsqliteå’Œmysqléƒ½è¡Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç‰©è”ç½‘ </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pipå®‰è£…åŒ…æ—¶å‡ºç°&#39;python setup.py egg_info did not run successfully.&#39;</title>
      <link href="/2022/11/13/pip%E5%AE%89%E8%A3%85%E5%8C%85%E6%97%B6%E5%87%BA%E7%8E%B0python-setup-py-egg-info-did-not-run-successfully/"/>
      <url>/2022/11/13/pip%E5%AE%89%E8%A3%85%E5%8C%85%E6%97%B6%E5%87%BA%E7%8E%B0python-setup-py-egg-info-did-not-run-successfully/</url>
      
        <content type="html"><![CDATA[<p>Pythonå®‰è£…flask_mqttåŒ…çš„æ—¶å€™æŠ¥é”™ï¼š</p><blockquote><p>python setup.py egg_info did not run successfully.</p></blockquote><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š<br>æ›´æ–° setuptools å’Œ pipã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade setuptools</span><br><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></table></figure><a id="more"></a><p>æ›´æ–°å®Œåå†å®‰è£…ï¼Œå°±OKäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockeræ­å»ºMQTTæœåŠ¡å™¨</title>
      <link href="/2022/11/12/Docker%E6%90%AD%E5%BB%BAMQTT%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2022/11/12/Docker%E6%90%AD%E5%BB%BAMQTT%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="MQTTç®€ä»‹"><a href="#MQTTç®€ä»‹" class="headerlink" title="MQTTç®€ä»‹"></a>MQTTç®€ä»‹</h2><p>MQTTï¼ˆMessage Queuing Telemetry Transportï¼Œæ¶ˆæ¯é˜Ÿåˆ—é¥æµ‹ä¼ è¾“åè®®ï¼‰ï¼Œæ˜¯ä¸€ç§åŸºäºå‘å¸ƒ/è®¢é˜…ï¼ˆpublish/subscribeï¼‰æ¨¡å¼çš„â€è½»é‡çº§â€é€šè®¯åè®®ï¼Œè¯¥åè®®æ„å»ºäºTCP/IPåè®®ä¸Šï¼Œç”±IBMåœ¨1999å¹´å‘å¸ƒã€‚MQTTæœ€å¤§ä¼˜ç‚¹åœ¨äºï¼Œå¯ä»¥ä»¥æå°‘çš„ä»£ç å’Œæœ‰é™çš„å¸¦å®½ï¼Œä¸ºè¿æ¥è¿œç¨‹è®¾å¤‡æä¾›å®æ—¶å¯é çš„æ¶ˆæ¯æœåŠ¡ã€‚ä½œä¸ºä¸€ç§ä½å¼€é”€ã€ä½å¸¦å®½å ç”¨çš„å³æ—¶é€šè®¯åè®®ï¼Œä½¿å…¶åœ¨ç‰©è”ç½‘ã€å°å‹è®¾å¤‡ã€ç§»åŠ¨åº”ç”¨ç­‰æ–¹é¢æœ‰è¾ƒå¹¿æ³›çš„åº”ç”¨ã€‚</p><p>MQTTæ˜¯ä¸€ä¸ªåŸºäºå®¢æˆ·ç«¯-æœåŠ¡å™¨çš„æ¶ˆæ¯å‘å¸ƒ/è®¢é˜…ä¼ è¾“åè®®ã€‚MQTTåè®®æ˜¯è½»é‡ã€ç®€å•ã€å¼€æ”¾å’Œæ˜“äºå®ç°çš„ï¼Œè¿™äº›ç‰¹ç‚¹ä½¿å®ƒé€‚ç”¨èŒƒå›´éå¸¸å¹¿æ³›ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼ŒåŒ…æ‹¬å—é™çš„ç¯å¢ƒä¸­ï¼Œå¦‚ï¼šæœºå™¨ä¸æœºå™¨ï¼ˆM2Mï¼‰é€šä¿¡å’Œç‰©è”ç½‘ï¼ˆIoTï¼‰ã€‚å…¶åœ¨ï¼Œé€šè¿‡å«æ˜Ÿé“¾è·¯é€šä¿¡ä¼ æ„Ÿå™¨ã€å¶å°”æ‹¨å·çš„åŒ»ç–—è®¾å¤‡ã€æ™ºèƒ½å®¶å±…ã€åŠä¸€äº›å°å‹åŒ–è®¾å¤‡ä¸­å·²å¹¿æ³›ä½¿ç”¨ã€‚</p><a id="more"></a><h2 id="MQTTå®ç°æ–¹å¼"><a href="#MQTTå®ç°æ–¹å¼" class="headerlink" title="MQTTå®ç°æ–¹å¼"></a>MQTTå®ç°æ–¹å¼</h2><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_mqtt_1.png"                      style="zoom: 50%;"                ><p>çœ‹ä»¥ä¸Šå›¾ï¼ŒMQTTåè®®ä¸­æœ‰ä¸¤ç§ä¸»è¦èº«ä»½ï¼š</p><ul><li>MQTT Broker(æ¶ˆæ¯ä»£ç†)ï¼šæœåŠ¡å™¨</li><li>Publish(å‘å¸ƒè€…)ã€Subscribe(è®¢é˜…è€…)ï¼šå®¢æˆ·ç«¯</li></ul><p>ä¸€ä¸ªè®¾å¤‡å¯ä»¥æ—¢æ˜¯å‘å¸ƒæ¶ˆæ¯ç«¯ï¼Œä¹Ÿå¯ä»¥åŒæ—¶è®¢é˜…æ¶ˆæ¯ã€‚</p><p><strong>MQTTä¼ è¾“çš„æ¶ˆæ¯</strong>æœ‰2ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>ä¸»é¢˜ï¼ˆTopicï¼‰ï¼šå°±æ˜¯æ¶ˆæ¯çš„ä¸»é¢˜/ç±»å‹/åˆ†ç±»ã€‚è®¢é˜…è€…è®¢é˜…ä¸€ä¸ªTopicåï¼Œå°±èƒ½æ”¶åˆ°è¯¥Topicçš„æ¶ˆæ¯å†…å®¹ã€‚</li><li>è´Ÿè½½ï¼ˆpayloadï¼‰ï¼šå°±æ˜¯æ¶ˆæ¯çš„å†…å®¹ï¼ˆå¯æ˜¯æ˜¯æ–‡å­—ã€æ•°å€¼è¿™äº›ï¼‰ã€‚</li></ul><p><strong>MQTTä½¿ç”¨ä¸¾ä¾‹</strong>ï¼š<br>åƒç‰©è”ç½‘è¿™å—å°±ç”¨çš„æ¯”è¾ƒå¤šï¼Œå‡è®¾æœ‰ä¸€ä¸ªç‰©è”ç½‘è®¾å¤‡ï¼ˆæŒæ§æ¿ã€è¡Œç©ºæ¿ï¼‰ï¼Œæ¥ä¸ªå¯¹åº”çš„ä¼ æ„Ÿå™¨ï¼Œå°±å¯ä»¥è·å–æ¸©åº¦ã€æ¹¿åº¦ã€å…‰å¼ºåº¦è¿™äº›æ•°æ®ï¼Œé‚£æ€ä¹ˆæŠŠè·å–åˆ°çš„æ•°æ®å®æ—¶ä¼ åˆ°æœåŠ¡å™¨ä¸Šè®°å½•ä¸‹æ¥å‘¢ï¼Œå°±ç”¨è¿™ä¸ªMQTTå°±è¡Œã€‚</p><p>æŠŠä¼ æ„Ÿå™¨è·å–åˆ°çš„æ•°æ®ï¼Œç”¨Publish(å‘å¸ƒ)åˆ°MQTTæœåŠ¡å™¨ä¸Šï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ç”¨Subscribeè®¢é˜…MQTTæœåŠ¡å™¨ç«¯ä¼ è¿‡æ¥çš„æ¶ˆæ¯ã€‚</p><p>æŠŠæ•°æ®æ”¶é›†èµ·æ¥åï¼Œå°±å¯ä»¥åšå…·ä½“çš„åˆ†æã€å±•ç¤ºï¼ˆæ•°æ®å¯è§†åŒ–ï¼‰äº†ã€‚</p><p>åƒè¡Œç©ºæ¿å°±è‡ªå¸¦äº†SloTè¿™ä¸ªé’ˆå¯¹å­¦æ ¡åœºæ™¯çš„å¼€æºå…è´¹çš„MQTTæœåŠ¡å™¨è½¯ä»¶, å¯ä¸€é”®åˆ›å»ºæœ¬åœ°ç‰©è”ç½‘æœåŠ¡å™¨ã€‚ç›¸å½“äºä¸€ä¸ªè¡Œç©ºæ¿è®¾å¤‡ï¼Œè‡ªå·±ä½œä¸ºä¸€å°MQTTæœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿä½œä¸ºä¸€ä¸ªå®¢æˆ·ç«¯ã€‚</p><h2 id="Dockeræ­å»ºMQTTæœåŠ¡å™¨"><a href="#Dockeræ­å»ºMQTTæœåŠ¡å™¨" class="headerlink" title="Dockeræ­å»ºMQTTæœåŠ¡å™¨"></a>Dockeræ­å»ºMQTTæœåŠ¡å™¨</h2><p>ç”¨çš„æ˜¯EMQXçš„å¼€æºç‰ˆã€‚EMQX æ˜¯ä¸€æ¬¾å¤§è§„æ¨¡å¯å¼¹æ€§ä¼¸ç¼©çš„äº‘åŸç”Ÿåˆ†å¸ƒå¼ç‰©è”ç½‘ MQTT æ¶ˆæ¯æœåŠ¡å™¨ã€‚å®ƒè¿˜æœ‰ä¼ä¸šç‰ˆå’ŒCloudç‰ˆï¼Œè¿™äº›éœ€è¦èŠ±é’±çš„æ˜¯ä¼ä¸šçº§ï¼Œè‡ªå·±æµ‹è¯•ã€å­¦ä¹ ä½¿ç”¨ï¼Œç”¨ç”¨å¼€æºç‰ˆå°±è¡Œã€‚<br>Dockerä¹Ÿå¯ä»¥æ­å»ºEMQXä¼ä¸šç‰ˆï¼Œå°±æ˜¯è¿æ¥çš„å®¢æˆ·ç«¯æœ‰é™åˆ¶ï¼Œåªæœ‰10ä¸ªã€‚</p><p>EMQXå®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://www.emqx.io/docs/zh/v4.3/" >https://www.emqx.io/docs/zh/v4.3/<i class="fas fa-external-link-alt"></i></a> ï¼ˆå·¦ä¸‹è§’å¯ä»¥é€‰æ‹©ç‰ˆæœ¬å·ï¼‰</p><h3 id="1-æ‹‰å–EMQXå¼€æºç‰ˆé•œåƒ"><a href="#1-æ‹‰å–EMQXå¼€æºç‰ˆé•œåƒ" class="headerlink" title="1.æ‹‰å–EMQXå¼€æºç‰ˆé•œåƒ"></a>1.æ‹‰å–EMQXå¼€æºç‰ˆé•œåƒ</h3><p>å®˜ç½‘ï¼š<a class="link"   href="https://hub.docker.com/r/emqx/emqx/tags" >https://hub.docker.com/r/emqx/emqx/tags<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull emqx/emqx</span><br></pre></td></tr></table></figure><p>ä¸å†™ç‰ˆæœ¬å†™ï¼Œå°±æ˜¯æœ€æ–°ç‰ˆ(latest)ã€‚</p><h3 id="2-è¿è¡Œå®¹å™¨"><a href="#2-è¿è¡Œå®¹å™¨" class="headerlink" title="2.è¿è¡Œå®¹å™¨"></a>2.è¿è¡Œå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name emqx -p 18084:1883 -p 18085:8081 -p 8083:8083 -p 8883:8883 -p 8084:8084 -p 18083:18083 emqx/emqx</span><br></pre></td></tr></table></figure><blockquote><p>â€“name emqxï¼šå®¹å™¨åä¸ºemqxï¼Œå¯è‡ªå®šä¹‰<br>-p 18083:18083ï¼šç«¯å£æ˜ å°„ï¼Œwebç«¯åå°ç®¡ç†é¡µç«¯å£ï¼Œå‰é¢ä¸€ä¸ª18083æ˜¯æœ¬æœºç«¯å£ï¼Œå¯è‡ªå®šä¹‰<br>-p 18084:1883ï¼šç«¯å£æ˜ å°„ï¼ŒMQTT TCPç«¯å£ï¼Œå‰é¢ä¸€ä¸ª18084æ˜¯è‡ªå®šä¹‰çš„æœ¬æœºçš„ç«¯å£ï¼Œå¯è‡ªå®šä¹‰<br>-p 8883:8883ï¼šç«¯å£æ˜ å°„ï¼ŒMQTT TCP TLS/SSL ç«¯å£ï¼Œå‰é¢ä¸€ä¸ª8883å¯è‡ªå®šä¹‰<br>-p 8083:8083ï¼šç«¯å£æ˜ å°„ï¼ŒHTTP and WebSocket ç«¯å£ï¼Œå‰é¢ä¸€ä¸ª8083å¯è‡ªå®šä¹‰<br>-p 8084:8084ï¼šç«¯å£æ˜ å°„ï¼ŒHTTPS and WSS ç«¯å£ï¼Œå‰é¢ä¸€ä¸ª8084å¯è‡ªå®šä¹‰</p></blockquote><p>å¦‚æœæœ‰ç«¯å£è¢«é™åˆ¶ä¸èƒ½ä½¿ç”¨å•¥çš„ï¼Œç›´æ¥æ¢å°±è¡Œã€‚å¦‚æœæ˜¯åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ï¼Œè®°å¾—æŠŠé˜²ç«å¢™è®¾ç½®ä¸€ä¸‹ï¼Œç»™å…è®¸ä¸‹ä½¿ç”¨çš„ç«¯å£å°±è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®¹å™¨è¿è¡Œåï¼ŒæŸ¥çœ‹å®¹å™¨</span></span><br><span class="line">docker ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨ï¼Œç”¨/bin/sh</span></span><br><span class="line">docker <span class="built_in">exec</span> -it emqx /bin/sh</span><br></pre></td></tr></table></figure><h3 id="3-è¿›å…¥webåå°ç®¡ç†é¡µé¢"><a href="#3-è¿›å…¥webåå°ç®¡ç†é¡µé¢" class="headerlink" title="3.è¿›å…¥webåå°ç®¡ç†é¡µé¢"></a>3.è¿›å…¥webåå°ç®¡ç†é¡µé¢</h3><p>æµè§ˆå™¨æ‰“å¼€æœºå™¨çš„ip:18083è®¿é—®ã€‚æ¯”å¦‚æœ¬æœºipä¸ºï¼š192.168.1.101<br>é‚£å°±æ‰“å¼€ï¼š192.168.1.101:18083 è®¿é—®ï¼Œæˆ–è€…ç”¨127.0.0.1ã€localhostéƒ½è¡Œã€‚æœåŠ¡å™¨çš„è¯å°±ç”¨æœåŠ¡å™¨çš„ipã€‚</p><p>é»˜è®¤çš„è´¦å·ï¼šadmin å¯†ç ï¼špublic</p><p>è¯­è¨€åœ¨ã€Settingsã€‘è®¾ç½®é‡Œï¼Œè®¾ä¸€ä¸‹ä¸­æ–‡å°±è¡Œã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_mqtt_2.png"                      style="zoom: 50%;"                ><h3 id="4-Websocketæµ‹è¯•"><a href="#4-Websocketæµ‹è¯•" class="headerlink" title="4.Websocketæµ‹è¯•"></a>4.Websocketæµ‹è¯•</h3><p>åœ¨ã€Toolsã€‘ï¼ˆå·¥å…·ï¼‰é€‰é¡¹é‡Œæœ‰ã€Websocketã€‘æµ‹è¯•ã€‚<br>å¡«å†™ä¸‹ipå’Œç«¯å£ï¼Œè¿™é‡Œçš„ç«¯å£å°±æ˜¯8083ç«¯å£æ˜ å°„å‡ºæ¥çš„ç«¯å£ï¼Œç„¶åå°±ç›´æ¥ã€è¿æ¥ã€‘å°±è¡Œã€‚</p><p>å¯ä»¥è®¢é˜…æ¶ˆæ¯ï¼ˆå¡«å†™Topicä¸»é¢˜ï¼‰ï¼Œå’Œå‘é€æ¶ˆæ¯ï¼ˆå¡«å†™Topicä¸»é¢˜å’Œæ¶ˆæ¯å†…å®¹ï¼‰è¿›è¡Œæµ‹è¯•ã€‚</p><p>PS.å¦‚æœæ˜¯ä¼ä¸šç‰ˆï¼ŒåŸºæœ¬ä¸Šæ“ä½œå·®ä¸å¤šçš„ã€‚<br>å®˜ç½‘ï¼š<a class="link"   href="https://hub.docker.com/r/emqx/emqx-ee" >https://hub.docker.com/r/emqx/emqx-ee<i class="fas fa-external-link-alt"></i></a><br>æ‹‰å–é•œåƒï¼š<code>docker pull emqx/emqx-ee</code></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python è¯†åˆ«éªŒè¯ç å›¾ç‰‡</title>
      <link href="/2022/11/11/Python%E8%AF%86%E5%88%AB%E9%AA%8C%E8%AF%81%E7%A0%81%E5%9B%BE%E7%89%87/"/>
      <url>/2022/11/11/Python%E8%AF%86%E5%88%AB%E9%AA%8C%E8%AF%81%E7%A0%81%E5%9B%BE%E7%89%87/</url>
      
        <content type="html"><![CDATA[<p>ä¹‹å‰å¯¹å›¾ç‰‡è¿›è¡Œæ–‡å­—è¯†åˆ«ï¼Œç”¨è¿‡ç™¾åº¦çš„æ–‡å­—è¯†åˆ«APIï¼Œç¬”è®°ï¼š<a href="/2021/03/13/Python%E5%AF%B9%E5%9B%BE%E7%89%87%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/" title="Python å¯¹å›¾ç‰‡è¿›è¡Œæ–‡å­—è¯†åˆ«">Python å¯¹å›¾ç‰‡è¿›è¡Œæ–‡å­—è¯†åˆ«</a></p><p>ä½†æ˜¯å‘ç°ï¼Œç”¨è¿™ä¸ªæ¥è¯†åˆ«å›¾ç‰‡éªŒè¯ç ï¼Œé”™è¯¯ç‡å°±é«˜å¤šäº†ã€‚å› ä¸ºéªŒè¯ç å›¾ç‰‡æœ‰æ—¶å€™ç»å¸¸æœ‰ä¸€äº›å¤„ç†ï¼Œä¸æ˜¯ç®€å•çš„æ²¡æœ‰å¹²æ‰°çš„æ–‡å­—ã€‚</p><p>ç„¶åå‘ç°ç”¨ddddocrè¿™ä¸ªåº“ç²¾ç¡®å¤šäº†ã€‚æ¨èç”¨è¿™ä¸ªåº“è¯•ä¸€ä¸‹ã€‚</p><a id="more"></a><p>åº”è¯¥æ˜¯1å¹´å‰ç”¨è¿‡çš„äº†ï¼Œå‘ç°è¿™ä¸ªåº“ç°åœ¨è¿˜æ›´æ–°äº†éªŒè¯ç ç‚¹é€‰å’Œæ»‘å—çš„å†…å®¹ã€‚</p><p>æºç ï¼š<a class="link"   href="https://github.com/sml2h3/ddddocr" >https://github.com/sml2h3/ddddocr<i class="fas fa-external-link-alt"></i></a></p><p>ä¸Šé¢éƒ½æœ‰ä¸¾ä¾‹ï¼Œä½¿ç”¨ä¹Ÿå¾ˆç®€å•ã€‚</p><p><strong>å®‰è£…ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install ddddocr</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ddddocr</span><br><span class="line"></span><br><span class="line">ocr = ddddocr.DdddOcr()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;.\img\ocr_test.png&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    image = f.read()</span><br><span class="line"></span><br><span class="line">res = ocr.classification(image)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä½¿ç”¨ddddocræŠ¥é”™ImportError</title>
      <link href="/2022/11/11/Python%E4%BD%BF%E7%94%A8ddddocr%E6%8A%A5%E9%94%99ImportError/"/>
      <url>/2022/11/11/Python%E4%BD%BF%E7%94%A8ddddocr%E6%8A%A5%E9%94%99ImportError/</url>
      
        <content type="html"><![CDATA[<p>å®‰è£…å¥½ddddocråï¼Œä½¿ç”¨çš„æ—¶å€™ä¸€ç›´æŠ¥é”™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">    from .onnxruntime_pybind11_state import *  <span class="comment"># noqa</span></span><br><span class="line">ImportError: DLL load failed: æ‰¾ä¸åˆ°æŒ‡å®šçš„æ¨¡å—ã€‚</span><br></pre></td></tr></table></figure><a id="more"></a><p>ç½‘ä¸Šçœ‹äº†ä¸‹ ï¼Œä»¥ä¸ºè·Ÿonnxruntimeç‰ˆæœ¬ä»€ä¹ˆæœ‰å…³ç³»ï¼Œç„¶åçœ‹åˆ°æœ€åæ˜¯å®‰è£…VC++2019è§£å†³çš„ã€‚</p><p>ä¸‹è½½åœ°å€ï¼š<br>32ä½ï¼š<a class="link"   href="https://aka.ms/vs/16/release/VC_redist.x86.exe" >Microsoft Visual C++ Redistributable 2019x86 å®˜æ–¹ä¸‹è½½åœ°å€<i class="fas fa-external-link-alt"></i></a></p><p>64ä½ï¼š<a class="link"   href="https://aka.ms/vs/16/release/VC_redist.x64.exe" >Microsoft Visual C++ Redistributable 2019x64 å®˜æ–¹ä¸‹è½½åœ°å€<i class="fas fa-external-link-alt"></i></a></p><p>ä¸‹è½½å®‰è£…åï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockeræ­å»ºcodecombatæœ¬åœ°æœåŠ¡</title>
      <link href="/2022/10/25/Docker%E6%90%AD%E5%BB%BAcodecombat%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1/"/>
      <url>/2022/10/25/Docker%E6%90%AD%E5%BB%BAcodecombat%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_codecombat_1.png"                      style="zoom: 50%;"                ><p>è¿™æ˜¯ä¸ªæ¸¸æˆç¼–ç¨‹ç½‘ç«™ï¼Œå¯ä»¥ä¸€è¾¹æ¸¸æˆä¸€è¾¹å­¦ç¼–ç¨‹ï¼ˆPythonï¼‰ï¼Œæ„Ÿè§‰æŒºæœ‰æ„æ€ï¼Œå°±å»å®˜ç½‘ç©äº†ä¸‹ã€‚</p><p>ç„¶åç©äº†4-5å…³åï¼Œéƒ½ä¸èƒ½ç©äº†ï¼Œè®¢é˜…éœ€è¦99/æœˆã€‚é‚ä½œç½¢ã€‚</p><p>å¶ç„¶çœ‹åˆ°ç½‘ä¸Šæœ‰æ•™ç¨‹ï¼Œå¯ä»¥ç”¨Dockerç›´æ¥æ­è¿™ä¸ªæœ¬åœ°æœåŠ¡çš„ï¼Œç„¶åå°±è¯•äº†ä¸‹ï¼Œè¿˜çœŸæˆåŠŸäº†ï¼å°±åœ¨Win10çš„ç”µè„‘ä¸Šç›´æ¥æ­å»ºæˆåŠŸäº†ï¼ç”¨DockeræŒºç®€å•çš„ã€‚</p><a id="more"></a><h2 id="ä¸€ã€Dockerå®‰è£…"><a href="#ä¸€ã€Dockerå®‰è£…" class="headerlink" title="ä¸€ã€Dockerå®‰è£…"></a>ä¸€ã€Dockerå®‰è£…</h2><p>ç½‘ä¸Šæ•™ç¨‹ã€å®‰è£…æ–¹æ³•éƒ½æœ‰ï¼ŒDockerå¸¸ç”¨çš„ä¸€äº›å‘½ä»¤çœ‹è¿™ç¯‡ï¼š<a href="/2022/05/09/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="Dockerå¸¸ç”¨å‘½ä»¤">Dockerå¸¸ç”¨å‘½ä»¤</a></p><p><strong>Dockerä½¿ç”¨çš„ä¸€èˆ¬æ­¥éª¤</strong>ï¼š</p><ul><li>æ‹‰å–ä¸€ä¸ªé•œåƒï¼ˆ<code>docker pull</code>ï¼‰</li><li>åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼ˆ<code>docker run</code>ï¼‰</li><li>åœ¨å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤ï¼ˆ<code>docker exec</code>ï¼‰</li></ul><h2 id="äºŒã€åˆ›å»ºcodecombatå®¹å™¨"><a href="#äºŒã€åˆ›å»ºcodecombatå®¹å™¨" class="headerlink" title="äºŒã€åˆ›å»ºcodecombatå®¹å™¨"></a>äºŒã€åˆ›å»ºcodecombatå®¹å™¨</h2><h3 id="1-æ‹‰å–codecombaté•œåƒ"><a href="#1-æ‹‰å–codecombaté•œåƒ" class="headerlink" title="1.æ‹‰å–codecombaté•œåƒ"></a>1.æ‹‰å–codecombaté•œåƒ</h3><p>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦æˆ–PowerShellï¼ˆç®¡ç†å‘˜ï¼‰ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æ‹‰å–codecombaté•œåƒ</span><br><span class="line">docker pull operepo&#x2F;ope-codecombat</span><br><span class="line"></span><br><span class="line"># pullä¸‹è½½å®Œåï¼Œå¯ä»¥æŸ¥çœ‹é•œåƒ</span><br><span class="line">docker images</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸‹è½½æ…¢ï¼Œå¡ä½äº†ï¼Œæœ‰é—®é¢˜ï¼›å¯ä»¥é‡æ–°è¿è¡Œå‘½ä»¤pullä¸€ä¸‹ã€‚</p><h3 id="2-ä¸‹è½½éœ€è¦çš„æ•°æ®åŒ…"><a href="#2-ä¸‹è½½éœ€è¦çš„æ•°æ®åŒ…" class="headerlink" title="2.ä¸‹è½½éœ€è¦çš„æ•°æ®åŒ…"></a>2.ä¸‹è½½éœ€è¦çš„æ•°æ®åŒ…</h3><p>æ²¡æœ‰è¿™ä¸ªæ•°æ®åŒ…ï¼Œä¼šæ— æ³•è¿è¡Œã€‚<br>ä¸‹è½½åœ°å€ï¼ˆåˆ«äººåˆ†äº«çš„ï¼‰ï¼š<br><a class="link"   href="https://cloud.189.cn/t/IJzmuqz2u673" >https://cloud.189.cn/t/IJzmuqz2u673<i class="fas fa-external-link-alt"></i></a> (è®¿é—®ç :c1wi) </p><p>codecombatç›®å½•ä¸‹æœ‰ä¸ªï¼šdump.tar.gzï¼Œå°±ä¸‹è½½è¿™ä¸ªã€‚</p><h3 id="3-åˆ›å»ºmycodecombatå®¹å™¨"><a href="#3-åˆ›å»ºmycodecombatå®¹å™¨" class="headerlink" title="3.åˆ›å»ºmycodecombatå®¹å™¨"></a>3.åˆ›å»ºmycodecombatå®¹å™¨</h3><p>åˆ›å»ºè®¿é—®ç«¯å£ä¸º3020çš„å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -itd --name mycodecombat -p 0.0.0.0:3020:3000 operepo/ope-codecombat /bin/bash</span><br></pre></td></tr></table></figure><p><strong>å‚æ•°è§£é‡Š</strong>ï¼š</p><blockquote><p>-itï¼šè¿™ä¸ªå°±æ˜¯å¯åŠ¨å®¹å™¨éƒ½ä¼šå¸¦ï¼Œä¸ç”¨ç®¡<br>-dï¼šè¡¨ç¤ºåå°è¿è¡Œ<br>â€“name mycodecombatï¼šå®¹å™¨åç§°ä¸ºmycodecombatï¼Œå¯ä»¥è‡ªå®šä¹‰<br>-p 0.0.0.0:3020:3000ï¼šè¡¨ç¤ºæŠŠå®¹å™¨ä¸­çš„3000ç«¯å£æ˜ å°„åˆ°æœ¬æœºçš„3020ç«¯å£ï¼Œè¿™ä¸ª3020ä¹Ÿæ˜¯è‡ªå®šä¹‰</p></blockquote><h2 id="ä¸‰ã€å¯¼å…¥dump-tar-gzæ•°æ®"><a href="#ä¸‰ã€å¯¼å…¥dump-tar-gzæ•°æ®" class="headerlink" title="ä¸‰ã€å¯¼å…¥dump.tar.gzæ•°æ®"></a>ä¸‰ã€å¯¼å…¥dump.tar.gzæ•°æ®</h2><h3 id="1-å®¹å™¨å†…å¼€å¯æ•°æ®åº“æœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰"><a href="#1-å®¹å™¨å†…å¼€å¯æ•°æ®åº“æœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰" class="headerlink" title="1.å®¹å™¨å†…å¼€å¯æ•°æ®åº“æœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰"></a>1.å®¹å™¨å†…å¼€å¯æ•°æ®åº“æœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰</h3><p>æ‰“å¼€ä¸€ä¸ªPowerShellï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1).è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it mycodecombat /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2).å®¹å™¨å†…å¼€å¯æ•°æ®åº“æœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰</span></span><br><span class="line"><span class="built_in">cd</span> /home/coco/codecombat &amp;&amp; ./bin/coco-mongodb</span><br></pre></td></tr></table></figure><h3 id="2-å¯¼å…¥dump-tar-gzæ•°æ®"><a href="#2-å¯¼å…¥dump-tar-gzæ•°æ®" class="headerlink" title="2.å¯¼å…¥dump.tar.gzæ•°æ®"></a>2.å¯¼å…¥dump.tar.gzæ•°æ®</h3><p>æ‰“å¼€<strong>å¦ä¸€ä¸ª</strong>PowerShellï¼Œè¿›å…¥æ”¾dump.tar.gzæ•°æ®å‹ç¼©åŒ…çš„ç›®å½•ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1).æŠŠæ•°æ®åŒ…dump.tar.gzå¤åˆ¶åˆ°å®¹å™¨å†…</span></span><br><span class="line">docker cp dump.tar.gz mycodecombat:/home/coco/codecombat/data/</span><br><span class="line"><span class="comment"># 2).è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it mycodecombat /bin/bash</span><br><span class="line"><span class="comment"># 3).è¿›å…¥æ”¾æ•°æ®çš„dataç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /home/coco/codecombat/data/</span><br><span class="line"><span class="comment"># 3).è§£å‹</span></span><br><span class="line">tar -zxvf dump.tar.gz</span><br></pre></td></tr></table></figure><h3 id="3-å®¹å™¨å†…å¼€å¯webæœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰"><a href="#3-å®¹å™¨å†…å¼€å¯webæœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰" class="headerlink" title="3.å®¹å™¨å†…å¼€å¯webæœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰"></a>3.å®¹å™¨å†…å¼€å¯webæœåŠ¡ï¼ˆä¸è¦å…³é—­çª—å£ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/coco &amp;&amp; sh start.sh</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªçª—å£ï¼ˆä¸€ä¸ªæ•°æ®åº“æœåŠ¡ã€ä¸€ä¸ªwebæœåŠ¡éƒ½ä¸èƒ½å…³é—­ï¼‰<br>PS.æŠ¥é”™çš„è¯ï¼Œå…ˆé‡å¯ä¸‹æ•°æ®åº“æœåŠ¡ï¼Œå†é‡å¯webæœåŠ¡ã€‚</p><h2 id="å››ã€è¿›å…¥æ¸¸æˆ"><a href="#å››ã€è¿›å…¥æ¸¸æˆ" class="headerlink" title="å››ã€è¿›å…¥æ¸¸æˆ"></a>å››ã€è¿›å…¥æ¸¸æˆ</h2><p>è®¿é—®ï¼š<a class="link"   href="http://127.0.0.1:3020/" >http://127.0.0.1:3020<i class="fas fa-external-link-alt"></i></a> æˆ–è‡ªå·±ç”µè„‘çš„ http://[ip]:3020 éƒ½å¯ä»¥ã€‚</p><p>ç›´æ¥ç‚¹å‡»<strong>å¼€å§‹æ¸¸æˆ</strong> å¼€å§‹ã€‚</p><p>PS.å¦‚æœæœ‰çš„å¼€äº†ipv6ï¼Œå¯èƒ½ç”¨ipå’Œ127.0.0.1éƒ½æ— æ³•è®¿é—®ï¼Œè¯•ä¸€ä¸‹ï¼šlocalhost:3020<br>ping localhost çœ‹ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯[::1]ï¼Œé‚£å°±æ˜¯ipv6ã€‚<br>è§£å†³æ–¹æ³•ï¼Œåœ¨hostsæ–‡ä»¶æ·»åŠ ä¸€å¥<code>127.0.0.1 localhost</code>å°±è¡Œã€‚è¿™æ ·æ­£å¸¸æƒ…å†µï¼Œ3ç§éƒ½æ˜¯å¯ä»¥è®¿é—®çš„ã€‚</p><h2 id="äº”ã€Ubuntu20-04ä¸­ç”¨Dockeræ­å»ºCodecombat"><a href="#äº”ã€Ubuntu20-04ä¸­ç”¨Dockeræ­å»ºCodecombat" class="headerlink" title="äº”ã€Ubuntu20.04ä¸­ç”¨Dockeræ­å»ºCodecombat"></a>äº”ã€Ubuntu20.04ä¸­ç”¨Dockeræ­å»ºCodecombat</h2><p>ç”¨Dockerä¹ˆï¼Œè·Ÿåœ¨Windowsä¸­åˆ«çš„å·®åˆ«ä¸å¤§ã€‚å°±æ˜¯åœ¨å¼€å¯æ•°æ®åº“æœåŠ¡å’ŒWebæœåŠ¡çš„æ—¶å€™ï¼Œä¸è¦ç›´æ¥å¼€ï¼Œåœ¨åå°è¿è¡Œå°±è¡Œäº†ã€‚</p><h3 id="1-å¼€å¯æ•°æ®åº“æœåŠ¡"><a href="#1-å¼€å¯æ•°æ®åº“æœåŠ¡" class="headerlink" title="1.å¼€å¯æ•°æ®åº“æœåŠ¡"></a>1.å¼€å¯æ•°æ®åº“æœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Windows</span></span><br><span class="line"><span class="built_in">cd</span> /home/coco/codecombat &amp;&amp; ./bin/coco-mongodb</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu(ç”¨nohupåå°è¿è¡Œï¼Œä¼šç”Ÿæˆä¸€ä¸ªPIDè¿›ç¨‹å·ï¼Œç”¨killå¯ç»“æŸè¿›ç¨‹å°±è¡Œ)</span></span><br><span class="line"><span class="built_in">cd</span> /home/coco/codecombat</span><br><span class="line">nohup ./bin/coco-mongodb &gt; mycoco-mongodb.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><h3 id="2-å¼€å¯webæœåŠ¡"><a href="#2-å¼€å¯webæœåŠ¡" class="headerlink" title="2.å¼€å¯webæœåŠ¡"></a>2.å¼€å¯webæœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Windows</span></span><br><span class="line"><span class="built_in">cd</span> /home/coco &amp;&amp; sh start.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntuï¼Œmystart.logè¿™äº›æ˜¯æ—¥å¿—åï¼Œéšæ„å–</span></span><br><span class="line"><span class="built_in">cd</span> /home/coco</span><br><span class="line">nohup sh start.sh &gt; mystart.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><h2 id="å…­ã€ä¸Šå¸æ¨¡å¼"><a href="#å…­ã€ä¸Šå¸æ¨¡å¼" class="headerlink" title="å…­ã€ä¸Šå¸æ¨¡å¼"></a>å…­ã€ä¸Šå¸æ¨¡å¼</h2><p>ä¸Šå¸æ¨¡å¼å°±æ˜¯æ¸¸æˆé‡Œæ‰€æœ‰çš„éƒ½è§£é”äº†ï¼Œéƒ½å¯ä»¥ç©äº†ã€‚ä¸ç”¨ç­‰é€šå…³å»è§£é”ã€‚<br>PS.é‡Œé¢æœ‰å‡ å…³å¯èƒ½æ•°æ®æœ‰é—®é¢˜ï¼Œç©ä¸äº†ã€‚æ‰€ä»¥å¼€äº†ä¸Šå¸æ¨¡å¼ï¼Œå…¶å®ƒçš„å°±ä¸å½±å“äº†ã€‚</p><h3 id="1-æ³¨å†Œç‹¬ç«‹è´¦å·"><a href="#1-æ³¨å†Œç‹¬ç«‹è´¦å·" class="headerlink" title="1.æ³¨å†Œç‹¬ç«‹è´¦å·"></a>1.æ³¨å†Œç‹¬ç«‹è´¦å·</h3><p>æ‰“å¼€ <a class="link"   href="http://127.0.0.1:3020/" >http://127.0.0.1:3020<i class="fas fa-external-link-alt"></i></a> ï¼Œç‚¹å‡»ã€æ³¨å†Œã€‘ï¼Œè¦é€‰æ‹©ã€ç‹¬ç«‹è´¦å·ã€‘ã€‚<br>ç”¨ä¸ªè‡ªå·±çš„é‚®ç®±å’Œè´¦å·ï¼ˆè‹±æ–‡å°±è¡Œï¼‰ï¼Œæ¯”å¦‚æˆ‘çš„è´¦å·åä¸ºï¼šabccba</p><p>æ³¨æ„ï¼šå‡ºç”Ÿæ—¥æœŸå¾€å‰é¢é€‰ä¸€ç‚¹ï¼Œé€‰æ‹©1990å¹´ä¹‹å‰ï¼Œå¦åˆ™åˆ¤å®šä¸æ˜¯å®¶é•¿ï¼Œå°±æ— æ³•æ³¨å†Œã€‚</p><h3 id="2-å¼€å¯â€œç®¡ç†â€å’Œâ€œä¸Šå¸æ¨¡å¼â€"><a href="#2-å¼€å¯â€œç®¡ç†â€å’Œâ€œä¸Šå¸æ¨¡å¼â€" class="headerlink" title="2.å¼€å¯â€œç®¡ç†â€å’Œâ€œä¸Šå¸æ¨¡å¼â€"></a>2.å¼€å¯â€œç®¡ç†â€å’Œâ€œä¸Šå¸æ¨¡å¼â€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1).è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it mycodecombat /bin/bash</span><br><span class="line"><span class="comment"># 2).æ‰“å¼€æ•°æ®åº“</span></span><br><span class="line">mongo</span><br><span class="line"><span class="comment"># 3).ä½¿ç”¨cocooæ•°æ®åº“</span></span><br><span class="line">use coco</span><br><span class="line"><span class="comment"># 4).å°†abccbaè´¦å·å‡çº§ä¸ºâ€œä¸Šå¸æ¨¡å¼â€ï¼Œè¿™é‡Œabccbaä¸ºä½ è‡ªå·±æ³¨å†Œæ—¶å€™ç”¨çš„åå­—</span></span><br><span class="line">db.users.update(&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;abccba&#x27;</span>&#125;,&#123;<span class="variable">$set</span>:&#123;<span class="string">&#x27;earned.gems&#x27;</span>:9999999,permissions:[<span class="string">&quot;godmode&quot;</span>,<span class="string">&quot;admin&quot;</span>]&#125;&#125;,<span class="literal">true</span>,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>å†ç™»å½•è¿™ä¸ªè´¦å·ï¼Œå°±èƒ½çœ‹åˆ°å…¨éƒ¨æ˜¯è§£é”çŠ¶æ€å•¦ã€‚çˆ½æ­ªæ­ªï¼<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_codecombat_2.png"                      style="zoom: 50%;"                ></p><p>å‚è€ƒï¼š<a class="link"   href="https://www.bilibili.com/read/cv18786920?from=articleDetail" >dockeræ­å»ºcodecombatæœ¬åœ°æœåŠ¡æ•™ç¨‹<i class="fas fa-external-link-alt"></i></a></p><h2 id="ä¸ƒã€ä¿®æ”¹ç”¨æˆ·å¯†ç "><a href="#ä¸ƒã€ä¿®æ”¹ç”¨æˆ·å¯†ç " class="headerlink" title="ä¸ƒã€ä¿®æ”¹ç”¨æˆ·å¯†ç "></a>ä¸ƒã€ä¿®æ”¹ç”¨æˆ·å¯†ç </h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1).è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it mycodecombat /bin/bash</span><br><span class="line"><span class="comment"># 2).æ‰“å¼€æ•°æ®åº“</span></span><br><span class="line">mongo</span><br><span class="line"><span class="comment"># 3).ä½¿ç”¨cocooæ•°æ®åº“</span></span><br><span class="line">use coco</span><br><span class="line"><span class="comment"># 4).æŸ¥çœ‹ç”¨æˆ·abccbaå¯†ç </span></span><br><span class="line">db.users.find(&#123;name: <span class="string">&#x27;abccba&#x27;</span>&#125;, &#123;name: 1, passwordHash: 1&#125;)</span><br><span class="line"><span class="comment"># 5).æŸ¥çœ‹ç”¨æˆ·æ‰€æœ‰ä¿¡æ¯</span></span><br><span class="line">db.users.find(&#123;name: <span class="string">&#x27;abccba&#x27;</span>&#125;)</span><br><span class="line"><span class="comment"># 6).ä¿®æ”¹ç”¨æˆ·abccbaå¯†ç </span></span><br><span class="line">db.users.updateOne(&#123;name: <span class="string">&#x27;abccba&#x27;</span>&#125;, &#123;<span class="variable">$set</span>: &#123;passwordHash: <span class="string">&#x27;977aa9a1ce6a580116484f227cca6ded1d82f37987c22121748ff1625640a4623c52e0f420420d15bb89ae680e3f27cb5d7d92d1a2c738fae5d753d66c94c9e8&#x27;</span>&#125;&#125;)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å¯†ç çš„æ—¶å€™ï¼Œå› ä¸ºæ˜¯ä¿®æ”¹ä¸º passwordHash å€¼ï¼Œæ‰€ä»¥ä¸çŸ¥é“çš„è¯å¯ä»¥åˆ›å»ºä¸ªæ–°çš„è´¦å·ï¼Œçœ‹ä¸€ä¸‹è¿™ä¸ªè´¦å·çš„å¯†ç ï¼Œç„¶åç”¨è¿™ä¸ªå°±å¯ä»¥äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Python </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Seleniumæœ¬åœ°debuggeræ¨¡å¼</title>
      <link href="/2022/10/19/Python-Selenium%E6%9C%AC%E5%9C%B0debugger%E6%A8%A1%E5%BC%8F/"/>
      <url>/2022/10/19/Python-Selenium%E6%9C%AC%E5%9C%B0debugger%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>ä¸ºäº†è·³è¿‡seleniumçš„webdriveræ£€æµ‹ï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œè¿™é‡Œä»‹ç»ä½¿ç”¨æœ¬åœ°debuggerè°ƒè¯•æ¨¡å¼ç™»å½•ã€‚</p><a id="more"></a><h3 id="ä½¿ç”¨æ­¥éª¤"><a href="#ä½¿ç”¨æ­¥éª¤" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h3><p><strong>1.ç¬¬ä¸€æ­¥ï¼Œç”¨Windows PowerShellæˆ–å‘½ä»¤æç¤ºç¬¦è¿è¡Œchrome.exe</strong></p><p>æ‰¾åˆ°Chromeæµè§ˆå™¨çš„å®‰è£…è·¯å¾„ï¼Œæ¯”å¦‚æˆ‘çš„åœ¨ï¼š<code>C:\Program Files (x86)\Google\Chrome\Application</code>ï¼Œé‡Œé¢å°±æœ‰chrome.exeç¨‹åºã€‚</p><p>è¿è¡Œä»¥ä¸‹2æ¡å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="string">&quot;C:\Program Files (x86)\Google\Chrome\Application&quot;</span></span><br><span class="line"></span><br><span class="line">.\chrome.exe --remote-debugging-port=9222 --user-data-dir=D:\cdsf</span><br></pre></td></tr></table></figure><blockquote><p>remote-debugging-portï¼šæ˜¯ä»£ç ä¸­æŒ‡å®šçš„ç«¯å£debuggerAddressï¼›<br>user-data-dirï¼šéšä¾¿æŒ‡å®šä¸€ä¸ªç›®å½•å°±è¡Œï¼ˆçœŸå®æ²¡æœ‰è¿™ä¸ªç›®å½•ä¹Ÿæ²¡å…³ç³»ï¼Œåå­—éšä¾¿å–ï¼‰</p></blockquote><p>å¦‚å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_douban_backup_1.png"                                     ></p><p>è¿è¡Œå®Œåä¼šæ‰“å¼€Chromeæµè§ˆå™¨ã€‚</p><p><strong>2.ç¬¬äºŒæ­¥ï¼ŒPythonæ–‡ä»¶ä¸­å…³é”®ä»£ç </strong></p><p>æ¯”å¦‚åœ¨main.pyå…³é”®ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line"><span class="comment"># ä½¿ç”¨æœ¬åœ°debuggeræ¨¡å¼ï¼Œå¯ä»¥æå‰ç™»å½•</span></span><br><span class="line">option.add_experimental_option(<span class="string">&#x27;debuggerAddress&#x27;</span>,<span class="string">&#x27;127.0.0.1:9222&#x27;</span>)</span><br><span class="line"></span><br><span class="line">wd = webdriver.Chrome(options=option)</span><br><span class="line">wd.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">site = <span class="string">&#x27;www.baidu.com&#x27;</span></span><br><span class="line">wd.get(site)</span><br></pre></td></tr></table></figure><p>åœ¨main.pyä¸­è¿è¡Œç¨‹åºã€‚å°±ä¼šåœ¨æ‰“å¼€çš„Chromeæµè§ˆå™¨ä¸­æ­£å¸¸è¿è¡Œäº†ã€‚</p><p>PS.å¦‚æœè‡ªå·±æå‰ç™»å½•è¿‡ï¼Œè¿˜èƒ½è®°ä½å¯†ç ã€‚å†ç™»å½•çš„æ—¶å€™å¯ä»¥ä¸éœ€è¦ç™»å½•äº†ã€‚<br>æ‰€ä»¥ï¼Œå¦‚æœéœ€è¦ç™»å½•å¤šä¸ªè´¦æˆ·çš„ï¼Œæ“ä½œå®Œåè¦è®°å¾—é€€å‡ºç™»å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pipå‡çº§å‘½ä»¤</title>
      <link href="/2022/10/18/pip%E5%8D%87%E7%BA%A7%E5%91%BD%E4%BB%A4/"/>
      <url>/2022/10/18/pip%E5%8D%87%E7%BA%A7%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="1-æŸ¥çœ‹å½“å‰å®‰è£…çš„pipç‰ˆæœ¬"><a href="#1-æŸ¥çœ‹å½“å‰å®‰è£…çš„pipç‰ˆæœ¬" class="headerlink" title="1.æŸ¥çœ‹å½“å‰å®‰è£…çš„pipç‰ˆæœ¬"></a>1.æŸ¥çœ‹å½“å‰å®‰è£…çš„pipç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹åˆ°pipå®Œæ•´ä¿¡æ¯</span></span><br><span class="line">pip show pip</span><br><span class="line"><span class="comment"># ä¸‹é¢è¿™ä¸ªç»å¸¸ç”¨æ¥æŸ¥ç‰ˆæœ¬çš„ä¹Ÿå¯ä»¥æŸ¥è¯¢åˆ°</span></span><br><span class="line">pip --version</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="2-å‡çº§pip"><a href="#2-å‡çº§pip" class="headerlink" title="2.å‡çº§pip"></a>2.å‡çº§pip</h3><p>å¦‚æœç”¨pipå®‰è£…çš„æ—¶å€™ä¼šæœ‰æ¯”è¾ƒæ…¢çš„é—®é¢˜ï¼Œå¯ä»¥å…ˆæ›´æ”¹ä¸€ä¸‹pipé»˜è®¤çš„æºï¼Œçœ‹ä¹‹å‰è¿™ç¯‡ç¬”è®°ï¼š<a href="/2022/10/12/Python-pip%E6%BA%90%E8%AE%BE%E7%BD%AE%EF%BC%88%E4%BD%BF%E7%94%A8%E6%B8%85%E5%8D%8E%E6%BA%90%EF%BC%89/" title="Python pipæºè®¾ç½®ï¼ˆä½¿ç”¨æ¸…åæºï¼‰">Python pipæºè®¾ç½®ï¼ˆä½¿ç”¨æ¸…åæºï¼‰</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨pipå‘½ä»¤æ—¶ä½¿ç”¨æ¸…åæº</span></span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"><span class="comment"># å‡çº§pip</span></span><br><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></table></figure><h3 id="3-pipå¸è½½-amp-å®‰è£…"><a href="#3-pipå¸è½½-amp-å®‰è£…" class="headerlink" title="3.pipå¸è½½&amp;å®‰è£…"></a>3.pipå¸è½½&amp;å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pipå¸è½½</span></span><br><span class="line">python -m pip uninstall pip</span><br><span class="line"></span><br><span class="line"><span class="comment"># pipå®‰è£…</span></span><br><span class="line">python -m ensurepip --default-pip</span><br><span class="line"><span class="comment"># pipå®‰è£… æœ‰setuptoolsçš„è¯</span></span><br><span class="line">easy_install pip</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¾¤æ™–NAS frpå†…ç½‘ç©¿é€æ•™ç¨‹</title>
      <link href="/2022/10/17/%E7%BE%A4%E6%99%96NAS-frp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%95%99%E7%A8%8B/"/>
      <url>/2022/10/17/%E7%BE%A4%E6%99%96NAS-frp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>ç¾¤æ™–çš„ç³»ç»Ÿç®¡ç†é¡µé¢ï¼Œä¸€èˆ¬é»˜è®¤è®¿é—®å°±æ˜¯ï¼š192.168.1.122:5000 ç±»ä¼¼è¿™æ ·çš„å±€åŸŸç½‘åœ°å€ï¼Œç«¯å£å·5000ï¼Œipæ˜¯è‡ªå·±çš„è·¯ç”±å™¨å¯ä»¥ç»‘çš„ä¸€ä¸ªipåœ°å€ã€‚</p><p>é‚£è¦åœ¨å¤–é¢è®¿é—®ï¼Œä¸åœ¨å±€åŸŸç½‘å†…çš„è¯ï¼Œå°±éœ€è¦å†…ç½‘ç©¿é€ã€‚</p><p>ç¾¤æ™–æœ¬èº«ä¹Ÿæ˜¯è‡ªå¸¦äº†å†…ç½‘ç©¿é€çš„ï¼Œå½“åœ¨ã€æ§åˆ¶é¢æ¿ã€‘å¼€å¯QuickConnectåï¼Œè¿™ä¸ªå°±æä¾›äº†å†…ç½‘ç©¿é€ã€‚è®¾ç½®ä¸€ä¸‹QuickConnect IDåï¼Œå°±å¯ä»¥é€šè¿‡ï¼š<a class="link"   href="http://quickconnect.cn/quickconnect_id" >http://QuickConnect.cn/quickconnect_id<i class="fas fa-external-link-alt"></i></a> æ¥è®¿é—®äº†ã€‚ï¼ˆæœ‰æ—¶å€™è¿æ¥æ¯”è¾ƒæ…¢ä¸€ç‚¹ï¼Œåªè¦æ‰“å¼€äº†ï¼Œèƒ½ç™»å½•ï¼Œä¸€èˆ¬ç®€å•æ“ä½œå¥½åƒæ²¡å•¥é—®é¢˜çš„ï¼‰</p><a id="more"></a><p>å¦‚æœæ²¡æœ‰åˆ«çš„éœ€æ±‚ï¼Œå°±ç”¨è¿™ä¸ªQuickConnectä¹Ÿæ˜¯å¤Ÿç”¨äº†ï¼ŒåŸæ¥å°±ç”¨çš„è¿™ä¸ªã€‚</p><p>å› ä¸ºæœ‰äº†åˆ«çš„éœ€æ±‚ï¼Œæ­£å¥½ä¹Ÿæœ‰è…¾è®¯äº‘çš„æœåŠ¡å™¨å’ŒåŸŸååœ¨ï¼Œä¹Ÿæ­£å¥½æœ‰éœ€è¦ã€åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…äº†FrpæœåŠ¡å™¨ç«¯ï¼Œæ‰€ä»¥é¡ºä¾¿ç»™ç¾¤æ™–ä¹Ÿç”¨äº†frpæ¥å†…ç½‘ç©¿é€ã€‚å› ä¸ºç¾¤æ™–ä¹Ÿæœ‰Dockerï¼Œæ‰€ä»¥å¾ˆæ–¹ä¾¿çš„ã€‚</p><p>ä¹‹å‰ç¬”è®°å†™äº†æ€ä¹ˆç”¨Dockeræ­å»ºfrpï¼Œä¸»è¦ç”¨è¿œç¨‹æ¡Œé¢ï¼š<a href="/2022/06/18/Docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨">Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨</a> å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼ŒæŠŠç¾¤æ™–å½“æˆä¸€å°ç”µè„‘ï¼Œå°±ä¸€æ ·äº†ã€‚</p><p>è¦åšçš„äº‹ï¼Œå…¶å®éå¸¸ç®€å•ï¼Œ<br>å› ä¸ºå·²ç»åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…äº†frp serverç«¯ï¼ˆæ¨èDockerå®‰è£…ï¼Œè¿™æ ·å¯ä»¥å¼€å¤šä¸ªï¼‰ï¼›<br>åªéœ€è¦åœ¨ç¾¤æ™–ä¸Šå®‰è£…Dockerï¼Œå†ä¸‹è½½frp clienté•œåƒï¼Œå¯åŠ¨ä¸‹å®¹å™¨å°±è¡Œäº†ã€‚</p><p><strong>å‡†å¤‡å·¥ä½œï¼š</strong></p><ul><li>ä¸€å°äº‘æœåŠ¡å™¨ï¼ˆUbuntuç³»ç»Ÿï¼Œæœ‰å…¬ç½‘ipï¼‰ï¼šä¸»è¦å¸¦Dockerï¼Œç”¨æ¥å®‰è£…frp serverç«¯</li><li>ä¸€å°ç¾¤æ™–NASï¼šå®‰è£…frp clientç«¯ï¼ˆDockerï¼‰</li></ul><h2 id="ä¸€ã€æ­å»ºfrp-server-æœåŠ¡å™¨ç«¯"><a href="#ä¸€ã€æ­å»ºfrp-server-æœåŠ¡å™¨ç«¯" class="headerlink" title="ä¸€ã€æ­å»ºfrp server(æœåŠ¡å™¨ç«¯)"></a>ä¸€ã€æ­å»ºfrp server(æœåŠ¡å™¨ç«¯)</h2><p>è¿™ä¸ªå‰é¢ç¬”è®°å†™äº†ï¼Œå°±ä¸ç»†è¯´äº†ã€‚çœ‹è¿™é‡Œï¼š<a href="/2022/06/18/Docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨">Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨</a></p><p>ç®€å•è¯´å°±æ˜¯å¯åŠ¨ä¸€ä¸ªfrpsçš„å®¹å™¨ï¼š</p><ul><li>1.é…ç½®ä¸€ä¸ªfrps.inié…ç½®æ–‡ä»¶</li><li>2.ä¸‹è½½frpsé•œåƒ</li><li>3.å¯åŠ¨å®¹å™¨</li></ul><h2 id="äºŒã€ç¾¤æ™–NASæ­å»ºfrp-client-å®¢æˆ·ç«¯"><a href="#äºŒã€ç¾¤æ™–NASæ­å»ºfrp-client-å®¢æˆ·ç«¯" class="headerlink" title="äºŒã€ç¾¤æ™–NASæ­å»ºfrp client(å®¢æˆ·ç«¯)"></a>äºŒã€ç¾¤æ™–NASæ­å»ºfrp client(å®¢æˆ·ç«¯)</h2><p>è·Ÿç”µè„‘ä¸Šæ²¡å•¥å·®åˆ«ã€‚<br>æ­¥éª¤ï¼š</p><ul><li>1.å®‰è£…Dockerå¥—ä»¶ï¼ˆå®˜æ–¹å°±æœ‰ï¼‰</li><li>2.ä¸‹è½½frpcé•œåƒ/æ˜ åƒï¼Œé€šè¿‡urlæ·»åŠ ï¼š<a class="link"   href="https://registry.hub.docker.com/r/snowdreamtech/frpc" >https://registry.hub.docker.com/r/snowdreamtech/frpc<i class="fas fa-external-link-alt"></i></a></li><li>3.é•œåƒä¸‹è½½å®Œæˆåï¼Œç›´æ¥å•å‡»ã€å¯åŠ¨ã€‘æŒ‰é’®ï¼Œå¯åŠ¨å®¹å™¨</li></ul><h3 id="frpc-inié…ç½®æ–‡ä»¶"><a href="#frpc-inié…ç½®æ–‡ä»¶" class="headerlink" title="frpc.inié…ç½®æ–‡ä»¶"></a>frpc.inié…ç½®æ–‡ä»¶</h3><p>å¯åŠ¨å®¹å™¨å‰ï¼Œéœ€è¦åšä¸€ä»¶äº‹ï¼Œåˆ›å»ºä¸€ä¸ªfrpc.inié…ç½®æ–‡ä»¶ï¼Œè·Ÿä¹‹å‰çš„é…ç½®ä¹Ÿä¸€æ ·çš„ã€‚è¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="comment"># server_addrä¸ºFRPSæœåŠ¡å™¨IPåœ°å€</span></span><br><span class="line"><span class="attr">server_addr</span> = <span class="number">43.142</span>.<span class="number">94.65</span></span><br><span class="line"><span class="comment"># server_portä¸ºæœåŠ¡ç«¯ç›‘å¬ç«¯å£ï¼Œbind_portï¼Œä¸frps.iniä¸­ä¿å­˜ä¸€è‡´</span></span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"><span class="comment"># èº«ä»½éªŒè¯ï¼Œä¸frps.iniä¸­ä¿å­˜ä¸€è‡´</span></span><br><span class="line"><span class="attr">token</span> = <span class="number">9</span>LgPn24TaC2NYZXY</span><br><span class="line"></span><br><span class="line"><span class="section">[web_host]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="comment"># local_ipæ˜¯ç¾¤æ™–NASå±€åŸŸç½‘ç™»å½•çš„ipï¼Œå¯¹åº”local_portä¸€èˆ¬æ˜¯5000</span></span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">192.168</span>.<span class="number">1.122</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">5000</span></span><br><span class="line"><span class="comment"># remote_portè‡ªå®šä¹‰ï¼Œä¸€èˆ¬5ä½çš„</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">18588</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ‰“å¼€ç¾¤æ™–NASæ¡Œé¢ä¸Šçš„ã€File Stationã€‘ï¼Œåœ¨Dockerç›®å½•ä¸‹åˆ›å»ºä¸ªfrpç›®å½•ï¼ŒæŠŠfrpc.iniç›´æ¥æ‹–æ”¾åˆ°frpç›®å½•é‡Œã€‚</p><p>ä¸»è¦è¯´ä¸€ä¸‹å¯åŠ¨å®¹å™¨çš„è®¾ç½®ã€‚å…¶å®å°±æ˜¯ç•Œé¢æ“ä½œï¼Œå¯¹åº”å‘½ä»¤ä¸€æ ·çš„ã€‚</p><h3 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h3><p>1.å®¹å™¨åç§°ï¼šè‡ªå®šä¹‰ï¼ˆæ¯”å¦‚frpc3ï¼Œè¿™æ˜¯æˆ‘å¼€çš„ç¬¬3ä¸ªfrpcï¼‰<br>2.å‹¾é€‰â€œä½¿ç”¨é«˜æƒé™æ‰§è¡Œå®¹å™¨â€<br>3.ç‚¹å¼€ã€é«˜çº§è®¾ç½®ã€‘</p><ul><li>ã€å­˜å‚¨ç©ºé—´ã€‘ä¸­æ·»åŠ æ–‡ä»¶frpc.iniï¼Œå¯¹åº”è£…è½½è·¯å¾„ä¹Ÿæ˜¯å›ºå®šçš„ä¸€æ ·çš„ï¼š/etc/frp/frpc.ini</li><li>ã€ç½‘ç»œã€‘ä¸­å‹¾é€‰ä½¿ç”¨ä¸Docker Hostç›¸åŒçš„ç½‘ç»œ<br>æœ€ååº”ç”¨ä¸€ä¸‹ï¼Œç­‰å®¹å™¨å¯åŠ¨å°±è¡Œäº†ã€‚</li></ul><p>ç­‰å®¹å™¨å¯åŠ¨åï¼Œå°±å¯ä»¥ç”¨frpc.inié…ç½®æ–‡ä»¶ä¸­çš„ server_addr:remote_port è®¿é—®ç¾¤æ™–çš„ç®¡ç†é¡µé¢äº†ã€‚<br>å³ï¼š43.142.94.65:18588</p>]]></content>
      
      
      <categories>
          
          <category> NAS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NAS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Joplin æ›´æ”¹é»˜è®¤å­˜å‚¨è·¯å¾„</title>
      <link href="/2022/10/16/Joplin%E6%94%B9%E5%8F%98%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E8%B7%AF%E5%BE%84/"/>
      <url>/2022/10/16/Joplin%E6%94%B9%E5%8F%98%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E8%B7%AF%E5%BE%84/</url>
      
        <content type="html"><![CDATA[<p>Jopliné»˜è®¤çš„å­˜å‚¨è·¯å¾„åœ¨ã€å·¥å…·ã€‘-&gt;ã€é€šç”¨é€‰é¡¹ã€‘ä¸­èƒ½çœ‹åˆ°ï¼Œå°±æ˜¯æ²¡æ³•ç›´æ¥æ›´æ”¹ã€‚<br>Windowsä¸Šç‰ˆæœ¬é»˜è®¤çš„è·¯å¾„æ˜¯ï¼š<code>C:\Users\[username]\.config\joplin-desktop</code></p><a id="more"></a><p><strong>æ›´æ”¹Joplinå­˜å‚¨è·¯å¾„æ–¹æ³•ï¼ˆWindowsï¼‰</strong>ï¼š</p><p>åœ¨Joplinçš„å¿«æ·æ–¹å¼ä¸Šå³é”®â€“&gt;ã€å±æ€§ã€‘ï¼Œåœ¨ã€ç›®æ ‡ã€‘ä¸­æ·»åŠ <code>--profile</code>å‚æ•°ã€‚<br>æ¯”å¦‚æˆ‘æƒ³ä¿å­˜åˆ°<code>D:\Joplin-desktop</code>ç›®å½•ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹åä¿å­˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;C:\Program Files\Joplin\Joplin.exe&quot;</span> --profile <span class="string">&quot;D:\Joplin-desktop&quot;</span></span><br></pre></td></tr></table></figure><p>Tipsï¼š</p><ul><li>1.ç›®å½•è·¯å¾„è¦ç”¨åŒå¼•å·</li><li>2.åœ¨profileå‰é¢æ˜¯2ä¸ª<code>-</code></li></ul><p>å¦‚æœå·²ç»åœ¨é»˜è®¤è·¯å¾„é‡Œå†™äº†ç¬”è®°ï¼Œç›´æ¥æŠŠé»˜è®¤è·¯å¾„ä¸­çš„å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°æ–°çš„è·¯å¾„ä¸‹ ï¼Œå†æ‰“å¼€Joplinï¼ŒåŸæ¥çš„ç¬”è®°éƒ½è¿˜åœ¨çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python pipå®‰è£…åŒ…æ—¶æŠ¥é”™ERROR Could not install packages due to an OSError</title>
      <link href="/2022/10/12/Python-pip%E5%AE%89%E8%A3%85%E5%8C%85%E6%97%B6%E6%8A%A5%E9%94%99OSError/"/>
      <url>/2022/10/12/Python-pip%E5%AE%89%E8%A3%85%E5%8C%85%E6%97%B6%E6%8A%A5%E9%94%99OSError/</url>
      
        <content type="html"><![CDATA[<p>Pythonç”¨çš„æ˜¯è™šæ‹Ÿç¯å¢ƒvirtualenvï¼Œç„¶ååˆæ˜¯æ”¾åœ¨åŒæ­¥ç›˜ã€‚è¿™æ ·æˆ‘ä¸¤å°ç”µè„‘éƒ½æ˜¯è£…çš„åŒä¸€ä¸ªPythonç‰ˆæœ¬ï¼Œå°±å…±ç”¨äº†åŒä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼ˆæ”¾åœ¨äº†åŒæ­¥ç›˜ï¼Œç›´æ¥åŒæ­¥çš„ï¼‰ã€‚</p><p>ä¸€å°ç”µè„‘ä¸Šæ­£å¸¸ï¼Œåœ¨å¦ä¸€å°ç”µè„‘ä¸Šç”¨pipå®‰è£…çš„æ—¶å€™æŠ¥äº†ä»¥ä¸‹é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Could not install packages due to an OSError: [Errno 2] No such file or directory:</span><br></pre></td></tr></table></figure><a id="more"></a><p>ä¸‹é¢æç¤ºè¿˜æœ‰æ¶‰åŠåˆ°çš„åŒ…ï¼Œç”¨<code>pip uninstall</code>å¸è½½äº†é‡è£…è¿˜æ˜¯ä¸è¡Œã€‚</p><p>ç„¶åå‘ç°åœ¨è™šæ‹Ÿç¯å¢ƒçš„<code>Lib\site-packages</code>ç›®å½•ä¸‹ï¼Œå¸è½½åçš„åŒ…è¿˜æœ‰æ®‹ç•™çš„ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong><br>å¯èƒ½æ˜¯åŒä¸€ä¸ªåŒ…æœ‰å¤šç‰ˆæœ¬çš„ç›®å½•å­˜åœ¨ï¼Œä¹Ÿå¯èƒ½æ²¡å¸è½½å¹²å‡€çš„ã€‚</p><ul><li>1.å…ˆç”¨<code>pip uninstall åŒ…å</code>å¸è½½</li><li>2.æŠŠ<code>Lib\site-packages</code>ç›®å½•ä¸‹å¸è½½åŒ…åè¿˜å­˜åœ¨çš„ç›®å½•ç›´æ¥åˆ é™¤</li><li>3.å†é‡æ–°ç”¨<code>pip install åŒ…å</code>å®‰è£…åŒ…</li></ul><p>ç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python pandasè¯»å–Excelæ—¶ç©ºå•å…ƒæ ¼è¯»å–ä¸ºnan</title>
      <link href="/2022/10/12/Python-pandas%E8%AF%BB%E5%8F%96Excel%E6%97%B6%E7%A9%BA%E5%8D%95%E5%85%83%E6%A0%BC%E8%AF%BB%E5%8F%96%E4%B8%BAnan/"/>
      <url>/2022/10/12/Python-pandas%E8%AF%BB%E5%8F%96Excel%E6%97%B6%E7%A9%BA%E5%8D%95%E5%85%83%E6%A0%BC%E8%AF%BB%E5%8F%96%E4%B8%BAnan/</url>
      
        <content type="html"><![CDATA[<p>å½“ç”¨pandasè¯»å–excelçš„æ—¶å€™ï¼Œç”¨åˆ°çš„æ˜¯read_excelå‡½æ•°ã€‚</p><p>æ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼Œread_excelå‡½æ•°ä¸­ï¼ˆé™¤äº†ç¬¬1ä¸ªå‚æ•°ï¼Œåé¢æ˜¯å¯é€‰çš„ï¼‰ï¼š</p><ul><li>ç¬¬1ä¸ªå‚æ•°æ˜¯excelæ–‡ä»¶</li><li>ç¬¬2ä¸ªå‚æ•°æ˜¯sheetåå­—</li><li>ç¬¬3ä¸ªå‚æ•°ä¸ºæŒ‡å®šçš„åˆ—å<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">usecols = [<span class="string">&#x27;åºå·&#x27;</span>,<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;åº§ä½å·&#x27;</span>]</span><br><span class="line">df = pd.read_excel(excel_file, sheet_name, usecols=usecols)</span><br></pre></td></tr></table></figure><a id="more"></a></li></ul><p>è¯»å–å†…å®¹åï¼Œå‘ç°å¦‚æœå•å…ƒæ ¼æ˜¯ç©ºçš„è¯ï¼Œè¯»å–åˆ°çš„å­—ç¬¦ä¸²å°±ä¼šå˜æˆnanã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>å°±åœ¨ä½¿ç”¨read_excelå‡½æ•°æ—¶ï¼Œå¤šæ·»åŠ ä¸€ä¸ªå‚æ•°keep_default_naå°±è¡Œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df &#x3D; pd.read_excel(data_file, sheet_name, usecols&#x3D;usecols, keep_default_na&#x3D;&#39;&#39;)</span><br></pre></td></tr></table></figure><p>ç»™keep_default_naè®¾ä¸€ä¸ªå½“ç©ºå•å…ƒæ ¼æ—¶çš„å€¼å°±è¡Œã€‚<br>æ¯”å¦‚æˆ‘ä¸Šé¢å°±è®¾ä¸ºäº†<code>&#39;&#39;</code>å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæŒ‰è‡ªå·±éœ€è¦ï¼Œè®¾<code>keep_default_na=False</code>éƒ½è¡Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python pipæºè®¾ç½®ï¼ˆä½¿ç”¨æ¸…åæºï¼‰</title>
      <link href="/2022/10/12/Python-pip%E6%BA%90%E8%AE%BE%E7%BD%AE%EF%BC%88%E4%BD%BF%E7%94%A8%E6%B8%85%E5%8D%8E%E6%BA%90%EF%BC%89/"/>
      <url>/2022/10/12/Python-pip%E6%BA%90%E8%AE%BE%E7%BD%AE%EF%BC%88%E4%BD%BF%E7%94%A8%E6%B8%85%E5%8D%8E%E6%BA%90%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>ç›´æ¥ç”¨pipå®‰è£…åŒ…çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯é»˜è®¤çš„pythonçš„å®˜æ–¹çš„ï¼Œæ˜¯å›½å¤–çš„ï¼Œæ‰€ä»¥é€Ÿåº¦æœ‰æ—¶å€™æŒºæ…¢çš„ï¼Œç”¨å›½å†…çš„æºä¼šæ–¹ä¾¿ä¸€ç‚¹ï¼Œé€Ÿåº¦å°±æ­£å¸¸ã€å¿«å¤šäº†ã€‚</p><p><strong>å›½å†…å¸¸ç”¨çš„pipæºï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è±†ç“£ http:&#x2F;&#x2F;pypi.douban.com&#x2F;simple&#x2F;</span><br><span class="line">æ¸…åå¤§å­¦ https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple&#x2F;</span><br><span class="line">é˜¿é‡Œäº‘ http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;pypi&#x2F;simple&#x2F;</span><br><span class="line">ä¸­å›½ç§‘æŠ€å¤§å­¦ https:&#x2F;&#x2F;pypi.mirrors.ustc.edu.cn&#x2F;simple&#x2F;</span><br><span class="line">ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ http:&#x2F;&#x2F;pypi.mirrors.ustc.edu.cn&#x2F;simple&#x2F;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹ç”¨æ¸…åæºå®‰è£…pandasåŒ…ä¸¾ä¾‹ã€‚</p><a id="more"></a><h3 id="1-ä¸´æ—¶ä½¿ç”¨æ¸…åæºå®‰è£…pandasåŒ…"><a href="#1-ä¸´æ—¶ä½¿ç”¨æ¸…åæºå®‰è£…pandasåŒ…" class="headerlink" title="1.ä¸´æ—¶ä½¿ç”¨æ¸…åæºå®‰è£…pandasåŒ…"></a>1.ä¸´æ—¶ä½¿ç”¨æ¸…åæºå®‰è£…pandasåŒ…</h3><p>ä½¿ç”¨pipå‘½ä»¤çš„æ—¶å€™ï¼Œæ·»åŠ <code>-i url</code>å‚æ•°å°±å¯ä»¥äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pandas</span><br></pre></td></tr></table></figure><h3 id="2-æ°¸ä¹…è®¾ç½®ä½¿ç”¨æ¸…åæº"><a href="#2-æ°¸ä¹…è®¾ç½®ä½¿ç”¨æ¸…åæº" class="headerlink" title="2.æ°¸ä¹…è®¾ç½®ä½¿ç”¨æ¸…åæº"></a>2.æ°¸ä¹…è®¾ç½®ä½¿ç”¨æ¸…åæº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥å…ˆå‡çº§ä¸‹pipç‰ˆæœ¬</span></span><br><span class="line">python -m pip install --upgrade pip</span><br><span class="line"><span class="comment"># ä½¿ç”¨pipå‘½ä»¤æ—¶è®¾ç½®ä½¿ç”¨æ¸…åæº</span></span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><p>è®¾ç½®åå†ä½¿ç”¨pipå‘½ä»¤å®‰è£…åŒ…æ—¶ï¼Œå°±èƒ½çœ‹åˆ°ä¸‹è½½åœ°å€æ˜¯æ¸…åæºäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excelä¸­éšæœºæŠ½å–ä¸­å¥–è€…</title>
      <link href="/2022/09/25/Excel%E4%B8%AD%E9%9A%8F%E6%9C%BA%E6%8A%BD%E5%8F%96%E4%B8%AD%E5%A5%96%E8%80%85/"/>
      <url>/2022/09/25/Excel%E4%B8%AD%E9%9A%8F%E6%9C%BA%E6%8A%BD%E5%8F%96%E4%B8%AD%E5%A5%96%E8%80%85/</url>
      
        <content type="html"><![CDATA[<p>åº”ç”¨åœºæ™¯ï¼šæ¯”å¦‚éšæœºæŠ½ä¸ªå¥–å•Šï¼ŒéšæœºæŠ½ä¸ªäººå›ç­”é—®é¢˜å•Šï¼ŒéšæœºæŠ½ä¸ªäººæ¼”è®²å•Šï¼ŒéšæœºæŠ½äººæ’å€¼ç­å•Šâ€¦â€¦</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¦åœ¨è¿™ä¸€åˆ—å§“åä¸­<strong>éšæœº</strong>æŠ½å‡ºä¸€ä¸ªäººæ¥ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_rand_name_1.png"                      style="zoom: 75%;"                ></p><p><strong>æ€è·¯ï¼š</strong></p><ul><li>1.åœ¨ä¸€åˆ—ä¸­å†™ä¸Šå§“åï¼Œç”¨COUNTAå‡½æ•°ç»Ÿè®¡æœ‰å†…å®¹çš„æ€»äººæ•°</li><li>2.ç”¨RANDBETWEENå‡½æ•°ä»æ€»äººæ•°èŒƒå›´å†…éšæœºæŠ½å–ä¸€ä¸ªäººçš„åºå·</li><li>3.ç”¨INDEXå‡½æ•°è¿”å›åºå·å¯¹åº”çš„äººçš„å§“å</li></ul><a id="more"></a><h3 id="1-ç”¨COUNTAå‡½æ•°ç»Ÿè®¡æ€»äººæ•°"><a href="#1-ç”¨COUNTAå‡½æ•°ç»Ÿè®¡æ€»äººæ•°" class="headerlink" title="1.ç”¨COUNTAå‡½æ•°ç»Ÿè®¡æ€»äººæ•°"></a>1.ç”¨COUNTAå‡½æ•°ç»Ÿè®¡æ€»äººæ•°</h3><p><strong>COUNTAå‡½æ•°</strong>ï¼šè®¡ç®—èŒƒå›´ä¸­ä¸ä¸ºç©ºçš„å•å…ƒæ ¼çš„ä¸ªæ•°ã€‚<br><strong>è¯­æ³•</strong>ï¼šCOUNTA(value1, [value2], â€¦)</p><ul><li>value1ï¼šå¿…éœ€ã€‚ è¡¨ç¤ºè¦è®¡æ•°çš„å€¼çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li><li>value2,â€¦ï¼šå¯é€‰ã€‚è¡¨ç¤ºè¦è®¡æ•°çš„å€¼çš„å…¶ä»–å‚æ•°ï¼Œæœ€å¤šå¯åŒ…å« 255 ä¸ªå‚æ•°ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è®¡ç®—å•å…ƒæ ¼A2åˆ°A6ä¸­çš„éç™½å•å…ƒæ ¼çš„æ•°é‡ï¼š</span><br><span class="line">&#x3D;COUNTA(A2:A6)</span><br><span class="line"></span><br><span class="line">è®¡ç®—å•å…ƒæ ¼Aåˆ—ä¸­çš„éç™½å•å…ƒæ ¼çš„æ•°é‡ï¼š</span><br><span class="line">&#x3D;COUNTA(A:A)</span><br></pre></td></tr></table></figure><h3 id="2-ç”¨RANDBETWEENå‡½æ•°ä»æ€»äººæ•°èŒƒå›´å†…éšæœºæŠ½å–ä¸€ä¸ªäººçš„åºå·"><a href="#2-ç”¨RANDBETWEENå‡½æ•°ä»æ€»äººæ•°èŒƒå›´å†…éšæœºæŠ½å–ä¸€ä¸ªäººçš„åºå·" class="headerlink" title="2.ç”¨RANDBETWEENå‡½æ•°ä»æ€»äººæ•°èŒƒå›´å†…éšæœºæŠ½å–ä¸€ä¸ªäººçš„åºå·"></a>2.ç”¨RANDBETWEENå‡½æ•°ä»æ€»äººæ•°èŒƒå›´å†…éšæœºæŠ½å–ä¸€ä¸ªäººçš„åºå·</h3><p><strong>RANDBETWEENå‡½æ•°</strong>ï¼šè¿”å›ä½äºä¸¤ä¸ªæŒ‡å®šæ•°ä¹‹é—´çš„ä¸€ä¸ªéšæœºæ•´æ•°ã€‚<br><strong>è¯­æ³•</strong>ï¼šRANDBETWEEN(bottom, top)</p><ul><li>bottomï¼šå¿…éœ€ã€‚ RANDBETWEEN å°†è¿”å›çš„æœ€å°æ•´æ•°ã€‚</li><li>topï¼šå¿…éœ€ã€‚ RANDBETWEEN å°†è¿”å›çš„æœ€å¤§æ•´æ•°ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¿”å›1åˆ°100ä¹‹é—´çš„ä¸€ä¸ªéšæœºæ•´æ•°ï¼š</span><br><span class="line">&#x3D;RANDBETWEEN(1,100)</span><br><span class="line"></span><br><span class="line">è¿”å›Aåˆ—ä¸­ä»2å¼€å§‹åˆ°Aåˆ—ä¸­çš„éç™½å•å…ƒæ ¼çš„æ•°é‡ä¹‹é—´çš„ä¸€ä¸ªéšæœºæ•´æ•°ï¼š</span><br><span class="line">&#x3D;RANDBETWEEN(2,COUNTA(A:A))</span><br></pre></td></tr></table></figure><h3 id="3-ç”¨INDEXå‡½æ•°è¿”å›åºå·ï¼ˆè¡Œå·ï¼‰å¯¹åº”çš„äººçš„å§“å"><a href="#3-ç”¨INDEXå‡½æ•°è¿”å›åºå·ï¼ˆè¡Œå·ï¼‰å¯¹åº”çš„äººçš„å§“å" class="headerlink" title="3.ç”¨INDEXå‡½æ•°è¿”å›åºå·ï¼ˆè¡Œå·ï¼‰å¯¹åº”çš„äººçš„å§“å"></a>3.ç”¨INDEXå‡½æ•°è¿”å›åºå·ï¼ˆè¡Œå·ï¼‰å¯¹åº”çš„äººçš„å§“å</h3><p>ä½¿ç”¨ INDEX å‡½æ•°æœ‰ä¸¤ç§æ–¹æ³•ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨çš„æ˜¯æ•°ç»„å½¢å¼ï¼š<br><strong>INDEXå‡½æ•°</strong>ï¼šè¿”å›è¡¨å…ƒç´ æˆ–æ•°ç»„å…ƒç´ çš„å€¼ï¼Œè¯¥å…ƒç´ æ˜¯é€šè¿‡è¡Œå·å’Œåˆ—å·ç´¢å¼•é€‰å®šçš„ã€‚<br><strong>è¯­æ³•</strong>ï¼šINDEX(array, row_num, [column_num])</p><ul><li>arrayï¼šå¿…éœ€ã€‚ å•å…ƒæ ¼åŒºåŸŸæˆ–æ•°ç»„å¸¸é‡ã€‚ï¼ˆå¦‚æœæ•°ç»„åªåŒ…å«ä¸€è¡Œæˆ–ä¸€åˆ—ï¼Œåˆ™ç›¸å¯¹åº”çš„å‚æ•° row_num æˆ– column_num ä¸ºå¯é€‰å‚æ•°ã€‚ï¼‰</li><li>row_numï¼šå¿…éœ€ã€‚ é™¤éå­˜åœ¨ column_numã€‚ é€‰æ‹©arrayä¸­çš„æŸè¡Œï¼Œå‡½æ•°ä»è¯¥è¡Œè¿”å›æ•°å€¼ã€‚ å¦‚æœçœç•¥ row_numï¼Œåˆ™éœ€ä½¿ç”¨ column_numã€‚</li><li>column_numï¼šå¯é€‰ã€‚é€‰æ‹©æ•°ç»„ä¸­çš„æŸåˆ—ï¼Œå‡½æ•°ä»è¯¥åˆ—è¿”å›æ•°å€¼ã€‚ å¦‚æœçœç•¥ column_numï¼Œåˆ™éœ€ä½¿ç”¨ row_numã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¿”å›ä½äºåŒºåŸŸA2:B3ä¸­ç¬¬äºŒè¡Œå’Œç¬¬ä¸€åˆ—äº¤å‰å¤„çš„æ•°å€¼ï¼ˆå³A3çš„æ•°å€¼ï¼‰ï¼š</span><br><span class="line">&#x3D;INDEX(A2:B3,2,1)</span><br><span class="line"></span><br><span class="line">è¿”å›Aåˆ—ä¸­ç¬¬5è¡Œçš„å€¼ï¼š</span><br><span class="line">&#x3D;INDEX(A:A,5)</span><br><span class="line"></span><br><span class="line">è¿”å›Aåˆ—ä¸­éšæœºä¸€ä¸ªæœ‰å†…å®¹çš„å•å…ƒæ ¼çš„çš„å€¼ï¼š</span><br><span class="line">&#x3D;INDEX(A:A,RANDBETWEEN(2,COUNTA(A:A)))</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆä½¿ç”¨çš„å…¬å¼æ˜¯ï¼š<code>=INDEX(A:A,RANDBETWEEN(2,COUNTA(A:A)))</code>ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_rand_name_2.png"                      style="zoom: 100%;"                ></p><p>PS.æŒ‰F9é”®ï¼ˆç¬”è®°æœ¬å¯èƒ½æ˜¯Fn+F9ï¼‰ï¼Œå³å¯éšæœºæŠ½å–ä¸€ä¸ªå‡ºæ¥ï¼›<br>æŒ‰ä½F9é”®ï¼ˆFn+F9ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°éšæœºæ•ˆæœï¼Œæ¾å¼€æ—¶å³ä¼šéšæœºæŠ½å‡ºä¸€ä¸ªäººæ¥ã€‚</p><p>PPS.Excelä¸­å¸¸ç”¨å‡½æ•°åº”ç”¨ä»‹ç»ï¼š<a href="#">Post not found: ã€ä¸æ–­æ›´æ–°ç³»åˆ—ã€‘Excelå¸¸ç”¨å‡½æ•°</a></p>]]></content>
      
      
      <categories>
          
          <category> Office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Excel </tag>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨ffmpegåˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶</title>
      <link href="/2022/09/21/%E7%94%A8ffmpeg%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AAts%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/"/>
      <url>/2022/09/21/%E7%94%A8ffmpeg%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AAts%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>FFmpeg æ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶ï¼Œå¯ä»¥æ‰§è¡ŒéŸ³é¢‘å’Œè§†é¢‘å¤šç§æ ¼å¼çš„å½•å½±ã€è½¬æ¢ã€ä¸²æµåŠŸèƒ½ï¼ŒåŒ…å«äº†libavcodecâ€”â€”è¿™æ˜¯ä¸€ä¸ªç”¨äºå¤šä¸ªé¡¹ç›®ä¸­éŸ³é¢‘å’Œè§†é¢‘çš„è§£ç å™¨åº“ï¼Œä»¥åŠlibavformatâ€”â€”ä¸€ä¸ªéŸ³é¢‘ä¸è§†é¢‘æ ¼å¼è½¬æ¢åº“ã€‚</p><p>åæ­£FFmpegå¾ˆå¼ºå¤§çš„ï¼ŒåŠŸèƒ½ä¹Ÿå¾ˆå¤šã€‚ä¹‹å‰ä¹Ÿå†™è¿‡ä¸€ç¯‡ï¼š<a href="/2022/05/03/%E7%94%A8ffmpeg%E4%B8%8B%E8%BD%BDm3u8%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91/" title="ç”¨FFmpegä¸‹è½½m3u8æ ¼å¼è§†é¢‘">ç”¨FFmpegä¸‹è½½m3u8æ ¼å¼è§†é¢‘</a>ã€‚</p><a id="more"></a><h2 id="ä¸€ã€ä¸‹è½½FFmpeg"><a href="#ä¸€ã€ä¸‹è½½FFmpeg" class="headerlink" title="ä¸€ã€ä¸‹è½½FFmpeg"></a>ä¸€ã€ä¸‹è½½FFmpeg</h2><h3 id="1-ä¸‹è½½FFmpeg"><a href="#1-ä¸‹è½½FFmpeg" class="headerlink" title="1.ä¸‹è½½FFmpeg"></a>1.ä¸‹è½½FFmpeg</h3><p>å®˜ç½‘å°±å¯ä»¥ä¸‹è½½ FFmpegï¼šï¼ˆ<a class="link"   href="http://ffmpeg.org/download.html" >http://ffmpeg.org/download.html<i class="fas fa-external-link-alt"></i></a> ï¼‰</p><p>Windowsç³»ç»Ÿçš„è¯ï¼Œé€‰æ‹©ã€Windows EXE Filesã€‘-&gt;ã€Windows builds from gyan.devã€‘ã€‚</p><p>é¡µé¢ä¸Šçš„éƒ½å¯ä»¥ä¸‹è½½ï¼Œæ¯”å¦‚æˆ‘è¿™ç›´æ¥ä¸‹è½½ã€release buildsã€‘ä¸­çš„ ffmpeg-release-essentials.7zï¼Œç›®å‰æœ€æ–°çš„ç‰ˆæœ¬ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ffmpeg_download_m3u8_1.png"                      style="zoom: 50%;"                ></p><h3 id="2-æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"><a href="#2-æ·»åŠ åˆ°ç¯å¢ƒå˜é‡" class="headerlink" title="2.æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"></a>2.æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</h3><p>ä¸‹è½½åæ˜¯ä¸ªå‹ç¼©åŒ…ï¼Œç›´æ¥è§£å‹å‡ºæ¥ã€‚æ¯”å¦‚æˆ‘è¿™è§£å‹å‡ºæ¥æ˜¯ä¸ª ffmpeg-5.0.1-essentials_build ç›®å½•ï¼Œç„¶åç›´æ¥æŠŠè¿™ä¸ªç›®å½•ä¸‹çš„<strong>binç›®å½•</strong>æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡å°±è¡Œã€‚ï¼ˆæ€ä¹ˆæ·»åŠ ç¯å¢ƒå˜é‡ï¼Œç™¾åº¦ä¸€ä¸‹å°±æœ‰ï¼‰</p><p>å› ä¸ºbinç›®å½•ä¸‹æœ‰ ffmpeg.exe å¯æ‰§è¡Œç¨‹åºï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œé‡Œç”¨ ffmpegå‘½ä»¤æ—¶ï¼Œç”¨çš„å°±æ˜¯è¿™ä¸ªã€‚</p><h2 id="äºŒã€åˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶"><a href="#äºŒã€åˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶" class="headerlink" title="äºŒã€åˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶"></a>äºŒã€åˆå¹¶å¤šä¸ªtsè§†é¢‘æ–‡ä»¶</h2><h3 id="1-æ–°å»ºtxtæ–‡ä»¶"><a href="#1-æ–°å»ºtxtæ–‡ä»¶" class="headerlink" title="1.æ–°å»ºtxtæ–‡ä»¶"></a>1.æ–°å»ºtxtæ–‡ä»¶</h3><p>æŠŠæ‰€æœ‰çš„.tsæ–‡ä»¶æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œæ¯”å¦‚æˆ‘æ”¾åˆ° F:\2 æ–‡ä»¶å¤¹ä¸­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ffmpeg_merge_ts_files_1.png"                      style="zoom: 100%;"                ></p><p>ç„¶ååœ¨æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ª file.txtæ–‡ä»¶ï¼ˆåå­—éšæ„å–ï¼‰ï¼Œæ–‡ä»¶å†…å®¹åˆ—å‡ºæ‰€æœ‰tsæ–‡ä»¶ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">file &#x27;F:\2\1.ts&#x27;</span><br><span class="line">file &#x27;F:\2\2.ts&#x27;</span><br><span class="line">file &#x27;F:\2\3.ts&#x27;</span><br><span class="line">file &#x27;F:\2\4.ts&#x27;</span><br><span class="line">file &#x27;F:\2\5.ts&#x27;</span><br><span class="line">file &#x27;F:\2\6.ts&#x27;</span><br><span class="line">file &#x27;F:\2\7.ts&#x27;</span><br></pre></td></tr></table></figure><h3 id="2-ç”¨ffmpegå‘½ä»¤åˆå¹¶tsæ–‡ä»¶"><a href="#2-ç”¨ffmpegå‘½ä»¤åˆå¹¶tsæ–‡ä»¶" class="headerlink" title="2.ç”¨ffmpegå‘½ä»¤åˆå¹¶tsæ–‡ä»¶"></a>2.ç”¨ffmpegå‘½ä»¤åˆå¹¶tsæ–‡ä»¶</h3><p>å› ä¸ºffmpeg.exeå·²ç»æ·»åŠ äº†ç¯å¢ƒå˜é‡äº†ï¼Œæ‰€ä»¥ç›´æ¥æ‰“å¼€ä¸ªå‘½ä»¤æç¤ºç¬¦/Windows PowerShellï¼Œå°±å¯ä»¥ç”¨ffmpegäº†ã€‚</p><p>ä½¿ç”¨å‘½åå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨å‘½ä»¤è¿›å…¥ F:\2 æ–‡ä»¶å¤¹</span></span><br><span class="line">ï¼ˆå¦‚æœæ¯”è¾ƒæ—§çš„ç³»ç»Ÿä¸èƒ½ç›´æ¥ä»Cç›˜è·¨åˆ°Fç›˜çš„ï¼Œå¯ä»¥å…ˆè¿è¡Œ f: å‘½ä»¤è¿›å…¥Fç›˜ï¼Œå†ç”¨<span class="built_in">cd</span>å‘½ä»¤è¿›å…¥æ–‡ä»¶å¤¹ï¼‰</span><br><span class="line"><span class="built_in">cd</span> f:\2</span><br><span class="line"></span><br><span class="line"><span class="comment">#-safe 0ï¼šé˜²æ­¢Operation not permitted</span></span><br><span class="line">ffmpeg.exe -f concat -safe 0 -i file.txt -c copy output.mp4</span><br></pre></td></tr></table></figure><p>ç­‰å®Œæˆåï¼Œè¿™ä¸ªç›®å½•ä¸‹å°±æœ‰äº†ä¸‹è½½å¥½çš„åä¸º output.mp4çš„è§†é¢‘äº†ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ffmpeg_merge_ts_files_2.png"                      style="zoom: 50%;"                ></p><h3 id="3-ç”¨ffmpegå‘½ä»¤ç›´æ¥åˆå¹¶tsæ–‡ä»¶"><a href="#3-ç”¨ffmpegå‘½ä»¤ç›´æ¥åˆå¹¶tsæ–‡ä»¶" class="headerlink" title="3.ç”¨ffmpegå‘½ä»¤ç›´æ¥åˆå¹¶tsæ–‡ä»¶"></a>3.ç”¨ffmpegå‘½ä»¤ç›´æ¥åˆå¹¶tsæ–‡ä»¶</h3><p>å¦‚æœtsæ–‡ä»¶è¾ƒå°‘ï¼Œå°±ä¸¤ä¸‰ä¸ªï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ç›´æ¥åˆå¹¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;concat:1.ts|2.ts|&quot;</span> -c copy output2.mp4</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
            <tag> ffmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Flaskç¬”è®°ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/09/20/Python-Flask%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2022/09/20/Python-Flask%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€Flaskç®€ä»‹"><a href="#ä¸€ã€Flaskç®€ä»‹" class="headerlink" title="ä¸€ã€Flaskç®€ä»‹"></a>ä¸€ã€Flaskç®€ä»‹</h2><p>Flaskè¯ç”Ÿäº2010å¹´ï¼Œæ˜¯ç”¨Pythonè¯­è¨€åŸºäºWerkzeugå·¥å…·ç®±ç¼–å†™çš„è½»é‡çº§Webå¼€å‘æ¡†æ¶ã€‚</p><p>Flaskæœ¬èº«ç›¸å½“äºä¸€ä¸ªå†…æ ¸ï¼Œå…¶ä»–å‡ ä¹æ‰€æœ‰çš„åŠŸèƒ½éƒ½è¦ç”¨åˆ°æ‰©å±•ï¼ˆé‚®ä»¶æ‰©å±•Flask-Mailï¼Œç”¨æˆ·è®¤è¯Flask-Login) ï¼Œéƒ½éœ€è¦ç”¨ç¬¬ä¸‰æ–¹æ–¹çš„æ‰©å±•æ¥å®ç°ã€‚</p><p>å…¶WSGI å·¥å…·ç®±é‡‡ç”¨ Werkzeug (è·¯ç”±æ¨¡å—)ï¼Œæ¨¡æ¿å¼•æ“åˆ™ä½¿ç”¨Jinja2ã€‚è¿™ä¸¤ä¸ªä¹Ÿæ˜¯Flaskæ¡†æ¶çš„æ ¸å¿ƒã€‚</p><p>Pythonæœ€å‡ºåçš„æ¡†æ¶è¦æ•°Djangoï¼Œæ­¤å¤–è¿˜æœ‰Flaskã€Tornadoç­‰æ¡†æ¶ã€‚è™½ç„¶Flaskä¸æ˜¯æœ€å‡ºåçš„æ¡†æ¶ï¼Œä½†æ˜¯Flaskåº”è¯¥ç®—æ˜¯æœ€çµæ´»çš„æ¡†æ¶ä¹‹ä¸€ï¼Œè¿™ä¹Ÿæ˜¯Flaskå—åˆ°å¹¿å¤§å¼€å‘è€…å–œçˆ±çš„åŸå› ã€‚</p><a id="more"></a><p><strong>Flaskå¸¸ç”¨æ‰©å±•åŒ…</strong>:</p><ul><li>Flask-SQLalchemyï¼šæ“ä½œæ•°æ®åº“;</li><li>Flask-migrateï¼šç®¡ç†è¿ç§»æ•°æ®åº“;</li><li>Flask-Mailï¼šé‚®ä»¶;</li><li>Flask-WTFï¼šè¡¨å•;</li><li>Flask-Bableï¼šæä¾›å›½é™…åŒ–å’Œæœ¬åœ°åŒ–æ”¯æŒï¼Œç¿»è¯‘;</li><li>Flask-scriptï¼šæ’å…¥è„šæœ¬;</li><li>Flask-Loginï¼šè®¤è¯ç”¨æˆ·çŠ¶æ€;</li><li>Flask-OpenIDï¼šè®¤è¯;</li><li>Flask-RESTfulï¼šå¼€å‘RESTAPIçš„å·¥å…·;</li><li>Flask-Bootstrapï¼šé›†æˆå‰ç«¯Twitter Bootstrapæ¡†æ¶;</li><li>Flask-Momentï¼šæœ¬åœ°åŒ–æ—¥æœŸå’Œæ—¶é—´;</li><li>Flask-Adminï¼šç®€å•è€Œå¯æ‰©å±•çš„ç®¡ç†æ¥å£çš„æ¡†æ¶</li></ul><p>æ‰©å±•åˆ—è¡¨ï¼š<a class="link"   href="http://flask.pocoo.org/extensions/" >http://flask.pocoo.org/extensions/<i class="fas fa-external-link-alt"></i></a><br>1.ä¸­æ–‡æ–‡æ¡£(<a class="link"   href="http://docs.jinkan.org/docs/flask/" >http://docs.jinkan.org/docs/flask/<i class="fas fa-external-link-alt"></i></a>)<br>2.è‹±æ–‡æ–‡æ¡£(<a class="link"   href="http://flask.pocoo.org/docs/0.12/" >http://flask.pocoo.org/docs/0.12/<i class="fas fa-external-link-alt"></i></a></p><p><strong>FlaskåŸºç¡€æ‰©å±•åŒ…</strong>ï¼š</p><p>ä¸€èˆ¬å†™ä¸ªæœ€ç®€å•çš„webç«™ç‚¹ï¼Œæˆ‘å°±è£…ä¸ªæ“ä½œè¡¨å•çš„<strong>Flask-WTF</strong>å’Œæ“ä½œmyqlæ•°æ®åº“çš„<strong>Flask-SQLalchemy</strong>å°±å·®ä¸å¤šå¤Ÿç”¨äº†ã€‚</p><h2 id="äºŒã€å®‰è£…Flask"><a href="#äºŒã€å®‰è£…Flask" class="headerlink" title="äºŒã€å®‰è£…Flask"></a>äºŒã€å®‰è£…Flask</h2><p>ä¸€èˆ¬æˆ‘ç”¨è™šæ‹Ÿç¯å¢ƒå®‰è£…Flaskï¼Œå¯ä»¥é¿å…åŒ…çš„æ··ä¹±å’Œç‰ˆæœ¬çš„å†²çªï¼Œä¹Ÿä¸ä¼šå½±å“ç³»ç»Ÿä¸­å®‰è£…çš„å…¨å±€Pythonè§£é‡Šå™¨æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><p>ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒçš„ç¬”è®°ï¼š<a href="/2022/09/20/VSCode%E8%BF%90%E8%A1%8CPython%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83virtualenv/" title="VSCodeè¿è¡ŒPythonè™šæ‹Ÿç¯å¢ƒvirtualenv">VSCodeè¿è¡ŒPythonè™šæ‹Ÿç¯å¢ƒvirtualenv</a></p><h3 id="1-å®‰è£…Flask"><a href="#1-å®‰è£…Flask" class="headerlink" title="1.å®‰è£…Flask"></a>1.å®‰è£…Flask</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install flask</span><br><span class="line">pip install flask==2.2.2 <span class="comment"># æŒ‡å®šFlaskç‰ˆæœ¬å®‰è£…</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸï¼Œä»¥ä»£ç ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼Œæˆ–è€…ç›´æ¥åœ¨ipythonä¸­è¾“å…¥åæµ‹è¯•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask</span><br></pre></td></tr></table></figure><h3 id="2-ç¬¬ä¸€ä¸ªFlaskç¨‹åº"><a href="#2-ç¬¬ä¸€ä¸ªFlaskç¨‹åº" class="headerlink" title="2.ç¬¬ä¸€ä¸ªFlaskç¨‹åº"></a>2.ç¬¬ä¸€ä¸ªFlaskç¨‹åº</h3><h4 id="Flaskç¨‹åºè¿è¡Œè¿‡ç¨‹"><a href="#Flaskç¨‹åºè¿è¡Œè¿‡ç¨‹" class="headerlink" title="Flaskç¨‹åºè¿è¡Œè¿‡ç¨‹"></a>Flaskç¨‹åºè¿è¡Œè¿‡ç¨‹</h4><ul><li>å½“å®¢æˆ·ç«¯æƒ³è¦è·å–èµ„æºæ—¶ï¼Œä¸€èˆ¬ä¼šé€šè¿‡æµè§ˆå™¨å‘èµ·HTTPè¯·æ±‚ã€‚</li><li>æ­¤æ—¶ï¼ŒWebæœåŠ¡å™¨ä¼šæŠŠæ¥è‡ªå®¢æˆ·ç«¯çš„æ‰€æœ‰è¯·æ±‚éƒ½äº¤ç»™Flaskç¨‹åºå®ä¾‹ã€‚</li><li>ç¨‹åºå®ä¾‹ä½¿ç”¨Werkzeugæ¥åšè·¯ç”±åˆ†å‘(URLè¯·æ±‚å’Œè§†å›¾å‡½æ•°ä¹‹é—´çš„å¯¹åº”å…³ç³»)ã€‚</li><li>æ ¹æ®æ¯ä¸ªURLè¯·æ±‚,æ‰¾åˆ°å…·ä½“çš„è§†å›¾å‡½æ•°å¹¶è¿›è¡Œè°ƒç”¨ã€‚</li><li>åœ¨Flaskç¨‹åºä¸­ï¼Œè·¯ç”±çš„å®ç°ä¸€èˆ¬æ˜¯é€šè¿‡ç¨‹åºå®ä¾‹çš„è£…é¥°å™¨å®ç°ã€‚</li><li>Flaskè°ƒç”¨è§†å›¾å‡½æ•°å,å¯ä»¥è¿”å›ä¸¤ç§å†…å®¹:<ul><li>å­—ç¬¦ä¸²å†…å®¹ï¼šå°†è§†å›¾å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºå“åº”çš„å†…å®¹ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯(æµè§ˆå™¨)</li><li>HTMLæ¨¡ç‰ˆå†…å®¹ï¼šè·å–åˆ°æ•°æ®åï¼ŒæŠŠæ•°æ®ä¼ å…¥HTMLæ¨¡æ¿æ–‡ä»¶ä¸­ï¼Œæ¨¡æ¿å¼•æ“è´Ÿè´£æ¸²æŸ“HTTPå“åº”æ”¿æ®,ç„¶åè¿”å›å“åº”æ•°æ®ç»™å®¢æˆ·ç«¯(æµè§ˆå™¨)</li></ul></li></ul><h4 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h4><p>åˆ›å»ºä¸ªé¡¹ç›®ç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªapp.pyæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å¯¼å…¥Flaskæ‰©å±•</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆ›å»ºFlaskåº”ç”¨ç¨‹åºå®ä¾‹</span></span><br><span class="line"><span class="comment"># éœ€è¦ä¼ å…¥__name__ï¼Œä½œç”¨æ˜¯ä¸ºäº†ç¡®å®šèµ„æºæ‰€åœ¨çš„è·¯å¾„</span></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å®šä¹‰è·¯ç”±åŠè§†å›¾å‡½æ•°</span></span><br><span class="line"><span class="comment"># Flaskä¸­å®šä¹‰è·¯ç”±æ˜¯é€šè¿‡è£…é¥°å™¨å®ç°çš„</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello flask&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.å¯åŠ¨ç¨‹åº</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># æ‰§è¡Œäº†app.run å°±ä¼šå°†Flaskç¨‹åºè¿è¡Œåœ¨ä¸€ä¸ªç®€æ˜“çš„æœåŠ¡å™¨(Flaskæä¾›çš„ï¼Œç”¨äºæµ‹è¯•çš„)</span></span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure><p>è¿è¡Œåä¼šæœ‰ç½‘å€ï¼šå½“å‰æœ¬æœºçš„ipåœ°å€ï¼ˆå±€åŸŸç½‘ipï¼‰:ç«¯å£å·ï¼ˆé»˜è®¤5000ï¼‰</p><h2 id="ä¸‰ã€å®‰è£…å…¶å®ƒåŸºç¡€æ‰©å±•åŒ…"><a href="#ä¸‰ã€å®‰è£…å…¶å®ƒåŸºç¡€æ‰©å±•åŒ…" class="headerlink" title="ä¸‰ã€å®‰è£…å…¶å®ƒåŸºç¡€æ‰©å±•åŒ…"></a>ä¸‰ã€å®‰è£…å…¶å®ƒåŸºç¡€æ‰©å±•åŒ…</h2><h3 id="1-webè¡¨å•ï¼šå®‰è£…Flask-WTFæ‰©å±•"><a href="#1-webè¡¨å•ï¼šå®‰è£…Flask-WTFæ‰©å±•" class="headerlink" title="1.webè¡¨å•ï¼šå®‰è£…Flask-WTFæ‰©å±•"></a>1.webè¡¨å•ï¼šå®‰è£…Flask-WTFæ‰©å±•</h3><p>webè¡¨å•æ˜¯webåº”ç”¨ç¨‹åºçš„åŸºæœ¬åŠŸèƒ½ã€‚</p><p>å®ƒæ˜¯HTMLé¡µé¢ä¸­è´Ÿè´£æ•°æ®é‡‡é›†çš„éƒ¨ä»¶ã€‚<br>è¡¨å•æœ‰ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆâˆ¶è¡¨å•æ ‡ç­¾ã€è¡¨å•åŸŸã€è¡¨å•æŒ‰é’®ã€‚<br>è¡¨å•å…è®¸ç”¨æˆ·è¾“å…¥æ•°æ®ï¼Œè´Ÿè´£HTMLé¡µé¢æ•°æ®é‡‡é›†ï¼Œé€šè¿‡è¡¨å•å°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®æäº¤ç»™æœåŠ¡å™¨ã€‚</p><p>åœ¨Flaskä¸­ï¼Œä¸ºäº†å¤„ç†webè¡¨å•ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨Flask-WTFæ‰©å±•ï¼Œå®ƒå°è£…äº†WTFormsï¼Œå¹¶ä¸”å®ƒæœ‰éªŒè¯è¡¨å•æ•°æ®çš„åŠŸèƒ½ã€‚<br>å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Flask-WTF</span><br></pre></td></tr></table></figure><h3 id="2-mysqlæ•°æ®åº“ï¼šå®‰è£…flask-sqlalchemy"><a href="#2-mysqlæ•°æ®åº“ï¼šå®‰è£…flask-sqlalchemy" class="headerlink" title="2.mysqlæ•°æ®åº“ï¼šå®‰è£…flask-sqlalchemy"></a>2.mysqlæ•°æ®åº“ï¼šå®‰è£…flask-sqlalchemy</h3><p>SQLALchemy å®é™…ä¸Šæ˜¯å¯¹æ•°æ®åº“çš„æŠ½è±¡ï¼Œè®©å¼€å‘è€…ä¸ç”¨ç›´æ¥å’ŒSQLè¯­å¥æ‰“äº¤é“ï¼Œè€Œæ˜¯é€šè¿‡Pythonå¯¹è±¡æ¥æ“ä½œæ•°æ®åº“ï¼Œåœ¨èˆå¼ƒä¸€äº›æ€§èƒ½å¼€é”€çš„åŒæ—¶ï¼Œæ¢æ¥çš„æ˜¯å¼€å‘æ•ˆç‡çš„è¾ƒå¤§æå‡</p><p>SQLAlchemy æ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“æ¡†æ¶ï¼Œå®ƒæä¾›äº†é«˜å±‚çš„ORMå’Œåº•å±‚çš„åŸç”Ÿæ•°æ®åº“çš„æ“ä½œã€‚flask-sqlalchemyæ˜¯ä¸€ä¸ªç®€åŒ–äº†SQLAlchemyæ“ä½œçš„flaskæ‰©å±•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pip install flask-sqlalchemy</span><br><span class="line"></span><br><span class="line">pip install flask-mysqldb <span class="comment"># å¦‚æœè¿æ¥çš„æ˜¯mysqlæ•°æ®åº“ï¼Œéœ€è¦å®‰è£…mysqldb</span></span><br><span class="line"></span><br><span class="line">pip install pymysql <span class="comment"># è¿˜æ²¡è£…pymysqlçš„ï¼Œä¹Ÿéœ€è¦å®‰è£…ä¸Š</span></span><br></pre></td></tr></table></figure><p>flask-mysqldb å¦‚æœå®‰è£…å¤±è´¥ï¼Œæç¤ºéœ€è¦mysql clientçš„è¯ã€‚<br>ç”¨ä»¥ä¸‹æ–¹æ³•å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Linuxï¼ˆUbuntuï¼‰ç”¨å‘½ä»¤å®‰è£…ï¼ˆå®‰è£…å®Œclientå†å®‰è£…å°±å¯ä»¥äº†ï¼‰ï¼š</span><br><span class="line">sudo apt-get install mysql-server //æœåŠ¡ç«¯</span><br><span class="line">sudo apt-get install mysql-client //å®¢æˆ·ç«¯</span><br><span class="line">sudo apt-get install libmysqlclient-dev //ç¨‹åºç¼–è¯‘æ—¶é“¾æ¥çš„åº“</span><br></pre></td></tr></table></figure><p>Windowsçš„è¯ï¼Œå» <a class="link"   href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#mysql-python" >https://www.lfd.uci.edu/~gohlke/pythonlibs/#mysql-python<i class="fas fa-external-link-alt"></i></a> ç½‘å€ä¸‹è½½Mysqlclientå¯¹åº”çš„whlæ–‡ä»¶ã€‚<br>ç„¶åç”¨<code>pip install mysqlclient-1.3.13-cp34-cp34m-win_amd64.whl</code> å‘½ä»¤å®‰è£…ã€‚</p><p>PS.å…³äºè¿™ä¸¤æ‹“å±•çš„å…·ä½“ä½¿ç”¨ï¼Œåé¢ä¼šå†™æ›´è¯¦ç»†çš„ç¬”è®°ã€‚</p><h3 id="3-requirements-txtæ–‡ä»¶"><a href="#3-requirements-txtæ–‡ä»¶" class="headerlink" title="3.requirements.txtæ–‡ä»¶"></a>3.requirements.txtæ–‡ä»¶</h3><p>å®‰è£…å®Œåï¼Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œæ‰€ä»¥å¯ä»¥ç”¨<code>pip freeze &gt; requirements.txt</code>å‘½ä»¤ç”Ÿæˆrequirements.txtæ–‡ä»¶ï¼Œçœ‹ä¸€ä¸‹å·²ç»å®‰è£…çš„åŒ…æœ‰å“ªäº›ï¼Œæ¯”å¦‚æˆ‘è¿™æœ‰è¿™äº›ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">click&#x3D;&#x3D;8.1.3</span><br><span class="line">colorama&#x3D;&#x3D;0.4.5</span><br><span class="line">Flask&#x3D;&#x3D;2.2.2</span><br><span class="line">Flask-MySQLdb&#x3D;&#x3D;1.0.1</span><br><span class="line">Flask-SQLAlchemy&#x3D;&#x3D;2.5.1</span><br><span class="line">Flask-WTF&#x3D;&#x3D;1.0.1</span><br><span class="line">greenlet&#x3D;&#x3D;1.1.3</span><br><span class="line">importlib-metadata&#x3D;&#x3D;4.12.0</span><br><span class="line">itsdangerous&#x3D;&#x3D;2.1.2</span><br><span class="line">Jinja2&#x3D;&#x3D;3.1.2</span><br><span class="line">MarkupSafe&#x3D;&#x3D;2.1.1</span><br><span class="line">mysqlclient&#x3D;&#x3D;2.1.1</span><br><span class="line">PyMySQL&#x3D;&#x3D;1.0.2</span><br><span class="line">SQLAlchemy&#x3D;&#x3D;1.4.41</span><br><span class="line">Werkzeug&#x3D;&#x3D;2.2.2</span><br><span class="line">WTForms&#x3D;&#x3D;3.0.1</span><br><span class="line">zipp&#x3D;&#x3D;3.8.1</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCodeè¿è¡ŒPythonè™šæ‹Ÿç¯å¢ƒvirtualenv</title>
      <link href="/2022/09/20/VSCode%E8%BF%90%E8%A1%8CPython%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83virtualenv/"/>
      <url>/2022/09/20/VSCode%E8%BF%90%E8%A1%8CPython%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83virtualenv/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥é¿å…åŒ…çš„æ··ä¹±å’Œç‰ˆæœ¬çš„å†²çªï¼Œè™šæ‹Ÿç¯å¢ƒæ˜¯Pythonè§£é‡Šå™¨çš„å‰¯æœ¬ï¼Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä½ å¯ä»¥å®‰è£…æ‰©å±•åŒ…ï¼Œä¸ºæ¯ä¸ªç¨‹åºå•ç‹¬åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥ä¿è¯ç¨‹åºåªèƒ½è®¿é—®è™šæ‹Ÿç¯å¢ƒä¸­çš„åŒ…ã€‚è€Œä¸ä¼šå½±å“ç³»ç»Ÿä¸­å®‰è£…çš„å…¨å±€Pythonè§£é‡Šå™¨ï¼Œä»è€Œä¿è¯å…¨å±€è§£é‡Šå™¨çš„æ•´æ´ã€‚</p><a id="more"></a><h2 id="ä¸€ã€å®‰è£…è™šæ‹Ÿç¯å¢ƒ"><a href="#ä¸€ã€å®‰è£…è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="ä¸€ã€å®‰è£…è™šæ‹Ÿç¯å¢ƒ"></a>ä¸€ã€å®‰è£…è™šæ‹Ÿç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install virtualenv</span><br><span class="line">pip install virtualenvwrapper</span><br><span class="line">pip install virtualenvwrapper-win (ä¸å®‰è£…è¿™ä¸ªåŒ…ï¼Œä¼šç¢°è§æ‰¾ä¸åˆ° mkvirtualenv å‘½ä»¤ï¼‰</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦å®‰è£…äº†virtualenvï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virtualenv --version</span><br></pre></td></tr></table></figure><p>Linuxä¸‹Python3å‘½ä»¤ç”¨ï¼špip3<br>UbuntuæŸ¥çœ‹virtualenvwrapperå®‰è£…è·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 show virtualenvwrapper</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚ç»“æœæ˜¯ï¼š/home/ubuntu/.local/lib/python3.6/site-packages</p><h2 id="äºŒã€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#äºŒã€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="äºŒã€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>äºŒã€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h2><p>å®‰è£…å®Œæˆåéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ã€‚</p><p><strong>1.åˆ›å»ºä¸€ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾è™šæ‹Ÿç¯å¢ƒ</strong></p><p>ä¾‹å¦‚ï¼šG:\SynologyDrive\Python\Envs</p><p><strong>2.åˆ›å»ºç³»ç»Ÿç¯å¢ƒå˜é‡(Windows)</strong></p><p>å˜é‡åï¼šWORKON_HOME<br>å˜é‡å€¼ï¼šG:\SynologyDrive\Python\Envs</p><p><strong>3.ä¿®æ”¹mkvirtualenv.bat æ–‡ä»¶(Windows)</strong></p><p>æ–‡ä»¶ä¸­é»˜è®¤çš„è™šæ‹Ÿç¯å¢ƒç›®å½•æ˜¯åœ¨<code>C:\Users\username</code>ä¸‹ã€‚<br>åœ¨ Pythonå®‰è£…ç›®å½•ä¸‹çš„<code>Scripts\mkvirtualenv.bat</code>ï¼ŒæŠŠç¬¬24è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> <span class="string">&quot;venvwrapper.default_workon_home=%USERPROFILE%\Envs&quot;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> <span class="string">&quot;venvwrapper.default_workon_home=%WORKON_HOME%&quot;</span></span><br></pre></td></tr></table></figure><p><strong>4.ubuntué…ç½®ç¯å¢ƒå˜é‡</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1).åˆ›å»ºç›®å½•ç”¨æ¥å­˜æ”¾è™šæ‹Ÿç¯å¢ƒ</span><br><span class="line">mkdir ~/.virtualenvs</span><br><span class="line"></span><br><span class="line">2).æ‰“å¼€~/ .bashrcæ–‡ä»¶,å¹¶æ·»åŠ å¦‚ä¸‹:</span><br><span class="line">vi ~/ .bashrc</span><br><span class="line"><span class="built_in">export</span> WORKON_HOME=<span class="variable">$HOME</span>/.virtualenvs</span><br><span class="line"><span class="built_in">export</span> VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3</span><br><span class="line"><span class="built_in">export</span> VIRTUALENVWRAPPER_VIRTUALENV=~/.<span class="built_in">local</span>/bin/virtualenv</span><br><span class="line"><span class="built_in">source</span> ~/.<span class="built_in">local</span>/bin/virtualenvwrapper.sh</span><br><span class="line"></span><br><span class="line">3).è¿è¡Œ</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><p><strong>5.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ(é¡»åœ¨è”ç½‘çŠ¶æ€ä¸‹)</strong></p><p>ä¿å­˜åé‡æ–°æ‰“å¼€cmdçª—å£ï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚<br>æ¯”å¦‚åˆ›å»ºä¸€ä¸ªåä¸ºflask_pyçš„è™šæ‹Ÿç¯å¢ƒå‘½ä»¤ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkvirtualenv flask_py</span><br></pre></td></tr></table></figure><p>åˆ›å»ºå®Œæˆåï¼Œflask_py/lib/python*.*/site-packagesç›®å½•å°±æ˜¯å¯¹åº”çš„è™šæ‹Ÿç¯å¢ƒä¸­çš„åŒ…ç›®å½•ã€‚</p><h2 id="ä¸‰ã€ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"><a href="#ä¸‰ã€ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="ä¸‰ã€ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"></a>ä¸‰ã€ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</h2><p><strong>1.æ™®é€šcmdç¯å¢ƒ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1).è¿›å…¥è™šæ‹Ÿç¯å¢ƒ</span><br><span class="line">workon flask_py</span><br><span class="line"></span><br><span class="line">2).é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</span><br><span class="line">deactivate flask_py</span><br></pre></td></tr></table></figure><p><mark>Windows PowerShellç¯å¢ƒ</mark></p><p>å¦‚æœæƒ³ç”¨ Windows PowerShellè€Œä¸æ˜¯cmdçš„ï¼Œæ¿€æ´»è™šæ‹Ÿç¯å¢ƒçš„å‘½ä»¤æ˜¯activateè€Œä¸æ˜¯workonã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> G:\SynologyDrive\Python\Envs\flask_py</span><br><span class="line"><span class="comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line">.\Scripts\activate</span><br></pre></td></tr></table></figure><p><strong>2.VS Codeä¸­ä½¿ç”¨</strong></p><p>1).åœ¨ VS Code é€‰æ‹© â€œæŸ¥çœ‹ &gt; å‘½ä»¤é¢æ¿â€ æˆ–æŒ‰ä¸‹ â€œCtrl+Shift+Pâ€ æ¥æ‰“å¼€å‘½ä»¤é¢æ¿ï¼š</p><p>2).å†é€‰æ‹© Python: Select Interpreter æ¥é€‰æ‹©è¿è¡Œè§£é‡Šå™¨ï¼š</p><p>é€‰æ‹©åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒç›®å½•ä¸‹çš„ï¼Œå³ï¼šG:\SynologyDrive\Python\Envs\flask_py\Scriptes\python.exe</p><p>å½“æˆ‘ä»¬é€‰æ‹©è™šæ‹Ÿç¯å¢ƒåï¼ŒVS Codeä¼šè‡ªåŠ¨å®‰æ’å¥½ä¸€åˆ‡ï¼ŒåŒ…æ‹¬ç»ˆç«¯é‡Œé¢çš„ç¯å¢ƒã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/VS_Code_Python_virtualenv.png"                      style="zoom: 75%;"                ></p><p>å¦‚æœè¿è¡Œçš„æ—¶å€™æœ‰æŠ¥é”™ï¼šæ— æ³•åŠ è½½æ–‡ä»¶ <code>***\Activate.ps1</code>ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬ã€‚</p><p>å› ä¸ºè¿è¡Œäº†activate.batåä¼šåœ¨åŒçº§ç›®å½•ä¸‹ç”Ÿæˆactivate.ps1ï¼ŒPowerShell é»˜è®¤ä¸å…è®¸æ‰§è¡Œ*.ps1è„šæœ¬æ–‡ä»¶ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>ä½¿ç”¨ç®¡ç†å‘˜æ‰“å¼€powershellï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-ExecutionPolicy RemoteSigned</span><br></pre></td></tr></table></figure><p>é€‰æ‹©â€œYæ˜¯â€åå›è½¦å°±å¯ä»¥äº†ã€‚</p><blockquote><p>Policyçš„æœ‰æ•ˆå‚æ•°:<br>â€“ Restricted: ä¸è½½å…¥ä»»ä½•é…ç½®æ–‡ä»¶ï¼Œä¸è¿è¡Œä»»ä½•è„šæœ¬ã€‚ â€œRestrictedâ€ æ˜¯é»˜è®¤çš„ã€‚<br>â€“ AllSigned: åªæœ‰è¢«Trusted publisherç­¾åçš„è„šæœ¬æˆ–è€…é…ç½®æ–‡ä»¶æ‰èƒ½ä½¿ç”¨ï¼ŒåŒ…æ‹¬ä½ è‡ªå·±å†æœ¬åœ°å†™çš„è„šæœ¬ã€‚<br>â€“ RemoteSigned: å¯¹äºä»Internetä¸Šä¸‹è½½çš„è„šæœ¬æˆ–è€…é…ç½®æ–‡ä»¶ï¼Œåªæœ‰è¢«Trustedï¼Œpublisherç­¾åçš„æ‰èƒ½ä½¿ç”¨ã€‚<br>â€“ Unrestricted: å¯ä»¥è½½å…¥æ‰€æœ‰é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥è¿è¡Œæ‰€æœ‰è„šæœ¬æ–‡ä»¶. å¦‚æœä½ è¿è¡Œä¸€ä¸ªä»internetä¸‹è½½å¹¶ä¸”æ²¡æœ‰ç­¾åçš„è„šæœ¬ï¼Œåœ¨è¿è¡Œä¹‹å‰ï¼Œä½ ä¼šè¢«æç¤ºéœ€è¦ä¸€å®šçš„æƒé™ã€‚<br>â€“ Bypass: æ‰€æœ‰ä¸œè¥¿éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¹¶ä¸”æ²¡æœ‰æç¤ºå’Œè­¦å‘Šã€‚<br>â€“ Undefined: åˆ é™¤å½“å‰scopeè¢«èµ‹äºˆçš„ExecutionPolicyï¼Œä½†æ˜¯Group Policy scopeçš„Execution Policyä¸ä¼šè¢«åˆ é™¤ã€‚</p></blockquote><h2 id="å››ã€requirementsæ–‡ä»¶"><a href="#å››ã€requirementsæ–‡ä»¶" class="headerlink" title="å››ã€requirementsæ–‡ä»¶"></a>å››ã€requirementsæ–‡ä»¶</h2><p>Pythoné¡¹ç›®ä¸­å¿…é¡»åŒ…å«ä¸€ä¸ªrequirements.txt æ–‡ä»¶ï¼Œç”¨æ¥è®°å½•æ‰€æœ‰ä¾èµ–åŒ…åŠå…¶ç²¾ç¡®çš„ç‰ˆæœ¬å·ï¼Œä»¥ä¾¿åœ¨æ–°ç¯å¢ƒä¸­è¿›è¡Œéƒ¨ç½²æ“ä½œã€‚</p><h3 id="1-ç”Ÿæˆrequirementsæ–‡ä»¶"><a href="#1-ç”Ÿæˆrequirementsæ–‡ä»¶" class="headerlink" title="1.ç”Ÿæˆrequirementsæ–‡ä»¶"></a>1.ç”Ÿæˆrequirementsæ–‡ä»¶</h3><p>åœ¨è™šæ‹Ÿç¯å¢ƒä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å½“å‰è™šæ‹Ÿç¯å¢ƒä¸­çš„ä¾èµ–åŒ…ä»¥ç‰ˆæœ¬å·ç”Ÿæˆè‡³æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨requirementsæ–‡ä»¶"><a href="#2-ä½¿ç”¨requirementsæ–‡ä»¶" class="headerlink" title="2.ä½¿ç”¨requirementsæ–‡ä»¶"></a>2.ä½¿ç”¨requirementsæ–‡ä»¶</h3><p>å½“éœ€è¦åˆ›å»ºè¿™ä¸ªè™šæ‹Ÿç¯å¢ƒçš„å®Œå…¨å‰¯æœ¬ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒï¼Œå¹¶åœ¨å…¶ä¸Šè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> VSCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCodeè¿œç¨‹è¿æ¥æœåŠ¡å™¨ å…å¯†ç™»å½•ï¼ˆssh keyï¼‰</title>
      <link href="/2022/07/14/VSCode%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8-%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/"/>
      <url>/2022/07/14/VSCode%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8-%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>VS Codeè¿œç¨‹è¿æ¥æœåŠ¡å™¨ï¼Œå°±å¯ä»¥ç›´æ¥ç¼–è¾‘æœåŠ¡å™¨ï¼ˆLinuxï¼‰ä¸Šçš„æ–‡ä»¶äº†ï¼Œè¿›è¡Œå¼€å‘ç­‰ï¼Œå°±æ¯”è¾ƒæ–¹ä¾¿äº†ã€‚ç”¨VS Codeä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥å®‰è£…ä¸€ä¸ª Remote - SSH çš„æ‰©å±•æ’ä»¶å°±å¯ä»¥äº†ã€‚</p><p>ç¬¬ä¸€æ¬¡æ·»åŠ ç™»å½•çš„æ—¶å€™ç”¨ <code>ssh username@hostip -A</code>ç™»å½•ï¼Œæ¯”å¦‚ç”¨æˆ·åubuntuï¼ŒæœåŠ¡å™¨ipæ˜¯111.222.333.444ï¼Œé‚£å°±æ˜¯<code>ssh ubuntu@111.222.333.444</code>ã€‚</p><p>ç„¶åè¾“å…¥å¯†ç å°±èƒ½ç™»å½•äº†ã€‚</p><a id="more"></a><p>ä½†æ˜¯ï¼Œæ¯æ¬¡ç™»å½•éƒ½éœ€è¦è¾“å…¥å¯†ç ã€‚æˆ‘ä»¬å°±å¯ä»¥ç”¨SSHå¯†é’¥ã€‚<br>ä¹‹å‰åœ¨ä½¿ç”¨Hexoåšå®¢çš„æ—¶å€™ï¼Œå·²ç»ç”¨è¿‡äº†ï¼š<a href="/2022/05/01/Hexo-SSH%E5%AF%86%E9%92%A5%E9%85%8D%E7%BD%AE/" title="Hexo SSHå¯†é’¥é…ç½®">Hexo SSHå¯†é’¥é…ç½®</a></p><p>åˆ†ä¸¤æ­¥ï¼š</p><ul><li>1.åœ¨æœ¬æœºåˆ›å»ºSSHå¯†é’¥ï¼›</li><li>2.æŠŠå…¬é’¥æ–‡ä»¶ä¸Šä¼ /å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Šã€‚</li></ul><h2 id="ç¬¬ä¸€æ­¥ã€åœ¨æœ¬æœºåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥-keys"><a href="#ç¬¬ä¸€æ­¥ã€åœ¨æœ¬æœºåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥-keys" class="headerlink" title="ç¬¬ä¸€æ­¥ã€åœ¨æœ¬æœºåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥(keys)"></a>ç¬¬ä¸€æ­¥ã€åœ¨æœ¬æœºåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥(keys)</h2><h3 id="1-æŸ¥çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH-keys"><a href="#1-æŸ¥çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH-keys" class="headerlink" title="1.æŸ¥çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH keys"></a>1.æŸ¥çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH keys</h3><p>åœ¨<code>~/.ssh</code>ç›®å½•ä¸­ã€‚æ‰“å¼€ã€Git Bashã€‘ï¼Œå¹¶è¿è¡Œï¼šï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ¬æœºå·²ç»å­˜åœ¨sshå…¬é’¥å’Œç§é’¥ï¼Œå¯ä»¥ç•¥è¿‡è¿™ä¸€æ­¥ï¼Œç›´æ¥è¿›å…¥ç¬¬äºŒæ­¥æ“ä½œï¼ˆé»˜è®¤çš„å…¬é’¥æ–‡ä»¶æ˜¯id_rsa.pubï¼‰ã€‚å½“ç„¶ï¼Œå»ºè®®å¯ä»¥åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥ä¸“ç”¨ä¸€äº›ç”¨æ¥é€šç”¨ã€‚</p><h3 id="2-åˆ›å»ºæ–°çš„SSHå¯†é’¥"><a href="#2-åˆ›å»ºæ–°çš„SSHå¯†é’¥" class="headerlink" title="2.åˆ›å»ºæ–°çš„SSHå¯†é’¥"></a>2.åˆ›å»ºæ–°çš„SSHå¯†é’¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ä¸Šé¢çš„é‚®ç®±æ˜¯è‡ªå·±çš„é‚®ç®±åœ°å€ï¼ŒæŒ‰è¿™ä¸ªé‚®ç®±åœ°å€ä¼šåˆ›å»ºä¸€å¯¹å¯†é’¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/c/Users/yourusername/.ssh/id_rsa): [Press enter]</span><br></pre></td></tr></table></figure><p><strong>ç›´æ¥å›è½¦</strong>ï¼Œä¼šå°†å¯†é’¥æŒ‰é»˜è®¤æ–‡ä»¶è¿›è¡Œå­˜å‚¨ã€‚<br>æ­¤æ—¶æç¤ºè¾“å…¥ç‰¹å®šçš„æ–‡ä»¶åï¼Œæ¯”å¦‚ï¼šubuntu_rsa<br><strong>ï¼ˆæ³¨ï¼šå»ºè®®è¿˜æ˜¯è¾“å…¥ç‰¹å®šçš„åå­—ï¼Œä¸ç„¶å°±æ˜¯é»˜è®¤çš„id_rsaæ–‡ä»¶ï¼Œå¦‚æœä½ æœ‰å¤šä¸ªSSHéœ€è¦ç®¡ç†çš„ï¼Œå°±æ¯”è¾ƒéº»çƒ¦äº†ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ‰€æœ‰çš„å…¨éƒ¨ç”¨ä¸€å¥—ï¼Œçœ‹è‡ªå·±éœ€è¦å§ã€‚ï¼‰</strong></p><p>æ¥ç€ï¼Œæ ¹æ®æç¤ºï¼Œä½ <strong>éœ€è¦è¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç </strong></p><p>ä¸æƒ³è¾“çš„è¯ï¼Œå°±éƒ½ç›´æ¥å›è½¦ç¡®è®¤å¯†ç ã€‚(æ‰€è°“çš„æœ€å®‰å…¨çš„å¯†ç ï¼Œå°±æ˜¯æ²¡æœ‰å¯†ç  å“ˆå“ˆï¼‰ã€‚<br>ç›¸å…³æç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): [Type a passphrase]</span><br><span class="line">Enter same passphrase again: [Type passphrase again]</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç å®Œæˆä¹‹åï¼Œå±å¹•ä¼šæ˜¾ç¤ºä¿¡æ¯ï¼Œè¡¨ç¤ºå®Œæˆäº†ã€‚</p><p>ç„¶åå°±å¯ä»¥åœ¨ç›®å½•ï¼šC:\Users\yourusername.ssh ä¸­çœ‹åˆ°æœ‰ubuntu_rsa å’Œ ubuntu_rsa.pub æ–‡ä»¶äº†ã€‚<br>å¦‚æœæ²¡æœ‰è‡ªå®šä¹‰åå­—ï¼Œåˆ™ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆ id_rsa.pub(å…¬é’¥)å’Œ id_rsa(ç§é’¥)æ–‡ä»¶ã€‚</p><h3 id="3-SSHå¯†é’¥é…ç½®"><a href="#3-SSHå¯†é’¥é…ç½®" class="headerlink" title="3.SSHå¯†é’¥é…ç½®"></a>3.SSHå¯†é’¥é…ç½®</h3><p>ç”¨è®°äº‹æœ¬ç¨‹åºæ‰“å¼€ <code>~/.ssh</code> ç›®å½•ï¼ˆC:\Users\yourusername.sshï¼‰ä¸­çš„configæ–‡ä»¶ã€‚<br>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Host 111.222.333.444</span><br><span class="line">  HostName 111.222.333.444</span><br><span class="line">  IdentityFile ~&#x2F;.ssh&#x2F;ubuntu_rsa</span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line">  User ubuntu</span><br></pre></td></tr></table></figure><blockquote><p>Hostï¼šç«™ç‚¹åˆ«åï¼Œæ–¹ä¾¿å‘½ä»¤è¡Œä½¿ç”¨<br>HostNameï¼šç«™ç‚¹åï¼ˆæœåŠ¡å™¨ipæˆ–åŸŸåï¼‰<br>PreferredAuthenticationsï¼šä¼˜å…ˆä½¿ç”¨å…¬é’¥è¿æ¥<br>IdentityFileï¼šç§é’¥è·¯å¾„</p></blockquote><p>ä»¥ä¸Šipåœ°å€æ¢æˆä½ è‡ªå·±æœåŠ¡å™¨çš„ipåœ°å€ã€‚</p><h2 id="ç¬¬äºŒæ­¥ã€åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥"><a href="#ç¬¬äºŒæ­¥ã€åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥" class="headerlink" title="ç¬¬äºŒæ­¥ã€åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥"></a>ç¬¬äºŒæ­¥ã€åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥</h2><h3 id="1-åˆ›å»º-ssh-ç›®å½•"><a href="#1-åˆ›å»º-ssh-ç›®å½•" class="headerlink" title="1.åˆ›å»º ~/.ssh ç›®å½•"></a>1.åˆ›å»º ~/.ssh ç›®å½•</h3><p>åœ¨æœåŠ¡å™¨ä¸­åˆ›å»º.sshç›®å½•ï¼ŒæŠŠæœ¬æœºçš„ ubuntu_rsa.pub ä¸­çš„æ–‡ä»¶å†…å®¹å…¨éƒ¨æ·»åŠ åˆ° authorized_keys æ–‡ä»¶ä¸­ã€‚ï¼ˆå³ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶ï¼‰</p><p>å…ˆæŸ¥çœ‹æ˜¯å¦å·²å­˜åœ¨<code>~/.ssh</code>ç›®å½•ï¼Œä¸å­˜åœ¨åˆ™æ–°å»º.sshç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ˜¯å¦å­˜åœ¨.sshç›®å½•</span></span><br><span class="line">ls -la</span><br><span class="line"><span class="comment"># è‹¥ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»º.sshç›®å½•</span></span><br><span class="line">mkdir .ssh</span><br></pre></td></tr></table></figure><h3 id="2-åœ¨-sshç›®å½•ä¸‹åˆ›å»ºauthorized-keysæ–‡ä»¶"><a href="#2-åœ¨-sshç›®å½•ä¸‹åˆ›å»ºauthorized-keysæ–‡ä»¶" class="headerlink" title="2.åœ¨.sshç›®å½•ä¸‹åˆ›å»ºauthorized_keysæ–‡ä»¶"></a>2.åœ¨.sshç›®å½•ä¸‹åˆ›å»ºauthorized_keysæ–‡ä»¶</h3><p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä¹Ÿä¸åˆ›å»ºäº†ï¼Œç›´æ¥ç›´æ¥æŠŠ ubuntu_rsa.pub ç”¨ftpå·¥å…·ä¸Šä¼ ï¼Œç„¶åç§»åŠ¨åˆ° .sshç›®å½•åï¼Œé‡å‘½åä¸º authorized_keyså°±è¡Œäº†ã€‚å¹¶ç”¨ chmodä¿®æ”¹ç›®å½•çš„æƒé™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mv ubuntu_rsa.pub .ssh/authorized_keys</span><br><span class="line"></span><br><span class="line">chmod 600 ~/.ssh/authorized_keys</span><br><span class="line">chmod 700 ~/.ssh</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥äº†ã€‚å†ç”¨VS Codeè¿œç¨‹è¿æ¥æœåŠ¡å™¨å°±ä¸ç”¨æ¯æ¬¡è¾“å…¥å¯†ç å•¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> VSCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VSCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonç”Ÿæˆå®‰å…¨éšæœºå¯†ç ï¼ˆsecretsï¼‰</title>
      <link href="/2022/07/12/Python%E7%94%9F%E6%88%90%E5%AE%89%E5%85%A8%E9%9A%8F%E6%9C%BA%E5%AF%86%E7%A0%81/"/>
      <url>/2022/07/12/Python%E7%94%9F%E6%88%90%E5%AE%89%E5%85%A8%E9%9A%8F%E6%9C%BA%E5%AF%86%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>secrets æ¨¡å—å¯ç”¨äºç”Ÿæˆé«˜åŠ å¯†å¼ºåº¦çš„éšæœºæ•°ï¼Œé€‚åº”ç®¡ç†å¯†ç ã€è´¦æˆ·éªŒè¯ã€å®‰å…¨å‡­æ®å’Œç›¸å…³æœºå¯†æ•°æ®ç®¡ç†çš„éœ€è¦ã€‚</p><p>ç‰¹åˆ«åœ°ï¼Œåº”å½“ä¼˜å…ˆä½¿ç”¨ secrets æ¥æ›¿ä»£ random æ¨¡å—ä¸­çš„é»˜è®¤ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œrandom è¢«è®¾è®¡ç”¨äºå»ºæ¨¡å’Œä»¿çœŸï¼Œè€Œä¸é€‚ç”¨äºå®‰å…¨å’ŒåŠ å¯†ã€‚</p><a id="more"></a><h3 id="1-ç®€å•éšæœºå¯†ç "><a href="#1-ç®€å•éšæœºå¯†ç " class="headerlink" title="1.ç®€å•éšæœºå¯†ç "></a>1.ç®€å•éšæœºå¯†ç </h3><p>ä¸»è¦äº†è§£ä¸‹ secrets çš„å‡ ä¸ªå‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> secrets</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">easy_passwd</span>():</span></span><br><span class="line">    num = secrets.randbelow(<span class="number">10</span>) <span class="comment"># [0,n) åŒºé—´çš„å®‰å…¨éšæœºæ•´æ•°</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;num:&quot;</span>, num)</span><br><span class="line"></span><br><span class="line">    s = secrets.choice([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;z&quot;</span>]) <span class="comment"># åœ¨ä¸€ä¸ªåºåˆ—ä¸­éšæœºæŒ‘é€‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="built_in">print</span>(s)</span><br><span class="line"></span><br><span class="line">    b_s = secrets.token_bytes(nbytes=<span class="number">6</span>) <span class="comment"># éšæœºç”ŸæˆæŒ‡å®šé•¿åº¦çš„ä¸€ä¸²å­—èŠ‚ä¸²</span></span><br><span class="line">    <span class="built_in">print</span>(b_s) <span class="comment"># b&#x27;\x03\x8c\xc9\x1f\x88z&#x27;</span></span><br><span class="line"></span><br><span class="line">    hex_s = secrets.token_hex(nbytes=<span class="number">6</span>) <span class="comment"># éšæœºç”ŸæˆæŒ‡å®šé•¿åº¦çš„ä¸€ä¸²16è¿›åˆ¶å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="built_in">print</span>(hex_s) <span class="comment"># 739ca28ec0b4</span></span><br><span class="line"></span><br><span class="line">    urlsafe_s = secrets.token_urlsafe(<span class="number">12</span>) <span class="comment"># éšæœºæˆæˆæŒ‡å®šé•¿åº¦çš„ä¸€ä¸²urlå®‰å…¨çš„å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="built_in">print</span>(urlsafe_s) <span class="comment"># 6pQFjrPf_dWwjcIK</span></span><br><span class="line">    url = <span class="string">&#x27;https://mydomain.com/reset=&#x27;</span> + urlsafe_s</span><br><span class="line"></span><br><span class="line">easy_passwd()</span><br></pre></td></tr></table></figure><h3 id="2-é«˜åŠ å¯†å¼ºåº¦å®‰å…¨éšæœºå¯†ç "><a href="#2-é«˜åŠ å¯†å¼ºåº¦å®‰å…¨éšæœºå¯†ç " class="headerlink" title="2.é«˜åŠ å¯†å¼ºåº¦å®‰å…¨éšæœºå¯†ç "></a>2.é«˜åŠ å¯†å¼ºåº¦å®‰å…¨éšæœºå¯†ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> secrets</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”ŸæˆæŒ‡å®šé•¿åº¦çš„å­—æ¯æ•°å­—å¯†ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">letter_digit_passwd</span>(<span class="params">length</span>):</span></span><br><span class="line">    <span class="comment"># s=&#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;</span></span><br><span class="line">    s = string.ascii_letters + string.digits</span><br><span class="line">    passwd = <span class="string">&#x27;&#x27;</span>.join(secrets.choice(s) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length))</span><br><span class="line">    <span class="keyword">return</span> passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”ŸæˆæŒ‡å®šé•¿åº¦çš„å­—æ¯æ•°å­—å¯†ç ï¼šè‡³å°‘1ä¸ªå°å†™å­—æ¯ï¼Œupper_numä¸ªå¤§å†™å­—æ¯å’Œdigit_numä¸ªæ•°å­—</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">letter_digit_passwd2</span>(<span class="params">length, upper_num, digit_num</span>):</span></span><br><span class="line">    s = string.ascii_letters + string.digits</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        password = <span class="string">&#x27;&#x27;</span>.join(secrets.choice(s) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length))</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">any</span>(c.islower() <span class="keyword">for</span> c <span class="keyword">in</span> password)</span><br><span class="line">                <span class="keyword">and</span> <span class="built_in">sum</span>(c.isupper() <span class="keyword">for</span> c <span class="keyword">in</span> password) &gt;= upper_num</span><br><span class="line">                <span class="keyword">and</span> <span class="built_in">sum</span>(c.isdigit() <span class="keyword">for</span> c <span class="keyword">in</span> password) &gt;= digit_num):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> password</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”ŸæˆæŒ‡å®šé•¿åº¦çš„å­—æ¯æ•°å­—å¯†ç </span></span><br><span class="line"><span class="built_in">print</span>(letter_digit_passwd(<span class="number">32</span>)) <span class="comment"># Ox8zw4FgCL8rehnAIcenK4jufrT0K3Bi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”ŸæˆæŒ‡å®šé•¿åº¦çš„å­—æ¯æ•°å­—å¯†ç ï¼šè‡³å°‘1ä¸ªå°å†™å­—æ¯ï¼Œ2ä¸ªå¤§å†™å­—æ¯å’Œ3ä¸ªæ•°å­—</span></span><br><span class="line"><span class="built_in">print</span>(letter_digit_passwd2(<span class="number">16</span>, <span class="number">2</span>, <span class="number">3</span>)) <span class="comment"># mavo52y2gMcjTLNR</span></span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://roohui.com/help/tutorial/python_3_9/library/secrets.html#random-numbers" >secrets â€” ç”Ÿæˆå®‰å…¨éšæœºæ•°å­—ç”¨äºç®¡ç†å¯†ç <i class="fas fa-external-link-alt"></i></a></p><h3 id="3-Linuxç”Ÿæˆéšæœºå¯†ç "><a href="#3-Linuxç”Ÿæˆéšæœºå¯†ç " class="headerlink" title="3.Linuxç”Ÿæˆéšæœºå¯†ç "></a>3.Linuxç”Ÿæˆéšæœºå¯†ç </h3><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œç”Ÿæˆéšæœºå¯†ç å°±æ›´ç®€å•äº†ï¼Œå°±ä¸€å¥å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rand -base64 32</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ª32å­—èŠ‚çš„éšæœºå­—ç¬¦ä¸²,å¹¶ç”¨base64ç¼–ç è¾“å‡ºã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå¤„ç†å¾®ä¿¡å°ç¨‹åºäº‘æ•°æ®åº“jsonæ–‡ä»¶</title>
      <link href="/2022/07/12/Python%E5%A4%84%E7%90%86%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93json%E6%96%87%E4%BB%B6/"/>
      <url>/2022/07/12/Python%E5%A4%84%E7%90%86%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93json%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>å¾®ä¿¡å°ç¨‹åºçš„äº‘æ•°æ®åº“çš„æ•°æ®æ˜¯å¯ä»¥ç›´æ¥å¯¼å‡ºçš„ï¼Œæ”¯æŒå¯¼å‡ºæˆJSONæ–‡ä»¶æˆ–è€…CSVæ–‡ä»¶ã€‚</p><p>jsonæ–‡ä»¶å¤„ç†èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œè¿™é‡Œå°±ç›´æ¥å¯¼å‡ºæˆjsonæ–‡ä»¶äº†ã€‚</p><p>å¯¼å‡ºç»“æœä¸¾ä¾‹ï¼ˆdata.jsonï¼‰ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;058dfefe629caed7075a6b8725c45ac1&quot;</span>,<span class="attr">&quot;_openid&quot;</span>:<span class="string">&quot;oaaaaaaaaL-7777777777&quot;</span>,<span class="attr">&quot;isbn&quot;</span>:<span class="string">&quot;9787530677216&quot;</span>&#125;</span><br><span class="line">&#123;<span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;b69f67c0629caee605fe79f43980a838&quot;</span>,<span class="attr">&quot;_openid&quot;</span>:<span class="string">&quot;oaaaaaaaaL-7777777777&quot;</span>,<span class="attr">&quot;isbn&quot;</span>:<span class="string">&quot;9787108064554&quot;</span>&#125;</span><br><span class="line">&#123;<span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;8f75309d629caf0c072a3f7a1f20df26&quot;</span>,<span class="attr">&quot;_openid&quot;</span>:<span class="string">&quot;oaaaaaaaaL-7777777777&quot;</span>,<span class="attr">&quot;isbn&quot;</span>:<span class="string">&quot;4781114262343&quot;</span>&#125;</span><br><span class="line">&#123;<span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;16db756f629caf3905ef16d24f5638f3&quot;</span>,<span class="attr">&quot;isbn&quot;</span>:<span class="string">&quot;9787508669762&quot;</span>,<span class="attr">&quot;_openid&quot;</span>:<span class="string">&quot;oaaaaaaaaL-7777777777&quot;</span>&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>è™½ç„¶å¯¼å‡ºæ¥æ˜¯.jsonæ–‡ä»¶ï¼Œä½†è¿™å…¶å®ä¹Ÿä¸æ˜¯æ ‡å‡†çš„jsonæ ¼å¼çš„æ–‡ä»¶ã€‚å¦‚æœæ˜¯æ ‡å‡†æ ¼å¼ï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[&#123;<span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;058dfefe629caed7075a6b8725c45ac1&quot;</span>,<span class="attr">&quot;_openid&quot;</span>:<span class="string">&quot;oaaaaaaaaL-7777777777&quot;</span>,<span class="attr">&quot;isbn&quot;</span>:<span class="string">&quot;9787530677216&quot;</span>&#125;,</span><br><span class="line">&#123;<span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;b69f67c0629caee605fe79f43980a838&quot;</span>,<span class="attr">&quot;_openid&quot;</span>:<span class="string">&quot;oaaaaaaaaL-7777777777&quot;</span>,<span class="attr">&quot;isbn&quot;</span>:<span class="string">&quot;9787108064554&quot;</span>&#125;,</span><br><span class="line">&#123;<span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;8f75309d629caf0c072a3f7a1f20df26&quot;</span>,<span class="attr">&quot;_openid&quot;</span>:<span class="string">&quot;oaaaaaaaaL-7777777777&quot;</span>,<span class="attr">&quot;isbn&quot;</span>:<span class="string">&quot;4781114262343&quot;</span>&#125;,</span><br><span class="line">&#123;<span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;16db756f629caf3905ef16d24f5638f3&quot;</span>,<span class="attr">&quot;isbn&quot;</span>:<span class="string">&quot;9787508669762&quot;</span>,<span class="attr">&quot;_openid&quot;</span>:<span class="string">&quot;oaaaaaaaaL-7777777777&quot;</span>&#125;]</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯æ ‡å‡†çš„jsonæ ¼å¼çš„æ–‡ä»¶ï¼Œå¯ä»¥ç”¨<code>json.load(fp)</code>å‡½æ•°ç›´æ¥è¯»å–æ–‡ä»¶å†…å®¹å¹¶è½¬æ¢ä¸ºpythonçš„ç±»å‹ã€‚</p><p>å› ä¸ºå¹¶ä¸æ˜¯æ ‡å‡†çš„jsonæ ¼å¼çš„æ–‡ä»¶ï¼Œæ‰€ä»¥å°±å½“æˆæ™®é€šçš„æ–‡æœ¬æ–‡ä»¶å°±è¡Œã€‚åˆ†ä¸¤æ­¥ï¼š</p><ul><li>1.ç›´æ¥æŒ‰æ™®é€šæ–‡æœ¬æ–‡ä»¶è¯»å–å†…å®¹ï¼›</li><li>2.å†å¯¹è¯»å–çš„æ•°æ®è¿›è¡Œæ ¼å¼å¤„ç†ã€‚</li></ul><h3 id="1-è¯»å–jsonæ–‡ä»¶å†…å®¹ï¼ˆéjsonæ ‡å‡†æ ¼å¼ï¼‰"><a href="#1-è¯»å–jsonæ–‡ä»¶å†…å®¹ï¼ˆéjsonæ ‡å‡†æ ¼å¼ï¼‰" class="headerlink" title="1.è¯»å–jsonæ–‡ä»¶å†…å®¹ï¼ˆéjsonæ ‡å‡†æ ¼å¼ï¼‰"></a>1.è¯»å–jsonæ–‡ä»¶å†…å®¹ï¼ˆéjsonæ ‡å‡†æ ¼å¼ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å– jsonæ–‡ä»¶å†…å®¹ï¼ˆéjsonæ ‡å‡†æ ¼å¼ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_non_standard_json</span>(<span class="params">json_file</span>):</span></span><br><span class="line">    data = []</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(json_file, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">            data.append(line.strip(<span class="string">&#x27;\n&#x27;</span>)) <span class="comment"># è¯»å–ä¸€è¡Œ</span></span><br><span class="line">    </span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure><p>è¿”å›çš„dataæ˜¯ä¸ªListï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#39;&#123;&quot;_id&quot;:&quot;058dfefe629caed7075a6b8725c45ac1&quot;,&quot;_openid&quot;:&quot;oaaaaaaaaL-7777777777&quot;,&quot;isbn&quot;:&quot;9787530677216&quot;&#125;&#39;, &#39;&#123;&quot;_id&quot;:&quot;b69f67c0629caee605fe79f43980a838&quot;,&quot;_openid&quot;:&quot;oaaaaaaaaL-7777777777&quot;,&quot;isbn&quot;:&quot;9787108064554&quot;&#125;&#39;, &#39;&#123;&quot;_id&quot;:&quot;8f75309d629caf0c072a3f7a1f20df26&quot;,&quot;_openid&quot;:&quot;oaaaaaaaaL-7777777777&quot;,&quot;isbn&quot;:&quot;4781114262343&quot;&#125;&#39;, &#39;&#123;&quot;_id&quot;:&quot;16db756f629caf3905ef16d24f5638f3&quot;,&quot;isbn&quot;:&quot;9787508669762&quot;,&quot;_openid&quot;:&quot;oaaaaaaaaL-7777777777&quot;&#125;&#39;]</span><br></pre></td></tr></table></figure><h3 id="2-æ•°æ®æ ¼å¼åŒ–å¤„ç†"><a href="#2-æ•°æ®æ ¼å¼åŒ–å¤„ç†" class="headerlink" title="2.æ•°æ®æ ¼å¼åŒ–å¤„ç†"></a>2.æ•°æ®æ ¼å¼åŒ–å¤„ç†</h3><ul><li>æŠŠdataä¸­æ¯ä¸€é¡¹ï¼ˆjsonçš„å­—ç¬¦ä¸²ï¼‰ååºåˆ—åŒ–ä¸ºPythonæ•°æ®å¯¹è±¡ï¼ˆdictå­—å…¸ï¼‰ã€‚</li><li>ç„¶åæŠŠéœ€è¦çš„é¡¹ç»„æˆä¸€ä¸ªListã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">data_format</span>(<span class="params">data</span>):</span></span><br><span class="line">    data_list = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> data:</span><br><span class="line">        one = json.loads(s, strict=<span class="literal">False</span>) <span class="comment"># æŠŠjsonæ ¼å¼çš„å­—ç¬¦ä¸²è½¬ä¸ºpythonçš„dictå¯¹è±¡</span></span><br><span class="line">        <span class="comment"># print(type(one)) # &lt;class &#x27;dict&#x27;&gt;</span></span><br><span class="line">        isbn = one[<span class="string">&#x27;isbn&#x27;</span>]</span><br><span class="line">        openid = one[<span class="string">&#x27;_openid&#x27;</span>]</span><br><span class="line">        data_list.append([openid, isbn])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data_list</span><br></pre></td></tr></table></figure><h3 id="3-å®Œæ•´ä»£ç "><a href="#3-å®Œæ•´ä»£ç " class="headerlink" title="3.å®Œæ•´ä»£ç "></a>3.å®Œæ•´ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å– jsonæ–‡ä»¶å†…å®¹ï¼ˆéjsonæ ‡å‡†æ ¼å¼ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_non_standard_json</span>(<span class="params">json_file</span>):</span></span><br><span class="line">    data = []</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(json_file, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">            data.append(line.strip(<span class="string">&#x27;\n&#x27;</span>)) <span class="comment"># è¯»å–ä¸€è¡Œ</span></span><br><span class="line">    </span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">data_format</span>(<span class="params">data</span>):</span></span><br><span class="line">    data_list = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> data:</span><br><span class="line">        one = json.loads(s, strict=<span class="literal">False</span>) <span class="comment"># æŠŠjsonæ ¼å¼çš„å­—ç¬¦ä¸²è½¬ä¸ºpythonçš„dictå¯¹è±¡</span></span><br><span class="line">        <span class="comment"># print(type(one)) # &lt;class &#x27;dict&#x27;&gt;</span></span><br><span class="line">        isbn = one[<span class="string">&#x27;isbn&#x27;</span>]</span><br><span class="line">        openid = one[<span class="string">&#x27;_openid&#x27;</span>]</span><br><span class="line">        data_list.append([openid, isbn])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data_list</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">10</span> + <span class="string">&#x27;è¯»å–jsonæ–‡ä»¶å†…å®¹ï¼ˆéjsonæ ‡å‡†æ ¼å¼ï¼‰&#x27;</span> + <span class="string">&#x27;-&#x27;</span>*<span class="number">10</span>)</span><br><span class="line">json_file = <span class="string">r&#x27;.\data.json&#x27;</span></span><br><span class="line">data = read_non_standard_json(json_file)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">10</span> + <span class="string">&#x27;æ ¼å¼åŒ–&#x27;</span> + <span class="string">&#x27;-&#x27;</span>*<span class="number">10</span>)</span><br><span class="line">data_list = data_format(data)</span><br><span class="line"><span class="built_in">print</span>(data_list)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">----------è¯»å–jsonæ–‡ä»¶å†…å®¹ï¼ˆéjsonæ ‡å‡†æ ¼å¼ï¼‰----------</span><br><span class="line">[&#39;&#123;&quot;_id&quot;:&quot;058dfefe629caed7075a6b8725c45ac1&quot;,&quot;_openid&quot;:&quot;oaaaaaaaaL-7777777777&quot;,&quot;isbn&quot;:&quot;9787530677216&quot;&#125;&#39;, &#39;&#123;&quot;_id&quot;:&quot;b69f67c0629caee605fe79f43980a838&quot;,&quot;_openid&quot;:&quot;oaaaaaaaaL-7777777777&quot;,&quot;isbn&quot;:&quot;9787108064554&quot;&#125;&#39;, &#39;&#123;&quot;_id&quot;:&quot;8f75309d629caf0c072a3f7a1f20df26&quot;,&quot;_openid&quot;:&quot;oaaaaaaaaL-7777777777&quot;,&quot;isbn&quot;:&quot;4781114262343&quot;&#125;&#39;, &#39;&#123;&quot;_id&quot;:&quot;16db756f629caf3905ef16d24f5638f3&quot;,&quot;isbn&quot;:&quot;9787508669762&quot;,&quot;_openid&quot;:&quot;oaaaaaaaaL-7777777777&quot;&#125;&#39;]</span><br><span class="line">----------æ ¼å¼åŒ–----------</span><br><span class="line">[[&#39;oaaaaaaaaL-7777777777&#39;, &#39;9787530677216&#39;], [&#39;oaaaaaaaaL-7777777777&#39;, &#39;9787108064554&#39;], [&#39;oaaaaaaaaL-7777777777&#39;, &#39;4781114262343&#39;], [&#39;oaaaaaaaaL-7777777777&#39;, &#39;9787508669762&#39;]]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python JSONä½¿ç”¨ä¸¾ä¾‹</title>
      <link href="/2022/07/12/Python-JSON%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/"/>
      <url>/2022/07/12/Python-JSON%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>JSONæ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚æ˜“äºäººç±»çš„é˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œæ˜¯ç›®å‰åº”ç”¨æœ€å¹¿æ³›çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚</p><p>åƒä¸€äº›å¼€æ”¾APIæ¥å£ï¼Œå¾ˆå¤šè¿”å›æ•°æ®ä¹Ÿéƒ½æœ‰jsonæ ¼å¼ã€‚è¿™æ ·è·¨è¯­è¨€ã€è·¨å¹³å°ä½¿ç”¨å°±å¾ˆæ–¹ä¾¿äº†ã€‚</p><p>æ¯”å¦‚è¿™æ ·çš„jsonæ•°æ®ï¼ˆæ³¨æ„jsonä¸­éƒ½æ˜¯åŒå¼•å·ï¼‰ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[    </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;æ°´æµ’ä¼ &quot;</span>,</span><br><span class="line">        <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;æ–½è€åºµ&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;time&quot;</span>: <span class="string">&quot;2016-09-01&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;isbn&quot;</span>: <span class="string">&quot;1111222233444&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;ä¸‰å›½æ¼”ä¹‰&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;ç½—è´¯ä¸­&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;time&quot;</span>: <span class="string">&quot;2017-09-01&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;isbn&quot;</span>: <span class="string">&quot;1111222233555&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="JSONå‡½æ•°"><a href="#JSONå‡½æ•°" class="headerlink" title="JSONå‡½æ•°"></a>JSONå‡½æ•°</h2><p>Pythoné‡Œç”¨jsonä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œä¸»è¦å°±å››ä¸ªå‡½æ•°ã€‚</p><p>æœ€ä¸»è¦æ˜¯å‰ä¸¤ä¸ªå¤„ç†å­—ç¬¦ä¸²çš„ï¼Œåä¸¤ä¸ªæ˜¯å¤„ç†æ–‡ä»¶çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">json.dumps(obj)ï¼šå°†Pythonå¯¹è±¡åºåˆ—åŒ–æˆjsonå­—ç¬¦ä¸²</span><br><span class="line">json.loads(s)ï¼šå°†å·²ç¼–ç çš„jsonå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºPythonå¯¹è±¡</span><br><span class="line"></span><br><span class="line">json.dump(obj,fp)ï¼šå°†pythonæ•°æ®ç±»å‹è½¬æ¢å¹¶ä¿å­˜åˆ°jsonæ ¼å¼çš„æ–‡ä»¶</span><br><span class="line">json.load(fp)ï¼šä»jsonæ ¼å¼çš„æ–‡ä»¶ä¸­è¯»å–æ•°æ®å¹¶è½¬æ¢ä¸ºpythonçš„ç±»å‹</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ JSON å‡½æ•°éœ€è¦å¯¼å…¥ json åº“ï¼š<code>import json</code>ã€‚</p><h3 id="1-json-dumps-obj-åºåˆ—åŒ–æˆjsonå­—ç¬¦ä¸²"><a href="#1-json-dumps-obj-åºåˆ—åŒ–æˆjsonå­—ç¬¦ä¸²" class="headerlink" title="1. json.dumps(obj) åºåˆ—åŒ–æˆjsonå­—ç¬¦ä¸²"></a>1. json.dumps(obj) åºåˆ—åŒ–æˆjsonå­—ç¬¦ä¸²</h3><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json.dumps(obj, skipkeys=<span class="literal">False</span>, ensure_ascii=<span class="literal">True</span>, check_circular=<span class="literal">True</span>, allow_nan=<span class="literal">True</span>, cls=<span class="literal">None</span>, indent=<span class="literal">None</span>, separators=<span class="literal">None</span>, encoding=<span class="string">&quot;utf-8&quot;</span>, default=<span class="literal">None</span>, sort_keys=<span class="literal">False</span>, **kw)</span><br></pre></td></tr></table></figure><p><strong>2ä¸ªé‡è¦å‚æ•°ï¼š</strong><br>1).ensure_ascii å‚æ•°</p><p>é»˜è®¤çš„è¯æ˜¯ <code>ensure_ascii=True</code>ï¼Œè¿™ä¸ªå½“æœ‰ä¸­æ–‡å­—ç¬¦çš„æ—¶å€™å°±ä¼šæœ‰é—®é¢˜ï¼Œé»˜è®¤Trueè¡¨ç¤ºä½¿ç”¨asciiç¼–ç ã€‚å¦‚æœæƒ³è¾“å‡ºæ­£å¸¸ä¸­æ–‡ï¼Œå°±è¦è®¾ç½®æˆ <code>ensure_ascii=False</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">s = <span class="string">&#x27;æ°´æµ’ä¼ &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(json.dumps(s)) <span class="comment"># &quot;\u6c34\u6d52\u4f20&quot;</span></span><br><span class="line"><span class="built_in">print</span>(json.dumps(s, ensure_ascii=<span class="literal">False</span>)) <span class="comment"># &quot;æ°´æµ’ä¼ &quot;</span></span><br></pre></td></tr></table></figure><p>2).indent å‚æ•°</p><p>é»˜è®¤æ˜¯ <code>indent=None</code>ï¼Œè¡¨ç¤ºæ²¡æœ‰æ ¼å¼ã€‚indentåé¢çš„æ•°å€¼è¡¨ç¤ºç¼©è¿›çš„ç©ºæ ¼æ•°ã€‚çœ‹ä¸‹ä¾‹å­å°±æ‡‚äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">book = &#123;<span class="string">&#x27;æ°´æµ’ä¼ &#x27;</span>:<span class="string">&#x27;æ–½è€åºµ&#x27;</span>, <span class="string">&#x27;ä¸‰å›½æ¼”ä¹‰&#x27;</span>:<span class="string">&#x27;ç½—è´¯ä¸­&#x27;</span>, <span class="string">&#x27;çº¢æ¥¼æ¢¦&#x27;</span>:<span class="string">&#x27;æ›¹é›ªèŠ¹&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(json.dumps(book, ensure_ascii=<span class="literal">False</span>))</span><br><span class="line"><span class="built_in">print</span>(json.dumps(book, ensure_ascii=<span class="literal">False</span>, separators=(<span class="string">&#x27;,&#x27;</span>,<span class="string">&#x27;:&#x27;</span>)))</span><br><span class="line"><span class="built_in">print</span>(json.dumps(book, ensure_ascii=<span class="literal">False</span>, indent=<span class="number">2</span>)) <span class="comment"># ç¼©è¿›2ä¸ª</span></span><br><span class="line"><span class="built_in">print</span>(json.dumps(book, ensure_ascii=<span class="literal">False</span>, indent=<span class="number">4</span>)) <span class="comment"># ç¼©è¿›4ä¸ª</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;æ°´æµ’ä¼ &quot;: &quot;æ–½è€åºµ&quot;, &quot;ä¸‰å›½æ¼”ä¹‰&quot;: &quot;ç½—è´¯ä¸­&quot;, &quot;çº¢æ¥¼æ¢¦&quot;: &quot;æ›¹é›ªèŠ¹&quot;&#125;</span><br><span class="line">&#123;&quot;æ°´æµ’ä¼ &quot;:&quot;æ–½è€åºµ&quot;,&quot;ä¸‰å›½æ¼”ä¹‰&quot;:&quot;ç½—è´¯ä¸­&quot;,&quot;çº¢æ¥¼æ¢¦&quot;:&quot;æ›¹é›ªèŠ¹&quot;&#125;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;æ°´æµ’ä¼ &quot;: &quot;æ–½è€åºµ&quot;,</span><br><span class="line">  &quot;ä¸‰å›½æ¼”ä¹‰&quot;: &quot;ç½—è´¯ä¸­&quot;,</span><br><span class="line">  &quot;çº¢æ¥¼æ¢¦&quot;: &quot;æ›¹é›ªèŠ¹&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;æ°´æµ’ä¼ &quot;: &quot;æ–½è€åºµ&quot;,</span><br><span class="line">    &quot;ä¸‰å›½æ¼”ä¹‰&quot;: &quot;ç½—è´¯ä¸­&quot;,</span><br><span class="line">    &quot;çº¢æ¥¼æ¢¦&quot;: &quot;æ›¹é›ªèŠ¹&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li><code>sort_keys=False</code>ï¼šé»˜è®¤æ˜¯æ²¡æ’åºçš„ï¼Œå¯ä»¥æŒ‰ç…§keyæ¥æ’åºï¼›</li><li><code>separators=None</code>ï¼šå¦‚æœè®¾ç½®æˆ<code>separators=(&#39;,&#39;,&#39;:&#39;)</code>è¡¨ç¤ºå…ƒç´ ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œkeyå’Œvalueä¹‹é—´ç”¨å†’å·éš”å¼€ï¼ˆè¿™é‡Œæ²¡æœ‰ç©ºæ ¼ï¼Œéœ€è¦ç©ºæ ¼å°±åŠ ä¸Šï¼Œé»˜è®¤æ˜¯æœ‰çš„ï¼‰</li></ul><p><strong>ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">book = &#123;<span class="string">&#x27;æ°´æµ’ä¼ &#x27;</span>:<span class="string">&#x27;æ–½è€åºµ&#x27;</span>, <span class="string">&#x27;ä¸‰å›½æ¼”ä¹‰&#x27;</span>:<span class="string">&#x27;ç½—è´¯ä¸­&#x27;</span>, <span class="string">&#x27;çº¢æ¥¼æ¢¦&#x27;</span>:<span class="string">&#x27;æ›¹é›ªèŠ¹&#x27;</span>&#125;</span><br><span class="line"><span class="comment"># dumps æ–¹æ³•å°†æ•°æ®å¯¹è±¡åºåˆ—åŒ–ä¸º jsonæ ¼å¼çš„å­—ç¬¦ä¸²</span></span><br><span class="line">json_info = json.dumps(book, ensure_ascii=<span class="literal">False</span>, indent=<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(json_info)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(book)) <span class="comment"># &lt;class &#x27;dict&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(json_info)) <span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">book_info = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;æ°´æµ’ä¼ &#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;æ–½è€åºµ&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;time&#x27;</span>: <span class="string">&#x27;2016-09-01&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;isbn&#x27;</span>: <span class="string">&#x27;1111222233444&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ä¸‰å›½æ¼”ä¹‰&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;ç½—è´¯ä¸­&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;time&#x27;</span>: <span class="string">&#x27;2017-09-01&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;isbn&#x27;</span>: <span class="string">&#x27;1111222233555&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">json_info2 = json.dumps(book_info, ensure_ascii=<span class="literal">False</span>, indent=<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(json_info2)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(book_info)) <span class="comment"># &lt;class &#x27;list&#x27;&gt;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;æ°´æµ’ä¼ &quot;: &quot;æ–½è€åºµ&quot;,</span><br><span class="line">    &quot;ä¸‰å›½æ¼”ä¹‰&quot;: &quot;ç½—è´¯ä¸­&quot;,</span><br><span class="line">    &quot;çº¢æ¥¼æ¢¦&quot;: &quot;æ›¹é›ªèŠ¹&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;class &#39;dict&#39;&gt;</span><br><span class="line">&lt;class &#39;str&#39;&gt;</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;name&quot;: &quot;æ°´æµ’ä¼ &quot;,</span><br><span class="line">        &quot;author&quot;: &quot;æ–½è€åºµ&quot;,</span><br><span class="line">        &quot;time&quot;: &quot;2016-09-01&quot;,</span><br><span class="line">        &quot;isbn&quot;: &quot;1111222233444&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;name&quot;: &quot;ä¸‰å›½æ¼”ä¹‰&quot;,</span><br><span class="line">        &quot;author&quot;: &quot;ç½—è´¯ä¸­&quot;,</span><br><span class="line">        &quot;time&quot;: &quot;2017-09-01&quot;,</span><br><span class="line">        &quot;isbn&quot;: &quot;1111222233555&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">&lt;class &#39;list&#39;&gt;</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æ¯”è¾ƒå¸¸ç”¨çš„åº”è¯¥å°±æ˜¯pythonçš„dictå­—å…¸æˆ–liståˆ—è¡¨ç¼–ç æˆjsonæ ¼å¼å­—ç¬¦ä¸²ã€‚</p><h3 id="2-json-loads-s-ååºåˆ—åŒ–æˆPythonæ•°æ®å¯¹è±¡"><a href="#2-json-loads-s-ååºåˆ—åŒ–æˆPythonæ•°æ®å¯¹è±¡" class="headerlink" title="2. json.loads(s) ååºåˆ—åŒ–æˆPythonæ•°æ®å¯¹è±¡"></a>2. json.loads(s) ååºåˆ—åŒ–æˆPythonæ•°æ®å¯¹è±¡</h3><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json.loads(s[, encoding[, cls[, object_hook[, parse_float[, parse_int[, parse_constant[, object_pairs_hook[, **kw]]]]]]]])</span><br></pre></td></tr></table></figure><p><strong>1ä¸ªé‡è¦å‚æ•°ï¼š</strong><br>strict å‚æ•°<br>é»˜è®¤æ˜¯<code>strict=True</code>ï¼Œæ˜¯ä¸èƒ½æœ‰æ§åˆ¶å­—ç¬¦çš„ï¼Œå¦‚æœæœ‰ï¼Œä¼šæŠ¥ä¸€ä¸ªé”™ï¼š<br><code>ValueError Invalid control characterâ€¦â€¦</code></p><p>å®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿæœ‰è¿™ä¸ªå‚æ•°çš„è¯´æ˜ï¼š</p><blockquote><p>å¦‚æœ strict ä¸º false ï¼ˆé»˜è®¤ä¸º True ï¼‰ï¼Œé‚£ä¹ˆæ§åˆ¶å­—ç¬¦å°†è¢«å…è®¸åœ¨å­—ç¬¦ä¸²å†…ã€‚åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­çš„æ§åˆ¶å­—ç¬¦ç¼–ç åœ¨èŒƒå›´ 0â€“31 å†…çš„å­—ç¬¦ï¼ŒåŒ…æ‹¬ â€˜\tâ€™ (åˆ¶è¡¨ç¬¦ï¼‰ï¼Œ â€˜\nâ€™ ï¼Œ â€˜\râ€™ å’Œ â€˜\0â€™ </p></blockquote><p>æ‰€ä»¥ï¼Œä¸€èˆ¬æˆ‘ä»¬å°±ç›´æ¥è®¾ä¸º<code>strict=False</code>ã€‚</p><p><strong>ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">book = &#123;<span class="string">&#x27;æ°´æµ’ä¼ &#x27;</span>:<span class="string">&#x27;æ–½è€åºµ&#x27;</span>, <span class="string">&#x27;ä¸‰å›½æ¼”ä¹‰&#x27;</span>:<span class="string">&#x27;ç½—è´¯ä¸­&#x27;</span>, <span class="string">&#x27;çº¢æ¥¼æ¢¦&#x27;</span>:<span class="string">&#x27;æ›¹é›ªèŠ¹ &#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">10</span> + <span class="string">&#x27;åºåˆ—åŒ–ä¸ºjsonæ ¼å¼å­—ç¬¦ä¸²&#x27;</span> + <span class="string">&#x27;-&#x27;</span>*<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 1.json.dumps(obj) æ–¹æ³•å°†æ•°æ®å¯¹è±¡åºåˆ—åŒ–ä¸º jsonæ ¼å¼çš„å­—ç¬¦ä¸²</span></span><br><span class="line">json_info = json.dumps(book, ensure_ascii=<span class="literal">False</span>, indent=<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(json_info)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(book)) <span class="comment"># &lt;class &#x27;dict&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(json_info)) <span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">10</span> + <span class="string">&#x27;ååºåˆ—åŒ–ä¸ºPythonæ•°æ®å¯¹è±¡&#x27;</span> + <span class="string">&#x27;-&#x27;</span>*<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 2.json.loads(s) æ–¹æ³•æŠŠjsonæ ¼å¼çš„å­—ç¬¦ä¸²å˜ä¸º Pythonä¸­çš„æ•°æ®å¯¹è±¡</span></span><br><span class="line">trans_info = json.loads(json_info, strict=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(trans_info)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(trans_info)) <span class="comment"># &lt;class &#x27;dict&#x27;&gt;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">----------åºåˆ—åŒ–ä¸ºjsonæ ¼å¼å­—ç¬¦ä¸²----------</span><br><span class="line">&#123;</span><br><span class="line">    &quot;æ°´æµ’ä¼ &quot;: &quot;æ–½è€åºµ&quot;,</span><br><span class="line">    &quot;ä¸‰å›½æ¼”ä¹‰&quot;: &quot;ç½—è´¯ä¸­&quot;,</span><br><span class="line">    &quot;çº¢æ¥¼æ¢¦&quot;: &quot;æ›¹é›ªèŠ¹ &quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;class &#39;dict&#39;&gt;</span><br><span class="line">&lt;class &#39;str&#39;&gt;</span><br><span class="line">----------ååºåˆ—åŒ–ä¸ºPythonæ•°æ®å¯¹è±¡----------</span><br><span class="line">&#123;&#39;æ°´æµ’ä¼ &#39;: &#39;æ–½è€åºµ&#39;, &#39;ä¸‰å›½æ¼”ä¹‰&#39;: &#39;ç½—è´¯ä¸­&#39;, &#39;çº¢æ¥¼æ¢¦&#39;: &#39;æ›¹é›ªèŠ¹ &#39;&#125;</span><br><span class="line">&lt;class &#39;dict&#39;&gt;</span><br></pre></td></tr></table></figure><h3 id="3-json-dump-obj-fp-ä¿å­˜åˆ°jsonæ ¼å¼çš„æ–‡ä»¶"><a href="#3-json-dump-obj-fp-ä¿å­˜åˆ°jsonæ ¼å¼çš„æ–‡ä»¶" class="headerlink" title="3. json.dump(obj,fp) ä¿å­˜åˆ°jsonæ ¼å¼çš„æ–‡ä»¶"></a>3. json.dump(obj,fp) ä¿å­˜åˆ°jsonæ ¼å¼çš„æ–‡ä»¶</h3><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json.dump(obj, fp, *, skipkeys=<span class="literal">False</span>, ensure_ascii=<span class="literal">True</span>, check_circular=<span class="literal">True</span>, allow_nan=<span class="literal">True</span>, cls=<span class="literal">None</span>, indent=<span class="literal">None</span>, separators=<span class="literal">None</span>, default=<span class="literal">None</span>, sort_keys=<span class="literal">False</span>, **kw)</span><br></pre></td></tr></table></figure><p><strong>2ä¸ªé‡è¦å‚æ•°ï¼š</strong><br>è·Ÿ<code>json.dumps(obj)</code>ä¸€æ ·çš„ï¼Œä¸»è¦å°±æ˜¯ensure_ascii å’Œ indentã€‚</p><p><strong>ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">book_info = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;æ°´æµ’ä¼ &#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;æ–½è€åºµ&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;time&#x27;</span>: <span class="string">&#x27;2016-09-01&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;isbn&#x27;</span>: <span class="string">&#x27;1111222233444&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ä¸‰å›½æ¼”ä¹‰&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;ç½—è´¯ä¸­&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;time&#x27;</span>: <span class="string">&#x27;2017-09-01&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;isbn&#x27;</span>: <span class="string">&#x27;1111222233555&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">10</span> + <span class="string">&#x27;ä¿å­˜åˆ°jsonæ ¼å¼çš„æ–‡ä»¶&#x27;</span> + <span class="string">&#x27;-&#x27;</span>*<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 3.json.dump(obj, fp) æ–¹æ³•å°†pythonæ•°æ®ç±»å‹è½¬æ¢å¹¶ä¿å­˜åˆ°jsonæ ¼å¼çš„æ–‡ä»¶å†…</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;.\book.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(book_info, f, ensure_ascii=<span class="literal">False</span>, indent=<span class="number">4</span>)</span><br></pre></td></tr></table></figure><h3 id="4-json-load-fp-è¯»å–jsonæ ¼å¼æ–‡ä»¶æ•°æ®"><a href="#4-json-load-fp-è¯»å–jsonæ ¼å¼æ–‡ä»¶æ•°æ®" class="headerlink" title="4.json.load(fp) è¯»å–jsonæ ¼å¼æ–‡ä»¶æ•°æ®"></a>4.json.load(fp) è¯»å–jsonæ ¼å¼æ–‡ä»¶æ•°æ®</h3><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json.load(fp, *, cls=<span class="literal">None</span>, object_hook=<span class="literal">None</span>, parse_float=<span class="literal">None</span>, parse_int=<span class="literal">None</span>, parse_constant=<span class="literal">None</span>, object_pairs_hook=<span class="literal">None</span>, **kw)</span><br></pre></td></tr></table></figure><p><strong>ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">10</span> + <span class="string">&#x27;è¯»å–jsonæ–‡ä»¶å†…å®¹&#x27;</span> + <span class="string">&#x27;-&#x27;</span>*<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 4.json.load(fp) æ–¹æ³•è¯»å– jsonæ–‡ä»¶å†…å®¹å¹¶è½¬æ¢ä¸ºpythonçš„ç±»å‹</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;.\book.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line">f.close()</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data)) <span class="comment"># &lt;class &#x27;list&#x27;&gt;</span></span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://docs.python.org/zh-cn/3.9/library/json.html" >json â€” JSON ç¼–ç å’Œè§£ç å™¨<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excelä¸­å¤šæ¡ä»¶æŸ¥è¯¢</title>
      <link href="/2022/07/01/Excel%E4%B8%AD%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2/"/>
      <url>/2022/07/01/Excel%E4%B8%AD%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2/</url>
      
        <content type="html"><![CDATA[<p>ä¸€èˆ¬ï¼ŒåŸæ¥åœ¨Excelä¸­æŸ¥è¯¢ç”¨çš„æœ€å¤šçš„å°±æ˜¯vlookupï¼Œåæ¥æœ‰äº†xlookupï¼Œå¾ˆå¤šæ—¶å€™æ›´æ–¹ä¾¿å°±ç”¨xlookupäº†ã€‚</p><p>ä¸è¿‡ ï¼Œè¿™éƒ½æ˜¯é’ˆå¯¹ä¸€ä¸ªæ¡ä»¶çš„æŸ¥è¯¢ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¦æŸ¥è¯¢è¡¨æ ¼ä¸­æŸä¸ªäººçš„æ€»åˆ†ã€‚</p><p>å› ä¸ºï¼Œä¸åŒç­çº§ä¼šæœ‰ç›¸åŒå§“åçš„æƒ…å†µï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥æŒ‰å§“åæ¥æŸ¥è¯¢ã€‚<br>æŸ¥è¯¢çš„æ—¶å€™éœ€è¦ä¸¤ä¸ªæ¡ä»¶ï¼šä¸€ä¸ªæ˜¯ç­çº§ï¼Œå¦ä¸€ä¸ªæ˜¯å§“åï¼ŒåŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶æ‰èƒ½æŸ¥è¯¢åˆ°è¿™ä¸ªäººã€‚<br>ï¼ˆå½“ç„¶ï¼Œå‡è®¾åŒä¸€ä¸ªç­çº§é‡Œæ²¡æœ‰ç›¸åŒå§“åã€‚å¦‚æœåŒä¸€ä¸ªç­çº§é‡Œéƒ½æœ‰ç›¸åŒå§“åï¼Œå¤šæ·»åŠ ä¸€åˆ—å­¦å·/åºå·å°±è¡Œäº†ï¼‰</p><a id="more"></a><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_more_condition_query_1.png"                      style="zoom: 75%;"                ></p><p><strong>æ€è·¯ï¼š</strong></p><ul><li>ç”¨ match å‡½æ•°æ‰¾åˆ°åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶çš„ç´¢å¼•å·ï¼›</li><li>ç”¨ index å‡½æ•°é€šè¿‡ç´¢å¼•å·æŸ¥è¯¢ã€‚</li></ul><h3 id="1-index-å‡½æ•°"><a href="#1-index-å‡½æ•°" class="headerlink" title="1.index å‡½æ•°"></a>1.index å‡½æ•°</h3><p><strong>åŠŸèƒ½</strong>ï¼šè¿”å›è¡¨å…ƒç´ æˆ–æ•°ç»„å…ƒç´ çš„å€¼ï¼Œè¯¥å…ƒç´ æ˜¯é€šè¿‡è¡Œå·å’Œåˆ—å·ç´¢å¼•é€‰å®šçš„ã€‚<br><strong>è¯­æ³•</strong>ï¼šINDEX(array, row_num, [column_num])</p><p>æˆ‘ä»¬ä¼šç”¨åˆ°çš„å°±æ˜¯åœ¨ä¸€åˆ—é‡Œçš„ï¼Œæ‰€ä»¥ä¸¾ä¾‹éƒ½æ˜¯ä¸€åˆ—ä¸­çš„ã€‚</p><p><strong>ä¸¾ä¾‹ï¼ˆä¸Šé¢çš„è¡¨æ ¼ï¼‰</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INDEX(D2:D31,1) è¡¨ç¤ºD2:D31çš„å•å…ƒæ ¼å†…å®¹ä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå–ç¬¬1ä¸ªå€¼ï¼Œå³D2çš„å€¼(388)</span><br><span class="line">INDEX(D2:D31,3) è¡¨ç¤ºD2:D31çš„å•å…ƒæ ¼å†…å®¹ä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå–ç¬¬3ä¸ªå€¼ï¼Œå³D4çš„å€¼(329)</span><br></pre></td></tr></table></figure><p>é‚£æˆ‘ä»¬åªéœ€è¦è¿™ä¸ªå­¦ç”Ÿå¯¹åº”çš„ç´¢å¼•è¡Œå·ï¼Œå°±å¯ä»¥æŸ¥è¯¢åˆ°äº†ã€‚ç”¨matchå‡½æ•°ã€‚</p><h3 id="2-match-å‡½æ•°"><a href="#2-match-å‡½æ•°" class="headerlink" title="2.match å‡½æ•°"></a>2.match å‡½æ•°</h3><p><strong>åŠŸèƒ½</strong>ï¼šåœ¨æŒ‡å®šèŒƒå›´å•å…ƒæ ¼ä¸­æœç´¢ç‰¹å®šçš„é¡¹ï¼Œç„¶åè¿”å›è¯¥é¡¹åœ¨æ­¤åŒºåŸŸä¸­çš„ç›¸å¯¹ä½ç½®ã€‚<br><strong>è¯­æ³•</strong>ï¼šMATCH(lookup_value, lookup_array, [match_type])</p><p><strong>ä¸¾ä¾‹ï¼ˆä¸Šé¢çš„è¡¨æ ¼ï¼‰</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MATCH(F2,$B$2:$B$31,0) è¡¨ç¤ºåœ¨B2:B31ä¸­ï¼ŒæŸ¥è¯¢F2(201)çš„ä½ç½®ï¼Œç»“æœæ˜¯ï¼š11(ç¬¬1ä¸ª201)</span><br><span class="line">MATCH(G2,$C$2:$C$31,0) è¡¨ç¤ºåœ¨C2:C31ä¸­ï¼ŒæŸ¥è¯¢G2(è€å½§)çš„ä½ç½®ï¼Œç»“æœæ˜¯ï¼š1(ç¬¬1ä¸ªè€å½§)</span><br><span class="line">MATCH(F2&amp;G2,$B$2:$B$31&amp;$C$2:$C$31,0) åŒæ—¶æ»¡è¶³F2(201)å’ŒG2(è€å½§)ï¼Œç»“æœæ˜¯ï¼š15</span><br></pre></td></tr></table></figure><h3 id="3-å…¬å¼ç»„åˆ"><a href="#3-å…¬å¼ç»„åˆ" class="headerlink" title="3.å…¬å¼ç»„åˆ"></a>3.å…¬å¼ç»„åˆ</h3><p>åŒæ—¶æ»¡è¶³ç­çº§ï¼šF2(201)å’Œå§“åï¼šG2(è€å½§)çš„æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¶æ€»åˆ†çš„å…¬å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;INDEX($D$2:$D$31,MATCH(F2&amp;G2,$B$2:$B$31&amp;$C$2:$C$31,0))</span><br></pre></td></tr></table></figure><p>è¿”å›çš„ç»“æœå°±æ˜¯255ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_more_condition_query_2.png"                      style="zoom: 75%;"                ></p><p>å¦‚æœ3ä¸ªæ¡ä»¶çš„è¯ï¼Œmatchå‡½æ•°æŸ¥è¯¢ç´¢å¼•å·çš„æ—¶å€™ï¼Œç»§ç»­åŠ ä¸€ä¸ªæ¡ä»¶å°±è¡Œã€‚</p><p>PS.æ³¨æ„ï¼Œæˆ‘è¿™é‡Œæ ‡é¢˜æ²¡ç®—è¿›å»ï¼Œæ‰€ä»¥èµ·å§‹è¡Œå·éƒ½æ˜¯ç¬¬2è¡Œï¼Œå³ç”¨matchå‡½æ•°æŸ¥è¯¢ã€indexå‡½æ•°æŸ¥è¯¢çš„æ—¶å€™èµ·å§‹è¡Œå·è¦ä¿æŒä¸€è‡´ã€‚è¦ä¹ˆéƒ½ç®—æ ‡é¢˜è¡Œï¼Œè¦ä¹ˆéƒ½ä¸ç®—ã€‚å› ä¸ºmatchå‡½æ•°è¿”å›çš„æ˜¯ç¬¬å‡ ä¸ªã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Excel </tag>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonæ‹†åˆ†Excelè¡¨</title>
      <link href="/2022/07/01/Python%E6%8B%86%E5%88%86Excel%E8%A1%A8/"/>
      <url>/2022/07/01/Python%E6%8B%86%E5%88%86Excel%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºæœ‰ä¸ªç³»ç»Ÿå¯¼å…¥æ•°æ®çš„æ—¶å€™ï¼Œæœ‰è¿‘2000æ¡çš„æ•°æ®ï¼Œæ¯æ¬¡ä¸€å¯¼å…¥å°±å¡æ­»äº†ï¼Œå¾—æ‹†æˆå‡ ç™¾æ¡ä¸€å¼ çš„è¡¨æ ¼æ‰è¡Œã€‚</p><p>ç”¨Pythonçš„pandasæ‹†åˆ†ä¸€ä¸‹excelè¡¨å¾ˆç®€å•ã€‚è€Œä¸”ä¼šä¿ç•™æ ‡é¢˜è¡Œã€‚</p><a id="more"></a><h2 id="å®‰è£…pandasåº“"><a href="#å®‰è£…pandasåº“" class="headerlink" title="å®‰è£…pandasåº“"></a>å®‰è£…pandasåº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…pandasåº“ï¼š</span></span><br><span class="line">pip install pandas</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“ç„¶ï¼Œæ“ä½œexcelçš„åº“ä¹Ÿè¦å®‰è£…ä¸€ä¸‹ï¼Œä¸€èˆ¬æ“ä½œ.xlsxæ ¼å¼çš„ï¼Œå®‰è£…openpyxlï¼š</span></span><br><span class="line">pip install openpyxl</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœï¼Œæœ€åä¿å­˜æ–‡ä»¶æ˜¯.xlsæ ¼å¼çš„ï¼Œéœ€è¦å®‰è£…xlwtï¼š</span></span><br><span class="line">pip install xlwt</span><br></pre></td></tr></table></figure><p>æœ€åä¿å­˜æˆ<code>.xls</code>æ ¼å¼çš„æ—¶å€™ï¼Œä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">As the xlwt package is no longer maintained, the xlwt engine will be removed in a fuine will be removed in a future version of pandas.</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¸œè¥¿åœ¨pandasä¸­ä¼šè¢«æ·˜æ±°ï¼Œä¸ç”¨ç®¡ï¼Œç­‰ä»¥åä¸èƒ½ç”¨äº†å†è¯´ã€‚<br>æ¯•ç«Ÿè¿˜æ˜¯æœ‰äº›ç ´ç³»ç»Ÿçš„å¯¼å…¥ï¼Œåªæ”¯æŒxlsæ ¼å¼çš„ã€‚</p><h2 id="æ‹†åˆ†Excelè¡¨ä¸¾ä¾‹"><a href="#æ‹†åˆ†Excelè¡¨ä¸¾ä¾‹" class="headerlink" title="æ‹†åˆ†Excelè¡¨ä¸¾ä¾‹"></a>æ‹†åˆ†Excelè¡¨ä¸¾ä¾‹</h2><p>æ¯”å¦‚ï¼šæœ‰ä¸ªè¡¨æ ¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæƒ³æŒ‰ã€å¹´çº§ã€‘å­—æ®µï¼Œæ‹†åˆ†è¡¨ï¼Œæ¯ä¸ªå¹´çº§ä¸€ä¸ªè¡¨ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_split_excel_1.png"                      style="zoom: 75%;"                ></p><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    ex_file = <span class="string">r&#x27;.\ex\split_åå•.xlsx&#x27;</span></span><br><span class="line">    data = pd.read_excel(ex_file)</span><br><span class="line">    <span class="comment"># rows = data.shape[0] # è·å–è¡Œæ•°ï¼Œä¸ç®—æ ‡é¢˜è¡Œã€‚shape[1]è·å–åˆ—æ•°</span></span><br><span class="line">    <span class="comment"># print(rows)</span></span><br><span class="line"></span><br><span class="line">    type_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="comment"># å¹´çº§åˆ—çš„æ‰€æœ‰å€¼</span></span><br><span class="line">    <span class="keyword">for</span> grade <span class="keyword">in</span> type_list:</span><br><span class="line">        df = data.loc[data[<span class="string">&#x27;å¹´çº§&#x27;</span>] == grade]</span><br><span class="line">        path = <span class="string">r&#x27;.\ex\split&#x27;</span> + <span class="string">&#x27;\\&#x27;</span> + <span class="built_in">str</span>(grade) + <span class="string">&#x27;.xlsx&#x27;</span> <span class="comment"># æ–°ç”Ÿæˆçš„æ–‡ä»¶åï¼Œå½“ç„¶.\ex\splitç›®å½•å·²å»ºå¥½</span></span><br><span class="line">        df.to_excel(path, index=<span class="literal">False</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;------------fine!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œç»“æœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_split_excel_2.png"                      style="zoom: 75%;"                ></p><p>å½“ç„¶ï¼Œå¦‚æœæ˜¯éƒ¨é—¨ç±»åˆ«ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚<br>å¦‚æœæ²¡æœ‰ä¸€ä¸ªç±»åˆ«å­—æ®µçš„ï¼Œä¹Ÿæ˜¯å¯ä»¥æŒ‰åºå·æ‹†åˆ†çš„ ï¼Œæ¯”å¦‚500æ¡ä¸€æ‹†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>officeæ— æ³•æ‰“å¼€ï¼Œæ‰¾ä¸åˆ°VCRUNTIME140_1.dll</title>
      <link href="/2022/07/01/office%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%EF%BC%8C%E6%89%BE%E4%B8%8D%E5%88%B0VCRUNTIME140-1-dll/"/>
      <url>/2022/07/01/office%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%EF%BC%8C%E6%89%BE%E4%B8%8D%E5%88%B0VCRUNTIME140-1-dll/</url>
      
        <content type="html"><![CDATA[<p><strong>é—®é¢˜æè¿°ï¼š</strong><br>Office2016ï¼Œè¿è¡ŒWord/Excel/PPTçš„æ—¶å€™ï¼Œéƒ½æç¤ºâ€œ<strong>æ‰¾ä¸åˆ°VCRUNTIME140_1.dll</strong>â€ã€‚</p><p>ç„¶åï¼ŒæŠŠofficeå¸è½½äº†ï¼Œé‡æ–°å®‰è£…äº†ï¼Œè¿˜æ˜¯ä¸è¡Œï¼›è¿è¡Œç¨‹åºï¼Œä¿®å¤äº†ä¸‹ï¼Œä¹Ÿè¿˜æ˜¯ä¸è¡Œã€‚</p><a id="more"></a><p>Microsoft Visual C++ 201X Redistributable ä¹Ÿæ˜¯æ­£å¸¸å®‰è£…ç€çš„ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>æŸ¥çœ‹ <code>C:\Windows\System32</code>ç›®å½•ä¸‹ï¼Œ vcruntime140_1.dll æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚</p><p>ï¼ˆæœç„¶æ²¡æœ‰ï¼Œåªæœ‰ vcruntime140.dll è¿™ä¸ªã€‚ï¼‰</p><p>å»Cç›˜ç›´æ¥æœç´¢ vcruntime140_1.dll è¿™ä¸ªæ–‡ä»¶ï¼Œåªè¦èƒ½æœç´¢åˆ°ï¼Œç›´æ¥å¤åˆ¶åˆ°<code>C:\Windows\System32</code> ç›®å½•ä¸‹ï¼Œå†æ‰“å¼€officeçš„è½¯ä»¶å°±å¯ä»¥ç”¨äº†ã€‚</p><p>å¦‚æœCç›˜ä¹Ÿæœç´¢ä¸åˆ°ï¼Œå°±åˆ°åˆ«çš„ç”µè„‘ä¸Šæˆ–è€…ç½‘ä¸Šä¸‹è½½ä¸€ä¸ªå¤åˆ¶åˆ°<code>C:\Windows\System32</code> ç›®å½•ä¸‹å°±è¡Œã€‚</p><p>å®˜æ–¹å›ç­”ï¼š<a class="link"   href="https://answers.microsoft.com/zh-hans/msoffice/forum/all/office%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8/50770488-bd09-4451-a04b-8f33f345d454" >officeæ— æ³•æ­£å¸¸æ‰“å¼€ï¼Œä¹Ÿæ— æ³•ä»ç¨‹åºä¸åŠŸèƒ½ä¿®å¤<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è¡Œæ”¿åŠå…¬ç³»åˆ—ã€‘ç»Ÿè®¡é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°</title>
      <link href="/2022/06/26/%E3%80%90%E8%A1%8C%E6%94%BF%E5%8A%9E%E5%85%AC%E7%B3%BB%E5%88%97%E3%80%91%E7%BB%9F%E8%AE%A1%E9%87%8D%E5%A4%8D%E5%87%BA%E7%8E%B0%E7%9A%84%E4%BA%BA%E7%9A%84%E6%AC%A1%E6%95%B0/"/>
      <url>/2022/06/26/%E3%80%90%E8%A1%8C%E6%94%BF%E5%8A%9E%E5%85%AC%E7%B3%BB%E5%88%97%E3%80%91%E7%BB%9F%E8%AE%A1%E9%87%8D%E5%A4%8D%E5%87%BA%E7%8E%B0%E7%9A%84%E4%BA%BA%E7%9A%84%E6%AC%A1%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨Excelè¡¨æ ¼çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šéœ€è¦ç»Ÿè®¡æŸä¸ªäºº/æ‰€æœ‰äººå‡ºç°çš„æ¬¡æ•°ã€‚</p><p>ä»¥ä¸‹åˆ†åˆ«ä»‹ç»ç”¨Excelå’ŒPythonçš„æ–¹æ³•ã€‚</p><a id="more"></a><p>ä¸¾ä¾‹ï¼šå¦‚ä¸‹è¿™å¼ è¡¨æ ¼ï¼Œæƒ³ç»Ÿè®¡æ¯ä¸ªäººå‡ºç°çš„æ¬¡æ•°ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_Excel_count_names_1.png"                      style="zoom: 75%;"                ></p><p>æ³¨æ„ï¼šè¿™é‡Œæ¯”å•çº¯çš„å§“åå¤æ‚ä¸€ä¸¢ä¸¢ï¼Œè¦è€ƒè™‘åˆ°ä¸åŒç­çº§å‡ºç°åŒåçš„æƒ…å†µï¼ˆè¿™å¹¶ä¸æ˜¯åŒä¸€ä¸ªäººï¼‰ï¼Œåªæœ‰ç›¸åŒç­çº§åŒå§“åçš„æ‰æ˜¯åŒä¸€ä¸ªäººã€‚</p><p>æ‰€ä»¥ï¼Œé¦–å…ˆï¼Œå¯ä»¥å…ˆç”¨ç­çº§+å§“åæ¥è¡¨ç¤ºä¸€ä¸ªäººã€‚åœ¨ä»¥ä¸Šè¡¨æ ¼ä¸­å¢åŠ ä¸€åˆ—ï¼Œç”¨å…¬å¼<code>A1&amp;B1</code>æ±‚å‡ºCåˆ—ä¸ºç­çº§+å§“åï¼ˆç²˜è´´æˆæ–‡æœ¬å€¼ï¼‰ã€‚å¦‚ä¸‹å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_Excel_count_names_2.png"                      style="zoom: 75%;"                ></p><h2 id="Excelä¸­ç»Ÿè®¡é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°"><a href="#Excelä¸­ç»Ÿè®¡é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°" class="headerlink" title="Excelä¸­ç»Ÿè®¡é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°"></a>Excelä¸­ç»Ÿè®¡é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°</h2><p>Excelä¸­ä¸»è¦åˆ†2æ­¥ï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œé€šè¿‡åˆ é™¤é‡å¤å€¼ï¼Œå¾—å‡ºæ²¡æœ‰é‡å¤åå­—çš„åˆ—ï¼›</li><li>ç¬¬äºŒæ­¥ï¼Œå†ç»Ÿè®¡æ²¡é‡å¤åå­—è¿™ä¸€åˆ—ï¼Œæ¯ä¸ªåå­—å‡ºç°çš„æ¬¡æ•°å°±è¡Œäº†ã€‚</li></ul><h3 id="1-å¤åˆ¶Cåˆ—ï¼Œåˆ é™¤é‡å¤å€¼"><a href="#1-å¤åˆ¶Cåˆ—ï¼Œåˆ é™¤é‡å¤å€¼" class="headerlink" title="1.å¤åˆ¶Cåˆ—ï¼Œåˆ é™¤é‡å¤å€¼"></a>1.å¤åˆ¶Cåˆ—ï¼Œåˆ é™¤é‡å¤å€¼</h3><ul><li>é¦–å…ˆï¼Œå¤åˆ¶Cåˆ—åˆ°Dåˆ—ï¼›</li><li>ç„¶åï¼Œé€‰ä¸­Dåˆ—æ•°æ®ï¼Œæ‰“å¼€ã€æ•°æ®ã€‘-&gt;ã€æ•°æ®å·¥å…·ã€‘ç»„ä¸­çš„ã€åˆ é™¤é‡å¤å€¼ã€‘ï¼›</li><li>æœ€åï¼Œå°±å¾—åˆ°äº†æ²¡æœ‰é‡å¤å§“åçš„Dåˆ—ã€‚<img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_Excel_count_names_3.png"                      style="zoom: 75%;"                ></li></ul><h3 id="2-ç”¨countifå…¬å¼æ±‚å‡ºç°çš„æ¬¡æ•°"><a href="#2-ç”¨countifå…¬å¼æ±‚å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="2.ç”¨countifå…¬å¼æ±‚å‡ºç°çš„æ¬¡æ•°"></a>2.ç”¨countifå…¬å¼æ±‚å‡ºç°çš„æ¬¡æ•°</h3><p>ç”¨å…¬å¼<code>=COUNTIF($C$1:$C$20,D1)</code>æ±‚D1å•å…ƒæ ¼å†…å®¹åœ¨Cåˆ—ï¼ˆC1:C20ï¼‰ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_Excel_count_names_4.png"                      style="zoom: 75%;"                ></p><h3 id="3-æŠŠDåˆ—ä¸­çš„ç­çº§å’Œå§“ååˆ†å¼€"><a href="#3-æŠŠDåˆ—ä¸­çš„ç­çº§å’Œå§“ååˆ†å¼€" class="headerlink" title="3.æŠŠDåˆ—ä¸­çš„ç­çº§å’Œå§“ååˆ†å¼€"></a>3.æŠŠDåˆ—ä¸­çš„ç­çº§å’Œå§“ååˆ†å¼€</h3><p>æŠŠåˆåœ¨ä¸€èµ·çš„ç­çº§å§“ååˆ†å¼€ä¸€ä¸‹ç”¨æˆªå–å­—ç¬¦ä¸²çš„ä¸¤ä¸ªå‡½æ•°ï¼š</p><ul><li>åœ¨Fåˆ—æ±‚ç­çº§ï¼š<code>=LEFT(D1,3)</code> è¡¨ç¤ºä»å·¦å¼€å§‹ï¼Œå–3ä¸ªå­—ç¬¦ï¼›</li><li>åœ¨Gåˆ—æ±‚å§“åï¼š<code>=MID(D1,4,4)</code> è¡¨ç¤ºä»ä¸­é—´ç¬¬4ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå–4ä¸ªå­—ç¬¦ï¼ˆå¦‚æœæœ‰åå­—é•¿çš„ï¼Œå¤šå–å‡ ä¸ªå­—ç¬¦å°±è¡Œï¼‰ã€‚</li></ul><p>è¿™æ ·å°±æŠŠé‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°ç»Ÿè®¡å‡ºæ¥äº†ã€‚ç»“æœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_Excel_count_names_5.png"                      style="zoom: 75%;"                ></p><p>ä¹‹å‰è¿˜å½•è¿‡<strong>åœ¨Excelæ±‚é‡å¤äººçš„é‡‘é¢çš„æ€»å’Œ</strong>çš„è§†é¢‘ã€‚<br>å…¶å®ä¹Ÿå·®ä¸å¤šï¼Œå°±æ˜¯æ±‚æ¬¡æ•°çš„COUNTIFå‡½æ•°æ¢æˆSUMIFå‡½æ•°æ±‚é‡‘é¢çš„å’Œå°±è¡Œäº†ã€‚</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=422008287&bvid=BV1W3411b7x5&cid=454472297&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><h2 id="Pythonç»Ÿè®¡Excelä¸­é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°"><a href="#Pythonç»Ÿè®¡Excelä¸­é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°" class="headerlink" title="Pythonç»Ÿè®¡Excelä¸­é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°"></a>Pythonç»Ÿè®¡Excelä¸­é‡å¤å‡ºç°çš„äººçš„æ¬¡æ•°</h2><p>Pythonä¸­ä¸»è¦ä¹Ÿæ˜¯åˆ†2æ­¥ï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œè¯»å–Excelè¡¨æ ¼ä¸­Cåˆ—ï¼ˆç­çº§+å§“åï¼‰çš„æ•°æ®ï¼Œè¿”å›å§“ååˆ—è¡¨Listï¼›</li><li>ç¬¬äºŒæ­¥ï¼Œç”¨pandasåº“ç›´æ¥ç»Ÿè®¡å‡ºæ¬¡æ•°ã€‚</li></ul><p>çœ‹è¿™ç¯‡ç¬”è®°å°±è¡Œï¼š<a href="/2023/01/07/Python-pandas%E7%BB%9F%E8%AE%A1Excel%E8%A1%A8%E4%B8%AD%E4%BA%BA%E5%90%8D%E6%AC%A1%E6%95%B0/" title="Python pandasç»Ÿè®¡Excelè¡¨ä¸­äººåæ¬¡æ•°">Python pandasç»Ÿè®¡Excelè¡¨ä¸­äººåæ¬¡æ•°</a></p><p>ä¸è¿‡ï¼Œå…ˆæ·»åŠ ä¸ªæ ‡é¢˜è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ex_count</span>(<span class="params">ex_file, output_file</span>):</span></span><br><span class="line">    <span class="comment"># 1.ä»Excelè¯»å–</span></span><br><span class="line">    usecols = [<span class="string">&#x27;ç­çº§å§“å&#x27;</span>]</span><br><span class="line">    sheet_name = <span class="string">&#x27;Sheet1&#x27;</span> <span class="comment"># sheetå</span></span><br><span class="line">    df = pd.read_excel(ex_file, sheet_name=sheet_name, usecols=usecols)</span><br><span class="line">    data_list = np.array(df).tolist() <span class="comment"># æŠŠæ•°æ®è½¬ä¸ºList</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2.å¤„ç†æ•°æ®</span></span><br><span class="line">    result_list = [] <span class="comment"># ä¸€åˆ—æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> data_list:</span><br><span class="line">        result_list.append(data[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 3.å†™å…¥Excel</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(output_file):</span><br><span class="line">        os.remove(output_file)</span><br><span class="line">    result = pd.value_counts(result_list) <span class="comment"># ç»Ÿè®¡åˆ—è¡¨ä¸­æ¯é¡¹çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="comment"># print(type(result)) # &lt;class &#x27;pandas.core.series.Series&#x27;&gt;</span></span><br><span class="line">    result.to_excel(output_file)</span><br><span class="line"></span><br><span class="line">ex_count(<span class="string">&#x27;count_names.xlsx&#x27;</span>, <span class="string">&#x27;ç»Ÿè®¡ç»“æœ.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Excel </tag>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode æ— æ³•åŠ è½½æ–‡ä»¶\Scripts\Activate.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬</title>
      <link href="/2022/06/26/VSCode%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E6%96%87%E4%BB%B6-Scripts-Activate-ps1%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%9C%A8%E6%AD%A4%E7%B3%BB%E7%BB%9F%E4%B8%8A%E7%A6%81%E6%AD%A2%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC/"/>
      <url>/2022/06/26/VSCode%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E6%96%87%E4%BB%B6-Scripts-Activate-ps1%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%9C%A8%E6%AD%A4%E7%B3%BB%E7%BB%9F%E4%B8%8A%E7%A6%81%E6%AD%A2%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘åœ¨Pythonçš„Flaské¡¹ç›®é‡Œä½¿ç”¨äº†envè™šæ‹Ÿç¯å¢ƒï¼Œç„¶åï¼ŒæŠŠenvç¯å¢ƒçš„ç›®å½•å’Œä»£ç éƒ½åŒæ­¥åˆ°äº†å¦ä¸€å°ç”µè„‘ä¸Šï¼ˆWindows11/Windows10ï¼‰ã€‚</p><p>å½“æˆ‘åœ¨VS Codeè¿è¡Œçš„æ—¶å€™ï¼Œå°±æŠ¥äº†ç±»ä¼¼ä¸‹é¢çš„é”™è¯¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&amp; : æ— æ³•åŠ è½½æ–‡ä»¶ xx\Scripts\Activate.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… https:&#x2F;go.microsoft.com&#x2F;fwlink&#x2F;?LinkID&#x3D;135170 ä¸­çš„about_Execution_Policiesã€‚</span><br><span class="line">æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 3</span><br><span class="line">+ &amp; xx&#x2F;Scripts&#x2F;Activate.ps1</span><br><span class="line">+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">    + CategoryInfo          : SecurityError: (:) []ï¼ŒPSSecurityException</span><br><span class="line">    + FullyQualifiedErrorId : UnauthorizedAccess</span><br></pre></td></tr></table></figure><a id="more"></a><p><strong>åŸå› ï¼š</strong></p><p>çœ‹ä¸Šé¢çš„æç¤ºæ˜¯ ä¸­çš„ about_Execution_Policies ç›¸å…³çš„ã€‚</p><p>å°±æ˜¯ExecutionPolicyè®¾ç½®çš„æ˜¯Restrictedï¼ˆé˜²æ­¢è¿è¡Œæ²¡æœ‰æ•°å­—ç­¾åçš„è„šæœ¬ï¼‰ï¼Œéœ€è¦è®¾ç½®æˆRemoteSignedæ¨¡å¼ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>æ‰“å¼€Windowsçš„Windows PowerShellï¼ˆç®¡ç†å‘˜æ¨¡å¼ï¼‰ï¼Œæˆ–è€…å‘½ä»¤æç¤ºç¬¦ç®¡ç†å‘˜æ¨¡å¼ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æŸ¥çœ‹ExecutionPolicyï¼Œè¿”å›ç»“æœï¼šRestricted</span></span><br><span class="line">get-ExecutionPolicy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.è®¾ç½®ExecutionPolicyä¸ºRemoteSignedæ¨¡å¼</span></span><br><span class="line">set-ExecutionPolicy RemoteSigned</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.æŸ¥çœ‹ExecutionPolicyï¼Œè¿”å›ç»“æœï¼šRemoteSigned</span></span><br><span class="line">get-ExecutionPolicy</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> VSCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> VSCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode è¿œç¨‹è¿æ¥æœåŠ¡å™¨ Could not establish connection</title>
      <link href="/2022/06/26/VSCode%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8Could-not-establish-connection/"/>
      <url>/2022/06/26/VSCode%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8Could-not-establish-connection/</url>
      
        <content type="html"><![CDATA[<p>ç”¨VS Codeè¿œç¨‹è¿æ¥æœåŠ¡å™¨ï¼ˆLinuxï¼‰ï¼Œä»¥å‰æ˜¯èƒ½æ­£å¸¸è¿æ¥çš„ï¼Œç„¶åé‡è£…äº†æœåŠ¡å™¨ç³»ç»Ÿåå°±è¿æ¥ä¸ä¸Šäº†ã€‚</p><p>æç¤ºâ€œCould not establish connection to 106.101.101.101â€ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/VS_Code_could_not_establish_connection_1.png"                      style="zoom: 75%;"                ></p><p>æ‰“å¼€â€œMore Actionsâ€¦â€ä¸­çš„sshçš„é…ç½®æ–‡ä»¶ï¼ˆconfigï¼‰ï¼Œç›¸å½“ä¿¡æ¯å¦‚ä¸‹ï¼š</p><a id="more"></a><p>å‡è®¾æˆ‘çš„æœåŠ¡å™¨ipåœ°å€æ˜¯ï¼š106.101.101.101</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Host 106.101.101.101</span><br><span class="line">  HostName 106.101.101.101</span><br><span class="line">  User ubuntu</span><br><span class="line">  ForwardAgent yes</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶æ²¡é—®é¢˜ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>ä»¥ä¸Šsshçš„é…ç½®æ–‡ä»¶ï¼ˆconfigï¼‰æ˜¯åœ¨ï¼š<code>C:\Users\username\.ssh\</code> ç›®å½•ä¸‹ï¼Œåœ¨æ­¤ç›®å½•ä¸‹è¿˜æœ‰ä¸€ä¸ª known_hosts çš„æ–‡ä»¶ã€‚</p><p><strong>æ‰“å¼€ known_hosts æ–‡ä»¶ï¼ŒæŠŠæœåŠ¡å™¨ipï¼ˆ106.101.101.101ï¼‰ç›¸å…³è¿™ä¸€è¡Œåˆ é™¤ï¼Œä¿å­˜æ–‡ä»¶ã€‚</strong></p><p>å†é‡æ–°è¿æ¥ï¼Œå°±å¯ä»¥äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> VSCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VSCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xshellç­‰ç»ˆç«¯ç™»å½•Ubuntu &#39;ls&#39;å‘½ä»¤ç›®å½•æ²¡æœ‰é¢œè‰²</title>
      <link href="/2022/06/19/xshell%E7%AD%89%E7%BB%88%E7%AB%AF%E7%99%BB%E5%BD%95Ubuntu-ls-%E5%91%BD%E4%BB%A4%E7%9B%AE%E5%BD%95%E6%B2%A1%E6%9C%89%E9%A2%9C%E8%89%B2/"/>
      <url>/2022/06/19/xshell%E7%AD%89%E7%BB%88%E7%AB%AF%E7%99%BB%E5%BD%95Ubuntu-ls-%E5%91%BD%E4%BB%A4%E7%9B%AE%E5%BD%95%E6%B2%A1%E6%9C%89%E9%A2%9C%E8%89%B2/</url>
      
        <content type="html"><![CDATA[<p>ç”¨Xshellã€puttyã€Termiusè¿™äº›ç»ˆç«¯ç™»å½•Ubuntuæ—¶ï¼Œç”¨<code>ls</code>å‘½ä»¤æŸ¥çœ‹ï¼Œç›®å½•ã€é“¾æ¥éƒ½æ²¡æœ‰åˆ«çš„é¢œè‰²ï¼Œéƒ½è·Ÿæ–‡ä»¶ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªé¢œè‰²ã€‚</p><p>è§£å†³æ–¹æ³•å¯èƒ½æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œè®²ä¸ªç®€å•çš„ï¼Œåªé’ˆå¯¹è¿™ä¸ª<code>ls</code>å‘½ä»¤çš„ã€‚</p><a id="more"></a><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p><code>ls</code>å‘½ä»¤è™½ç„¶æ²¡æœ‰é¢œè‰²ï¼Œä½†è¿è¡Œ<code>ls --color</code>å‘½ä»¤æ˜¯å¯ä»¥çœ‹åˆ°ç›®å½•ã€é“¾æ¥æ˜¯æœ‰é¢œè‰²çš„ã€‚</p><p>æ‰€ä»¥ç»™<code>ls --color</code>å‘½ä»¤è®¾ç½®ä¸ªåˆ«åå°±è¡Œã€‚</p><h3 id="1ã€aliaså‘½ä»¤ï¼šè®¾ç½®æŒ‡ä»¤çš„åˆ«å"><a href="#1ã€aliaså‘½ä»¤ï¼šè®¾ç½®æŒ‡ä»¤çš„åˆ«å" class="headerlink" title="1ã€aliaså‘½ä»¤ï¼šè®¾ç½®æŒ‡ä»¤çš„åˆ«å"></a>1ã€aliaså‘½ä»¤ï¼šè®¾ç½®æŒ‡ä»¤çš„åˆ«å</h3><p>è¯­æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> [åˆ«å]=[æŒ‡ä»¤]</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤åï¼Œå†è¿è¡Œ<code>ls</code>å‘½ä»¤å°±å¯ä»¥çœ‹åˆ°æœ‰é¢œè‰²äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ls=<span class="string">&#x27;ls --color&#x27;</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œaliasçš„æ•ˆåŠ›ä»…åŠäºè¯¥æ¬¡ç™»å…¥çš„æ“ä½œã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœè¦æ¯æ¬¡ç™»å…¥å³è‡ªåŠ¨è®¾å¥½åˆ«åï¼Œå¯åœ¨.profileæ–‡ä»¶ä¸­è®¾å®šæŒ‡ä»¤çš„åˆ«åã€‚</p><h3 id="2ã€ä¿®æ”¹-profileæ–‡ä»¶"><a href="#2ã€ä¿®æ”¹-profileæ–‡ä»¶" class="headerlink" title="2ã€ä¿®æ”¹.profileæ–‡ä»¶"></a>2ã€ä¿®æ”¹.profileæ–‡ä»¶</h3><p>Ubuntuç”¨æˆ·ç™»å½•æ—¶ï¼Œbashé¦–å…ˆè‡ªåŠ¨æ‰§è¡Œç³»ç»Ÿç®¡ç†å‘˜å»ºç«‹çš„å…¨å±€ç™»å½•è„šæœ¬ï¼š<code>/ect/profile</code>ã€‚<br>ç„¶åbashåœ¨ç”¨æˆ·ç›®å½•ä¸‹æŒ‰é¡ºåºæŸ¥æ‰¾ä»¥ä¸‹æ–‡ä»¶ï¼š<code>~/.bash_profile</code>ã€ <code>~/.profile</code>ï¼Œä½†åªæ‰§è¡Œæœ€å…ˆæ‰¾åˆ°çš„ä¸€ä¸ªã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬æŠŠaliaså‘½ä»¤æ·»åŠ åˆ°è¿™ä¸ª .profile æ–‡ä»¶ä¸­å³å¯ã€‚</p><p>.profile æ˜¯ä¸ªéšè—æ–‡ä»¶ï¼ŒæŸ¥çœ‹çš„æ—¶å€™ç”¨<code>ls -a</code>å‘½ä»¤å°±å¯ä»¥çœ‹åˆ°äº†ã€‚</p><p><strong>1).æ²¡æœ‰.profileæ–‡ä»¶</strong></p><p>åŸæ¥å¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„ï¼Œå¤åˆ¶ä¸€ä¸ªè¿‡æ¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/skel/.profile ~/.profile</span><br></pre></td></tr></table></figure><p><strong>2).ä¿®æ”¹.profileæ–‡ä»¶</strong></p><p>ç”¨<code>vi ~/.profile</code>æ‰“å¼€æ–‡ä»¶ï¼Œåœ¨æœ€ä¸‹æ–¹æ·»åŠ ä¸€è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias ls&#x3D;&#39;ls --color&#39;</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ–‡ä»¶åï¼Œé‡æ–°æ‰“å¼€ç™»å½•ï¼Œå†ç”¨<code>ls</code>å‘½ä»¤çš„æ—¶å€™å°±å¯ä»¥äº†ã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Ubuntu_ls_no_color.png"                      style="zoom: 100%;"                >]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Edgeæµè§ˆå™¨æ— æ³•åŒæ­¥ è§£å†³æ–¹æ³•</title>
      <link href="/2022/06/19/Edge%E6%B5%8F%E8%A7%88%E5%99%A8%E6%97%A0%E6%B3%95%E5%90%8C%E6%AD%A5/"/>
      <url>/2022/06/19/Edge%E6%B5%8F%E8%A7%88%E5%99%A8%E6%97%A0%E6%B3%95%E5%90%8C%E6%AD%A5/</url>
      
        <content type="html"><![CDATA[<p>åŠå…¬å®¤ç”µè„‘ä¸Šç”¨çš„Edgeæµè§ˆå™¨ï¼Œç„¶åå®¶é‡Œç”µè„‘ä¸Šæ‰“å¼€Edgeæµè§ˆå™¨çš„æ—¶å€™ï¼Œå‘ç°æ€»æ˜¯æ²¡åŠæ³•è‡ªåŠ¨åŒæ­¥æ”¶è—å¤¹ã€å†å²è®°å½•è¿™äº›ã€‚ï¼ˆç”¨çš„æ˜¯åŒä¸€ä¸ªå¾®è½¯ç”¨æˆ·çš„é‚®ç®±è´¦å·ç™»å½•çš„ï¼‰</p><p>ç”¨åˆ«çš„æµè§ˆå™¨ï¼Œæ˜æ˜¾æ˜¯å¯ä»¥éƒ½åŒæ­¥çš„ã€‚</p><p>å½“ç„¶ï¼Œåœ¨æµè§ˆå™¨ã€è®¾ç½®ã€‘-ã€åŒæ­¥ã€‘è®¾ç½®ä¸­ï¼Œè¿™äº›åŒæ­¥çš„é€‰é¡¹éƒ½æ˜¯å¯ç”¨çš„ã€‚</p><a id="more"></a><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p><strong>1.åœ¨Edgeæµè§ˆåœ°å€æ ä¸­è¾“å…¥ä»¥ä¸‹åœ°å€ï¼Œå›è½¦ã€‚</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">edge:&#x2F;&#x2F;sync-internals&#x2F;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Edge_sync_1.png"                      style="zoom: 75%;"                ></p><p>Server URLä¸­å¦‚æœæ— æ•°å€¼ï¼Œæ­¤æ—¶è®¾å¤‡ä¸èƒ½åŒæ­¥ã€‚</p><p>æŒ‰ç…§ç½‘ä¸Šçš„è¯´æ³•ï¼Œå¯ä»¥ä¿®æ”¹Windowsçš„hostsæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">52.167.253.237 activity.windows.com</span><br><span class="line">52.167.253.237 edge-enterprise.activity.windows.com</span><br><span class="line">52.167.253.237 edge.activity.windows.com</span><br></pre></td></tr></table></figure><p>å†æ‰“å¼€<code>edge://sync-internals/</code>ï¼Œå¦‚æœå¯çœ‹åˆ°Server URLä¸­æœ‰æ•°å€¼ï¼Œè¯´æ˜å¯ä»¥æ­£å¸¸åŒæ­¥ã€‚</p><p>ä½†ï¼Œæˆ‘çš„é—®é¢˜æ˜¯æ˜æ˜æœ‰Server URLï¼Œä½†æ˜¯å°±æ˜¯æ²¡åŒæ­¥è¿‡æ¥ã€‚</p><p><strong>2.å…³é—­åŒæ­¥ï¼Œé‡æ–°å¼€å¯åŒæ­¥ã€‚</strong></p><p>åƒæˆ‘è¿™æ ·çš„é—®é¢˜çš„è¯ï¼Œå¯ä»¥ç›´æ¥åœ¨ä¸¤è¾¹ç”µè„‘ä¸Šéƒ½å…ˆåœ¨ä¸Šé¢çš„é¡µé¢ä¸­å…³é—­åŒæ­¥ã€Stop Syncï¼ˆKeep Dataï¼‰ã€‘ï¼Œæˆ–è€…å»ã€è®¾ç½®ã€‘-&gt;ã€åŒæ­¥ã€‘é€‰é¡¹ä¸­å…³é—­ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>ç„¶åä¾æ¬¡é‡æ–°å¼€å¯åŒæ­¥ï¼Œé‡æ–°å¼€å¯åŒæ­¥åï¼Œé»˜è®¤æ²¡æœ‰é€‰ä¸Šâ€œæ”¶è—å¤¹â€ã€â€œå†å²è®°å½•â€è¿™äº›é€‰é¡¹çš„ï¼Œæ‰‹åŠ¨é€‰ä¸Šã€‚</p><p>ç„¶åç»ˆäºåŒæ­¥è¿‡æ¥äº†ã€‚</p><p>æ„Ÿè§‰Edgeçš„åŒæ­¥å°±è·Ÿç”¨å¾®è½¯çš„äº§å“å·®ä¸å¤šï¼Œæ—¶ä¸æ—¶èƒ½é‡åˆ°æŠ½é£çš„æ—¶å€™ã€‚è¦ä¸æ˜¯æˆ‘è¿™å¯ä»¥è¿œç¨‹è¿æ¥ï¼Œæ“ä½œå¦ä¸€å°ç”µè„‘ï¼Œè¿™è¦æ˜¯æ²¡åŒæ­¥è¿‡æ¥ï¼Œä¸éƒ½æ­‡èœäº†ä¹ˆã€‚</p><p>ç›®å‰ï¼Œèƒ½æ­£å¸¸åŒæ­¥äº†ã€‚</p><p>æœ€åï¼Œç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼Œåƒä¸‡åƒä¸‡ä¸è¦å»ç‚¹ã€é‡ç½®åŒæ­¥ã€‘ï¼Œè¿™ä¸€é‡ç½®ï¼Œç›´æ¥å°±æŠŠäº‘æ•°æ®æ¸…ç©ºäº†ï¼</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Software </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker-Composeè¯¦è§£</title>
      <link href="/2022/06/19/Docker-Compose%E8%AF%A6%E8%A7%A3/"/>
      <url>/2022/06/19/Docker-Compose%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>Compose é¡¹ç›®æ˜¯ Docker å®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œå®ç°å¯¹ Docker å®¹å™¨é›†ç¾¤çš„å¿«é€Ÿç¼–æ’ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://docs.docker.com/compose/" >https://docs.docker.com/compose/<i class="fas fa-external-link-alt"></i></a><br>ä»£ç å¼€æº(Githubï¼‰ï¼š<a class="link"   href="https://github.com/docker/compose" >https://github.com/docker/compose<i class="fas fa-external-link-alt"></i></a></p><p>Compose å®šä½æ˜¯ ã€Œå®šä¹‰å’Œè¿è¡Œå¤šä¸ª Docker å®¹å™¨çš„åº”ç”¨ï¼ˆDefining and running multi-container Docker applicationsï¼‰ã€ï¼Œå…¶å‰èº«æ˜¯å¼€æºé¡¹ç›® Figã€‚</p><a id="more"></a><p>å½“ç¢°åˆ°éœ€è¦å¤šä¸ªå®¹å™¨ç›¸äº’é…åˆæ¥å®ŒæˆæŸé¡¹ä»»åŠ¡çš„æƒ…å†µã€‚ä¾‹å¦‚è¦å®ç°ä¸€ä¸ª Web é¡¹ç›®ï¼Œé™¤äº† Web æœåŠ¡å®¹å™¨æœ¬èº«ï¼Œå¾€å¾€è¿˜éœ€è¦å†åŠ ä¸Šåç«¯çš„æ•°æ®åº“æœåŠ¡å®¹å™¨ï¼Œç”šè‡³è¿˜åŒ…æ‹¬è´Ÿè½½å‡è¡¡å®¹å™¨ç­‰ã€‚</p><p>Compose æ°å¥½æ»¡è¶³äº†è¿™æ ·çš„éœ€æ±‚ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ docker-compose.yml æ¨¡æ¿æ–‡ä»¶ï¼ˆYAML æ ¼å¼ï¼‰æ¥å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ä¸ºä¸€ä¸ªé¡¹ç›®ï¼ˆprojectï¼‰ã€‚</p><h2 id="ä¸€ã€Composeå®‰è£…"><a href="#ä¸€ã€Composeå®‰è£…" class="headerlink" title="ä¸€ã€Composeå®‰è£…"></a>ä¸€ã€Composeå®‰è£…</h2><p>Compose æ”¯æŒ Linuxã€macOSã€Windowsä¸‰å¤§å¹³å°ã€‚<br>Docker Desktop for Mac/Windows è‡ªå¸¦ docker-compose äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®‰è£… Docker ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹Composeç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰å®‰è£…çš„è¯ï¼ŒæŒ‰ä»¥ä¸‹æ–¹æ³•å®‰è£…ä¸€ä¸‹ï¼ˆLinuxç³»ç»Ÿï¼‰ã€‚</p><h3 id="1-pipå®‰è£…"><a href="#1-pipå®‰è£…" class="headerlink" title="1.pipå®‰è£…"></a>1.pipå®‰è£…</h3><p>Compose é¡¹ç›®ç”± Python ç¼–å†™çš„ï¼Œæ‰€ä»¥è·ŸPythonç¬¬ä¸‰æ–¹çš„åº“ä¸€æ ·ç”¨pipå®‰è£…å°±è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install -U docker-compose</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸåå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬ã€‚</p><h3 id="2-å¸è½½"><a href="#2-å¸è½½" class="headerlink" title="2.å¸è½½"></a>2.å¸è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip uninstall docker-compose</span><br></pre></td></tr></table></figure><h2 id="äºŒã€docker-compose-ymlé…ç½®æ–‡ä»¶è¯¦è§£"><a href="#äºŒã€docker-compose-ymlé…ç½®æ–‡ä»¶è¯¦è§£" class="headerlink" title="äºŒã€docker-compose.ymlé…ç½®æ–‡ä»¶è¯¦è§£"></a>äºŒã€docker-compose.ymlé…ç½®æ–‡ä»¶è¯¦è§£</h2><p>ç¼–å†™ä¹‹å‰ï¼Œæ³¨æ„ä¸‹Composeå’ŒDockerå…¼å®¹æ€§ï¼š</p><ul><li>Compose æ–‡ä»¶æ ¼å¼æœ‰3ä¸ªç‰ˆæœ¬,åˆ†åˆ«ä¸º1, 2.x å’Œ 3.x</li><li>ç›®å‰ä¸»æµçš„ä¸º 3.x å…¶æ”¯æŒ docker 1.13.0 åŠå…¶ä»¥ä¸Šçš„ç‰ˆæœ¬</li></ul><p>docker-compose.ymlé…ç½®æ–‡ä»¶ä¸­çš„æŒ‡ä»¤å…³é”®å­—è™½ç„¶æŒºå¤šï¼Œä½†å¤§éƒ¨åˆ†åŸºæœ¬ä¸Šdocker runçš„å‚æ•°éƒ½æœ‰å¯¹åº”çš„ï¼Œæ¯”è¾ƒå¥½ç†è§£çš„ã€‚</p><p>docker-composeé…ç½®æ–‡ä»¶ä¸­æœ‰å‡ ä¸ªæœ€å¸¸è§çš„ä¸€çº§å‚æ•°ï¼ˆå°±æ˜¯é¡¶æ ¼å†™çš„ï¼‰ï¼š</p><ul><li>version</li><li>services</li><li>volumes</li><li>networks</li></ul><h3 id="1-docker-compose-yml-ä¸¾ä¾‹ä¸€ï¼ˆEwoMailé‚®ä»¶æœåŠ¡å™¨ï¼‰"><a href="#1-docker-compose-yml-ä¸¾ä¾‹ä¸€ï¼ˆEwoMailé‚®ä»¶æœåŠ¡å™¨ï¼‰" class="headerlink" title="1.docker-compose.yml ä¸¾ä¾‹ä¸€ï¼ˆEwoMailé‚®ä»¶æœåŠ¡å™¨ï¼‰"></a>1.docker-compose.yml ä¸¾ä¾‹ä¸€ï¼ˆEwoMailé‚®ä»¶æœåŠ¡å™¨ï¼‰</h3><p><strong>EwoMailé‚®ä»¶æœåŠ¡å™¨çš„docker-compose.ymlé…ç½®æ–‡ä»¶</strong>å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mail:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">bestwu/ewomail</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">mail.abcd.com</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">ewomail</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;25:25&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;143:143&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;587:587&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;993:993&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;109:109&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;110:110&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;465:465&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;995:995&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:8080&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3307:3306&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/mysql:/ewomail/mysql/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/vmail:/ewomail/mail</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/rainloop:/ewomail/www/rainloop/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/ssl/certs/:/etc/ssl/certs/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/ssl/private/:/etc/ssl/private/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/ssl/dkim/:/ewomail/dkim/</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_ROOT_PASSWORD=123MYSQL456&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_MAIL_PASSWORD=111111MYSQL&quot;</span></span><br></pre></td></tr></table></figure><h4 id="1-image-bestwu-ewomail"><a href="#1-image-bestwu-ewomail" class="headerlink" title="1).image: bestwu/ewomail"></a>1).image: bestwu/ewomail</h4><p>æŒ‡å®šdockeré•œåƒï¼šbestwu/ewomail</p><p>æŒ‡å®šé•œåƒåç§°æˆ–é•œåƒ IDã€‚å¦‚æœé•œåƒæœ¬åœ°ä¸å­˜åœ¨ï¼ŒCompose å°†ä¼šæ‹‰å–è¿™ä¸ªé•œåƒã€‚</p><p>æ³¨æ„æ¯ä¸ªæœåŠ¡éƒ½å¿…é¡»é€šè¿‡ image æŒ‡ä»¤æŒ‡å®šé•œåƒæˆ– build æŒ‡ä»¤ï¼ˆéœ€è¦ Dockerfileï¼‰ç­‰æ¥è‡ªåŠ¨æ„å»ºç”Ÿæˆé•œåƒã€‚</p><p>å¦‚æœä½¿ç”¨ build æŒ‡ä»¤ï¼Œåœ¨ Dockerfile ä¸­è®¾ç½®çš„é€‰é¡¹(ä¾‹å¦‚ï¼šCMD, EXPOSE, VOLUME, ENV ç­‰) å°†ä¼šè‡ªåŠ¨è¢«è·å–ï¼Œæ— éœ€åœ¨ docker-compose.yml ä¸­é‡å¤è®¾ç½®ã€‚</p><h4 id="2-container-name-ewomail"><a href="#2-container-name-ewomail" class="headerlink" title="2).container_name: ewomail"></a>2).container_name: ewomail</h4><p>æŒ‡å®šå®¹å™¨åç§°ï¼šewomailã€‚é»˜è®¤å°†ä¼šä½¿ç”¨ <code>é¡¹ç›®åç§°_æœåŠ¡åç§°_åºå·</code> è¿™æ ·çš„æ ¼å¼ã€‚</p><h4 id="3-hostname-mail-abcd-com"><a href="#3-hostname-mail-abcd-com" class="headerlink" title="3).hostname: mail.abcd.com"></a>3).hostname: mail.abcd.com</h4><p>è¿™ä¸ª docker runä¸­çš„å¯¹åº”å‚æ•°ä¸€æ ·çš„ã€‚</p><p>æŒ‡å®šå®¹å™¨ä¸»æœºåï¼šmail.abcd.com</p><p>é™¤è¿™ä¸ªå¤–ï¼Œè¿˜æœ‰ï¼š<br>æŒ‡å®šå®¹å™¨ä¸­æœç´¢åŸŸå domainname: abcd.com<br>æŒ‡å®šå®¹å™¨macåœ°å€ mac_address: 08-00-27-00-0C-0A</p><h4 id="4-restart-always"><a href="#4-restart-always" class="headerlink" title="4).restart: always"></a>4).restart: always</h4><p>è¿™ä¸ª docker runä¸­çš„å¯¹åº”å‚æ•°ä¸€æ ·çš„ã€‚</p><p>æŒ‡å®šå®¹å™¨é€€å‡ºåçš„é‡å¯ç­–ç•¥ä¸ºå§‹ç»ˆé‡å¯ã€‚è¯¥å‘½ä»¤å¯¹ä¿æŒæœåŠ¡å§‹ç»ˆè¿è¡Œååˆ†æœ‰æ•ˆï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ¨èé…ç½®ä¸º always æˆ–è€… unless-stoppedã€‚</p><h4 id="5-ports"><a href="#5-ports" class="headerlink" title="5).ports"></a>5).ports</h4><p>æ˜ å°„ç«¯å£ã€‚</p><p><strong>æ ¼å¼</strong>ï¼š<br>å®¿ä¸»ç«¯å£:å®¹å™¨ä¸­ç«¯å£ (HOST:CONTAINER) </p><p>æˆ–è€…ä»…ä»…æŒ‡å®šå®¹å™¨çš„ç«¯å£ï¼ˆå®¿ä¸»å°†ä¼šéšæœºé€‰æ‹©ç«¯å£ï¼‰éƒ½å¯ä»¥ã€‚</p><p>æ¯”å¦‚ä»¥ä¸‹å°±æ˜¯æŠŠå®¹å™¨ä¸­çš„3306ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„3307ç«¯å£ä¸Šã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;3307:3306&quot;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ç”¨ä¸Šå¼•å·ï¼Œä»¥é˜²æ­¢å°çš„ç«¯å£å·æŠ¥é”™ã€‚</p><h4 id="6-volumes"><a href="#6-volumes" class="headerlink" title="6).volumes"></a>6).volumes</h4><p>æ•°æ®å·æ‰€æŒ‚è½½è·¯å¾„è®¾ç½®ã€‚</p><p><strong>æ ¼å¼ ä¸¤ç§</strong>ï¼š</p><ul><li>å®¿ä¸»æœºè·¯å¾„:å®¹å™¨ä¸­è·¯å¾„(HOST:CONTAINER)</li><li>æ•°æ®å·åç§°:å®¹å™¨ä¸­è·¯å¾„(VOLUME:CONTAINER)ï¼Œå¿…é¡»åœ¨æ–‡ä»¶ä¸­é…ç½®æ•°æ®å·ã€‚</li></ul><p>å¹¶ä¸”å¯ä»¥è®¾ç½®è®¿é—®æ¨¡å¼åªè¯»ReadOnlyï¼ˆHOST:CONTAINER:roï¼‰ã€‚</p><p>æ•°æ®å·çš„æ›´å¤šä»‹ç»çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="/2022/06/19/Docker%E6%95%B0%E6%8D%AE%E5%8D%B7/" title="Docker æ•°æ®å·ï¼ˆvolumesï¼‰ä»‹ç»">Docker æ•°æ®å·ï¼ˆvolumesï¼‰ä»‹ç»</a></p><p>ä¸¾ä¾‹ï¼šæ•°æ®å·mysql_dataæ‰€æŒ‚è½½çš„æ˜¯å®¹å™¨ä¸­çš„/var/lib/mysqlç›®å½•ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">my_src:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_data:/var/lib/mysql</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">mysql_data:</span></span><br></pre></td></tr></table></figure><h4 id="7-environment"><a href="#7-environment" class="headerlink" title="7).environment"></a>7).environment</h4><p>è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ä½ å¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸ä¸¤ç§æ ¼å¼ã€‚</p><p>åªç»™å®šåç§°çš„å˜é‡ä¼šè‡ªåŠ¨è·å–è¿è¡Œ Compose ä¸»æœºä¸Šå¯¹åº”å˜é‡çš„å€¼ï¼Œå¯ä»¥ç”¨æ¥é˜²æ­¢æ³„éœ²ä¸å¿…è¦çš„æ•°æ®ã€‚</p><p>ç”¨ä¸Šé¢å’Œä¸‹é¢çš„è¿™ç§éƒ½å¯ä»¥ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">my_src:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_data:/var/lib/mysql</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">123MYSQL456</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">my_db</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">mysql_data:</span></span><br></pre></td></tr></table></figure><h4 id="8-expose"><a href="#8-expose" class="headerlink" title="8).expose"></a>8).expose</h4><p>æš´éœ²ç«¯å£ï¼Œä½†ä¸æ˜ å°„åˆ°å®¿ä¸»æœºï¼Œåªè¢«è¿æ¥çš„æœåŠ¡è®¿é—®ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">expose:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;3000&quot;</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;8000&quot;</span></span><br></pre></td></tr></table></figure><h4 id="9-depends-on"><a href="#9-depends-on" class="headerlink" title="9).depends_on"></a>9).depends_on</h4><p>è§£å†³å®¹å™¨çš„ä¾èµ–ã€å¯åŠ¨å…ˆåçš„é—®é¢˜ã€‚ä»¥ä¸‹ä¾‹å­ä¸­ä¼šå…ˆå¯åŠ¨ redis db å†å¯åŠ¨ webï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres</span></span><br></pre></td></tr></table></figure><h4 id="10-network-mode"><a href="#10-network-mode" class="headerlink" title="10).network_mode"></a>10).network_mode</h4><p>è®¾ç½®ç½‘ç»œæ¨¡å¼ã€‚ä½¿ç”¨å’Œ docker run çš„ <code>-network</code> å‚æ•°ä¸€æ ·çš„å€¼ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network_mode:</span> <span class="string">&quot;bridge&quot;</span></span><br><span class="line"><span class="attr">network_mode:</span> <span class="string">&quot;host&quot;</span></span><br><span class="line"><span class="attr">network_mode:</span> <span class="string">&quot;none&quot;</span></span><br><span class="line"><span class="attr">network_mode:</span> <span class="string">&quot;service:[service name]&quot;</span></span><br><span class="line"><span class="attr">network_mode:</span> <span class="string">&quot;container:[container name/id]&quot;</span></span><br></pre></td></tr></table></figure><h4 id="11-networks"><a href="#11-networks" class="headerlink" title="11).networks"></a>11).networks</h4><p>é…ç½®å®¹å™¨è¿æ¥çš„ç½‘ç»œã€‚</p><p>networksæ˜¯ä¸€çº§å‚æ•°ï¼Œä¸versionå’Œservicesæ˜¯åŒçº§å¯¹é½ã€‚</p><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­composeé…ç½®æ–‡ä»¶æ¨¡æ¿ä¸­æœ‰å®é™…ç”¨åˆ°ï¼š<a href="/2022/05/29/Docker%E7%89%88Selenium%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" title="Dockerç‰ˆSeleniumä½¿ç”¨æ–¹æ³•">Dockerç‰ˆSeleniumä½¿ç”¨æ–¹æ³•</a></p><p>docker-composeé…ç½®æ–‡ä»¶æ›´å¤šä»‹ç» å‚è€ƒæ–‡ç« ï¼š</p><ul><li><a class="link"   href="http://docker.baoshu.red/compose/compose_file.html" >Composeæ¨¡æ¿æ–‡ä»¶<i class="fas fa-external-link-alt"></i></a></li><li><a class="link"   href="https://yeasy.gitbook.io/docker_practice/compose/compose_file" >Dockerä»å…¥é—¨åˆ°å®è·µ-Composeæ¨¡æ¿æ–‡ä»¶<i class="fas fa-external-link-alt"></i></a></li></ul><h3 id="2-docker-compose-yml-ä¸¾ä¾‹äºŒï¼ˆéƒ¨ç½²Flaskåº”ç”¨ï¼‰"><a href="#2-docker-compose-yml-ä¸¾ä¾‹äºŒï¼ˆéƒ¨ç½²Flaskåº”ç”¨ï¼‰" class="headerlink" title="2.docker-compose.yml ä¸¾ä¾‹äºŒï¼ˆéƒ¨ç½²Flaskåº”ç”¨ï¼‰"></a>2.docker-compose.yml ä¸¾ä¾‹äºŒï¼ˆéƒ¨ç½²Flaskåº”ç”¨ï¼‰</h3><p>æ•°æ®åº“ç”¨çš„mysqlï¼Œimageæ˜¯è‡ªå·±ç”¨Dockfileåˆ¶ä½œçš„competition_sys:v1.0ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">competition_sys:v1.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">my_competition</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5002:5002&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5023:22&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">./docker_app:/app</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_HOST:</span> <span class="string">db</span></span><br><span class="line">      <span class="attr">MYSQL_USER:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">1234MYSQL</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">competition_sys</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3308:3306&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">1234MYSQL</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">competition_sys</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./db_data:/docker-entrypoint-initdb.d/:ro</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€docker-composeå¸¸ç”¨å‘½ä»¤"><a href="#ä¸‰ã€docker-composeå¸¸ç”¨å‘½ä»¤" class="headerlink" title="ä¸‰ã€docker-composeå¸¸ç”¨å‘½ä»¤"></a>ä¸‰ã€docker-composeå¸¸ç”¨å‘½ä»¤</h2><p>docker-compose å‘½ä»¤çš„åŸºæœ¬çš„ä½¿ç”¨æ ¼å¼æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose [-f=&lt;arg&gt;...] [options] [COMMAND] [ARGS...]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-f,--file FILEæŒ‡å®šä½¿ç”¨çš„Composeæ¨¡æ¿æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºdocker-compose.ymlï¼Œå¯ä»¥å¤šæ¬¡æŒ‡å®šã€‚</span><br><span class="line">-p,--project-name NAMEæŒ‡å®šé¡¹ç›®åç§°ï¼Œé»˜è®¤å°†ä½¿ç”¨æ‰€åœ¨ç›®å½•åç§°ä½œä¸ºé¡¹ç›®åã€‚</span><br><span class="line">--verbose è¾“å‡ºæ›´å¤šè°ƒè¯•ä¿¡æ¯ã€‚</span><br><span class="line">-v,--version æ‰“å°ç‰ˆæœ¬å¹¶é€€å‡ºã€‚</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.éƒ¨ç½²ä¸€ä¸ªComposeåº”ç”¨</span></span><br><span class="line">docker-compose up</span><br><span class="line"><span class="comment"># é»˜è®¤æƒ…å†µä¸‹è¯¥å‘½ä»¤ä¼šè¯»å–åä¸º docker-compose.ymlï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨-fæŒ‡å®šå…¶ä»–æ–‡ä»¶åã€‚</span></span><br><span class="line"><span class="comment"># é€šå¸¸æƒ…å†µä¸‹ï¼Œä¼šä½¿ç”¨-då‚æ•°ä»¤åº”ç”¨åœ¨åå°å¯åŠ¨ã€‚</span></span><br><span class="line">docker-compose up -d</span><br><span class="line">docker-compose -f docker-compose-v3.yml up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆ—å‡ºComposeåº”ç”¨ä¸­çš„å„ä¸ªå®¹å™¨</span></span><br><span class="line">docker-compose ps</span><br><span class="line">docker ps -a <span class="comment"># æ˜¾ç¤ºåŒ…æ‹¬åœæ­¢çš„å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.åœæ­¢Composeåº”ç”¨ç›¸å…³çš„æ‰€æœ‰å®¹å™¨ï¼Œä½†ä¸ä¼šåˆ é™¤å®ƒä»¬</span></span><br><span class="line">docker-compose stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.é‡å¯å·²åœæ­¢çš„Composeåº”ç”¨</span></span><br><span class="line">docker-compose restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.åœæ­¢å¹¶åˆ é™¤è¿è¡Œä¸­çš„Composeåº”ç”¨ï¼Œä¼šåˆ é™¤å®¹å™¨å’Œç½‘ç»œï¼Œä½†æ˜¯ä¸ä¼šåˆ é™¤å·å’Œé•œåƒã€‚</span></span><br><span class="line">docker-compose down</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.æŸ¥çœ‹å¸®åŠ©</span></span><br><span class="line">docker-compose <span class="built_in">help</span></span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://docs.docker.com/compose/reference/up/" >https://docs.docker.com/compose/reference/up/<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker æ•°æ®å·ï¼ˆvolumesï¼‰ä»‹ç»</title>
      <link href="/2022/06/19/Docker%E6%95%B0%E6%8D%AE%E5%8D%B7/"/>
      <url>/2022/06/19/Docker%E6%95%B0%E6%8D%AE%E5%8D%B7/</url>
      
        <content type="html"><![CDATA[<p>Docker æä¾›äº†ä¸‰ç§ä¸åŒçš„æ–¹å¼å°†æ•°æ®ä» Docker Host æŒ‚è½½åˆ° Docker å®¹å™¨ï¼Œå¹¶å®ç°æ•°æ®çš„è¯»å–å’Œå­˜å‚¨ï¼švolumesã€bind mountsã€tmpfs ã€‚</p><ul><li>Volumes å­˜å‚¨åœ¨ Docker Host æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªè·¯å¾„ä¸‹ï¼Œè¿™ä¸ªè·¯å¾„æ˜¯ç”± Docker æ¥è¿›è¡Œç®¡ç†ï¼Œè·¯å¾„é»˜è®¤æ˜¯ /var/lib/docker/volumes/ï¼Œé Docker çš„è¿›ç¨‹ä¸èƒ½å»ä¿®æ”¹è¿™ä¸ªè·¯å¾„ä¸‹é¢çš„æ–‡ä»¶ï¼Œæ‰€ä»¥è¯´Volumes æ˜¯æŒä¹…å­˜å‚¨æ•°æ®æœ€å¥½çš„ä¸€ç§æ–¹å¼ã€‚</li><li>Bind mounts å¯ä»¥å­˜å‚¨åœ¨ Docker Host æ–‡ä»¶ç³»ç»Ÿçš„ä»»ä½•ä½ç½®ï¼Œå®ƒä»¬ç”šè‡³å¯èƒ½æ˜¯é‡è¦çš„ç³»ç»Ÿæ–‡ä»¶æˆ–ç›®å½•ï¼Œé Docker çš„è¿›ç¨‹æˆ–è€… Docker å®¹å™¨å¯èƒ½éšæ—¶å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå­˜åœ¨æ½œåœ¨çš„å®‰å…¨é£é™©ã€‚</li><li>Tmpfs åªå­˜å‚¨åœ¨ Docker Host çš„ç³»ç»Ÿå†…å­˜ä¸­ï¼Œä¸ä¼šå†™å…¥åˆ°ç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¸ä¼šæŒä¹…å­˜å‚¨ã€‚</li></ul><a id="more"></a><p>æ•°æ®å·ï¼ˆvolumesï¼‰æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š</p><ul><li>æ•°æ®å· å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨ï¼›</li><li>å¯¹ æ•°æ®å· çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆï¼›</li><li>å¯¹ æ•°æ®å· çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒï¼›</li><li>æ•°æ®å· é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤ã€‚</li></ul><p>æ³¨æ„ï¼šæ•°æ®å· çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šå¤åˆ¶åˆ°æ•°æ®å·ä¸­ï¼ˆä»…æ•°æ®å·ä¸ºç©ºæ—¶ä¼šå¤åˆ¶ï¼‰ã€‚</p><h2 id="æ•°æ®å·"><a href="#æ•°æ®å·" class="headerlink" title="æ•°æ®å·"></a>æ•°æ®å·</h2><h3 id="1-åˆ›å»ºä¸€ä¸ªæ•°æ®å·"><a href="#1-åˆ›å»ºä¸€ä¸ªæ•°æ®å·" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ªæ•°æ®å·"></a>1.åˆ›å»ºä¸€ä¸ªæ•°æ®å·</h3><p>åˆ›å»ºä¸€ä¸ªæ•°æ®å·ï¼šmy-vol</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create my-vol</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®å·ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume ls</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æŒ‡å®š æ•°æ®å·ï¼ˆmy-volï¼‰ çš„ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume inspect my-vol</span><br></pre></td></tr></table></figure><h3 id="2-åˆ é™¤æ•°æ®å·"><a href="#2-åˆ é™¤æ•°æ®å·" class="headerlink" title="2.åˆ é™¤æ•°æ®å·"></a>2.åˆ é™¤æ•°æ®å·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume rm my-vol</span><br></pre></td></tr></table></figure><p>æ•°æ®å· æ˜¯è¢«è®¾è®¡ç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼ŒDocker ä¸ä¼šåœ¨å®¹å™¨è¢«åˆ é™¤åè‡ªåŠ¨åˆ é™¤ æ•°æ®å·ï¼Œå¹¶ä¸”ä¹Ÿä¸å­˜åœ¨åƒåœ¾å›æ”¶è¿™æ ·çš„æœºåˆ¶æ¥å¤„ç†æ²¡æœ‰ä»»ä½•å®¹å™¨å¼•ç”¨çš„ æ•°æ®å·ã€‚</p><p>å¦‚æœéœ€è¦åœ¨åˆ é™¤å®¹å™¨çš„åŒæ—¶ç§»é™¤æ•°æ®å·ã€‚å¯ä»¥åœ¨åˆ é™¤å®¹å™¨çš„æ—¶å€™ä½¿ç”¨ <code>docker rm -v</code> è¿™ä¸ªå‘½ä»¤ã€‚</p><p>æ— ä¸»çš„æ•°æ®å·å¯èƒ½ä¼šå æ®å¾ˆå¤šç©ºé—´ï¼Œè¦æ¸…ç†ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume prune</span><br></pre></td></tr></table></figure><h2 id="æŒ‚è½½æ•°æ®å·"><a href="#æŒ‚è½½æ•°æ®å·" class="headerlink" title="æŒ‚è½½æ•°æ®å·"></a>æŒ‚è½½æ•°æ®å·</h2><p>å¯åŠ¨å®¹å™¨çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆåˆ›å»ºå¥½æ•°æ®å·ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®¾ç½®ï¼ˆä¼šåˆ›å»ºæ–°çš„æ•°æ®å·ï¼‰ã€‚</p><p><strong>ç”¨æ³•</strong>ï¼š</p><ul><li><code>-v</code>æˆ–<code>--volume</code>ï¼Œ<code>æ•°æ®å·åç§°:å®¹å™¨ä¸­è·¯å¾„</code></li><li><code>--mount</code>ï¼Œç”±å¤šä¸ªé”®å€¼å¯¹ç»„æˆï¼Œä»¥é€—å·åˆ†éš”ï¼Œæ¯ä¸ªé”®=ç»„ç”±ä¸€ä¸ªå…ƒç»„ç»„æˆã€‚<code>--mount</code>è¯­æ³•æ¯”<code>-v</code>æˆ–<code>--volume</code>æ›´è¯¦ç»†</li></ul><h3 id="1-docker-runä½¿ç”¨æ•°æ®å·"><a href="#1-docker-runä½¿ç”¨æ•°æ®å·" class="headerlink" title="1.docker runä½¿ç”¨æ•°æ®å·"></a>1.docker runä½¿ç”¨æ•°æ®å·</h3><p>åœ¨ç”¨ docker run å‘½ä»¤çš„æ—¶å€™ï¼Œä¸€èˆ¬ä½¿ç”¨<code>-v</code>æˆ– <code>--mount</code> æ ‡è®°æ¥å°† æ•°æ®å· æŒ‚è½½åˆ°å®¹å™¨é‡Œã€‚åœ¨ä¸€æ¬¡ docker run ä¸­å¯ä»¥æŒ‚è½½å¤šä¸ª æ•°æ®å·ã€‚</p><p>ä¾‹å¦‚ï¼šåˆ›å»ºä¸€ä¸ªåä¸º myweb çš„å®¹å™¨ï¼Œå¹¶åŠ è½½ä¸€ä¸ª æ•°æ®å· åˆ°å®¹å™¨çš„ <code>/usr/share/nginx/html</code> ç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -P \</span><br><span class="line">    --name myweb \</span><br><span class="line">    <span class="comment"># -v my-vol:/usr/share/nginx/html \</span></span><br><span class="line">    --mount <span class="built_in">source</span>=my-vol,target=/usr/share/nginx/html \</span><br><span class="line">    nginx:alpine</span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹å®¹å™¨ä¸­æ•°æ®å·ä¿¡æ¯ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect myweb</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå‘½ä»¤å¯ä»¥æŸ¥çœ‹ myweb å®¹å™¨çš„ä¿¡æ¯ï¼Œæ•°æ®å· ä¿¡æ¯åœ¨ â€œMountsâ€ä¸‹é¢ã€‚</p><h3 id="2-docker-composeä½¿ç”¨æ•°æ®å·"><a href="#2-docker-composeä½¿ç”¨æ•°æ®å·" class="headerlink" title="2.docker-composeä½¿ç”¨æ•°æ®å·"></a>2.docker-composeä½¿ç”¨æ•°æ®å·</h3><p>ä¾‹å¦‚ï¼šæ•°æ®å·mysql_dataæ‰€æŒ‚è½½çš„æ˜¯å®¹å™¨ä¸­çš„/var/lib/mysqlç›®å½•ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">my_src:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_data:/var/lib/mysql</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">mysql_data:</span></span><br></pre></td></tr></table></figure><p>æ•°æ®å·ç›¸å…³ä»‹ç» å‚è€ƒæ–‡ç« ï¼š</p><ul><li><a class="link"   href="https://yeasy.gitbook.io/docker_practice/data_management/volume" >Dockerä»å…¥é—¨åˆ°å®è·µ-æ•°æ®å·<i class="fas fa-external-link-alt"></i></a></li><li><a class="link"   href="http://docker.baoshu.red/data_management/volume.html" >æ•°æ®å·è¯¦ç»†ä»‹ç»<i class="fas fa-external-link-alt"></i></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockeræ­å»ºfrpå†…ç½‘ç©¿é€æœåŠ¡å™¨</title>
      <link href="/2022/06/18/Docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2022/06/18/Docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p>frp æ˜¯ä¸€ä¸ªä¸“æ³¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰å¤šç§åè®®ã€‚å¯ä»¥å°†å†…ç½‘æœåŠ¡ä»¥å®‰å…¨ã€ä¾¿æ·çš„æ–¹å¼é€šè¿‡å…·æœ‰å…¬ç½‘ IP èŠ‚ç‚¹çš„ä¸­è½¬æš´éœ²åˆ°å…¬ç½‘ã€‚</p><p>è¯´ç›´ç™½ç‚¹ï¼Œæˆ‘ä¸»è¦æ˜¯æƒ³ç”¨æ¥ï¼š</p><ul><li>è®¿é—®å†…ç½‘ï¼ˆç°åœ¨èƒ½è®¿é—®ï¼Œä½†ç›´æ¥è®¿é—®å…¶å®ƒçš„å†…ç½‘åœ°å€è¿˜æœ‰ç‚¹é—®é¢˜ï¼‰ï¼›</li><li>å®‰è£…frpcçš„ç”µè„‘å¼€webæœåŠ¡çš„å†…ç½‘æ²¡é—®é¢˜ï¼Œå¯ä»¥è®¿é—®ï¼›</li><li>è®¿é—®ä¸äº†å…¶å®ƒçš„å†…ç½‘ï¼Œå°±å…ˆç”¨ç”¨è¿œç¨‹æ¡Œé¢è¿æ¥å§ã€‚ï¼ˆå½“ç„¶ï¼Œè¿™ä¸ªä¹Ÿæœ‰ç¬¬ä¸‰æ–¹çš„å·¥å…·ï¼Œä½†TeamViewå…è´¹ä¸å¥½ç”¨ï¼ŒTodeskå…è´¹è¿˜è¡Œã€å°±æ˜¯åˆ†è¾¨ç‡ã€ç¨³å®šæ€§è¿™äº›è¿˜æ˜¯å·®ä¸€äº›ï¼‰</li></ul><p>åæ­£æœåŠ¡å™¨æœ¬æ¥å°±æœ‰ï¼Œå°±é¡ºä¾¿è¯•ä¸€ä¸‹ã€‚</p><p>frpä¸­æ–‡æ–‡æ¡£ï¼š<a class="link"   href="https://github.com/fatedier/frp/blob/dev/README_zh.md" >https://github.com/fatedier/frp/blob/dev/README_zh.md<i class="fas fa-external-link-alt"></i></a><br>å®Œæ•´æ–‡æ¡£ï¼š<a class="link"   href="https://gofrp.org/" >https://gofrp.org<i class="fas fa-external-link-alt"></i></a></p><p>releaseç‰ˆæœ¬ä¸‹è½½ï¼š<a class="link"   href="https://github.com/fatedier/frp/releases" >https://github.com/fatedier/frp/releases<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><p><strong>å‡†å¤‡å·¥ä½œï¼š</strong></p><p>ä¸€å…±3å°æœºå­ï¼š</p><ul><li>UbuntuæœåŠ¡å™¨ï¼ˆå¸¦Dockerï¼Œæœ‰å…¬ç½‘ipï¼‰ï¼šç”¨æ¥å®‰è£…frp serverç«¯</li><li>åŠå…¬å®¤Windows10ï¼ˆå·²å®‰è£…dockerï¼‰ï¼šå®‰è£…frp clientç«¯</li><li>æœ¬æœºWindows10ï¼šè¿œç¨‹è¿æ¥åŠå…¬å®¤ç”µè„‘</li></ul><p><strong>frpå®ç°äº†å•¥ï¼š</strong></p><p>æ¯”å¦‚æˆ‘åŠå…¬å®¤Windows10ä¸­è¿è¡Œäº†ä¸€ä¸ªwebæœåŠ¡ï¼Œå±€åŸŸç½‘å¯ä»¥è®¿é—®ï¼Œé€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š192.168.1.110:5000</p><p>ä½†å¤–ç½‘æ˜¯æ— æ³•è®¿é—®çš„ã€‚</p><p>ç„¶åæˆ‘çš„UbuntuæœåŠ¡å™¨ï¼ˆå…¬ç½‘ipï¼š43.142.94.65ï¼‰ï¼Œåˆ†åˆ«å®‰è£…äº†frpsã€frpcç«¯ã€‚</p><p>ç„¶åé€šè¿‡frpï¼Œå¤–é¢å°±å¯ä»¥ç”¨ï¼š43.142.94.65:18188 æ¥è®¿é—® 192.168.1.110:5000 äº†ã€‚ï¼ˆè¿™é‡Œ5000ç«¯å£æ˜ å°„åˆ°æœåŠ¡å™¨çš„18188ç«¯å£äº†ï¼‰</p><h2 id="ä¸€ã€æ­å»ºfrp-server-æœåŠ¡å™¨ç«¯"><a href="#ä¸€ã€æ­å»ºfrp-server-æœåŠ¡å™¨ç«¯" class="headerlink" title="ä¸€ã€æ­å»ºfrp server(æœåŠ¡å™¨ç«¯)"></a>ä¸€ã€æ­å»ºfrp server(æœåŠ¡å™¨ç«¯)</h2><p>äº‘æœåŠ¡å™¨ï¼šå¸¦Dockerçš„Ubuntu20.04</p><h3 id="1-åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆfrps-iniï¼‰"><a href="#1-åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆfrps-iniï¼‰" class="headerlink" title="1.åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆfrps.iniï¼‰"></a>1.åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆfrps.iniï¼‰</h3><p>å…ˆå»ºä¸ªfrpçš„ç›®å½•ï¼Œéšä¾¿æ”¾å“ªé‡Œï¼Œæ¯”å¦‚æˆ‘å°±æ”¾åœ¨ç”¨æˆ·ç›®å½•(<code>/home/ubuntu</code>)ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir frp</span><br></pre></td></tr></table></figure><p>å¯ä»¥ç›´æ¥åœ¨æœåŠ¡å™¨(Linux)ç³»ç»Ÿä¸­ç”¨<code>vi frps.ini</code>åˆ›å»ºé…ç½®æ–‡ä»¶ã€ç¼–è¾‘ã€ä¿å­˜ã€‚</p><p>ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ç›´æ¥åˆ›å»ºå¥½äº†ï¼Œç”¨FTPå·¥å…·ä¸Šä¼ åˆ° <code>/home/ubuntu/frp</code>ç›®å½•ä¸‹ã€‚</p><p>frps.ini æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="comment"># ç›‘å¬ç«¯å£</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span></span><br><span class="line"><span class="comment"># é¢æ¿ç«¯å£</span></span><br><span class="line"><span class="attr">dashboard_port</span> = <span class="number">7500</span></span><br><span class="line"><span class="comment"># ç™»å½•é¢æ¿è´¦å·è®¾ç½®</span></span><br><span class="line"><span class="attr">dashboard_user</span> = admin</span><br><span class="line"><span class="attr">dashboard_pwd</span> = Administrator1234</span><br><span class="line"><span class="comment"># è®¾ç½®httpåŠhttpsåè®®ä¸‹ä»£ç†ç«¯å£ï¼ˆéé‡è¦ï¼‰</span></span><br><span class="line"><span class="attr">vhost_http_port</span> = <span class="number">7080</span></span><br><span class="line"><span class="attr">vhost_https_port</span> = <span class="number">7081</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># èº«ä»½éªŒè¯</span></span><br><span class="line"><span class="attr">token</span> = <span class="number">9</span>LgPn24TaC2NYZXY</span><br></pre></td></tr></table></figure><p>tokenå°½é‡å¤æ‚ä¸€äº›ï¼Œç”¨Pythonçš„è¯ï¼Œå¯ä»¥ç”¨secretsåº“ç”Ÿæˆä¸€ä¸‹éšæœºå¯†ç ã€‚</p><p>ç”¨çš„æ˜¯è…¾è®¯äº‘è½»é‡æœåŠ¡å™¨ï¼Œæ‰€ä»¥è¦åœ¨ã€é˜²ç«å¢™ã€‘ä¸­å…ˆæŠŠè¿™äº›æœåŠ¡å™¨ä¸Šè¦ç”¨åˆ°çš„ç«¯å£å¼€ä¸€ä¸‹ï¼Œå³ï¼š<br>7000ã€7500ã€7080ã€7081 å››ä¸ªç«¯å£ã€‚</p><h3 id="2-åˆ›å»ºfrpså®¹å™¨"><a href="#2-åˆ›å»ºfrpså®¹å™¨" class="headerlink" title="2.åˆ›å»ºfrpså®¹å™¨"></a>2.åˆ›å»ºfrpså®¹å™¨</h3><p><strong>1).ä¸‹è½½frpæœåŠ¡å™¨é•œåƒ snowdreamtech/frps</strong></p><p>dockerå®˜æ–¹é•œåƒç½‘å€ï¼š<a class="link"   href="https://hub.docker.com/r/snowdreamtech/frps" >https://hub.docker.com/r/snowdreamtech/frps<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull snowdreamtech/frps</span><br></pre></td></tr></table></figure><p>ç¢°åˆ°æ²¡æœ‰æƒé™çš„æ—¶å€™ï¼Œå‘½ä»¤å‰é¢åŠ ä¸Š<code>sudo</code>å°±è¡Œã€‚</p><p><strong>2).å¯åŠ¨å®¹å™¨</strong></p><p>æˆ‘è¿™é‡Œé…ç½®æ–‡ä»¶åœ¨ï¼š<code>/home/ubuntu/frp/frps.ini</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --restart=always --network host -d -v /home/ubuntu/frp/frps.ini:/etc/frp/frps.ini --name frps snowdreamtech/frps</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--network hostï¼šç½‘ç»œæ¨¡å¼host</span><br><span class="line">-v &#x2F;home&#x2F;ubuntu&#x2F;frp&#x2F;frps.ini:&#x2F;etc&#x2F;frp&#x2F;frps.iniï¼šé…ç½®æ–‡ä»¶æ˜ å°„</span><br><span class="line">--name frpsï¼šå®¹å™¨åç§°ï¼Œå¯ä»¥éšä¾¿å–</span><br></pre></td></tr></table></figure><p>å¯åŠ¨åï¼Œé€šè¿‡<code>docker ps -a</code>å‘½ä»¤æŸ¥çœ‹å®¹å™¨åˆ—è¡¨ã€‚</p><p>åˆ›å»ºå¥½åï¼Œæ‰“å¼€ç½‘å€ï¼š<strong>æœåŠ¡å™¨ip:7500</strong> å°±å¯ä»¥çœ‹åˆ°frpé¢æ¿äº†ã€‚ï¼ˆæˆ‘è¿™æ˜¯ï¼š43.142.94.65:7500ï¼‰</p><p>å¦‚æœå‡ºç°æ— æ³•è®¿é—®çš„æƒ…å†µï¼Œå¯ä»¥åœ¨ä»¥ä¸‹ç½‘ç«™ä¸ŠæŸ¥è¯¢ä¸€ä¸‹ï¼Œçœ‹æœåŠ¡å™¨ç«¯å£æ˜¯å¦å¼€æ”¾ï¼š<br><a class="link"   href="https://tool.chinaz.com/port" >https://tool.chinaz.com/port<i class="fas fa-external-link-alt"></i></a></p><h2 id="äºŒã€æ­å»ºfrp-client-å®¢æˆ·ç«¯"><a href="#äºŒã€æ­å»ºfrp-client-å®¢æˆ·ç«¯" class="headerlink" title="äºŒã€æ­å»ºfrp client(å®¢æˆ·ç«¯)"></a>äºŒã€æ­å»ºfrp client(å®¢æˆ·ç«¯)</h2><p>åŠå…¬å®¤Windows10ï¼ˆå·²å®‰è£…dockerï¼‰<br>å®‰è£…dockeræ–¹æ³•ï¼š<a class="link"   href="https://yeasy.gitbook.io/docker_practice/install/windows" >https://yeasy.gitbook.io/docker_practice/install/windows<i class="fas fa-external-link-alt"></i></a></p><h3 id="1-åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆfrpc-iniï¼‰"><a href="#1-åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆfrpc-iniï¼‰" class="headerlink" title="1.åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆfrpc.iniï¼‰"></a>1.åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆfrpc.iniï¼‰</h3><p>å…ˆå»ºä¸ªfrpçš„ç›®å½•ï¼Œéšä¾¿æ”¾å“ªé‡Œï¼Œæ¯”å¦‚æˆ‘å°±æ”¾åœ¨(<code>E:\frp</code>)ä¸‹.</p><p>frpc.ini æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="comment"># server_addrä¸ºFRPSæœåŠ¡å™¨IPåœ°å€</span></span><br><span class="line"><span class="attr">server_addr</span> = <span class="number">43.142</span>.<span class="number">94.65</span></span><br><span class="line"><span class="comment"># server_portä¸ºæœåŠ¡ç«¯ç›‘å¬ç«¯å£ï¼Œbind_portï¼Œä¸frps.iniä¸­ä¿å­˜ä¸€è‡´</span></span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"><span class="comment"># èº«ä»½éªŒè¯ï¼Œä¸frps.iniä¸­ä¿å­˜ä¸€è‡´</span></span><br><span class="line"><span class="attr">token</span> = <span class="number">9</span>LgPn24TaC2NYZXY</span><br><span class="line"></span><br><span class="line"><span class="section">[ssh]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">22</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">2288</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># [ssh] ä¸ºæœåŠ¡åç§°ï¼Œä¸‹æ–¹æ­¤å¤„è®¾ç½®ä¸ºï¼Œè®¿é—®frpæœåŠ¡æ®µçš„2288ç«¯å£æ—¶ï¼Œç­‰åŒäºé€šè¿‡ä¸­è½¬æœåŠ¡å™¨è®¿é—®127.0.0.1çš„22ç«¯å£ã€‚</span></span><br><span class="line"><span class="comment"># type ä¸ºè¿æ¥çš„ç±»å‹ï¼Œæ­¤å¤„ä¸ºtcp</span></span><br><span class="line"><span class="comment"># local_ip ä¸ºä¸­è½¬å®¢æˆ·ç«¯å®é™…è®¿é—®çš„IP </span></span><br><span class="line"><span class="comment"># local_port ä¸ºç›®æ ‡ç«¯å£</span></span><br><span class="line"><span class="comment"># remote_port ä¸ºè¿œç¨‹ç«¯å£</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿œç¨‹æ¡Œé¢RDPï¼Œè¿æ¥éœ€è¦3389ç«¯å£</span></span><br><span class="line"><span class="section">[RDP]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">3389</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">18189</span></span><br><span class="line"></span><br><span class="line"><span class="section">[web_host]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">5002</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">18289</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥å»ºå¤šä¸ªï¼Œæ¯”å¦‚æˆ‘è¿™å°±å¼€äº†3ä¸ªï¼šsshã€RDPã€web_hostã€‚</p><p>æœ€åå¯¹åº”çš„è®¿é—®åœ°å€ä¸ºï¼šFRPSæœåŠ¡å™¨IPåœ°å€:remote_port</p><blockquote><p>è¿œç¨‹æ¡Œé¢è¿æ¥åœ°å€ï¼š43.142.94.65:18189<br>webè®¿é—®åœ°å€ï¼š43.142.94.65:18289 å¯¹åº”æœ¬æœºçš„ 127.0.0.1:5002</p></blockquote><p>ç”¨çš„æ˜¯è…¾è®¯äº‘è½»é‡æœåŠ¡å™¨ï¼Œæ‰€ä»¥è¦åœ¨ã€é˜²ç«å¢™ã€‘ä¸­æŠŠè¿™äº›æœåŠ¡å™¨ä¸Šè¦ç”¨åˆ°çš„ç«¯å£å¼€ä¸€ä¸‹ï¼Œå³ï¼š<br>2288ã€18189ã€18289 ä¸‰ä¸ªç«¯å£ã€‚</p><h3 id="2-åˆ›å»ºfrpcå®¹å™¨"><a href="#2-åˆ›å»ºfrpcå®¹å™¨" class="headerlink" title="2.åˆ›å»ºfrpcå®¹å™¨"></a>2.åˆ›å»ºfrpcå®¹å™¨</h3><p>å¯ä»¥åœ¨dockerè½¯ä»¶ä¸­æ“ä½œï¼Œåæ­£è·ŸæœåŠ¡å™¨ç«¯å·®ä¸å¤šçš„å‘½ä»¤ï¼Œæˆ‘è¿™å°±ç›´æ¥ç”¨å‘½ä»¤äº†ã€‚</p><p><strong>1).ä¸‹è½½frpå®¢æˆ·ç«¯é•œåƒ snowdreamtech/frpc</strong></p><p>dockerå®˜æ–¹é•œåƒç½‘å€ï¼š<a class="link"   href="https://hub.docker.com/r/snowdreamtech/frpc" >https://hub.docker.com/r/snowdreamtech/frpc<i class="fas fa-external-link-alt"></i></a></p><p>æ‰“å¼€Windows Powershell/å‘½ä»¤æç¤ºç¬¦ ç”¨å‘½ä»¤ä¸‹è½½é•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull snowdreamtech/frpc</span><br></pre></td></tr></table></figure><p><strong>2).å¯åŠ¨å®¹å™¨</strong></p><p>æˆ‘è¿™é‡Œé…ç½®æ–‡ä»¶åœ¨ï¼š<code>E:/frp/frpc.ini</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --restart=always --network host -d -v E:/frp/frpc.ini:/etc/frp/frpc.ini --name frpc snowdreamtech/frpc</span><br></pre></td></tr></table></figure><p>å¯åŠ¨åï¼Œé€šè¿‡<code>docker ps -a</code>å‘½ä»¤æŸ¥çœ‹å®¹å™¨åˆ—è¡¨ã€‚</p><p>å†åˆ·æ–°åˆšæ‰æ‰“å¼€çš„ç½‘å€ï¼š<strong>æœåŠ¡å™¨ip:7500</strong> å°±å¯ä»¥çœ‹åˆ°frpé¢æ¿äº†ã€‚ï¼ˆæˆ‘è¿™æ˜¯ï¼š43.142.94.65:7500ï¼‰å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_frp_1.png"                      style="zoom: 100%;"                ></p><h2 id="ä¸‰ã€è¿œç¨‹æ¡Œé¢è¿æ¥"><a href="#ä¸‰ã€è¿œç¨‹æ¡Œé¢è¿æ¥" class="headerlink" title="ä¸‰ã€è¿œç¨‹æ¡Œé¢è¿æ¥"></a>ä¸‰ã€è¿œç¨‹æ¡Œé¢è¿æ¥</h2><p>å½“ç„¶ï¼Œé¦–å…ˆï¼Œè¦åœ¨åŠå…¬å®¤Windows10ï¼ˆå·²å®‰è£…dockerï¼‰è¿™å°æœºå­ä¸Šå¼€å¯è¿œç¨‹æ¡Œé¢ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_frp_4.png"                      style="zoom: 75%;"                ></p><p>è¿œç¨‹æ¡Œé¢è¿æ¥åœ°å€ï¼š43.142.94.65:18189</p><p>åœ¨Windowsç³»ç»Ÿä¸­æ‰“å¼€ã€è¿œç¨‹æ¡Œé¢è¿æ¥ã€‘ï¼Œè¾“å…¥è¿æ¥åœ°å€å’Œè¿œç¨‹è¿æ¥çš„è®¡ç®—æœºçš„ç”¨æˆ·åï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_frp_2.png"                      style="zoom: 100%;"                ></p><p>æ³¨æ„ï¼ŒWindows10åœ¨ã€ä½“éªŒã€‘é€‰é¡¹ä¸­ï¼Œå¯ä»¥é€‰æ‹©ã€LANï¼ˆ10 Mbpsæˆ–æ›´é«˜ï¼‰ã€‘ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ã€è‡ªåŠ¨æ£€æµ‹è¿æ¥è´¨é‡ã€‘ã€‚é»˜è®¤æ˜¯ã€ä½é€Ÿå®½å¸¦ã€‘ï¼Œè¿æ¥ä¸Šä¹‹åï¼Œå­—ä½“å˜æ ·ï¼Œæ„Ÿè§‰å¾ˆä¸‘ã€çœ‹èµ·æ¥ä¸èˆ’æœã€‚</p><p>è€ŒWindows11çš„è¯ï¼Œé»˜è®¤æ˜¯ã€è‡ªåŠ¨æ£€æµ‹è¿æ¥è´¨é‡ã€‘ï¼Œå°±æ²¡äº‹é—®é¢˜ï¼Œè¿æ¥ä¸Šåè‡ªåŠ¨æ£€æµ‹çš„æ•ˆæœæŒºå¥½çš„ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_frp_3.png"                      style="zoom: 100%;"                ></p><p>å°±æˆåŠŸè¿æ¥å•¦ï¼<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_frp_5.png"                      style="zoom: 75%;"                ></p><p>æ›´å¤šå…³äºfrpçš„ä»‹ç»ã€é…ç½®æ–‡ä»¶è¯´æ˜ï¼Œéƒ½åœ¨å®˜æ–¹çš„æ–‡æ¡£ä¸­æœ‰ï¼š<a class="link"   href="https://gofrp.org/" >https://gofrp.org<i class="fas fa-external-link-alt"></i></a></p><p>å‚è€ƒæ–‡ç« ï¼š<a class="link"   href="https://gitee.com/spoto/natserver/tree/master" >è‡ªå»ºå†…ç½‘ç©¿é€æœåŠ¡å™¨<i class="fas fa-external-link-alt"></i></a></p><h2 id="frpå®¢æˆ·ç«¯-login-to-server-failedï¼šEOFè§£å†³æ–¹æ³•"><a href="#frpå®¢æˆ·ç«¯-login-to-server-failedï¼šEOFè§£å†³æ–¹æ³•" class="headerlink" title="frpå®¢æˆ·ç«¯ login to server failedï¼šEOFè§£å†³æ–¹æ³•"></a>frpå®¢æˆ·ç«¯ login to server failedï¼šEOFè§£å†³æ–¹æ³•</h2><a href="/2024/03/30/frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/" title="frpå®¢æˆ·ç«¯å®¹å™¨å¯åŠ¨å¤±è´¥">frpå®¢æˆ·ç«¯å®¹å™¨å¯åŠ¨å¤±è´¥</a>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOSå®‰è£…git</title>
      <link href="/2022/06/14/CentOS%E5%AE%89%E8%A3%85git/"/>
      <url>/2022/06/14/CentOS%E5%AE%89%E8%A3%85git/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘æœ‰ä¸€å°è…¾è®¯äº‘çš„CentOS 7.6ï¼Œä¸è¡Œï¼Œå®‰è£…ä¾èµ–åº“çš„æ—¶å€™ç›´æ¥å¯¹åº”çš„è…¾è®¯äº‘çš„mirrorséƒ½ç©ºäº†ï¼Œæ²¡æœ‰ã€‚</p><p>äºæ˜¯åˆè¯•äº†ä¸‹ï¼Œå¦ä¸€å°CentOS 8.2ç‰ˆæœ¬çš„ï¼Œæ­£å¸¸å¯ä»¥å®‰è£…ã€‚</p><a id="more"></a><p>Gitå®˜ç½‘å¯¹äºLinuxç³»ç»Ÿå®‰è£…Gitçš„è¯´æ˜ï¼š<br><a class="link"   href="https://git-scm.com/download/linux" >https://git-scm.com/download/linux<i class="fas fa-external-link-alt"></i></a></p><p>åˆ«çš„ç³»ç»Ÿéƒ½å¾ˆç®€å•ï¼Œç›´æ¥ä¸€æ¡å‘½ä»¤å°±è¡Œã€‚<br>ä½†å°±æ˜¯è¿™ä¸ªCentOSè¿™å‡ ä¸ªï¼Œéœ€è¦è‡ªå·±ä¸‹è½½æºç ã€ç¼–è¯‘æ‰èƒ½å®‰è£…ã€‚</p><p>ç”¨<code>yum install git</code>å‘½ä»¤å®‰è£…çš„æ˜¯è€ç‰ˆæœ¬ï¼Œåæ­£éƒ½ä¸è¡Œçš„ã€‚</p><h2 id="CentOSå®‰è£…gitæ–¹æ³•"><a href="#CentOSå®‰è£…gitæ–¹æ³•" class="headerlink" title="CentOSå®‰è£…gitæ–¹æ³•"></a>CentOSå®‰è£…gitæ–¹æ³•</h2><h3 id="1-å®˜ç½‘ä¸‹è½½æºç "><a href="#1-å®˜ç½‘ä¸‹è½½æºç " class="headerlink" title="1.å®˜ç½‘ä¸‹è½½æºç "></a>1.å®˜ç½‘ä¸‹è½½æºç </h3><p>ä¸Šé¢æä¾›çš„å®˜ç½‘ï¼ˆ<a class="link"   href="https://git-scm.com/download/linux" >https://git-scm.com/download/linux<i class="fas fa-external-link-alt"></i></a> ï¼‰æœ€åCentOSéƒ¨åˆ†ï¼Œæä¾›äº†æºç ä¸‹è½½çš„é“¾æ¥ï¼š<br><a class="link"   href="https://mirrors.edge.kernel.org/pub/software/scm/git/" >https://mirrors.edge.kernel.org/pub/software/scm/git/<i class="fas fa-external-link-alt"></i></a></p><p>ç„¶åç›´æ¥æ‰¾ä¸€ä¸‹å¯¹åº”çš„æ–°ç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œä¸‹è½½çš„æ–°ç‰ˆæœ¬æ˜¯ï¼šgit-2.36.0.tar.gz</p><p>ä¸‹è½½å¥½äº†ç”¨ftpå·¥å…·ä¸Šä¼ åˆ°centosæœåŠ¡å™¨ä¸Šã€‚</p><h3 id="2-å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·"><a href="#2-å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·" class="headerlink" title="2.å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·"></a>2.å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y install curl-devel expat-devel openssl-devel zlib-devel // å®æµ‹ä¾èµ–</span><br><span class="line"><span class="comment">#yum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel // å®˜ç½‘å®Œæ•´ä¾èµ–</span></span><br><span class="line"></span><br><span class="line">yum -y install gcc</span><br></pre></td></tr></table></figure><p>ä¾èµ–åº“æˆ‘åæ­£ç”¨çš„ç¬¬1ä¸ªå°±è¡Œäº†ã€‚</p><h3 id="3-è§£å‹-git-2-36-0-tar-gz-å¹¶è¿›å…¥ç›®å½•"><a href="#3-è§£å‹-git-2-36-0-tar-gz-å¹¶è¿›å…¥ç›®å½•" class="headerlink" title="3.è§£å‹ git-2.36.0.tar.gz å¹¶è¿›å…¥ç›®å½•"></a>3.è§£å‹ git-2.36.0.tar.gz å¹¶è¿›å…¥ç›®å½•</h3><p>è§£å‹æ–‡ä»¶ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf git-2.36.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> git-2.36.0</span><br></pre></td></tr></table></figure><h3 id="4-ç¼–è¯‘å¹¶å®‰è£…"><a href="#4-ç¼–è¯‘å¹¶å®‰è£…" class="headerlink" title="4.ç¼–è¯‘å¹¶å®‰è£…"></a>4.ç¼–è¯‘å¹¶å®‰è£…</h3><p>åœ¨git-2.36.0 ç›®å½•ä¸‹ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå…ˆç¼–è¯‘ï¼Œå†å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make  //ç¼–è¯‘</span><br><span class="line">make install prefix=/usr/<span class="built_in">local</span>/git  //å®‰è£…</span><br></pre></td></tr></table></figure><h3 id="5-æŠŠgitå‘½ä»¤æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"><a href="#5-æŠŠgitå‘½ä»¤æ·»åŠ åˆ°ç¯å¢ƒå˜é‡" class="headerlink" title="5.æŠŠgitå‘½ä»¤æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"></a>5.æŠŠgitå‘½ä»¤æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</h3><p>å®‰è£…æˆåŠŸåï¼ŒåŠ å…¥åˆ°ç¯å¢ƒå˜é‡ã€‚</p><p>1).ç”¨viæˆ–vimæ‰“å¼€ç¼–è¾‘/etc/profile æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin</span><br></pre></td></tr></table></figure><p>2).æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><h3 id="6-æŸ¥çœ‹gitç‰ˆæœ¬"><a href="#6-æŸ¥çœ‹gitç‰ˆæœ¬" class="headerlink" title="6.æŸ¥çœ‹gitç‰ˆæœ¬"></a>6.æŸ¥çœ‹gitç‰ˆæœ¬</h3><p>å®‰è£…æˆåŠŸåï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ï¼ˆæˆ‘è¿™å°±æ˜¯2.36.0ç‰ˆæœ¬ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python è¯»å†™æ–‡æœ¬æ–‡ä»¶</title>
      <link href="/2022/06/06/Python-%E8%AF%BB%E5%86%99%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6/"/>
      <url>/2022/06/06/Python-%E8%AF%BB%E5%86%99%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>æ–‡æœ¬æ–‡ä»¶ï¼Œå°±æ˜¯å¯ä»¥ç”¨è®°äº‹æœ¬ç¨‹åºæ‰“å¼€çš„çº¯æ–‡æœ¬å†…å®¹çš„æ–‡ä»¶ã€‚</p><p>æ ¼å¼å¯ä»¥æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚.txtï¼Œ.logï¼Œ.jsonï¼Œåç¼€æ˜¯å•¥ä¹Ÿä¸æ˜¯å¾ˆé‡è¦ï¼Œåæ­£å†…å®¹æ˜¯çº¯æ–‡æœ¬å°±å¯ä»¥äº†ã€‚</p><p>Pythonä¸­æ–‡æœ¬æ–‡ä»¶çš„è¯»å†™ï¼Œç”¨ä¸€ä¸ªå†…ç½®çš„openå‡½æ•°ï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œè·å¾—æ–‡ä»¶å¯¹è±¡ã€‚ã€‚</p><a id="more"></a><h2 id="openå‡½æ•°"><a href="#openå‡½æ•°" class="headerlink" title="openå‡½æ•°"></a>openå‡½æ•°</h2><p>openå‡½æ•°å‚æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">open(</span><br><span class="line">    file, </span><br><span class="line">    mode&#x3D;&#39;r&#39;, </span><br><span class="line">    buffering&#x3D;-1, </span><br><span class="line">    encoding&#x3D;None, </span><br><span class="line">    errors&#x3D;None, </span><br><span class="line">    newline&#x3D;None, </span><br><span class="line">    closefd&#x3D;True, </span><br><span class="line">    opener&#x3D;None</span><br><span class="line">    ) </span><br></pre></td></tr></table></figure><p>å…¶ä¸­å¸¸ç”¨çš„å°±è¿™3ä¸ªå‚æ•°ï¼š</p><ul><li>fileï¼šæ‰“å¼€æ–‡ä»¶çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚</li><li>modeï¼šæ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ï¼Œå¸¸ç”¨å°±3ç§ï¼Œ<code>&#39;r&#39;</code>è¡¨ç¤ºåªè¯»ï¼Œ<code>&#39;w&#39;</code>è¡¨ç¤ºåªå†™ï¼Œ<code>&#39;a&#39;</code>è¡¨ç¤ºè¿½åŠ ï¼›é»˜è®¤æ˜¯â€™râ€™ã€‚</li><li>encodingï¼šå­—ç¬¦ç¼–ç ã€‚æœ€å¸¸ç”¨çš„å°±â€™utf-8â€™ï¼Œâ€™gb2312â€™ã€‚</li></ul><h2 id="è¯»å–æ–‡æœ¬æ–‡ä»¶"><a href="#è¯»å–æ–‡æœ¬æ–‡ä»¶" class="headerlink" title="è¯»å–æ–‡æœ¬æ–‡ä»¶"></a>è¯»å–æ–‡æœ¬æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å–æ–‡æœ¬æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span>(<span class="params">txt_file</span>):</span></span><br><span class="line">    data = []</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(txt_file, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="comment"># s = f.read() # è¯»å–å…¨éƒ¨æ–‡ä»¶å†…å®¹</span></span><br><span class="line">        <span class="comment"># ä¸€è¡Œä¸€è¡Œè¯»å–ï¼Œå­˜å…¥List</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">            data.append(line.strip(<span class="string">&#x27;\n&#x27;</span>)) <span class="comment"># è¯»å–ä¸€è¡Œ</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># f.close()</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure><p>è¯»å–æ–‡ä»¶æ—¶ï¼Œæœ€å¸¸ç”¨çš„è¿˜æ˜¯æŒ‰è¡Œã€ä¸€è¡Œä¸€è¡Œè¯»å–å‡ºæ¥ï¼Œå†è¿›è¡Œå¤„ç†ã€‚</p><p>è¿™é‡Œè¯»å–ä¸€è¡Œçš„æ—¶å€™ï¼Œç”¨<code>strip(&#39;\n&#39;)</code>æ–¹æ³•å¤„ç†äº†ä¸‹ï¼Œå°±æ˜¯å»é™¤ä¸€è¡Œç»“å°¾å¤„çš„æ¢è¡Œç¬¦ã€‚<br>æœ€åè¿”å›ä¸€ä¸ªListã€‚</p><p>è¿™é‡Œä¸ºå•¥ç”¨çš„with as æ–¹æ³•æ‰“å¼€æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç›´æ¥ç”¨ <code>f = open(txt_file, &#39;r&#39;, encoding=&#39;utf-8&#39;)</code> ï¼Œå¥½å¤„åœ¨ä¹‹å‰ä¸€ç¯‡æ–‡ç« é‡Œå†™äº†ï¼š<a href="/2022/05/20/Python%E4%B8%ADwith-as%E7%94%A8%E6%B3%95/" title="Pythonä¸­with - asç”¨æ³•">Pythonä¸­with - asç”¨æ³•</a></p><h2 id="å†™å…¥æ–‡æœ¬æ–‡ä»¶"><a href="#å†™å…¥æ–‡æœ¬æ–‡ä»¶" class="headerlink" title="å†™å…¥æ–‡æœ¬æ–‡ä»¶"></a>å†™å…¥æ–‡æœ¬æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å†™å…¥æ–‡æœ¬æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_file</span>(<span class="params">txt_file</span>):</span></span><br><span class="line">    data = [<span class="string">&#x27;aaaa&#x27;</span>, <span class="string">&#x27;bbbb&#x27;</span>]</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(txt_file, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="comment"># ä¸€è¡Œä¸€è¡Œå†™å…¥</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> data:</span><br><span class="line">            f.write(line+<span class="string">&#x27;\n&#x27;</span>) <span class="comment"># å†™å…¥ä¸€è¡Œ</span></span><br></pre></td></tr></table></figure><p>è¯»å–æ–‡ä»¶ä¹Ÿä¸€æ ·ï¼Œä¸€èˆ¬æˆ‘ä»¬å†™å…¥ä¸€ä¸ªListçš„æ•°æ®ï¼Œwriteçš„æ—¶å€™ï¼Œåé¢åŠ ä¸ª<code>&#39;\n&#39;</code>ï¼Œå°±å¯ä»¥æ¢è¡Œã€ä¸€è¡Œä¸€è¡Œå†™å…¥äº†ã€‚</p><p>è¿½åŠ å†™å…¥è·Ÿå†™å…¥æ–‡ä»¶ä¸€æ ·çš„ï¼Œå°±æŠŠopenå‡½æ•°ä¸­ï¼Œå‚æ•°modeçš„<code>&#39;w&#39;</code>æ”¹æˆ<code>&#39;a&#39;</code>å°±è¡Œäº†ã€‚</p><p><strong>å…³äºopenå‡½æ•°çš„modeå‚æ•°ï¼š</strong></p><ul><li><code>&#39;rb&#39;</code>ï¼šè¡¨ç¤ºäºŒè¿›åˆ¶æ–¹å¼è¯»</li><li><code>&#39;rw&#39;</code>ï¼šè¡¨ç¤ºäºŒè¿›åˆ¶æ–¹å¼å†™</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python SeleniumæŠ¥UnexpectedAlertPresentException è§£å†³æ–¹æ³•</title>
      <link href="/2022/06/04/Python-Selenium%E6%8A%A5UnexpectedAlertPresentException-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
      <url>/2022/06/04/Python-Selenium%E6%8A%A5UnexpectedAlertPresentException-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>ç”¨Seleniumçš„æ—¶å€™ï¼Œæœ‰æ—¶å€™è¿›å…¥é¡µé¢åï¼Œä¼šæ”¶åˆ°ä¸€ä¸ªExceptionï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selenium.common.exceptions.UnexpectedAlertPresentException: Alert Text *******</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æœ‰ä¸ªAlert textçš„å†…å®¹æé†’ï¼Œç„¶åç¨‹åºå°±æŠ¥Exceptionï¼Œå°±åœäº†ã€‚</p><p>ä½†å…¶å®æˆ‘å¹¶ä¸æƒ³ç®¡è¿™ä¸ªAlertã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p><p>å°±ç›´æ¥æŠŠå¼‚å¸¸æ•è·ä¸€ä¸‹ï¼Œpasså°±è¡Œäº†ã€‚</p><a id="more"></a><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    driver.find_elements_by_id(<span class="string">&#x27;test_id&#x27;</span>).click()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;Alert&#x27;</span> <span class="keyword">in</span> <span class="built_in">str</span>(e):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>å°±åˆ¤æ–­å¼‚å¸¸å†…å®¹é‡Œæœ‰ Alert è¿™ä¸ªè¯çš„ï¼Œç›´æ¥å°±passè¿‡å»äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python æ‰¹é‡å›¾ç‰‡åˆæˆpdfæ–‡ä»¶</title>
      <link href="/2022/06/04/Python-%E6%89%B9%E9%87%8F%E5%9B%BE%E7%89%87%E5%90%88%E6%88%90pdf%E6%96%87%E4%BB%B6/"/>
      <url>/2022/06/04/Python-%E6%89%B9%E9%87%8F%E5%9B%BE%E7%89%87%E5%90%88%E6%88%90pdf%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>æ‰¹é‡å›¾ç‰‡åˆæˆ pdf æ–‡ä»¶çš„æ–¹æ³•è¯•è¿‡ä¸¤ç§ã€‚ä¸€ç§æ˜¯ç”¨PSè½¯ä»¶ï¼Œå¦ä¸€ç§å°±æ˜¯ç”¨Pythonã€‚</p><p>Pythonå¤„ç†çš„æ–¹æ³•çš„å¥½å¤„æ˜¯ï¼šæ•ˆç‡æ›´å¿«ï¼Œç„¶ååŒæ ·çš„å›¾ç‰‡å†…å®¹ï¼Œåˆæˆpdfæ–‡ä»¶ä¸åˆ°20Mï¼Œè€Œç”¨Photoshopå¤„ç†å‡ºæ¥éƒ½50M+ã€‚</p><a id="more"></a><h2 id="ä¸€ã€æ‰¹é‡å›¾ç‰‡è®¾ç½®æˆä¸€æ ·çš„å¤§å°å°ºå¯¸å’Œdpi"><a href="#ä¸€ã€æ‰¹é‡å›¾ç‰‡è®¾ç½®æˆä¸€æ ·çš„å¤§å°å°ºå¯¸å’Œdpi" class="headerlink" title="ä¸€ã€æ‰¹é‡å›¾ç‰‡è®¾ç½®æˆä¸€æ ·çš„å¤§å°å°ºå¯¸å’Œdpi"></a>ä¸€ã€æ‰¹é‡å›¾ç‰‡è®¾ç½®æˆä¸€æ ·çš„å¤§å°å°ºå¯¸å’Œdpi</h2><p><strong>å¦‚æœå¯¹å›¾ç‰‡æ²¡æœ‰ç»Ÿä¸€å¤§å°è¦æ±‚çš„ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚</strong></p><p>å¦‚æœéœ€è¦å›¾ç‰‡ç»Ÿä¸€å¤„ç†çš„ï¼Œå¯ä»¥ä¿®æ”¹å°ºå¯¸å¤§å°è¿™äº›ï¼Œè¿™ä¸ªç”¨PILåº“å°±è¡Œã€‚</p><p>å®‰è£…åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Pillow</span><br></pre></td></tr></table></figure><p>æ€ä¹ˆæ‰¹é‡ä¿®æ”¹çš„ï¼Œæœ‰æ–‡ç« å†™äº†å…·ä½“ä»‹ç»ï¼š<a href="/2022/05/10/Python-%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8/" title="Python æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸">Python æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸</a> ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è¯´äº†ã€‚</p><p>æœ€ååæ­£æ•´å¥½ä¸€ä¸ªå¤„ç†å¥½å›¾ç‰‡çš„æ–‡ä»¶å¤¹ã€‚</p><h2 id="äºŒã€æŠŠæ‰¹é‡å›¾ç‰‡åˆæˆ-pdf"><a href="#äºŒã€æŠŠæ‰¹é‡å›¾ç‰‡åˆæˆ-pdf" class="headerlink" title="äºŒã€æŠŠæ‰¹é‡å›¾ç‰‡åˆæˆ pdf"></a>äºŒã€æŠŠæ‰¹é‡å›¾ç‰‡åˆæˆ pdf</h2><p>ä¸ºäº†pdfæ–‡ä»¶ä¸­å›¾ç‰‡èƒ½æŒ‰ç…§æƒ³è¦çš„é¡ºåºæ’åºï¼Œå›¾ç‰‡åç§°ç›´æ¥ç”¨ï¼š01.jpg,ï¼Œ02.jpgï¼Œç±»ä¼¼è¿™æ ·çš„å°±è¡Œã€‚</p><p>éœ€è¦ç”¨åˆ°img2pdf çš„åº“ã€‚</p><p>å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install img2pdf</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://pypi.org/project/img2pdf" >https://pypi.org/project/img2pdf<i class="fas fa-external-link-alt"></i></a><br>çœ‹ä¸€ä¸‹ç¤ºä¾‹å°±ä¼šç”¨äº†ï¼Œæœ‰å¤šç§æƒ…å†µé€‚ç”¨</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">import</span> img2pdf</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠç›®å½•ä¸­æ‰€æœ‰å›¾ç‰‡åˆæˆpdf</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pic_to_pdf</span>(<span class="params">picdir, pdf_filename</span>):</span></span><br><span class="line">    new_path = picdir + <span class="string">r&#x27;\*.*&#x27;</span></span><br><span class="line">    <span class="comment"># print(new_path) # C:\Users\zzz\Desktop\222\*.*</span></span><br><span class="line">    new_path_list = glob.glob(new_path)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(pdf_filename, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(img2pdf.convert(new_path_list))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠç›®å½•ä¸­æ‰€æœ‰å›¾ç‰‡åˆæˆpdf</span></span><br><span class="line">pic_to_pdf(picdir=<span class="string">r&#x27;C:\Users\zzz\Desktop\222&#x27;</span>, pdf_filename=<span class="string">&#x27;test222.pdf&#x27;</span>) <span class="comment"># ç”Ÿæˆpdfæ–‡ä»¶ test222.pdf</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰å¤šä¸ªæ–‡ä»¶å¤¹ï¼Œéœ€è¦ç”Ÿæˆå¤šä¸ªpdfçš„è¯ï¼Œå°±å†å†™ä¸ª forå¾ªç¯ï¼Œå¾ªç¯ä¸€ä¸‹å°±è¡Œäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>H5è§†é¢‘åŠ å€é€Ÿæ’­æ”¾æ–¹æ³•</title>
      <link href="/2022/06/04/H5%E8%A7%86%E9%A2%91%E5%8A%A0%E5%80%8D%E9%80%9F%E6%92%AD%E6%94%BE%E6%96%B9%E6%B3%95/"/>
      <url>/2022/06/04/H5%E8%A7%86%E9%A2%91%E5%8A%A0%E5%80%8D%E9%80%9F%E6%92%AD%E6%94%BE%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>ç½‘ä¸Šçš„è§†é¢‘ï¼Œç°åœ¨ä¸€èˆ¬ä¹Ÿæä¾›å€é€Ÿæ’­æ”¾çš„åŠŸèƒ½ï¼Œä¸€èˆ¬æœ€å¤šåˆ°2.0xã€‚å¦‚æœæƒ³è¦æ›´å¿«ä¸€ç‚¹ï¼Œæˆ–è€…æ²¡æä¾›å€é€Ÿæ’­æ”¾çš„ï¼Œå¯ä»¥è¯•è¯•è¿™ä¸ªæ–¹æ³•ï¼Œåªè¦æ˜¯H5è§†é¢‘åŸºæœ¬ä¸Šå°±è¡Œã€‚</p><p>å¯¹äºH5è§†é¢‘æ¥è¯´ï¼Œå…¶å®å°±æ˜¯åœ¨ç½‘é¡µæºä»£ç ä¸­èƒ½æ‰¾åˆ°æœ‰ä¸ª<code>&lt;video&gt;</code>æ ‡ç­¾çš„ï¼Œä¸€èˆ¬å°±æ˜¯äº†ã€‚</p><p>æƒ³è¦æŒ‰è‡ªå·±è®¾å®šçš„å€é€Ÿè§‚çœ‹ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥è¿è¡Œä¸€æ¡ jsè¯­å¥å°±è¡Œäº†ã€‚</p><a id="more"></a><p><strong>å€é€Ÿæ’­æ”¾æ–¹æ³•</strong>ï¼š</p><p>1.åœ¨æµè§ˆå™¨ä¸­æŒ‰F12ï¼Œæ‰“å¼€ å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹videoæ ‡ç­¾åœ¨ã€Elementsã€‘ï¼ˆå…ƒç´ ï¼‰é‡Œæ˜¯å¦å­˜åœ¨ã€‚ç¡®è®¤æ˜¯å¦H5è§†é¢‘ã€‚</p><p>2.åœ¨ã€Consoleã€‘ï¼ˆæ§åˆ¶å°ï¼‰é‡Œï¼Œè¾“å…¥ä»¥ä¸‹jsè¯­å¥åï¼Œå›è½¦ æ‰§è¡Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;video&#x27;</span>).playbackRate=<span class="number">5</span></span><br></pre></td></tr></table></figure><p>playbackRateåé¢çš„å€¼5è¡¨ç¤ºï¼š5å€é€Ÿã€‚(PS.æœ€é«˜å¥½åƒæ˜¯16ï¼‰ </p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/h5_video_playbackrate.png"                      style="zoom: 70%;"                ><p>è¯è¯´ï¼Œæœ‰æ—¶å€™querySelectoré‡Œæœªå¿…æ˜¯â€™videoâ€™ï¼Œé‚£æ˜¯å› ä¸ºç½‘é¡µæºç ä¸­çš„<code>&lt;video&gt;</code>æ ‡ç­¾è¢«æ”¹åäº†ã€‚ä¸æ˜¯ç›´æ¥ç”¨çš„è¿™ä¸ªã€‚ï¼ˆå‘ç°å°ç ´ç«™å°±æ”¹è¿‡åå­—ï¼Œç„¶ååˆæ”¹å›å»äº†ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iphoneè¿æ¥ç”µè„‘åä¸æ˜¾ç¤ºApple iphoneç›˜ç¬¦ è§£å†³æ–¹æ³•</title>
      <link href="/2022/06/04/iphone%E8%BF%9E%E6%8E%A5%E7%94%B5%E8%84%91%E5%90%8E%E4%B8%8D%E6%98%BE%E7%A4%BAApple%E7%9B%98%E7%AC%A6/"/>
      <url>/2022/06/04/iphone%E8%BF%9E%E6%8E%A5%E7%94%B5%E8%84%91%E5%90%8E%E4%B8%8D%E6%98%BE%E7%A4%BAApple%E7%9B%98%E7%AC%A6/</url>
      
        <content type="html"><![CDATA[<p><strong>é—®é¢˜æè¿°</strong>ï¼š<br>iphone è¿æ¥ä¸Šç”µè„‘åèƒ½å……ç”µï¼Œä½†æ˜¯ä¸æ˜¾ç¤ºé‚£ä¸ªApple iphoneçš„ç›˜ç¬¦ã€‚</p><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œiphoneæ‰‹æœºè¿æ¥ç”µè„‘åï¼Œéƒ½èƒ½çœ‹åˆ°ä¸ªApple iphoneçš„ç›˜ç¬¦ã€‚å¯ä»¥åƒUç›˜ä¸€æ ·è¿›è¡Œæ“ä½œã€‚<br>å¯ä»¥ç›´æ¥å¤åˆ¶æ‰‹æœºé‡Œçš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥å‰ªåˆ‡å‡ºæ¥ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘æ­£åœ¨æ¸…ç†æ‰‹æœºç›¸å†Œï¼Œæ¸…ç€æ¸…ç€ï¼Œçªç„¶è·³å‡ºäº†é”™è¯¯æç¤ºï¼Œå†ç„¶åè¿™ä¸ªAppleçš„ç›˜ç¬¦å°±ä¸å‡ºç°äº†ï¼Œå¯ä»¥å……ç”µï¼Œæ‰“å¼€itunesä¹Ÿèƒ½æ­£å¸¸è¿æ¥ã€‚</p><a id="more"></a><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p><p>å»ã€æœåŠ¡ã€‘é‡Œé¢ï¼ŒæŠŠã€Apple Mobile Device Serviceã€‘è¿™é¡¹æœåŠ¡åœæ­¢ä¸€ä¸‹ï¼Œé‡æ–°å¯åŠ¨ä¸€ä¸‹ã€‚ç„¶åæ‰‹æœºé‡æ–°è¿ä¸Šç”µè„‘å°±æœ‰ç›˜ç¬¦äº†ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/iphone_connect_pc_not_see_drive.png"                                     ></p>]]></content>
      
      
      <categories>
          
          <category> iphone </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iphone </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonç”¨ Mysqldbæ—¶æŠ¥é”™ï¼šMySQLdb._exceptions.OperationalError è§£å†³æ–¹æ³•</title>
      <link href="/2022/06/04/Python%E7%94%A8Mysqldb%E6%97%B6%E6%8A%A5%E9%94%99OperationalError/"/>
      <url>/2022/06/04/Python%E7%94%A8Mysqldb%E6%97%B6%E6%8A%A5%E9%94%99OperationalError/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Pythoné‡Œï¼Œç”¨Mysqldbçš„æ—¶å€™ï¼ŒæŠ¥é”™ï¼š<code>MySQLdb._exceptions.OperationalError: (2059, &lt;NULL&gt;)</code></p><p>ç½‘ä¸ŠæŸ¥äº†ä¸‹ ï¼Œè¯´è¿™æ˜¯å°†æ•°æ®è¿ç§»è‡³mysql8.0æ—¶é‡åˆ°çš„é—®é¢˜ã€‚</p><p>å› ä¸ºmysql8.0å¯†ç åŠ å¯†çš„é—®é¢˜ï¼Œmysql8.0å¯¹ç”¨æˆ·å¯†ç çš„åŠ å¯†æ–¹å¼ä¸º <code>caching_sha2_password</code>ï¼Œç„¶åçœ‹äº†MySQL Workbenchçš„åŠ å¯†æ–¹å¼æœç„¶éƒ½æ˜¯è¿™ä¸ªã€‚</p><a id="more"></a><p>æˆ‘åœ¨Pythoné‡Œç”¨çš„æ—¶å€™ï¼Œå¯èƒ½è¿˜ä¸æ”¯æŒè¿™ç§æ–°å¢çš„åŠ å¯†æ–¹å¼ï¼Œæ‰€ä»¥è¦æ”¹ä¸€ä¸‹ç”¨çš„rootè´¦å·çš„åŠ å¯†æ–¹å¼ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p><p>1.åœ¨mysqlä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹åŠ å¯†æ–¹å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; alter user &#39;root&#39;@&#39;localhost&#39; identified with mysql_native_password by &#39;yourpassword&#39;</span><br></pre></td></tr></table></figure><p>yourpasswordï¼šä½ è‡ªå·±mysql rootè´¦å·çš„å¯†ç </p><p>2.å†è¿è¡Œä»¥ä¸‹å‘½ä»¤è®©å…¶ç”Ÿæ•ˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; flush privileges</span><br></pre></td></tr></table></figure><p>ç„¶åå°±è¡Œäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡è£…ç³»ç»Ÿæ—¶Uç›˜PEç³»ç»Ÿè¿›å»çœ‹ä¸åˆ°ç¡¬ç›˜ è§£å†³æ–¹æ³•</title>
      <link href="/2022/06/04/%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E6%97%B6U%E7%9B%98PE%E7%B3%BB%E7%BB%9F%E8%BF%9B%E5%8E%BB%E7%9C%8B%E4%B8%8D%E5%88%B0%E7%A1%AC%E7%9B%98/"/>
      <url>/2022/06/04/%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E6%97%B6U%E7%9B%98PE%E7%B3%BB%E7%BB%9F%E8%BF%9B%E5%8E%BB%E7%9C%8B%E4%B8%8D%E5%88%B0%E7%A1%AC%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<p><strong>é—®é¢˜æè¿°</strong>ï¼š<br>æˆ´å°”çµè¶Š7400ï¼ˆinspiron 7400ï¼‰ï¼Œé‡è£…ç³»ç»Ÿæ—¶ç¢°åˆ°çš„ã€‚<br>ç”¨Uç›˜çš„PEç³»ç»Ÿè¿›å»ï¼Œæƒ³é‡æ–°åˆ†åŒºï¼Œçœ‹ä¸åˆ°ç¡¬ç›˜ã€‚</p><p>ç”µè„‘åŸæœ¬çš„win10ç³»ç»Ÿè¿›å»ï¼Œæ‰“å¼€åˆ†åŒºè½¯ä»¶ï¼Œå¯ä»¥çœ‹åˆ°ç¡¬ç›˜çš„ä¿¡æ¯ã€‚ä½†çœ‹åˆ°ç¡¬ç›˜çš„åˆ†åŒºéƒ½æ˜¾ç¤ºBitLockeråŠ å¯†ã€‚</p><a id="more"></a><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p><p><strong>1.å–æ¶ˆç¡¬ç›˜BitLockeråŠ å¯†</strong></p><p>ä»ç³»ç»Ÿçš„ã€è®¾ç½®ã€‘é‡Œæœä¸€ä¸‹ã€è®¾å¤‡åŠ å¯†ã€‘ï¼Œæ‰¾åˆ°BitLockeråŠ å¯†é¡¹ï¼Œå–æ¶ˆå°±è¡Œäº†ã€‚ï¼ˆé¢„è£…çš„æ˜¯Win10çš„å®¶åº­ç‰ˆ)<br>å–æ¶ˆäº†BitLockeråŠ å¯†åï¼Œå‘ç°åœ¨Uç›˜çš„PEç³»ç»Ÿé‡Œï¼Œè¿˜æ˜¯çœ‹ä¸åˆ°ç¡¬ç›˜ã€‚</p><p><strong>2.æ”¹ç¡¬ç›˜æ¨¡å¼ä¸ºAHCI</strong></p><p>å¤§å¤šæ•°æˆ´å°”æœºå™¨å‡ºå‚BIOSé»˜è®¤ç¡¬ç›˜æ¨¡å¼ä¸ºRaid Onè€ŒéAHCIï¼ŒWIN10çº¯å‡€ç‰ˆé•œåƒä¸­è‡ªå¸¦NVMEé©±åŠ¨ï¼Œå¯ä»¥æ˜¯è¢«AHCIæ¨¡å¼ä¸‹çš„å›ºæ€ç¡¬ç›˜ã€‚<br>è¿™ä¸ªæ˜¯å®˜ç½‘ä¸Šå¯¹äºâ€œå®‰è£…ç³»ç»Ÿæ—¶çœ‹ä¸åˆ°å›ºæ€ç¡¬ç›˜çš„è§£å†³æ–¹æ¡ˆâ€çš„å›ç­”ã€‚</p><p>å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š<br>å¼€æœºæ—¶è¿ç»­æ•²å‡»F2è¿›å…¥BIOSï¼Œæ¥ä¸‹æ¥æ ¹æ®BIOSç‰ˆæœ¬æ“ä½œï¼Œæ‰¾åˆ°SATA Operationé€‰é¡¹ï¼Œé€‰æ‹©ä¸ºAHCIï¼Œå†ä¿å­˜åé‡å¯å°±å¯ä»¥äº†ã€‚ï¼ˆç°åœ¨æ–°çš„BIOSç›´æ¥æœç´¢ä¸€ä¸‹è¿™ä¸ªå°±èƒ½æ‰¾å‡ºæ¥äº†ï¼‰</p><blockquote><p>â‘ ç«–ç‰ˆBIOSç”¨æˆ·ï¼šé€‰æ‹©System Configuration=&gt;SATA Operationé€‰æ‹©ä¸ºAHCI<br>â‘¡æ¨ªç‰ˆBIOSç”¨æˆ·ï¼šAdvanceé€‰é¡¹ä¸‹ï¼Œå°†SATA Operationé€‰æ‹©ä¸ºAHCI</p></blockquote><p>å®˜ç½‘å›ç­”åœ°å€ï¼š<a class="link"   href="https://www.dell.com/support/kbdoc/zh-cn/000149444/%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E6%97%B6%E7%9C%8B%E4%B8%8D%E5%88%B0%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" >å®‰è£…ç³»ç»Ÿæ—¶çœ‹ä¸åˆ°å›ºæ€ç¡¬ç›˜çš„è§£å†³æ–¹æ¡ˆ<i class="fas fa-external-link-alt"></i></a></p><p>å†è¿›å…¥Uç›˜çš„PEç³»ç»Ÿï¼Œå°±å¯ä»¥åˆ é™¤åˆ†åŒºï¼Œé‡è£…å†åˆ†åŒºå•¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excelä¸­å¯¹ipåœ°å€è¿›è¡Œæ’åº</title>
      <link href="/2022/06/04/Excel%E4%B8%AD%E5%AF%B9ip%E5%9C%B0%E5%9D%80%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F/"/>
      <url>/2022/06/04/Excel%E4%B8%AD%E5%AF%B9ip%E5%9C%B0%E5%9D%80%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºipåœ°å€æ˜¯ä¸€ä¸ªæ–‡æœ¬ï¼Œæ²¡åŠæ³•ç›´æ¥ç”¨Excelæ’åºã€‚æ¯”å¦‚ï¼š192.168.0.100<br>æ‰€ä»¥è¦å¯¹ipåœ°å€çš„æ’åºï¼Œéœ€è¦è¿›è¡Œä¸€äº›å¤„ç†ï¼Œå…¶å®æ˜¯å¯¹ipåœ°å€çš„æœ€åä¸€ä½è¿›è¡Œæ’åºã€‚</p><p><strong>æ€è·¯</strong>ï¼š</p><ul><li>1.ç”¨å…¬å¼è·å–ipåœ°å€çš„æœ€åä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ipåœ°å€192.168.0.22ï¼Œè·å–åˆ°22ï¼›</li><li>2.ä»¥ipåœ°å€æœ€åä¸€éƒ¨åˆ†çš„åˆ—ä¸ºä¸»è¦å…³é”®å­—è¿›è¡Œè‡ªå®šä¹‰æ’åºï¼›</li><li>3.åˆ é™¤è¾…åŠ©åˆ—ï¼Œå°±okäº†ã€‚</li></ul><a id="more"></a><h2 id="è·å–ipåœ°å€çš„æœ€åä¸€éƒ¨åˆ†"><a href="#è·å–ipåœ°å€çš„æœ€åä¸€éƒ¨åˆ†" class="headerlink" title="è·å–ipåœ°å€çš„æœ€åä¸€éƒ¨åˆ†"></a>è·å–ipåœ°å€çš„æœ€åä¸€éƒ¨åˆ†</h2><h3 id="1-ç”¨SUBSTITUTEå‡½æ•°æŠŠipåœ°å€é‡Œçš„æœ€åä¸€ä¸ªç‚¹ï¼ˆ-ï¼‰æ›¿æ¢æˆ-ç¬¦å·"><a href="#1-ç”¨SUBSTITUTEå‡½æ•°æŠŠipåœ°å€é‡Œçš„æœ€åä¸€ä¸ªç‚¹ï¼ˆ-ï¼‰æ›¿æ¢æˆ-ç¬¦å·" class="headerlink" title="1.ç”¨SUBSTITUTEå‡½æ•°æŠŠipåœ°å€é‡Œçš„æœ€åä¸€ä¸ªç‚¹ï¼ˆ.ï¼‰æ›¿æ¢æˆ@ç¬¦å·"></a>1.ç”¨SUBSTITUTEå‡½æ•°æŠŠipåœ°å€é‡Œçš„æœ€åä¸€ä¸ªç‚¹ï¼ˆ.ï¼‰æ›¿æ¢æˆ@ç¬¦å·</h3><p>è¿™é‡Œæ›¿æ¢æˆå•¥ç¬¦å·éƒ½è¡Œï¼Œåªè¦ä¸æ˜¯ç‚¹ã€‚ä¸»è¦æ–¹ä¾¿ç”¨æŸ¥æ‰¾çš„å‡½æ•°æœç´¢çš„æ—¶å€™ï¼Œå‡†ç¡®æ‰¾åˆ°æœ€åä¸€éƒ¨åˆ†çš„èµ·å§‹ä½ç½®ã€‚</p><p><strong>SUBSTITUTEå‡½æ•°</strong>ï¼šæ›¿æ¢æŒ‡å®šæ–‡æœ¬ï¼Œåœ¨textå­—ç¬¦ä¸²ä¸­ç”¨ new_text æ›¿æ¢ old_textã€‚<br><strong>è¯­æ³•</strong>ï¼šSUBSTITUTE(text, old_text, new_text, [instance_num])</p><ul><li>instance_numï¼šå¯é€‰ã€‚æŒ‡å®šè¦å°†ç¬¬å‡ ä¸ªold_text æ›¿æ¢ä¸º new_textã€‚å¦åˆ™æ˜¯å…¨éƒ¨æ›¿æ¢ã€‚</li></ul><p>æŠŠA2å•å…ƒæ ¼ä¸­çš„å­—ç¬¦ä¸²ä¸­çš„ç¬¬3ä¸ªç‚¹ï¼ˆ.ï¼‰æ›¿æ¢æˆ@å·ã€‚å…¬å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;SUBSTITUTE(A2,&quot;.&quot;,&quot;@&quot;,3)Â </span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ï¼š10.95.22@44</p><h3 id="2-ç”¨FINDå‡½æ•°æ‰¾åˆ°-å·çš„ä½ç½®"><a href="#2-ç”¨FINDå‡½æ•°æ‰¾åˆ°-å·çš„ä½ç½®" class="headerlink" title="2.ç”¨FINDå‡½æ•°æ‰¾åˆ°@å·çš„ä½ç½®"></a>2.ç”¨FINDå‡½æ•°æ‰¾åˆ°@å·çš„ä½ç½®</h3><p>æˆ‘ä»¬è¦è·å–çš„ipåœ°å€æœ€åä¸€éƒ¨åˆ†çš„èµ·å§‹ä½ç½®å°±æ˜¯@ç¬¦å·çš„å1ä½ã€‚</p><p><strong>FINDå‡½æ•°</strong>ï¼šæŸ¥æ‰¾åœ¨within_textå­—ç¬¦ä¸²ä¸­ï¼Œç¬¬1ä¸ªå‡ºç°find_textå­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®çš„å€¼ï¼Œè¯¥å€¼ä»within_textçš„ç¬¬1ä¸ªå­—ç¬¦ç®—èµ·ã€‚<br><strong>è¯­æ³•</strong>ï¼šFIND(find_text, within_text, [start_num])</p><ul><li>start_numï¼šå¯é€‰ã€‚æŒ‡å®šfind_textä¸­å¼€å§‹è¿›è¡ŒæŸ¥æ‰¾within_textå­—ç¬¦ä¸²çš„ä½ç½®ï¼Œé»˜è®¤æ˜¯1ã€‚</li></ul><p>å…¬å¼<code>=FIND(&quot;@&quot;,&quot;192.168.0@44&quot;)</code>è¿”å›çš„ç»“æœæ˜¯ï¼š10</p><p>æŠŠA2å•å…ƒæ ¼ä¸­çš„å­—ç¬¦ä¸²ä¸­çš„ç¬¬3ä¸ªç‚¹ï¼ˆ.ï¼‰æ›¿æ¢æˆ@å·åï¼Œè·å–@ç¬¦å·çš„ä½ç½®ã€‚ç»“åˆèµ·æ¥ï¼Œå…¬å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;FIND(&quot;@&quot;,SUBSTITUTE(A2,&quot;.&quot;,&quot;@&quot;,3))</span><br></pre></td></tr></table></figure><h3 id="3-ç”¨MIDå‡½æ•°æˆªå–ipåœ°å€æœ€åéƒ¨åˆ†"><a href="#3-ç”¨MIDå‡½æ•°æˆªå–ipåœ°å€æœ€åéƒ¨åˆ†" class="headerlink" title="3.ç”¨MIDå‡½æ•°æˆªå–ipåœ°å€æœ€åéƒ¨åˆ†"></a>3.ç”¨MIDå‡½æ•°æˆªå–ipåœ°å€æœ€åéƒ¨åˆ†</h3><p><strong>MIDå‡½æ•°</strong>ï¼šæˆªå–textå­—ç¬¦ä¸²ï¼Œä»ä¸­é—´æˆªå–ï¼Œå¯ä»¥é€‰æ‹©å¼€å§‹å’Œç»“æŸçš„ä½ç½®ã€‚<br><strong>è¯­æ³•</strong>ï¼šMID(text, start_num, num_chars)</p><ul><li>num_charsï¼šå–å‡ ä¸ªã€‚</li></ul><p>å…¬å¼<code>=MID(&quot;192.168.0@44&quot;,10+1,3)</code>è¿”å›çš„ç»“æœæ˜¯ï¼š44ï¼ˆæ–‡æœ¬å­—ç¬¦ä¸²ï¼‰</p><p>æŠŠA2å•å…ƒæ ¼ä¸­çš„ipåœ°å€æœ€åä¸€éƒ¨åˆ†æˆªå–å‡ºæ¥ã€‚ç»“åˆå‰é¢çš„å…¬å¼ï¼Œå®Œæ•´å…¬å¼ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;MID(A2,FIND(&quot;@&quot;,SUBSTITUTE(A2,&quot;.&quot;,&quot;@&quot;,3))+1,3)</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_ip_sort_1.png"                                     ></p><h2 id="è‡ªå®šä¹‰æ’åº"><a href="#è‡ªå®šä¹‰æ’åº" class="headerlink" title="è‡ªå®šä¹‰æ’åº"></a>è‡ªå®šä¹‰æ’åº</h2><p>ä»¥ipåœ°å€æœ€åä¸€éƒ¨åˆ†ä¸ºå…³é”®å­—è¿›è¡Œè‡ªå®šä¹‰æ’åºã€‚</p><p>å› ä¸ºåˆšæ‰å–å‡ºæ¥çš„ipåœ°å€çš„æœ€åä¸€éƒ¨åˆ†è¿™ä¸€åˆ—ï¼ˆBåˆ—ï¼‰æ˜¯æ–‡æœ¬çš„ï¼Œæ‰€ä»¥å…ˆå¤åˆ¶ä¸€åˆ—å‡ºæ¥ï¼Œç²˜è´´çš„æ—¶å€™åªç²˜è´´æ–‡æœ¬ï¼Œç„¶åæ ¼å¼å…¨éƒ¨ä¸€èµ·è½¬æ¢æˆæ•°å­—ï¼Œå°±æœ‰äº†Cåˆ—ã€‚</p><p>æœ€åï¼Œä»¥Cåˆ—ä¸ºå…³é”®å­—è¿›è¡Œè‡ªå®šä¹‰æ’åºã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_ip_sort_2.png"                                     ></p><p>æœ€åï¼ŒæŠŠä¸éœ€è¦çš„è¾…åŠ©åˆ—éƒ½åˆ é™¤å³å¯ã€‚</p><p>PS.Excelä¸­å¸¸ç”¨å‡½æ•°åº”ç”¨ä»‹ç»ï¼š<a href="#">Post not found: ã€ä¸æ–­æ›´æ–°ç³»åˆ—ã€‘Excelå¸¸ç”¨å‡½æ•°</a></p>]]></content>
      
      
      <categories>
          
          <category> Office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Excel </tag>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨è®°ä½å¯†ç åæ— æ³•æŸ¥çœ‹ è§£å†³æ–¹æ³•</title>
      <link href="/2022/06/04/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%B0%E4%BD%8F%E5%AF%86%E7%A0%81%E5%90%8E%E6%97%A0%E6%B3%95%E6%9F%A5%E7%9C%8B/"/>
      <url>/2022/06/04/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%B0%E4%BD%8F%E5%AF%86%E7%A0%81%E5%90%8E%E6%97%A0%E6%B3%95%E6%9F%A5%E7%9C%8B/</url>
      
        <content type="html"><![CDATA[<p>ç¢°åˆ°è¿‡çš„å°±æ˜¯360çš„æµè§ˆå™¨ï¼ˆå®‰å…¨æµè§ˆå™¨ã€æé€Ÿæµè§ˆå™¨ï¼‰ï¼ç®€ç›´äº†ï¼</p><p>è®°ä½å¯†ç åï¼Œè¿›å…¥è®¾ç½®ä¸­ï¼Œèƒ½æœå‡ºæ¥çš„ç¡®ä¿å­˜äº†ï¼Œéƒ½åªæœ‰ç‚¹ï¼Œå‹æ ¹æ— æ³•æŸ¥çœ‹å¯†ç ã€‚ï¼ˆè¿™ä¸ªå¤ªåäººç±»äº†å§ï¼‰åˆ«å®¶æµè§ˆå™¨éƒ½æ˜¯æ‰“ä¸ªæ˜Ÿå·(<code>*</code>)å•¥çš„ï¼Œç„¶åè¾“ä¸€ä¸‹å½“å‰ç”µè„‘çš„å¯†ç å°±èƒ½æŸ¥çœ‹äº†ã€‚</p><a id="more"></a><p>å¦‚å›¾æ‰€ç¤ºï¼ˆå°±è¿™ä¸ªé¬¼æ ·ï¼‰ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/browser_can_not_see_password_1.png"                                     ></p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><ul><li>1.é€šè¿‡æµè§ˆå™¨çš„å¼€å‘å·¥å…·(æŒ‰F12)ï¼ŒæŸ¥çœ‹å®¡æŸ¥å…ƒç´ ï¼ˆå®šä½åˆ°è¿™ä¸ªå¯†ç çš„æ¡†ï¼‰ï¼›</li><li>2.æŠŠåŸæ¥typeçš„ç±»å‹ä»passwordæ”¹æˆtextï¼Œå›è½¦ï¼Œå°±èƒ½çœ‹åˆ°äº†ã€‚</li></ul><p>ä¿®æ”¹typeç±»å‹å‰æ˜¯è¿™æ ·çš„ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/browser_can_not_see_password_2.png"                                     ></p><p>ä¿®æ”¹typeç±»å‹åï¼ˆå·²ç»èƒ½çœ‹åˆ°å¯†ç ï¼‰ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/browser_can_not_see_password_3.png"                                     ></p><p>PS.å½“ç„¶ï¼Œè¿™ä¸ªæ–¹æ³•æŸ¥çœ‹å·²ä¿å­˜çš„å¯†ç çš„æ–¹æ³•æ˜¯é€‚ç”¨äºæ‰€æœ‰æµè§ˆå™¨çš„ã€‚åˆ«çš„æµè§ˆå™¨ä¹Ÿå¯ä»¥è¿™æ ·çœ‹å·²ä¿å­˜çš„å¯†ç ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¾¤æ™–NAS è®¾ç½®ä¸åŒç”¨æˆ·ä¹‹é—´homesç›®å½•ä¸å¯è§</title>
      <link href="/2022/06/04/%E7%BE%A4%E6%99%96NAS-%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%90%8C%E7%94%A8%E6%88%B7%E4%B9%8B%E9%97%B4homes%E7%9B%AE%E5%BD%95%E4%B8%8D%E5%8F%AF%E8%A7%81/"/>
      <url>/2022/06/04/%E7%BE%A4%E6%99%96NAS-%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%90%8C%E7%94%A8%E6%88%B7%E4%B9%8B%E9%97%B4homes%E7%9B%AE%E5%BD%95%E4%B8%8D%E5%8F%AF%E8%A7%81/</url>
      
        <content type="html"><![CDATA[<p>é»˜è®¤çš„æƒ…å†µï¼Œæ¯ä¸ªç”¨æˆ·ç™»å½•åï¼Œéƒ½èƒ½ä»File stationä¸­çœ‹åˆ°homesç›®å½•ï¼Œhomesç›®å½•é‡Œæœ‰æ¯ä¸ªç”¨æˆ·çš„Driveç›®å½•ã€‚é‚£ç›¸å½“äºæ¯ä¸ªç”¨æˆ·éƒ½èƒ½çœ‹åˆ°å…¶å®ƒç”¨æˆ·å­˜åœ¨Driveé‡Œçš„æ–‡ä»¶äº†ã€‚ï¼ˆè¿™ä¸ªé»˜è®¤æ„Ÿè§‰ä¸å¤ªå¥½ï¼‰</p><a id="more"></a><p>å¦‚å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/NAS_homes_setting_not_see_1.png"                                     ></p><p><strong>è®¾ç½®ä¸åŒç”¨æˆ·ä¹‹é—´homesç›®å½•ä¸å¯è§æ–¹æ³•ï¼š</strong></p><ul><li>1.ä½¿ç”¨ç®¡ç†å‘˜æƒé™ç™»å½•DSMï¼›</li><li>2.æ‰“å¼€ã€æ§åˆ¶é¢æ¿ã€‘ï¼›</li><li>3.æ‰¾åˆ°â€œå…±äº«æ–‡ä»¶å¤¹â€ï¼›</li><li>4.é€‰ä¸­å³ä¾§â€œhomesâ€ï¼Œç‚¹å‡»ä¸Šæ–¹ã€ç¼–è¾‘ã€‘æŒ‰é’®ï¼›</li><li>5.åˆ‡æ¢åˆ°â€œé«˜çº§æƒé™â€æ ‡ç­¾é¡µï¼›</li><li>6.å‹¾é€‰â€œå¯ç”¨é«˜çº§å…±äº«æƒé™â€åç‚¹å‡»ç¡®å®šã€‚</li></ul><p>å†æ¬¡ç™»å½•ç”¨æˆ·ï¼Œå°±ä¼šçœ‹åˆ°homesç›®å½•å·²ç»ä¸å‡ºç°åœ¨File stationçš„åˆ—è¡¨ä¸­ï¼Œä»…èƒ½ç™»å½•ç”¨æˆ·çš„homeç›®å½•ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/NAS_homes_setting_not_see_2.png"                                     ></p>]]></content>
      
      
      <categories>
          
          <category> NAS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NAS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Failed to write executable - trying to use .deleteme logic è§£å†³æ–¹æ³•</title>
      <link href="/2022/06/03/Python-Failed-to-write-executable-trying-to-use-deleteme-logic/"/>
      <url>/2022/06/03/Python-Failed-to-write-executable-trying-to-use-deleteme-logic/</url>
      
        <content type="html"><![CDATA[<p>Pythonå®‰è£…åŒ…çš„æ—¶å€™æŠ¥é”™ï¼ˆä¸‹è½½å®Œäº†ï¼Œè¿›å…¥Installingçš„æ—¶å€™ï¼‰ï¼š</p><blockquote><p>WARNING: Failed to write executable - trying to use .deleteme logic<br>ERROR: Could not install packages due to an EnvironmentError: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚</p></blockquote><a id="more"></a><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_Failed_to_write_executable_1.png"                                     ><p>ä¸€çœ‹å°±æ˜¯æƒé™çš„é—®é¢˜ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼ˆ3ç§ï¼‰ï¼š</strong><br>1.å°±æ‰“å¼€ã€Windows PowerShellã€‘ï¼ˆç®¡ç†å‘˜ï¼‰æ¨¡å¼ï¼Œå†è¿è¡Œå°±è¡Œäº†ã€‚</p><p>2.ç”¨ã€å‘½ä»¤æç¤ºç¬¦ã€‘çš„è¯ï¼Œåæ­£å³é”®ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>3.åœ¨å‘½ä»¤åé¢åŠ ä¸Š<code>--user</code>å°±è¡Œã€‚<br>æ¯”å¦‚<code>pip install img2pdf</code>æ”¹æˆ<code>pip install img2pdf --user</code>å°±è¡Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Windowsç–‘éš¾æ‚ç—‡ã€‘æ‰“ä¸å¼€ç½‘é¡µ è§£å†³æ–¹æ³•</title>
      <link href="/2022/06/03/%E3%80%90Windows%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87%E3%80%91%E6%89%93%E4%B8%8D%E5%BC%80%E7%BD%91%E9%A1%B5/"/>
      <url>/2022/06/03/%E3%80%90Windows%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87%E3%80%91%E6%89%93%E4%B8%8D%E5%BC%80%E7%BD%91%E9%A1%B5/</url>
      
        <content type="html"><![CDATA[<p>å½“ç¢°åˆ°ä¸èƒ½æ‰“å¼€ç½‘é¡µçš„æ—¶å€™ï¼ˆç½‘ç»œæ˜¯æ­£å¸¸çš„ï¼Œåˆ«çš„è®¾å¤‡æ­£å¸¸ä¸Šç½‘ï¼‰ï¼Œ</p><p><strong>æƒ…å†µä¸€</strong>ï¼šå…ˆçœ‹çœ‹QQèƒ½ä¸èƒ½ä¸Šï¼Œèƒ½ä¸ŠQQï¼Œä¸èƒ½æ‰“å¼€ç½‘é¡µï¼Œè¡¨ç¤ºæ˜¯DNSé—®é¢˜ï¼Œä¿®æ”¹ä¸‹DNSå°±è¡Œäº†ã€‚<br>æ¯”å¦‚DNSç”¨114.114.114.114æˆ–è€…8.8.8.8ï¼Œè¿™äº›å…¬å…±çš„DNSè¯•ä¸€ä¸‹ã€‚å°±è§£å†³äº†ã€‚</p><p><strong>æƒ…å†µäºŒ</strong>ï¼šQQèƒ½ä¸Šï¼ŒDNSè®¾ç½®ä¹Ÿæ²¡é—®é¢˜ï¼ˆä¿®æ”¹è¿‡ï¼‰ï¼Œpingå¤–ç½‘ä¹Ÿæ˜¯é€šçš„ï¼Œä½†æ˜¯å°±æ˜¯æ‰“ä¸å¼€ç½‘é¡µã€‚æ¢äº†æµè§ˆå™¨ä¹Ÿä¸è¡Œï¼Œæ’é™¤æµè§ˆå™¨é—®é¢˜ã€‚</p><p>é‚£å°±æ˜¯â€œç–‘éš¾æ‚ç—‡â€ç±»é—®é¢˜äº†ã€‚</p><a id="more"></a><p>åˆ«çš„ä¹Ÿä¸ç®¡äº†ï¼Œåæ­£å°±é‡ç½®Winsockç›®å½•ä»¥æ¢å¤é»˜è®¤ç½‘ç»œçŠ¶æ€ã€‚</p><p>ç›´æ¥ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ŒWin10/Win11ç”¨Windows PowerShellï¼ˆç®¡ç†å‘˜ï¼‰å°±è¡Œï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh winsock reset</span><br></pre></td></tr></table></figure><p>æç¤ºâ€œæˆåŠŸé‡ç½®winsockç›®å½•ï¼Œä½ å¿…é¡»é‡å¯è®¡ç®—æœºæ‰èƒ½å®Œæˆé‡ç½®â€ï¼Œé‡å¯åï¼Œç½‘é¡µå°±å¯ä»¥æ­£å¸¸æ‰“å¼€äº†ã€‚</p><p>ä½†æ˜¯ï¼Œå½“æ‰§è¡Œå®Œwinsockçš„å‘½ä»¤é‡å¯è®¡ç®—æœºåï¼Œéœ€è¦é‡æ–°é…ç½®IPã€‚å±€åŸŸç½‘çš„è¯éœ€è¦DNSé€‰æ‹©ä¸€ä¸‹ï¼Œå¦å¤–å› æœºè€Œå¼‚å¯èƒ½ä¼šæ–­ç½‘æˆ–ç½‘é€Ÿå˜æ…¢â€¦â€¦ï¼ˆè¿™æ ·çš„é—®é¢˜æˆ‘æ²¡ç¢°åˆ°è¿‡ï¼Œipå’Œdnséƒ½æ˜¯è‡ªåŠ¨è·å–çš„ï¼Œè¿˜æ˜¯è·ŸåŸæ¥ä¸€æ ·ã€æ­£å¸¸ï¼Œç½‘é€Ÿä¹Ÿæ˜¯å¦‚å¸¸ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excelä¸­æå–èº«ä»½è¯çš„å‡ºç”Ÿæ—¥æœŸå’Œæ€§åˆ«</title>
      <link href="/2022/06/03/Excel%E4%B8%AD%E6%8F%90%E5%8F%96%E8%BA%AB%E4%BB%BD%E8%AF%81%E7%9A%84%E5%87%BA%E7%94%9F%E6%97%A5%E6%9C%9F%E5%92%8C%E6%80%A7%E5%88%AB/"/>
      <url>/2022/06/03/Excel%E4%B8%AD%E6%8F%90%E5%8F%96%E8%BA%AB%E4%BB%BD%E8%AF%81%E7%9A%84%E5%87%BA%E7%94%9F%E6%97%A5%E6%9C%9F%E5%92%8C%E6%80%A7%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>18ä½çš„èº«ä»½è¯å·ä¸­ï¼Œå‰6ä½æ˜¯åœ°å€ç ï¼Œç¬¬7ä½å¼€å§‹çš„8ä½æ˜¯å‡ºç”Ÿå¹´æœˆæ—¥ï¼Œç¬¬17ä½ï¼ˆå€’æ•°ç¬¬2ä½ï¼‰æ˜¯æ€§åˆ«ï¼ˆå¶æ•°æ˜¯å¥³æ€§ï¼Œå¥‡æ•°æ˜¯ç”·æ€§ï¼‰ã€‚</p><p>Excelæˆªå–å­—ç¬¦ä¸²å¾ˆç®€å•ï¼Œç”¨ä¸€ä¸ªMIDå‡½æ•°å°±èƒ½å–å‡ºæ¥äº†ã€‚</p><p>åªæ˜¯å¯¹åº”å‡ºç”Ÿæ—¥æœŸï¼ˆæ—¥æœŸæ ¼å¼ï¼‰ã€å’Œæ€§åˆ«è¦åšä¸ªåˆ¤æ–­ã€‚</p><a id="more"></a><h2 id="æ±‚å‡ºç”Ÿæ—¥æœŸ"><a href="#æ±‚å‡ºç”Ÿæ—¥æœŸ" class="headerlink" title="æ±‚å‡ºç”Ÿæ—¥æœŸ"></a>æ±‚å‡ºç”Ÿæ—¥æœŸ</h2><h3 id="1-å…¬å¼æ±‚å‡ºå‡ºç”Ÿæ—¥æœŸï¼ˆèº«ä»½è¯å·åœ¨A2å•å…ƒæ ¼ï¼‰ï¼š"><a href="#1-å…¬å¼æ±‚å‡ºå‡ºç”Ÿæ—¥æœŸï¼ˆèº«ä»½è¯å·åœ¨A2å•å…ƒæ ¼ï¼‰ï¼š" class="headerlink" title="1.å…¬å¼æ±‚å‡ºå‡ºç”Ÿæ—¥æœŸï¼ˆèº«ä»½è¯å·åœ¨A2å•å…ƒæ ¼ï¼‰ï¼š"></a>1.å…¬å¼æ±‚å‡ºå‡ºç”Ÿæ—¥æœŸï¼ˆèº«ä»½è¯å·åœ¨A2å•å…ƒæ ¼ï¼‰ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;MID(A2,7,8)</span><br></pre></td></tr></table></figure><p>ç”¨å…¬å¼è·å–åˆ°å‡ºç”Ÿæ—¥æœŸåï¼Œå†å¤åˆ¶å€¼å‡ºæ¥æ˜¯æ–‡æœ¬æ ¼å¼ï¼Œç›´æ¥è®¾ç½®å•å…ƒæ ¼æ ¼å¼ä¼šæ—¥æœŸæ ¼å¼æ˜¯æ²¡ç”¨çš„ã€‚å¦‚ä¸‹å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_id_card_1.png"                                     ></p><h3 id="2-æ–‡æœ¬è½¬æ¢æˆæ—¥æœŸæ ¼å¼"><a href="#2-æ–‡æœ¬è½¬æ¢æˆæ—¥æœŸæ ¼å¼" class="headerlink" title="2.æ–‡æœ¬è½¬æ¢æˆæ—¥æœŸæ ¼å¼"></a>2.æ–‡æœ¬è½¬æ¢æˆæ—¥æœŸæ ¼å¼</h3><p>å°±éœ€è¦ç”¨ã€æ•°æ®ã€‘-&gt;ã€åˆ†åˆ—ã€‘ï¼ŒæŠŠæ•°æ®æ ¼å¼é€‰æˆã€æ—¥æœŸã€‘ï¼Œæœ€åè®°å¾—é€‰ä¸€ä¸‹æ•´ä¸ªç›®æ ‡åŒºåŸŸå°±è¡Œäº†ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_id_card_2.png"                                     ></p><p>å®Œæˆåï¼Œå¦‚ä¸‹å›¾ï¼Œå·²ç»æ˜¯æ—¥æœŸæ ¼å¼äº†ï¼Œæƒ³æ”¹æˆå•¥æ—¥æœŸæ ¼å¼éƒ½è¡Œã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Excel_id_card_3.png"                                     ></p><p>åœ¨Excelä¸­ï¼Œå½“é‡åˆ°æ—¥æœŸæ˜¯æ–‡æœ¬ï¼ˆå­—ç¬¦ä¸²ï¼‰çš„æ—¶å€™ï¼Œå¦‚æœæƒ³æ”¹æˆè‡ªå·±æƒ³è¦çš„æ—¥æœŸæ ¼å¼ï¼Œéƒ½æ˜¯å¯ä»¥å€ŸåŠ©è¿™ä¸ªæ•°æ®ä¸­çš„ã€åˆ†åˆ—ã€‘åŠŸèƒ½çš„ã€‚</p><h2 id="æ±‚æ€§åˆ«"><a href="#æ±‚æ€§åˆ«" class="headerlink" title="æ±‚æ€§åˆ«"></a>æ±‚æ€§åˆ«</h2><p>æœ€ç»ˆå…¬å¼ä¸ºï¼š<code>=IF(MOD(MID(A2,17,1),2)=0,&quot;å¥³&quot;,&quot;ç”·&quot;)</code></p><p>èº«ä»½è¯ç¬¬17ä½å¦‚æœæ˜¯å¶æ•°ï¼Œè¡¨ç¤ºå¥³æ€§ï¼›æ˜¯å¥‡æ•°ï¼Œåˆ™è¡¨ç¤ºç”·æ€§ã€‚</p><h3 id="1-MIDå‡½æ•°å–èº«ä»½è¯ç¬¬17ä½ï¼ˆèº«ä»½è¯å·åœ¨A2å•å…ƒæ ¼ï¼‰ï¼š"><a href="#1-MIDå‡½æ•°å–èº«ä»½è¯ç¬¬17ä½ï¼ˆèº«ä»½è¯å·åœ¨A2å•å…ƒæ ¼ï¼‰ï¼š" class="headerlink" title="1.MIDå‡½æ•°å–èº«ä»½è¯ç¬¬17ä½ï¼ˆèº«ä»½è¯å·åœ¨A2å•å…ƒæ ¼ï¼‰ï¼š"></a>1.MIDå‡½æ•°å–èº«ä»½è¯ç¬¬17ä½ï¼ˆèº«ä»½è¯å·åœ¨A2å•å…ƒæ ¼ï¼‰ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;MID(A2,17,1)</span><br></pre></td></tr></table></figure><h3 id="2-ç”¨MODå‡½æ•°å–ä½™æ•°"><a href="#2-ç”¨MODå‡½æ•°å–ä½™æ•°" class="headerlink" title="2.ç”¨MODå‡½æ•°å–ä½™æ•°"></a>2.ç”¨MODå‡½æ•°å–ä½™æ•°</h3><p>MOD(5,2) è¡¨ç¤º5é™¤2å–ä½™æ•°ï¼Œç»“æœä¸º1ã€‚</p><p>æ‰€ä»¥æŠŠå–å‡ºçš„èº«ä»½è¯ç¬¬17ä½é™¤2å–ä½™æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;MOD(MID(A2,17,1),2)</span><br></pre></td></tr></table></figure><h3 id="3-ç”¨IFå‡½æ•°åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•°"><a href="#3-ç”¨IFå‡½æ•°åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•°" class="headerlink" title="3.ç”¨IFå‡½æ•°åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•°"></a>3.ç”¨IFå‡½æ•°åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•°</h3><p>å¦‚æœé™¤2çš„ä½™æ•°ä¸º0ï¼Œæ˜¯å¥³æ€§ï¼›å¦åˆ™ï¼Œæ˜¯ç”·æ€§ã€‚<br>IF(1=0,â€å¥³â€,â€ç”·â€) è¡¨ç¤ºå¦‚æœ1=0ï¼Œåˆ™ç»“æœæ˜¯å¥³ï¼Œå¦åˆ™æ˜¯ç”·ã€‚</p><p>æ‰€ä»¥æŠŠMODå‡½æ•°å–çš„ä½™æ•°è¿›è¡Œåˆ¤æ–­ï¼Œæ˜¯å¦ç­‰äº0ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;IF(MOD(MID(A2,17,1),2)&#x3D;0,&quot;å¥³&quot;,&quot;ç”·&quot;)</span><br></pre></td></tr></table></figure><p>PS.Excelä¸­å¸¸ç”¨å‡½æ•°åº”ç”¨ä»‹ç»ï¼š<a href="#">Post not found: ã€ä¸æ–­æ›´æ–°ç³»åˆ—ã€‘Excelå¸¸ç”¨å‡½æ•°</a></p>]]></content>
      
      
      <categories>
          
          <category> Office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Excel </tag>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Termiusç ´è§£æ–¹æ³•ï¼ˆWindowsç‰ˆï¼‰</title>
      <link href="/2022/06/03/Termius%E7%A0%B4%E8%A7%A3-Windows%E7%89%88/"/>
      <url>/2022/06/03/Termius%E7%A0%B4%E8%A7%A3-Windows%E7%89%88/</url>
      
        <content type="html"><![CDATA[<p>Termiusæ˜¯ä¸€ä¸ªæŒºå¥½ç”¨çš„SSHå®¢æˆ·ç«¯ï¼Œæœ‰å…¨å¹³å°ç‰ˆæœ¬ã€‚MacOSã€Windowsã€Linuxï¼Œè¿˜æœ‰IOSã€Androidã€‚</p><p>è½¯ä»¶æœ‰å…è´¹ç‰ˆå’Œä»˜è´¹ç‰ˆï¼Œå…è´¹ç‰ˆå°±å·²ç»æä¾›SSHåŠŸèƒ½ï¼Œæ»¡è¶³è¿æ¥å¹¶æ“ä½œLinuxæœåŠ¡å™¨çš„éœ€æ±‚ã€‚</p><p>å…è´¹ç‰ˆçš„ç¼ºç‚¹æ˜¯ä¸èƒ½ç”¨SFTPï¼Œä¹Ÿä¸èƒ½äº‘åŒæ­¥ã€‚è¿™ä¸èƒ½ç”¨SFTPå°±æŒºéº»çƒ¦çš„ï¼Œç°åœ¨ç”¨çš„éƒ½æ˜¯XShell+Xftpçš„å…è´¹ç‰ˆï¼Œèµ·ç æ—¥å¸¸ç”¨ç”¨æ˜¯å¤Ÿç”¨çš„ã€‚ç„¶åæ”¶è´¹è¿˜æ˜¯è®¢é˜…çš„åˆ¶ï¼ˆæ›´è´µäº†ï¼‰ï¼Œä¸æ˜¯ä¸“é—¨è¿ç»´äººå‘˜ï¼Œè‡ªå·±ç”¨ç”¨ï¼Œæ„Ÿè§‰å¤ªè´µäº†ã€‚</p><a id="more"></a><p>æ‰€ä»¥ï¼Œä¸ºäº†ç”¨ç”¨SFTPåŠŸèƒ½ï¼Œçœ‹äº†ä¸‹ç½‘ä¸Šç ´è§£çš„æ–¹æ³•ã€‚å°±è¯•äº†ä¸‹ã€‚</p><p>æå‰è¯´æ˜ä¸€ä¸‹ï¼š</p><blockquote><p>ç›®å‰ä¸‹è½½çš„æœ€æ–°ç‰ˆï¼š7.41.3ç‰ˆæœ¬ï¼Œé‡Œé¢æ–‡ä»¶çš„æ–¹æ³•å•¥çš„éƒ½å˜äº†ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ä»¥ä¸‹æ–¹ä¾¿ç ´è§£äº†ã€‚<br>çœ‹åˆ«äººç”¨7.26.2çš„ç‰ˆæœ¬è¿˜èƒ½æ‰¾åˆ°è¿™ä¸ªjsæ–‡ä»¶é‡Œç ´è§£çš„ï¼Œäºæ˜¯ä¸‹è½½äº†ä¸ªæ—§ç‰ˆæœ¬ï¼Œ7.26.2ä¹‹å‰çš„ç‰ˆæœ¬ã€‚ï¼ˆæ„æ€å°±æ˜¯7.26.2ä¹‹å‰çš„ç‰ˆæœ¬å¯ä»¥ç”¨æ­¤æ–¹ä¾¿å°è¯•ç ´è§£ï¼Œä¹‹åå°±ä¸èƒ½ä¿è¯äº†ã€‚ï¼‰</p></blockquote><h2 id="ä¸€ã€å·¥å…·å‡†å¤‡"><a href="#ä¸€ã€å·¥å…·å‡†å¤‡" class="headerlink" title="ä¸€ã€å·¥å…·å‡†å¤‡"></a>ä¸€ã€å·¥å…·å‡†å¤‡</h2><h3 id="1-VS-Codeï¼ˆéœ€å®‰è£…Prettieræ’ä»¶ï¼‰"><a href="#1-VS-Codeï¼ˆéœ€å®‰è£…Prettieræ’ä»¶ï¼‰" class="headerlink" title="1.VS Codeï¼ˆéœ€å®‰è£…Prettieræ’ä»¶ï¼‰"></a>1.VS Codeï¼ˆéœ€å®‰è£…Prettieræ’ä»¶ï¼‰</h3><p>ç”¨æ¥æ‰“å¼€ä¸€ä¸ªjsæ–‡ä»¶ï¼ŒPrettieræ’ä»¶ä¸»è¦æ˜¯è®©jsæ–‡ä»¶æ ¼å¼åŒ–æ˜¾ç¤ºçš„ï¼Œè¿™æ ·æ–¹ä¾¿æŸ¥çœ‹ã€‚</p><p>æˆ‘è¿™åŸæ¥å°±æœ‰VS Codeï¼Œå®‰è£…ä¸‹æ’ä»¶å°±è¡Œäº†ã€‚<br>VS Codeå®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a class="link"   href="https://code.visualstudio.com/docs/?dv=win" >https://code.visualstudio.com/docs/?dv=win<i class="fas fa-external-link-alt"></i></a></p><h3 id="2-Node-js"><a href="#2-Node-js" class="headerlink" title="2.Node.js"></a>2.Node.js</h3><p>ç”¨æ¥å®‰è£…asarï¼Œç„¶ååé¢è§£å‹asaræ–‡ä»¶çš„ã€‚</p><p>1).ä¸‹è½½å®‰è£…Node.js</p><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a class="link"   href="https://nodejs.org/en/download/" >https://nodejs.org/en/download/<i class="fas fa-external-link-alt"></i></a> ï¼Œä¸‹è½½å¯¹åº”ç‰ˆæœ¬å®‰è£…å°±è¡Œã€‚<br>ï¼ˆæ€•æœ‰é—®é¢˜ï¼Œç›´æ¥æœç´¢å®‰è£…æ•™ç¨‹ç…§ç€æ¥å°±è¡Œï¼‰</p><p>2).å®‰è£…asar</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g asar</span><br></pre></td></tr></table></figure><p>Hexoåšå®¢çš„ï¼ŒåŸæ¥ä¹Ÿéƒ½æœ‰å®‰è£…Node.jsï¼Œæ‰€ä»¥ç›´æ¥å®‰è£…ä¸€ä¸‹asarå°±è¡Œäº†ã€‚</p><h3 id="3-Termiuså®‰è£…åŒ…"><a href="#3-Termiuså®‰è£…åŒ…" class="headerlink" title="3.Termiuså®‰è£…åŒ…"></a>3.Termiuså®‰è£…åŒ…</h3><h2 id="äºŒã€ç ´è§£Termius"><a href="#äºŒã€ç ´è§£Termius" class="headerlink" title="äºŒã€ç ´è§£Termius"></a>äºŒã€ç ´è§£Termius</h2><p>çœ‹äº†ä¸‹ç½‘ä¸Šå¤§ä½¬çš„ç ´è§£æ–¹æ³•ï¼Œå°±æ˜¯ï¼š</p><ul><li>æ‰¾åˆ°resourcesç›®å½•ä¸‹æœ‰ä¸ªapp.asarçš„åŒ…ï¼Œè§£å‹å‡ºæ¥åä¿®æ”¹é‡Œé¢æœ‰ä¸ªui-process.jsæ–‡ä»¶ï¼›</li><li>æ‰¾åˆ°jsæ–‡ä»¶é‡Œ isProUserï¼ˆåˆ¤æ–­æ˜¯å¦Proæ”¶è´¹ç”¨æˆ·ï¼‰çš„åœ°æ–¹ï¼Œç›´æ¥è®©æ–¹æ³•è¿”å›Trueï¼›</li><li>æœ€åå†æ”¹ä¸€ä¸‹ç”¨æˆ·åï¼Œç›´æ¥å®šä¹‰ä¸ªå­—ç¬¦ä¸²ã€‚</li></ul><h3 id="1-å®‰è£…Termius"><a href="#1-å®‰è£…Termius" class="headerlink" title="1.å®‰è£…Termius"></a>1.å®‰è£…Termius</h3><p>ç›´æ¥ã€å…ˆæ–­ç½‘ã€‘ï¼Œå†å®‰è£…ï¼Œè¿™æ ·ä¹Ÿä¸ä¼šæŠŠè€ç‰ˆæœ¬å¼ºåˆ¶å‡çº§ä»€ä¹ˆäº†ã€‚</p><h3 id="2-è§£å‹app-asar"><a href="#2-è§£å‹app-asar" class="headerlink" title="2.è§£å‹app.asar"></a>2.è§£å‹app.asar</h3><p>åœ¨å®‰è£…å¥½çš„Termiuså¿«æ·æ–¹å¼ä¸Šï¼Œå³é”®-&gt;å±æ€§ï¼Œæ‰¾åˆ°å®‰è£…è·¯å¾„ï¼Œç„¶åè¿›å…¥resourcesç›®å½•ã€‚<br>ä¸€èˆ¬é»˜è®¤è·¯å¾„ä¸ºï¼š<code>C:\Users\[user_name]\AppData\Local\Programs\Termius\resources</code></p><p>è¿™ä¸ªç›®å½•ä¸‹æœ‰ä¸€ä¸ªapp.asarï¼Œè¿˜æœ‰ä¸€ä¸ªapp-update.ymlï¼ˆçœ‹åå­—å°±æ˜¯è½¯ä»¶æ›´æ–°ç›¸å…³ï¼‰æ–‡ä»¶å…ˆåˆ é™¤ã€‚</p><p>åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç”¨å‘½ä»¤è¡Œè¿è¡Œä»¥ä¸‹å‘½ä»¤è§£å‹app.asarï¼Œå¾—åˆ°ä¸€ä¸ªappç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asar e app.asar app</span><br></pre></td></tr></table></figure><h3 id="3-VS-Codeæ‰“å¼€ui-process-jså¹¶æ ¼å¼åŒ–"><a href="#3-VS-Codeæ‰“å¼€ui-process-jså¹¶æ ¼å¼åŒ–" class="headerlink" title="3.VS Codeæ‰“å¼€ui-process.jså¹¶æ ¼å¼åŒ–"></a>3.VS Codeæ‰“å¼€ui-process.jså¹¶æ ¼å¼åŒ–</h3><p>ç”¨VS Codeï¼ˆéœ€å®‰è£…Prettieræ’ä»¶ï¼‰æ‰“å¼€ <code>resources\app\js\ui-process.js</code>æ–‡ä»¶ã€‚</p><p>ç„¶åæŒ‰ Ctrl+Shift+Pï¼Œè¾“å…¥formatæœç´¢ï¼Œé€‰æ‹© Format Documentï¼ˆæ ¼å¼åŒ–æ–‡æ¡£ï¼‰ã€‚</p><h3 id="4-ui-process-jsä¸­ä¿®æ”¹isProUserç›¸å…³å¤„"><a href="#4-ui-process-jsä¸­ä¿®æ”¹isProUserç›¸å…³å¤„" class="headerlink" title="4.ui-process.jsä¸­ä¿®æ”¹isProUserç›¸å…³å¤„"></a>4.ui-process.jsä¸­ä¿®æ”¹isProUserç›¸å…³å¤„</h3><p>ç­‰å®Œæˆæ ¼å¼åŒ–åï¼ŒCtrl+Fï¼Œæœç´¢å­—æ®µ<code>isProUser</code>ï¼Œæ‰¾åˆ°ç±»ä¼¼ä¸‹å›¾æ‰€ç¤ºçš„åœ°æ–¹ï¼Œä¸åŒç‰ˆæœ¬å‡½æ•°ä¼šæœ‰ä¸ä¸€æ ·çš„ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Termius_crack_1.png"                                     ></p><p>ç„¶åï¼ŒæŒ‰CtrlåŠ é¼ æ ‡å•å‡»ï¼Œè·³è½¬è‡³è¯¥å‡½æ•°å¤„ï¼Œåæ­£æŠŠå†…å®¹ç›´æ¥æ”¹æˆ<code>return true;</code>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Termius_crack_2.png"                                     ></p><h3 id="5-ui-process-jsä¸­ä¿®æ”¹username"><a href="#5-ui-process-jsä¸­ä¿®æ”¹username" class="headerlink" title="5.ui-process.jsä¸­ä¿®æ”¹username"></a>5.ui-process.jsä¸­ä¿®æ”¹username</h3><p>æœç´¢å­—æ®µ<code>user.username</code>ï¼ŒæŠŠè¿™é‡Œreturnåé¢ç›´æ¥å†™ä¸ªå­—ç¬¦ä¸²ï¼Œä»»æ„å€¼ï¼Œéšä¾¿çš„ã€‚ä¾‹å¦‚ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Termius_crack_3.png"                                     ></p><p>æœ€åä¿å­˜ä¸€ä¸‹ã€‚</p><p>å†æ‰“å¼€Termiusçš„æ—¶å€™ï¼Œå‘ç°SFTPåŠŸèƒ½å°±å¯ä»¥ç”¨äº†ã€‚</p><p>PS.ui-process.jsæ˜¯å…¨å¹³å°é€šç”¨çš„ï¼Œåªéœ€è¦ä¿®æ”¹ä¸€æ¬¡ã€‚å¦‚æœæ˜¯macç‰ˆæœ¬ï¼Œåæ­£åŒä¸€ä¸ªç‰ˆæœ¬å·çš„è¯ï¼Œç›´æ¥æŠŠè¿™ä¸ªæ–‡ä»¶è¦†ç›–åŸå®‰è£…ç›®å½•ä¸‹çš„ui-process.jsæ–‡ä»¶å°±è¡Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Software </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python ç”ŸæˆäºŒç»´ç å›¾ç‰‡</title>
      <link href="/2022/06/01/Python%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81%E5%9B%BE%E7%89%87/"/>
      <url>/2022/06/01/Python%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81%E5%9B%BE%E7%89%87/</url>
      
        <content type="html"><![CDATA[<p>ç›´æ¥æœ‰ç¬¬ä¸‰æ–¹çš„åº“ï¼šqrcode<br>åœ°å€ï¼š<a class="link"   href="https://pypi.org/project/qrcode/" >https://pypi.org/project/qrcode/<i class="fas fa-external-link-alt"></i></a></p><p>ç”Ÿæˆç®€å•äºŒç»´ç æ˜¯ç‰¹åˆ«ç®€å•ï¼Œå°±ä¸¤æ­¥ã€‚å¸¦logoçš„éº»çƒ¦ä¸€ç‚¹ï¼Œä¸»è¦æ˜¯è¦è€ƒè™‘logoå›¾ç‰‡çš„å¤§å°å•¥çš„ã€‚</p><a id="more"></a><h2 id="å®‰è£…qrcodeåŒ…å’ŒPILåŒ…"><a href="#å®‰è£…qrcodeåŒ…å’ŒPILåŒ…" class="headerlink" title="å®‰è£…qrcodeåŒ…å’ŒPILåŒ…"></a>å®‰è£…qrcodeåŒ…å’ŒPILåŒ…</h2><h3 id="1-å®‰è£…qrcodeåŒ…"><a href="#1-å®‰è£…qrcodeåŒ…" class="headerlink" title="1.å®‰è£…qrcodeåŒ…"></a>1.å®‰è£…qrcodeåŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install qrcode</span><br></pre></td></tr></table></figure><h3 id="2-å®‰è£…PILåŒ…"><a href="#2-å®‰è£…PILåŒ…" class="headerlink" title="2.å®‰è£…PILåŒ…"></a>2.å®‰è£…PILåŒ…</h3><p>å¦‚æœè¿˜æ²¡æœ‰å®‰è£…PILçš„åº“ï¼Œè¿è¡Œçš„æ—¶å€™ä¹Ÿä¼šæŠ¥é”™ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å®‰è£…PILçš„åº“çš„ï¼›è€Œä¸”è¦ç”¨åˆ°å¸¦Logoçš„äºŒç»´ç è¿˜æ˜¯è¦ç”¨åˆ°å›¾ç‰‡ï¼Œè¦ç”¨åˆ°PILçš„Imageå¯¹è±¡ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¸€èµ·å®‰è£…äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Pillow</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆæ™®é€šäºŒç»´ç "><a href="#ç”Ÿæˆæ™®é€šäºŒç»´ç " class="headerlink" title="ç”Ÿæˆæ™®é€šäºŒç»´ç "></a>ç”Ÿæˆæ™®é€šäºŒç»´ç </h2><p>å°±ç®€å•çš„ä¸¤æ­¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">qrcode.make(<span class="built_in">str</span>)ï¼š<span class="built_in">str</span>ä¸ºäºŒç»´ç åŒ…å«çš„æ–‡å­—ä¿¡æ¯,ä¹Ÿå¯ä»¥æ˜¯ç½‘é¡µé“¾æ¥ï¼Œè¿”å›äºŒç»´ç å¯¹è±¡</span><br><span class="line">qrcode.save(<span class="built_in">str</span>)ï¼šå°†äºŒç»´ç ä»¥<span class="built_in">str</span>ä¸ºåä¿å­˜åˆ°æœ¬åœ°ç›®å½•ï¼ˆæ³¨æ„æ–‡ä»¶çš„æ‰©å±•åï¼‰</span><br><span class="line">qrcode.show()ï¼šè¿è¡Œæ—¶å±•ç¤ºäºŒç»´ç å›¾æ¡ˆ</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> qrcode, os</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># pip install qrcode äºŒç»´ç åº“</span></span><br><span class="line"><span class="string"># pip install Pillow å¦‚æœæŠ¥æ²¡æœ‰è¿™ä¸ªPILåº“ï¼Œéœ€è¦å®‰è£…ä¸€ä¸‹</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆæ™®é€šäºŒç»´ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_qrcode</span>(<span class="params">content, qcode_pic_path</span>):</span></span><br><span class="line">    <span class="comment"># åˆ›å»ºåŒ…å«ä¿¡æ¯çš„äºŒç»´ç å¯¹è±¡</span></span><br><span class="line">    img = qrcode.make(content)</span><br><span class="line">    img.save(qcode_pic_path) <span class="comment"># äºŒç»´ç ä¿å­˜</span></span><br><span class="line">    <span class="comment"># img.show() # å±•ç¤ºäºŒç»´ç </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    content = <span class="string">&#x27;https://www.hduzn.cn/&#x27;</span></span><br><span class="line">    qcode_pic_path = <span class="string">&#x27;hello.png&#x27;</span> <span class="comment"># ç”ŸæˆäºŒç»´ç ä¿å­˜çš„å›¾ç‰‡</span></span><br><span class="line">    generate_qrcode(content, qcode_pic_path) <span class="comment"># ç”Ÿæˆæ™®é€šäºŒç»´ç </span></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"><span class="comment"># print(os.getcwd()) # è¿”å›å½“å‰å·¥ä½œç›®å½•</span></span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆå¸¦logoçš„äºŒç»´ç "><a href="#ç”Ÿæˆå¸¦logoçš„äºŒç»´ç " class="headerlink" title="ç”Ÿæˆå¸¦logoçš„äºŒç»´ç "></a>ç”Ÿæˆå¸¦logoçš„äºŒç»´ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> qrcode, os</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆæ™®é€šäºŒç»´ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_qrcode</span>(<span class="params">content, qcode_pic_path</span>):</span></span><br><span class="line">    <span class="comment"># åˆ›å»ºåŒ…å«ä¿¡æ¯çš„äºŒç»´ç å¯¹è±¡</span></span><br><span class="line">    img = qrcode.make(content)</span><br><span class="line">    img.save(qcode_pic_path) <span class="comment"># äºŒç»´ç ä¿å­˜</span></span><br><span class="line">    <span class="comment"># img.show() # å±•ç¤ºäºŒç»´ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆå¸¦Logoçš„äºŒç»´ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_qrcode_logo</span>(<span class="params">content, logo_pic, qcode_pic_path</span>):</span></span><br><span class="line">    <span class="comment"># QRCode() åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    <span class="comment"># versionï¼šå€¼ä¸º1~40çš„æ•´æ•°ï¼Œæ§åˆ¶äºŒç»´ç çš„å¤§å°ï¼ˆæœ€å°å€¼æ˜¯1ï¼Œæ˜¯ä¸ª21Ã—21çš„çŸ©é˜µï¼‰</span></span><br><span class="line">    <span class="comment"># box_sizeï¼šæ§åˆ¶äºŒç»´ç ä¸­æ¯ä¸ªå°æ ¼å­åŒ…å«çš„åƒç´ æ•°</span></span><br><span class="line">    <span class="comment"># borderï¼šæ§åˆ¶è¾¹æ¡†ï¼ˆäºŒç»´ç ä¸å›¾ç‰‡è¾¹ç•Œçš„è·ç¦»ï¼‰åŒ…å«çš„æ ¼å­æ•°ï¼ˆé»˜è®¤ä¸º4)</span></span><br><span class="line">    <span class="comment"># error_correctionï¼šæ§åˆ¶äºŒç»´ç çš„é”™è¯¯çº æ­£åŠŸèƒ½ã€‚å¯å–å€¼ä¸‹åˆ—4ä¸ªå¸¸é‡ï¼šÂ </span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    qrcode.constants.ERROR_CORRECT_Xï¼š</span></span><br><span class="line"><span class="string">        1. X=Læ—¶ï¼Œå¤§çº¦7%æˆ–æ›´å°‘çš„é”™è¯¯èƒ½è¢«çº æ­£ã€‚Â </span></span><br><span class="line"><span class="string">        2. X=Mï¼ˆé»˜è®¤ï¼‰æ—¶ï¼Œå¤§çº¦15%æˆ–æ›´å°‘çš„é”™è¯¯èƒ½è¢«çº æ­£ã€‚</span></span><br><span class="line"><span class="string">        3. X=Qæ—¶ï¼Œ25%ä»¥ä¸‹çš„é”™è¯¯ä¼šè¢«çº æ­£ã€‚</span></span><br><span class="line"><span class="string">        4. X=Hæ—¶ï¼Œå¤§çº¦30%æˆ–æ›´å°‘çš„é”™è¯¯èƒ½è¢«çº æ­£ã€‚</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    qr = qrcode.QRCode(</span><br><span class="line">        version=<span class="number">5</span>,</span><br><span class="line">        error_correction=qrcode.constants.ERROR_CORRECT_H,</span><br><span class="line">        box_size=<span class="number">8</span>,</span><br><span class="line">        border=<span class="number">4</span> )</span><br><span class="line">    qr.add_data(content) <span class="comment"># å‘äºŒç»´ç ä¸­æ·»åŠ ä¿¡æ¯</span></span><br><span class="line">    qr.make(fit=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    img = qr.make_image()</span><br><span class="line">    img = img.convert(<span class="string">&#x27;RGBA&#x27;</span>) <span class="comment"># äºŒç»´ç è®¾ç½®ä¸ºå½©è‰²</span></span><br><span class="line">    <span class="comment"># äºŒç»´ç å°ºå¯¸</span></span><br><span class="line">    img_w, img_h = img.size</span><br><span class="line">    factor = <span class="number">4</span> <span class="comment"># é»˜è®¤LOGOæœ€å¤§è®¾ä¸ºå›¾ç‰‡çš„1/4</span></span><br><span class="line">    <span class="comment"># æœ€å¤§logoå°ºå¯¸</span></span><br><span class="line">    size_w = <span class="built_in">int</span>(img_w/factor)</span><br><span class="line">    size_h = <span class="built_in">int</span>(img_h/factor)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Image.<span class="built_in">open</span>(logo_pic) <span class="keyword">as</span> logo:</span><br><span class="line">        logo_w,logo_h = logo.size</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> logo_w &gt; size_w <span class="keyword">or</span> logo_h &gt; size_h:</span><br><span class="line">            logo_w = size_w</span><br><span class="line">            logo_h = size_h</span><br><span class="line">        </span><br><span class="line">        logo = logo.resize((logo_w, logo_h),Image.ANTIALIAS).convert(<span class="string">&#x27;RGBA&#x27;</span>)</span><br><span class="line">        l_w = <span class="built_in">int</span>((img_w-logo_w)/<span class="number">2</span>)</span><br><span class="line">        l_h = <span class="built_in">int</span>((img_h-logo_h)/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›¿æ¢æŒ‡å®šä½ç½®</span></span><br><span class="line">        img.paste(logo,(l_w,l_h),logo)</span><br><span class="line">        img.save(qcode_pic_path) <span class="comment"># äºŒç»´ç ä¿å­˜</span></span><br><span class="line">        img.show() <span class="comment"># å±•ç¤ºäºŒç»´ç </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    content = <span class="string">&#x27;https://www.hduzn.cn/&#x27;</span></span><br><span class="line">    logo_pic = <span class="string">&#x27;.\logo.png&#x27;</span></span><br><span class="line"></span><br><span class="line">    qcode_pic_path = <span class="string">&#x27;hello.png&#x27;</span> <span class="comment"># ç”ŸæˆäºŒç»´ç ä¿å­˜çš„å›¾ç‰‡</span></span><br><span class="line">    <span class="comment"># generate_qrcode(content, qcode_pic_path) # ç”Ÿæˆæ™®é€šäºŒç»´ç </span></span><br><span class="line">    generate_qrcode_logo(content, logo_pic, qcode_pic_path) <span class="comment"># ç”Ÿæˆå¸¦Logoçš„äºŒç»´ç </span></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"><span class="comment"># print(os.getcwd()) # è¿”å›å½“å‰å·¥ä½œç›®å½•</span></span><br></pre></td></tr></table></figure><p>å¸¦logoçš„äºŒç»´ç æ•ˆæœå¦‚å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_generate_qrcode.png"                                     ></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸ä¸ºä¸€å¯¸/äºŒå¯¸ç…§</title>
      <link href="/2022/05/30/Python-%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8%E4%B8%BA%E4%B8%80%E5%AF%B8-%E4%BA%8C%E5%AF%B8%E7%85%A7/"/>
      <url>/2022/05/30/Python-%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8%E4%B8%BA%E4%B8%80%E5%AF%B8-%E4%BA%8C%E5%AF%B8%E7%85%A7/</url>
      
        <content type="html"><![CDATA[<p>å…³äºæ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸ï¼Œä¹‹å‰å·²ç»å†™äº†ä¸€ç¯‡æ–‡ç« ï¼š<a href="/2022/05/10/Python-%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8/" title="Python æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸">Python æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸</a>ã€‚æ˜¯é€šè¿‡ä¿®æ”¹åˆ†è¾¨ç‡å»ä¿®æ”¹çš„ã€‚</p><p>é‚£æ€ä¹ˆä¿®æ”¹å›¾ç‰‡å°ºå¯¸ä¸ºä¸€å¯¸ç…§ã€äºŒå¯¸ç…§å‘¢ï¼Ÿä¸èƒ½ç›´æ¥ç…§æ¬ç½‘ä¸Šæœç´¢å‡ºæ¥çš„ç»“æœã€‚<br>æ¯”å¦‚ç½‘ä¸Šè¯´ä¸€å¯¸ç…§å¤§å°æ˜¯ <code>2.5cm*3.5cm</code> æˆ–è€… <code>295åƒç´ *413åƒç´ </code>ï¼›<br>äºŒå¯¸ç…§æ˜¯<code>3.5cm*5.3cm</code>æˆ–è€…<code>413åƒç´ *626åƒç´ </code>ã€‚</p><p>ä½ å¦‚æœç›´æ¥æŠŠåƒç´ å¤§å°æŒ‰ä¸Šé¢çš„æ”¹å¯èƒ½å°±ä¼šæœ‰é—®é¢˜ã€‚æŒ‰ä¸Šé¢çš„åˆ†è¾¨ç‡ä¿®æ”¹å‡ºæ¥çš„å°ºå¯¸æ‰“å¼€ä¸€çœ‹ä¸å¯¹ã€‚</p><a id="more"></a><p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ª dpi åˆ†è¾¨ç‡ çš„æ¦‚å¿µã€‚</p><h2 id="dpiçš„æ¦‚å¿µ"><a href="#dpiçš„æ¦‚å¿µ" class="headerlink" title="dpiçš„æ¦‚å¿µ"></a>dpiçš„æ¦‚å¿µ</h2><p>dots per inchï¼Œæ¯è‹±å¯¸ç‚¹æ•°ã€‚</p><p>å«ä¹‰æä¸é‚£ä¹ˆæ¸…æ¥šä¹Ÿæ²¡å…³ç³»ï¼Œçœ‹ä¸€å¼ å›¾å°±äº†è§£äº†ã€‚ï¼ˆåœ¨Photoshopé‡Œçœ‹çš„ï¼‰<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_image_resize_dpi_1.png"                                     ></p><p>çœ‹ä¸Šé¢çš„å›¾ç‰‡ï¼Œå½“å›¾åƒçš„å¤§å°æ˜¯ï¼š<code>2.5cm*3.5cm</code>æ—¶ï¼Œåˆ†è¾¨ç‡ï¼ˆdpiï¼‰ä¸åŒï¼Œå®½åº¦é«˜åº¦çš„åƒç´ å°±ä¸åŒã€‚</p><p>ç½‘ä¸Šç»å¸¸ä¸€æœå°±èƒ½çœ‹åˆ°çš„ä¸€å¯¸äºŒå¯¸ç…§ç‰‡çš„å®½é«˜åº¦åƒç´ æ¯”å…¶å®æ˜¯åˆ†è¾¨ç‡ï¼ˆdpi=300ï¼‰çš„æ—¶å€™ã€‚</p><p>äºŒå¯¸ç…§dpi=96çš„æ—¶å€™ï¼Œåƒç´ å¤§æ¦‚æ˜¯ï¼š<code>133åƒç´ *200åƒç´ </code><br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_image_resize_dpi_2.png"                                     ></p><h2 id="å•å¼ å›¾ç‰‡ä¿®æ”¹å°ºå¯¸å’Œdpi"><a href="#å•å¼ å›¾ç‰‡ä¿®æ”¹å°ºå¯¸å’Œdpi" class="headerlink" title="å•å¼ å›¾ç‰‡ä¿®æ”¹å°ºå¯¸å’Œdpi"></a>å•å¼ å›¾ç‰‡ä¿®æ”¹å°ºå¯¸å’Œdpi</h2><p>é‚£æˆ‘ä»¬ç”¨Pythonä¿®æ”¹å›¾ç‰‡å°ºå¯¸ï¼Œç”¨PILåº“çš„Imageå¯¹è±¡çš„resizeä¿®æ”¹åï¼Œå…¶å®å°±ä¿å­˜çš„æ—¶å€™è®¾ä¸€ä¸‹dpiå°±è¡Œäº†ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•å¼ å›¾ç‰‡ä¿®æ”¹å°ºå¯¸å’Œdpi</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_pic_size_dpi</span>(<span class="params">picfile, outdir, width, height, dpi_float</span>):</span></span><br><span class="line">    img = Image.<span class="built_in">open</span>(picfile)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        new_img = img.resize((width, height), Image.BILINEAR)</span><br><span class="line">        new_img.save(os.path.join(outdir, os.path.basename(picfile)), dpi=(dpi_float,dpi_float))</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line"></span><br><span class="line">change_pic_size_dpi(picfile, outdir, <span class="number">96</span>, <span class="number">132</span>, dpi_float=<span class="number">96.0</span>)</span><br></pre></td></tr></table></figure><p>å…¶å®å°±ç¬¬7è¡Œï¼ŒImage.saveçš„æ—¶å€™ï¼Œæ·»åŠ dpiçš„å‚æ•°è®¾ç½®å°±è¡Œäº†ã€‚<br>æ³¨æ„å¯¹åº”çš„dpiçš„å®½é«˜åº¦çš„åƒç´ å€¼ä¸åŒï¼Œä¸èƒ½ç›´æ¥ç…§æ¬ç½‘ä¸Šçš„ã€‚</p><p>å®Œæ•´çš„æ‰¹é‡ä¿®æ”¹çš„ä»£ç çœ‹ä¸Šä¸€ç¯‡æ–‡ç« çš„å°±è¡Œï¼Œåæ­£å°±æ”¹äº†è¿™ä¸€å¥ï¼Œæ·»åŠ ä¸€ä¸ª dpiçš„å‚æ•°å°±è¡Œï¼Œæ³¨æ„dpiç”¨æµ®ç‚¹æ•°ï¼Œå¸¦ä¸ªå°æ•°ç‚¹ã€‚ä»£ç è¿™é‡Œå°±ä¸è´´äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker Dockerfileæ–‡ä»¶è¯¦è§£ï¼ˆåˆ¶ä½œè‡ªå·±çš„é•œåƒï¼‰</title>
      <link href="/2022/05/29/Docker-Dockerfile%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3%EF%BC%88%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%EF%BC%89/"/>
      <url>/2022/05/29/Docker-Dockerfile%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3%EF%BC%88%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>é•œåƒçš„å®šåˆ¶ï¼Œå®é™…ä¸Šå°±æ˜¯å®šåˆ¶æ¯ä¸€å±‚æ‰€æ·»åŠ çš„é…ç½®ã€æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸€å±‚ä¿®æ”¹ã€å®‰è£…ã€æ„å»ºã€æ“ä½œçš„å‘½ä»¤éƒ½å†™å…¥ä¸€ä¸ªè„šæœ¬ï¼Œç”¨è¿™ä¸ªè„šæœ¬æ¥æ„å»ºã€å®šåˆ¶é•œåƒã€‚è¿™ä¸ªè„šæœ¬å°±æ˜¯ Dockerfileã€‚</p><p>Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶å†…åŒ…å«äº†ä¸€æ¡æ¡çš„æŒ‡ä»¤(Instruction)ï¼Œæ¯ä¸€æ¡æŒ‡ä»¤æ„å»ºä¸€å±‚ï¼Œå› æ­¤æ¯ä¸€æ¡æŒ‡ä»¤çš„å†…å®¹ï¼Œå°±æ˜¯æè¿°è¯¥å±‚åº”å½“å¦‚ä½•æ„å»ºã€‚</p><a id="more"></a><h2 id="ä¸€ã€ä¸¾ä¾‹ï¼šåˆ›å»ºFlaské¡¹ç›®ç¯å¢ƒé•œåƒ"><a href="#ä¸€ã€ä¸¾ä¾‹ï¼šåˆ›å»ºFlaské¡¹ç›®ç¯å¢ƒé•œåƒ" class="headerlink" title="ä¸€ã€ä¸¾ä¾‹ï¼šåˆ›å»ºFlaské¡¹ç›®ç¯å¢ƒé•œåƒ"></a>ä¸€ã€ä¸¾ä¾‹ï¼šåˆ›å»ºFlaské¡¹ç›®ç¯å¢ƒé•œåƒ</h2><p>æ¯”å¦‚ï¼Œæˆ‘è‡ªå·±æœ‰ä¸ªPythonçš„é¡¹ç›®ï¼Œæ˜¯ä¸ªFlaské¡¹ç›®ï¼Œæˆ‘æƒ³æŠŠå®ƒæ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œå°±æ˜¯ä¸ªWebé¡¹ç›®ã€‚</p><p>é‚£æˆ‘ä»¬æ€ä¹ˆåœ¨ä¸€å°æœåŠ¡å™¨ä¸Šå¿«é€Ÿã€æ–¹ä¾¿çš„æŠŠæœ¬åœ°çš„Flaskå¼€å‘ç¯å¢ƒéƒ¨ç½²ä¸Šå»å‘¢ï¼Ÿæ¯”å¦‚æœ¬åœ°ç”¨çš„Pythonç‰ˆæœ¬ã€ä»¥å‰Flaskç›¸å…³çš„åº“ï¼Œä»¥åŠå…¶å®ƒç”¨åˆ°çš„åº“ã€‚å°±å¯ä»¥ç”¨Dockeråˆ¶ä½œä¸€ä¸ªè‡ªå·±çš„é•œåƒã€‚</p><p>Flaskå¼€å‘ç¯å¢ƒçš„é•œåƒåˆ¶ä½œå¥½äº†ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªDockerfile æ–‡ä»¶ï¼Œä¹‹åå°±å¯ä»¥éšæ„éƒ¨ç½²åˆ°å¸¦Dockerçš„æœåŠ¡å™¨ä¸Šå»äº†ã€‚è´¼æ–¹ä¾¿ã€‚</p><p>è¿˜æœ‰ï¼Œå°±æ˜¯æˆ‘æƒ³åˆ¶ä½œçš„æ˜¯ä¸€ä¸ªFlaské¡¹ç›®çš„ç¯å¢ƒé•œåƒï¼Œæ‰€ä»¥ä»£ç è¿™äº›æ— æ‰€è°“çš„ï¼Œåªè¦ç¯å¢ƒèƒ½åˆ¶ä½œå¥½å°±è¡Œï¼Œæ‰€ä»¥åœ¨å»ºè¿™ä¸ªé•œåƒçš„æ—¶å€™æ²¡æœ‰å¤åˆ¶é¡¹ç›®æ–‡ä»¶è¿™äº›ï¼Œä¹Ÿç”¨ä¸ç€è¿è¡Œã€‚<br>å› ä¸ºè¿™æ ·ä¸€ä¸ªé€šç”¨çš„Flaské•œåƒï¼Œåç»­é¡¹ç›®æ–‡ä»¶è‡ªå·±ä¸Šä¼ å°±è¡Œã€‚</p><p><strong>Flaské¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">flask_proj_demo</span><br><span class="line">â”œâ”€â”€ app</span><br><span class="line">â”‚   â”œâ”€â”€ templates</span><br><span class="line">â”‚       â””â”€â”€ index.html</span><br><span class="line">â”‚   â”œâ”€â”€ app.py</span><br><span class="line">â”‚   â”œâ”€â”€ Dockerfile</span><br><span class="line">â”‚   â””â”€â”€ requirements.txt</span><br></pre></td></tr></table></figure><h3 id="1-ç”Ÿæˆ-requirements-txtï¼ˆæœ¬åœ°ï¼‰"><a href="#1-ç”Ÿæˆ-requirements-txtï¼ˆæœ¬åœ°ï¼‰" class="headerlink" title="1.ç”Ÿæˆ requirements.txtï¼ˆæœ¬åœ°ï¼‰"></a>1.ç”Ÿæˆ requirements.txtï¼ˆæœ¬åœ°ï¼‰</h3><p>è¿›å…¥flask_proj_demoé¡¹ç›®ç›®å½•çš„appç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥ç”Ÿæˆé¡¹ç›®ç¯å¢ƒçš„ requirements.txt æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure><p><strong>requirements.txt ä¸¾ä¾‹</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">click&#x3D;&#x3D;8.0.1</span><br><span class="line">colorama&#x3D;&#x3D;0.4.4</span><br><span class="line">et-xmlfile&#x3D;&#x3D;1.1.0</span><br><span class="line">Flask&#x3D;&#x3D;2.0.1</span><br><span class="line">Flask-MySQLdb&#x3D;&#x3D;0.2.0</span><br><span class="line">Flask-SQLAlchemy&#x3D;&#x3D;2.5.1</span><br><span class="line">Flask-WTF&#x3D;&#x3D;0.15.1</span><br><span class="line">greenlet&#x3D;&#x3D;1.1.0</span><br><span class="line">itsdangerous&#x3D;&#x3D;2.0.1</span><br><span class="line">Jinja2&#x3D;&#x3D;3.0.1</span><br><span class="line">MarkupSafe&#x3D;&#x3D;2.0.1</span><br><span class="line">mysqlclient&#x3D;&#x3D;2.0.3</span><br><span class="line">numpy&#x3D;&#x3D;1.22.2</span><br><span class="line">openpyxl&#x3D;&#x3D;3.0.9</span><br><span class="line">pandas&#x3D;&#x3D;1.4.1</span><br><span class="line">PyMySQL&#x3D;&#x3D;1.0.2</span><br><span class="line">python-dateutil&#x3D;&#x3D;2.8.2</span><br><span class="line">pytz&#x3D;&#x3D;2021.3</span><br><span class="line">six&#x3D;&#x3D;1.16.0</span><br><span class="line">SQLAlchemy&#x3D;&#x3D;1.4.21</span><br><span class="line">Werkzeug&#x3D;&#x3D;2.0.1</span><br><span class="line">WTForms&#x3D;&#x3D;2.3.3</span><br><span class="line">xlrd&#x3D;&#x3D;2.0.1</span><br><span class="line">pandas&#x3D;&#x3D;1.4.1</span><br><span class="line">requests&#x3D;&#x3D;2.27.1</span><br><span class="line">selenium&#x3D;&#x3D;4.1.3</span><br><span class="line">urllib3&#x3D;&#x3D;1.26.9</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°é™¤äº†å¸¦Flaskä¸­å¸¸ç”¨çš„åº“ï¼Œä¹Ÿå¸¦äº†mysqlå’Œseleniumã€pandasè¿™äº›ï¼Œè¿™ç§éšä½ è‡ªå·±å°±è¡Œï¼Œä½ è‡ªå·±é¡¹ç›®ç»å¸¸ç”¨å“ªäº›å°±æ”¾å“ªäº›ã€‚ç”Ÿæˆçš„requirements.txtæ–‡ä»¶ä¸­å¦‚æœæœ‰äº›ç”¨ä¸ç€ï¼Œä¹Ÿå¯ä»¥åˆ é™¤çš„ã€‚</p><h3 id="2-ç”¨Dockerfile-æ–‡ä»¶åˆ›å»ºé•œåƒ"><a href="#2-ç”¨Dockerfile-æ–‡ä»¶åˆ›å»ºé•œåƒ" class="headerlink" title="2.ç”¨Dockerfile æ–‡ä»¶åˆ›å»ºé•œåƒ"></a>2.ç”¨Dockerfile æ–‡ä»¶åˆ›å»ºé•œåƒ</h3><p>Dockerfileæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># Use an official Python runtime as an image</span><br><span class="line"># FROMï¼šä¾èµ–çš„åŸºç¡€é•œåƒ python3.9ç‰ˆæœ¬</span><br><span class="line">FROM python:3.9</span><br><span class="line"></span><br><span class="line"># Sets the working directory for following COPY and CMD instructions</span><br><span class="line"># Notice we havenâ€™t created a directory by this name - this instruction</span><br><span class="line"># creates a directory with this name if it doesnâ€™t exist</span><br><span class="line"># WORKDIRï¼šè®¾ç½®å®¹å™¨å¯åŠ¨åçš„é»˜è®¤è¿è¡Œç›®å½• &#x2F;app</span><br><span class="line">WORKDIR &#x2F;app</span><br><span class="line"></span><br><span class="line"># copy code</span><br><span class="line"># COPY . &#x2F;app</span><br><span class="line"># COPYï¼šå¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨çš„&#x2F;appç›®å½•</span><br><span class="line">COPY requirements.txt &#x2F;app</span><br><span class="line"></span><br><span class="line"># RUN python -m pip install --upgrade pip</span><br><span class="line"># RUN pip install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host&#x3D;files.pythonhosted.org --no-cache-dir -r requirements.txt</span><br><span class="line"># RUNï¼šè¿è¡Œå‘½ä»¤ï¼Œå®‰è£…ä¾èµ– requirements.txtä¸­çš„åº“</span><br><span class="line">RUN pip3 install -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple --upgrade pip </span><br><span class="line">RUN pip3 install -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple -r requirements.txt </span><br><span class="line"></span><br><span class="line"># The EXPOSE instruction indicates the ports on which a container</span><br><span class="line"># EXPOSEï¼šç«¯å£æš´éœ² æˆ‘è¿™é‡Œapp.pyä¸­runçš„port&#x3D;5020ï¼Œæ‰€ä»¥æš´éœ²çš„æ˜¯è¿™ä¸ªç«¯å£</span><br><span class="line">EXPOSE 5020</span><br><span class="line"></span><br><span class="line"># Run app.py when the container launches</span><br><span class="line"># COPY app.py &#x2F;app</span><br><span class="line"># CMDæŒ‡ä»¤åªèƒ½ä¸€ä¸ªï¼Œæ˜¯å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œç®—æ˜¯ç¨‹åºçš„å…¥å£ï¼›å¦‚æœéœ€è¦è¿è¡Œå…¶ä»–å‘½ä»¤å¯ä»¥ç”¨&amp;&amp;è¿æ¥</span><br><span class="line"># CMD [&quot;python&quot;, &quot;app.py&quot;]</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå°±æŠŠè¿™æ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šã€‚æˆ‘è¿™ç›´æ¥ç”¨Xftpä¸Šä¼ åˆ°äº† <code>/root/flask/flask_proj_demo/app</code>ç›®å½•ã€‚</p><p>æœ€åç”¨SSHè¿æ¥æœåŠ¡å™¨ï¼Œè¿›å…¥åˆ° /root/flask/flask_proj_demo/app ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t flask_demo:v1.0 .</span><br></pre></td></tr></table></figure><blockquote><p>-t è®¾ç½®é•œåƒåå­—å’Œç‰ˆæœ¬å·</p></blockquote><p>æ‰§è¡Œå®Œï¼Œå°±å¯ä»¥ç”¨å‘½ä»¤ <code>docker images</code>çœ‹åˆ°ä»¥ä¸‹é•œåƒäº†ï¼ˆå½“ç„¶ä¹Ÿæœ‰python3.9çš„é•œåƒï¼‰ã€‚</p><h2 id="äºŒã€Dockerfile-æŒ‡ä»¤è¯¦è§£"><a href="#äºŒã€Dockerfile-æŒ‡ä»¤è¯¦è§£" class="headerlink" title="äºŒã€Dockerfile æŒ‡ä»¤è¯¦è§£"></a>äºŒã€Dockerfile æŒ‡ä»¤è¯¦è§£</h2><h3 id="1-å¸¸ç”¨æŒ‡ä»¤"><a href="#1-å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="1.å¸¸ç”¨æŒ‡ä»¤"></a>1.å¸¸ç”¨æŒ‡ä»¤</h3><p>å¸¸ç”¨çš„åŸºæœ¬ä¸Šå°±æ˜¯ä¸Šé¢ç”¨åˆ°çš„é‚£å‡ ä¸ªæŒ‡ä»¤ï¼š</p><blockquote><p>FROM python:3.9ï¼šä¾èµ–çš„åŸºç¡€é•œåƒ python3.9ç‰ˆæœ¬<br>WORKDIR /appï¼šè®¾ç½®å®¹å™¨å¯åŠ¨åçš„é»˜è®¤å·¥ä½œè¿è¡Œç›®å½• /app<br>COPY . /appï¼šå¤åˆ¶å½“å‰ç›®å½•ä¸‹æ–‡ä»¶åˆ°å®¹å™¨çš„/appç›®å½•<br>RUNï¼šæ‰§è¡Œå‘½ä»¤<br>EXPOSE 5020ï¼šæš´éœ²5020ç«¯å£<br>CMDï¼šCMDæŒ‡ä»¤åªèƒ½ä¸€ä¸ªï¼Œæ˜¯å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œç®—æ˜¯ç¨‹åºçš„å…¥å£</p></blockquote><h3 id="1-COPY-å¤åˆ¶æ–‡ä»¶"><a href="#1-COPY-å¤åˆ¶æ–‡ä»¶" class="headerlink" title="1.COPY å¤åˆ¶æ–‡ä»¶"></a>1.COPY å¤åˆ¶æ–‡ä»¶</h3><p>æ ¼å¼ï¼š<code>COPY [--chown=&lt;user&gt;:&lt;group&gt;] &lt;æºè·¯å¾„&gt;... &lt;ç›®æ ‡è·¯å¾„&gt;</code><br><code>--chown=&lt;user&gt;:&lt;group&gt;</code> å‚æ•°æ¥æ”¹å˜æ–‡ä»¶çš„æ‰€å±ç”¨æˆ·åŠæ‰€å±ç»„ã€‚</p><p>COPYæŒ‡ä»¤å¤åˆ¶ï¼Œæºæ–‡ä»¶çš„å„ç§å…ƒæ•°æ®éƒ½ä¼šä¿ç•™ã€‚</p><p>ä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">COPY . &#x2F;appï¼šå¤åˆ¶å½“å‰ç›®å½•ä¸‹æ–‡ä»¶åˆ°å®¹å™¨çš„&#x2F;appç›®å½•</span><br><span class="line">COPY requirements.txt &#x2F;appï¼šå¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨çš„&#x2F;appç›®å½•</span><br><span class="line">COPY --chown&#x3D;abcuser:mygroup . &#x2F;app</span><br></pre></td></tr></table></figure><h3 id="2-ADD-æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶"><a href="#2-ADD-æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶" class="headerlink" title="2.ADD æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶"></a>2.ADD æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶</h3><p>ADD æŒ‡ä»¤å’Œ COPY çš„æ ¼å¼å’Œæ€§è´¨åŸºæœ¬ä¸€è‡´ã€‚ä½†æ˜¯åœ¨ COPY åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›åŠŸèƒ½ã€‚</p><p><strong>æ¯”å¦‚ &lt;æºè·¯å¾„&gt; å¯ä»¥æ˜¯ä¸€ä¸ª URL</strong>ï¼Œ<br>è¿™ç§æƒ…å†µä¸‹ï¼ŒDocker å¼•æ“ä¼šè¯•å›¾å»ä¸‹è½½è¿™ä¸ªé“¾æ¥çš„æ–‡ä»¶æ”¾åˆ° &lt;ç›®æ ‡è·¯å¾„&gt; å»ã€‚ä¸‹è½½åçš„æ–‡ä»¶æƒé™è‡ªåŠ¨è®¾ç½®ä¸º 600ï¼Œå¦‚æœè¿™å¹¶ä¸æ˜¯æƒ³è¦çš„æƒé™ï¼Œé‚£ä¹ˆè¿˜éœ€è¦å¢åŠ é¢å¤–çš„ä¸€å±‚ RUN è¿›è¡Œæƒé™è°ƒæ•´ï¼Œå¦å¤–ï¼Œå¦‚æœä¸‹è½½çš„æ˜¯ä¸ªå‹ç¼©åŒ…ï¼Œéœ€è¦è§£å‹ç¼©ï¼Œä¹Ÿä¸€æ ·è¿˜éœ€è¦é¢å¤–çš„ä¸€å±‚ RUN æŒ‡ä»¤è¿›è¡Œè§£å‹ç¼©ã€‚<br>æ‰€ä»¥ä¸å¦‚ç›´æ¥ä½¿ç”¨ RUN æŒ‡ä»¤ï¼Œç„¶åä½¿ç”¨ wget æˆ–è€… curl å·¥å…·ä¸‹è½½ï¼Œå¤„ç†æƒé™ã€è§£å‹ç¼©ã€ç„¶åæ¸…ç†æ— ç”¨æ–‡ä»¶æ›´åˆç†ã€‚<strong>å› æ­¤ï¼Œè¿™ä¸ªåŠŸèƒ½å…¶å®å¹¶ä¸å®ç”¨ï¼Œè€Œä¸”ä¸æ¨èä½¿ç”¨ã€‚</strong></p><p><strong>å¦‚æœ &lt;æºè·¯å¾„&gt; ä¸ºä¸€ä¸ª tar å‹ç¼©æ–‡ä»¶çš„è¯</strong>ï¼Œ<br>å‹ç¼©æ ¼å¼ä¸º gzip, bzip2 ä»¥åŠ xz çš„æƒ…å†µä¸‹ï¼ŒADD æŒ‡ä»¤å°†ä¼šè‡ªåŠ¨è§£å‹ç¼©è¿™ä¸ªå‹ç¼©æ–‡ä»¶åˆ° &lt;ç›®æ ‡è·¯å¾„&gt; å»ã€‚</p><p>ä¸è¿‡ï¼ŒæŒ‰åœ¨Dockerå®˜æ–¹çš„ Dockerfileæœ€ä½³å®è·µæ–‡æ¡£ä¸­çš„è¦æ±‚ï¼Œå°½å¯èƒ½çš„ä½¿ç”¨COPYï¼Œå› ä¸º COPY çš„è¯­ä¹‰å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯å¤åˆ¶æ–‡ä»¶è€Œå·²ï¼Œè€Œ ADD åˆ™åŒ…å«äº†æ›´å¤æ‚çš„åŠŸèƒ½ï¼Œå…¶è¡Œä¸ºä¹Ÿä¸ä¸€å®šå¾ˆæ¸…æ™°ã€‚æœ€é€‚åˆä½¿ç”¨ ADD çš„åœºåˆï¼Œå°±æ˜¯æ‰€æåŠçš„éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆã€‚</p><p>æ‰€ä»¥é™¤äº†éœ€è¦è‡ªåŠ¨è§£å‹çš„åœºåˆï¼Œä¸€èˆ¬ç”¨COPYå°±è¡Œã€‚</p><h3 id="3-RUN-æ‰§è¡Œå‘½ä»¤"><a href="#3-RUN-æ‰§è¡Œå‘½ä»¤" class="headerlink" title="3.RUN æ‰§è¡Œå‘½ä»¤"></a>3.RUN æ‰§è¡Œå‘½ä»¤</h3><p>æ ¼å¼æœ‰ä¸¤ç§ï¼š<br>shell æ ¼å¼ï¼š<code>RUN &lt;å‘½ä»¤&gt;</code>ï¼Œå°±åƒç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥çš„å‘½ä»¤ä¸€æ ·ã€‚<br>exec æ ¼å¼ï¼š<code>RUN [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;]</code>ï¼Œè¿™æ›´åƒæ˜¯å‡½æ•°è°ƒç”¨ä¸­çš„æ ¼å¼ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RUN pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple --upgrade pip</span><br></pre></td></tr></table></figure><h3 id="4-CMD-æŒ‡ä»¤"><a href="#4-CMD-æŒ‡ä»¤" class="headerlink" title="4.CMD æŒ‡ä»¤"></a>4.CMD æŒ‡ä»¤</h3><p>CMDæŒ‡ä»¤åªèƒ½ä¸€ä¸ªï¼Œæ˜¯å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œç®—æ˜¯ç¨‹åºçš„å…¥å£ã€‚</p><p>1).æ ¼å¼</p><p>æ ¼å¼å’Œ RUN ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ä¸¤ç§æ ¼å¼ï¼š<br>shell æ ¼å¼ï¼š<code>CMD &lt;å‘½ä»¤&gt;</code><br>exec æ ¼å¼ï¼š<code>CMD [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;...]</code></p><p>å‚æ•°åˆ—è¡¨æ ¼å¼ï¼šCMD [â€œå‚æ•°1â€, â€œå‚æ•°2â€â€¦]ã€‚åœ¨æŒ‡å®šäº† ENTRYPOINT æŒ‡ä»¤åï¼Œç”¨ CMD æŒ‡å®šå…·ä½“çš„å‚æ•°ã€‚</p><p>2).ä¸¾ä¾‹</p><p>ubuntu é•œåƒé»˜è®¤çš„ CMD æ˜¯ <code>/bin/bash</code>ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ <code>docker run -it ubuntu</code> çš„è¯ï¼Œä¼šç›´æ¥è¿›å…¥ bashã€‚<br>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶æŒ‡å®šè¿è¡Œåˆ«çš„å‘½ä»¤ï¼Œå¦‚ <code>docker run -it ubuntu cat /etc/os-release</code>ã€‚è¿™å°±æ˜¯ç”¨ cat /etc/os-release å‘½ä»¤æ›¿æ¢äº†é»˜è®¤çš„ /bin/bash å‘½ä»¤äº†ï¼Œè¾“å‡ºäº†ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯ã€‚</p><p>åœ¨æŒ‡ä»¤æ ¼å¼ä¸Šï¼Œä¸€èˆ¬æ¨èä½¿ç”¨ exec æ ¼å¼ï¼Œè¿™ç±»æ ¼å¼åœ¨è§£ææ—¶ä¼šè¢«è§£æä¸º JSON æ•°ç»„ï¼Œå› æ­¤ä¸€å®šè¦ä½¿ç”¨åŒå¼•å· â€œï¼Œè€Œä¸è¦ä½¿ç”¨å•å¼•å·ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CMD <span class="built_in">echo</span> <span class="variable">$HOME</span></span><br></pre></td></tr></table></figure><p>åœ¨å®é™…æ‰§è¡Œä¸­ï¼Œä¼šå°†å…¶å˜æ›´ä¸ºï¼š<code>CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]</code></p><p>3).å®¹å™¨ä¸­åº”ç”¨åœ¨å‰å°æ‰§è¡Œï¼ˆé‡ç‚¹ï¼‰</p><p>Docker ä¸æ˜¯è™šæ‹Ÿæœºï¼Œå®¹å™¨ä¸­çš„åº”ç”¨éƒ½åº”è¯¥ä»¥å‰å°æ‰§è¡Œï¼Œè€Œä¸æ˜¯åƒè™šæ‹Ÿæœºã€ç‰©ç†æœºé‡Œé¢é‚£æ ·ï¼Œç”¨ systemd å»å¯åŠ¨åå°æœåŠ¡ï¼Œå®¹å™¨å†…æ²¡æœ‰åå°æœåŠ¡çš„æ¦‚å¿µã€‚</p><p>å¦‚æœCMDè¿™æ ·å†™ï¼š<code>CMD service nginx start</code>ï¼Œå°±ä¼šæœ‰é—®é¢˜äº†ã€‚</p><p>å‘ç°å®¹å™¨æ‰§è¡Œåå°±ç«‹å³é€€å‡ºäº†ã€‚ç”šè‡³åœ¨å®¹å™¨å†…å»ä½¿ç”¨ systemctl å‘½ä»¤ç»“æœå´å‘ç°æ ¹æœ¬æ‰§è¡Œä¸äº†ã€‚</p><p>è¿™å°±æ˜¯å› ä¸ºæ²¡æœ‰ææ˜ç™½å‰å°ã€åå°çš„æ¦‚å¿µï¼Œæ²¡æœ‰åŒºåˆ†å®¹å™¨å’Œè™šæ‹Ÿæœºçš„å·®å¼‚ï¼Œä¾æ—§åœ¨ä»¥ä¼ ç»Ÿè™šæ‹Ÿæœºçš„è§’åº¦å»ç†è§£å®¹å™¨ã€‚</p><p>å¯¹äºå®¹å™¨è€Œè¨€ï¼Œå…¶å¯åŠ¨ç¨‹åºå°±æ˜¯å®¹å™¨åº”ç”¨è¿›ç¨‹ï¼Œå®¹å™¨å°±æ˜¯ä¸ºäº†ä¸»è¿›ç¨‹è€Œå­˜åœ¨çš„ï¼Œä¸»è¿›ç¨‹é€€å‡ºï¼Œå®¹å™¨å°±å¤±å»äº†å­˜åœ¨çš„æ„ä¹‰ï¼Œä»è€Œé€€å‡ºï¼Œå…¶å®ƒè¾…åŠ©è¿›ç¨‹ä¸æ˜¯å®ƒéœ€è¦å…³å¿ƒçš„ä¸œè¥¿ã€‚</p><p>è€Œä½¿ç”¨ <code>service nginx start</code> å‘½ä»¤ï¼Œåˆ™æ˜¯å¸Œæœ› upstart æ¥ä»¥åå°å®ˆæŠ¤è¿›ç¨‹å½¢å¼å¯åŠ¨ nginx æœåŠ¡ã€‚è€Œåˆšæ‰è¯´äº† <code>CMD service nginx start</code> ä¼šè¢«ç†è§£ä¸º <code>CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;service nginx start&quot;]</code>ï¼Œå› æ­¤ä¸»è¿›ç¨‹å®é™…ä¸Šæ˜¯ shã€‚</p><p>é‚£ä¹ˆå½“ <code>service nginx start</code> å‘½ä»¤ç»“æŸåï¼Œsh ä¹Ÿå°±ç»“æŸäº†ï¼Œsh ä½œä¸ºä¸»è¿›ç¨‹é€€å‡ºäº†ï¼Œè‡ªç„¶å°±ä¼šä»¤å®¹å™¨é€€å‡ºã€‚</p><p>æ­£ç¡®çš„åšæ³•æ˜¯ç›´æ¥æ‰§è¡Œ nginx å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶ä¸”è¦æ±‚ä»¥å‰å°å½¢å¼è¿è¡Œã€‚æ¯”å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CMD [<span class="string">&quot;nginx&quot;</span>, <span class="string">&quot;-g&quot;</span>, <span class="string">&quot;daemon off;&quot;</span>]</span><br></pre></td></tr></table></figure><h3 id="5-EXPOSE-æš´éœ²ç«¯å£"><a href="#5-EXPOSE-æš´éœ²ç«¯å£" class="headerlink" title="5.EXPOSE æš´éœ²ç«¯å£"></a>5.EXPOSE æš´éœ²ç«¯å£</h3><p>æ ¼å¼ä¸ºï¼š<code>EXPOSE &lt;ç«¯å£1&gt; [&lt;ç«¯å£2&gt;...]</code></p><p>EXPOSE æŒ‡ä»¤æ˜¯å£°æ˜å®¹å™¨è¿è¡Œæ—¶æä¾›æœåŠ¡çš„ç«¯å£ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œåœ¨å®¹å™¨è¿è¡Œæ—¶å¹¶ä¸ä¼šå› ä¸ºè¿™ä¸ªå£°æ˜åº”ç”¨å°±ä¼šå¼€å¯è¿™ä¸ªç«¯å£çš„æœåŠ¡ã€‚</p><p>åœ¨ Dockerfile ä¸­å†™å…¥è¿™æ ·çš„å£°æ˜æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€ä¸ªæ˜¯å¸®åŠ©é•œåƒä½¿ç”¨è€…ç†è§£è¿™ä¸ªé•œåƒæœåŠ¡çš„å®ˆæŠ¤ç«¯å£ï¼Œä»¥æ–¹ä¾¿é…ç½®æ˜ å°„ï¼›å¦ä¸€ä¸ªç”¨å¤„åˆ™æ˜¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨éšæœºç«¯å£æ˜ å°„æ—¶ï¼Œä¹Ÿå°±æ˜¯ <code>docker run -P</code> æ—¶ï¼Œä¼šè‡ªåŠ¨éšæœºæ˜ å°„ EXPOSE çš„ç«¯å£ã€‚</p><p>è¦å°† EXPOSE å’Œåœ¨è¿è¡Œæ—¶ä½¿ç”¨ <code>-p &lt;å®¿ä¸»ç«¯å£&gt;:&lt;å®¹å™¨ç«¯å£&gt;</code> åŒºåˆ†å¼€æ¥ã€‚<br><code>-p</code>ï¼Œæ˜¯æ˜ å°„å®¿ä¸»ç«¯å£å’Œå®¹å™¨ç«¯å£ï¼Œå°±æ˜¯å°†å®¹å™¨çš„å¯¹åº”ç«¯å£æœåŠ¡å…¬å¼€ç»™å¤–ç•Œè®¿é—®ï¼›<br>è€Œ EXPOSE ä»…ä»…æ˜¯å£°æ˜å®¹å™¨æ‰“ç®—ä½¿ç”¨ä»€ä¹ˆç«¯å£è€Œå·²ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨åœ¨å®¿ä¸»è¿›è¡Œç«¯å£æ˜ å°„ã€‚</p><h3 id="6-ENV-è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#6-ENV-è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="6.ENV è®¾ç½®ç¯å¢ƒå˜é‡"></a>6.ENV è®¾ç½®ç¯å¢ƒå˜é‡</h3><p>æ ¼å¼æœ‰ä¸¤ç§ï¼š<br><code>ENV &lt;key&gt; &lt;value&gt;</code><br><code>ENV &lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;...</code></p><p>è¿™ä¸ªæŒ‡ä»¤å¾ˆç®€å•ï¼Œå°±æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡è€Œå·²ï¼Œæ— è®ºæ˜¯åé¢çš„å…¶å®ƒæŒ‡ä»¤ï¼Œå¦‚ RUNï¼Œè¿˜æ˜¯è¿è¡Œæ—¶çš„åº”ç”¨ï¼Œéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™é‡Œå®šä¹‰çš„ç¯å¢ƒå˜é‡ã€‚</p><p>æ¯”å¦‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼ˆDockerfileä¸­ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ENV NODE_VERSION 7.2.0</span><br><span class="line"></span><br><span class="line">RUN curl -SLO &quot;https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v$NODE_VERSION&#x2F;node-v$NODE_VERSION-linux-x64.tar.xz&quot; \</span><br><span class="line">  &amp;&amp; curl -SLO &quot;https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v$NODE_VERSION&#x2F;SHASUMS256.txt.asc&quot; \</span><br><span class="line">  &amp;&amp; gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc \</span><br><span class="line">  &amp;&amp; grep &quot; node-v$NODE_VERSION-linux-x64.tar.xz\$&quot; SHASUMS256.txt | sha256sum -c - \</span><br><span class="line">  &amp;&amp; tar -xJf &quot;node-v$NODE_VERSION-linux-x64.tar.xz&quot; -C &#x2F;usr&#x2F;local --strip-components&#x3D;1 \</span><br><span class="line">  &amp;&amp; rm &quot;node-v$NODE_VERSION-linux-x64.tar.xz&quot; SHASUMS256.txt.asc SHASUMS256.txt \</span><br><span class="line">  &amp;&amp; ln -s &#x2F;usr&#x2F;local&#x2F;bin&#x2F;node &#x2F;usr&#x2F;local&#x2F;bin&#x2F;nodejsENV NODE_VERSION 7.2.0</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå…ˆå®šä¹‰äº†ç¯å¢ƒå˜é‡ NODE_VERSIONï¼Œå…¶åçš„ RUN è¿™å±‚é‡Œï¼Œå¤šæ¬¡ä½¿ç”¨ $NODE_VERSION æ¥è¿›è¡Œæ“ä½œå®šåˆ¶ã€‚</p><p>é‚£å°†æ¥å‡çº§é•œåƒæ„å»ºç‰ˆæœ¬çš„æ—¶å€™ï¼Œåªéœ€è¦æ›´æ–° 7.2.0 å³å¯ï¼ŒDockerfile æ„å»ºç»´æŠ¤å˜å¾—æ›´è½»æ¾äº†ã€‚</p><p>ä¸‹åˆ—æŒ‡ä»¤æ”¯æŒç¯å¢ƒå˜é‡å±•å¼€ï¼š ADDã€COPYã€ENVã€EXPOSEã€FROMã€LABELã€USERã€WORKDIRã€VOLUMEã€STOPSIGNALã€ONBUILDã€RUNã€‚</p><h3 id="7-VOLUME-å®šä¹‰åŒ¿åå·"><a href="#7-VOLUME-å®šä¹‰åŒ¿åå·" class="headerlink" title="7.VOLUME å®šä¹‰åŒ¿åå·"></a>7.VOLUME å®šä¹‰åŒ¿åå·</h3><p>æ ¼å¼ä¸ºï¼š<br><code>VOLUME &lt;è·¯å¾„&gt;</code><br><code>VOLUME [&quot;&lt;è·¯å¾„1&gt;&quot;, &quot;&lt;è·¯å¾„2&gt;&quot;...]</code></p><p>å®¹å™¨è¿è¡Œæ—¶åº”è¯¥å°½é‡ä¿æŒå®¹å™¨å­˜å‚¨å±‚ä¸å‘ç”Ÿå†™æ“ä½œï¼Œå¯¹äºæ•°æ®åº“ç±»éœ€è¦ä¿å­˜åŠ¨æ€æ•°æ®çš„åº”ç”¨ï¼Œå…¶æ•°æ®åº“æ–‡ä»¶åº”è¯¥ä¿å­˜äºå·(volume)ä¸­ã€‚</p><p>ä¸ºäº†é˜²æ­¢è¿è¡Œæ—¶ç”¨æˆ·å¿˜è®°å°†åŠ¨æ€æ–‡ä»¶æ‰€ä¿å­˜ç›®å½•æŒ‚è½½ä¸ºå·ï¼Œåœ¨ Dockerfile ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥äº‹å…ˆæŒ‡å®šæŸäº›ç›®å½•æŒ‚è½½ä¸ºåŒ¿åå·ï¼Œè¿™æ ·åœ¨è¿è¡Œæ—¶å¦‚æœç”¨æˆ·ä¸æŒ‡å®šæŒ‚è½½ï¼Œå…¶åº”ç”¨ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä¸ä¼šå‘å®¹å™¨å­˜å‚¨å±‚å†™å…¥å¤§é‡æ•°æ®ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼ˆDockerfileä¸­ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VOLUME &#x2F;data</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ /data ç›®å½•å°±ä¼šåœ¨å®¹å™¨è¿è¡Œæ—¶è‡ªåŠ¨æŒ‚è½½ä¸ºåŒ¿åå·ï¼Œä»»ä½•å‘ /data ä¸­å†™å…¥çš„ä¿¡æ¯éƒ½ä¸ä¼šè®°å½•è¿›å®¹å™¨å­˜å‚¨å±‚ï¼Œä»è€Œä¿è¯äº†å®¹å™¨å­˜å‚¨å±‚çš„æ— çŠ¶æ€åŒ–ã€‚å½“ç„¶ï¼Œè¿è¡Œå®¹å™¨æ—¶å¯ä»¥è¦†ç›–è¿™ä¸ªæŒ‚è½½è®¾ç½®ã€‚</p><p>æ¯”å¦‚ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°±ä½¿ç”¨äº† mydata è¿™ä¸ªå‘½åå·æŒ‚è½½åˆ°äº† /data è¿™ä¸ªä½ç½®ï¼Œæ›¿ä»£äº† Dockerfile ä¸­å®šä¹‰çš„åŒ¿åå·çš„æŒ‚è½½é…ç½®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -v mydata:/data xxxx</span><br></pre></td></tr></table></figure><h3 id="8-å…¶å®ƒæŒ‡ä»¤"><a href="#8-å…¶å®ƒæŒ‡ä»¤" class="headerlink" title="8.å…¶å®ƒæŒ‡ä»¤"></a>8.å…¶å®ƒæŒ‡ä»¤</h3><p>è¿˜å‰©ä¸‹ä¸€äº›å…¶å®ƒçš„æŒ‡ä»¤ï¼Œè¿™é‡Œå°±ç®€å•åˆ—ä¸€ä¸‹äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USERï¼šæŒ‡å®šå½“å‰ç”¨æˆ· # æ ¼å¼ï¼šUSER &lt;ç”¨æˆ·å&gt;[:&lt;ç”¨æˆ·ç»„&gt;]</span><br><span class="line">ENTRYPOINTï¼šå…¥å£ç‚¹</span><br><span class="line">SHELLï¼šæŒ‡ä»¤ # æ ¼å¼ï¼šSHELL [&quot;executable&quot;, &quot;parameters&quot;]</span><br><span class="line">HEALTHCHECKï¼šå¥åº·æ£€æŸ¥ # æ ¼å¼ï¼šHEALTHCHECK [é€‰é¡¹] CMD &lt;å‘½ä»¤&gt;</span><br><span class="line">ONBUILDï¼šä¸ºä»–äººä½œå«è¡£è£³ # æ ¼å¼ï¼šONBUILD &lt;å…¶å®ƒæŒ‡ä»¤&gt;</span><br><span class="line">LABELï¼šä¸ºé•œåƒæ·»åŠ å…ƒæ•°æ®</span><br><span class="line">ARGï¼šæ„å»ºå‚æ•° # æ ¼å¼ï¼šARG &lt;å‚æ•°å&gt;[&#x3D;&lt;é»˜è®¤å€¼&gt;]</span><br></pre></td></tr></table></figure><p>éœ€è¦çœ‹å…·ä½“çš„ï¼Œç½‘ä¸Šä¸€æœéƒ½æœ‰ä»‹ç»ï¼Œæœ‰Dockerä»å…¥é—¨åˆ°å®è·µçš„æ–‡æ¡£ï¼š<a class="link"   href="https://yeasy.gitbook.io/docker_practice/image/dockerfile" >https://yeasy.gitbook.io/docker_practice/image/dockerfile<i class="fas fa-external-link-alt"></i></a></p><p>å®˜æ–¹é•œåƒçš„Dockerfile å‚è€ƒå…¸èŒƒï¼š<a class="link"   href="https://github.com/docker-library/docs" >https://github.com/docker-library/docs<i class="fas fa-external-link-alt"></i></a><br>å¯ä»¥ç…ç…ï¼Œå‚è€ƒå‚è€ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerç‰ˆSeleniumä½¿ç”¨æ–¹æ³•</title>
      <link href="/2022/05/29/Docker%E7%89%88Selenium%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2022/05/29/Docker%E7%89%88Selenium%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>Selenium åŒ…å« 3 å¤§ç»„ä»¶ï¼ŒSelenium IDEã€Selenium WebDriverã€Selenium Gridã€‚<br>Selenium IDEï¼šè´Ÿè´£å½•åˆ¶ã€å›æ”¾è„šæœ¬ï¼Œæ¨¡æ‹Ÿç”¨æˆ·å¯¹é¡µé¢çš„çœŸå®æ“ä½œã€‚<br>Selenium WebDriverï¼šæä¾› API æ¥æ“ä½œæµè§ˆå™¨ã€‚<br>Selenium Gridï¼šç”¨äºåˆ†å¸ƒå¼è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå¯ä»¥æ§åˆ¶å¤šå°æœºå™¨ã€å¤šä¸ªæµè§ˆå™¨å¹¶è¡Œæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚</p><p>æ­¤æ–‡ç”¨çš„å°±æ˜¯Dockerç‰ˆSelenium Gridï¼Œç”¨çš„ç¯å¢ƒæ˜¯ï¼šæœåŠ¡å™¨CentOS8.2ã€‚</p><p><strong>Selenium Grid Docker</strong><br>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://github.com/SeleniumHQ/docker-selenium/blob/trunk/README.md" >https://github.com/SeleniumHQ/docker-selenium/blob/trunk/README.md<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="ä¸€ã€pulléœ€è¦çš„dockeré•œåƒ"><a href="#ä¸€ã€pulléœ€è¦çš„dockeré•œåƒ" class="headerlink" title="ä¸€ã€pulléœ€è¦çš„dockeré•œåƒ"></a>ä¸€ã€pulléœ€è¦çš„dockeré•œåƒ</h2><p>ä½¿ç”¨åˆ°ä¸¤ä¸ªé•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull selenium/hub</span><br><span class="line">docker pull selenium/node-chrome</span><br></pre></td></tr></table></figure><p>selenium/node-chrome æ˜¯æ— ç•Œé¢çš„ã€‚</p><p>æ‹‰å–å®Œé•œåƒåï¼Œå¯ä»¥ç”¨ <code>docker images</code> æŸ¥çœ‹æ‰€æœ‰é•œåƒã€‚</p><p>è¦æƒ³èƒ½çœ‹åˆ°å®æ—¶è¿è¡Œç•Œé¢ï¼Œéœ€è¦pullä»¥ä¸‹é•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull selenium/standalone-chrome-debug</span><br></pre></td></tr></table></figure><h2 id="äºŒã€åˆ›å»ºå®¹å™¨"><a href="#äºŒã€åˆ›å»ºå®¹å™¨" class="headerlink" title="äºŒã€åˆ›å»ºå®¹å™¨"></a>äºŒã€åˆ›å»ºå®¹å™¨</h2><h3 id="1-åˆ›å»ºä¸€ä¸ªæ–°çš„-Docker-ç½‘ç»œ"><a href="#1-åˆ›å»ºä¸€ä¸ªæ–°çš„-Docker-ç½‘ç»œ" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ªæ–°çš„ Docker ç½‘ç»œ"></a>1.åˆ›å»ºä¸€ä¸ªæ–°çš„ Docker ç½‘ç»œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create my-grid</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡ <code>docker network ls</code>å‘½ä»¤æŸ¥çœ‹ç»“æœã€‚</p><h3 id="1-HubèŠ‚ç‚¹çš„å®¹å™¨"><a href="#1-HubèŠ‚ç‚¹çš„å®¹å™¨" class="headerlink" title="1.HubèŠ‚ç‚¹çš„å®¹å™¨"></a>1.HubèŠ‚ç‚¹çš„å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 4442-4444:4442-4444 --net my-grid --name selen-hub selenium/hub</span><br></pre></td></tr></table></figure><h3 id="2-NodeèŠ‚ç‚¹çš„å®¹å™¨"><a href="#2-NodeèŠ‚ç‚¹çš„å®¹å™¨" class="headerlink" title="2.NodeèŠ‚ç‚¹çš„å®¹å™¨"></a>2.NodeèŠ‚ç‚¹çš„å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --net my-grid -e SE_EVENT_BUS_HOST=selen-hub \</span><br><span class="line">--shm-size=<span class="string">&quot;2g&quot;</span> \</span><br><span class="line">-e SE_EVENT_BUS_PUBLISH_PORT=4442 \</span><br><span class="line">-e SE_EVENT_BUS_SUBSCRIBE_PORT=4443 \</span><br><span class="line">-p 5900:5900 \</span><br><span class="line">-p 7900:7900 \</span><br><span class="line">-v /dev/shm:/dev/shm \</span><br><span class="line">--name selen-node-chrome1 selenium/node-chrome</span><br></pre></td></tr></table></figure><blockquote><p>5900 ç«¯å£æ˜¯ç»™VNCå®¢æˆ·ç«¯ç”¨çš„<br>7900 ç«¯å£æ˜¯ç»™noVNCç”¨çš„</p></blockquote><p>å®¹å™¨å¯ä»¥é€šè¿‡ <code>docker ps -a</code>å‘½ä»¤æŸ¥çœ‹ ã€‚</p><p>æœåŠ¡èµ·æ¥äº†ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ï¼ˆæˆ‘çš„æœåŠ¡å™¨ipä¸ºï¼š43.142.94.65ï¼‰ï¼š<br><a class="link"   href="http://43.142.94.65:4444/" >http://43.142.94.65:4444<i class="fas fa-external-link-alt"></i></a></p><p>ç»“æœå¦‚ä¸‹ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_Selenium_1.png"                                     ></p><p>ç‚¹å¼€ç‰ˆæœ¬å·ä¸Šé¢çš„1ï¼Œå¯ä»¥çœ‹åˆ°æœ‰å¦‚ä¸‹ä¿¡æ¯ï¼ˆè¿™äº›ä¿¡æ¯æœ‰ç”¨çš„ï¼Œè®°ä¸€ä¸‹ï¼Œä»£ç é‡Œä¼šç”¨åˆ°è¿™äº›å‚æ•°ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;browserName&quot;:&quot;chrome&quot;,&quot;browserVersion&quot;:&quot;102.0&quot;,&quot;platformName&quot;:&quot;Linux&quot;,&quot;se:noVncPort&quot;:7900,&quot;se:vncEnabled&quot;:true&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ä½¿ç”¨docker-composeåˆ›å»º"><a href="#3-ä½¿ç”¨docker-composeåˆ›å»º" class="headerlink" title="3. ä½¿ç”¨docker-composeåˆ›å»º"></a>3. ä½¿ç”¨docker-composeåˆ›å»º</h3><p>å¦‚æœä¸æƒ³ç”¨ä¸Šé¢è¿™ç§ä¾æ¬¡åˆ›å»ºå®¹å™¨çš„æ–¹æ³•ï¼Œå°±ç›´æ¥ç”¨docker-composeä¸€èµ·åˆ›å»ºï¼ˆå†…å®¹å¯¹ç…§ä¸Šé¢çš„ä¸€æ ·çš„ï¼‰ã€‚</p><p>docker-compose.yml æ–‡ä»¶æ¨¡æ¿å¦‚ä¸‹ï¼ˆGithubä¸Šä¹Ÿæœ‰æ¨¡æ¿ï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># To execute this docker-compose yml file use `docker-compose -f docker-compose-v3.yml up`</span></span><br><span class="line"><span class="comment"># Add the `-d` flag at the end for detached execution</span></span><br><span class="line"><span class="comment"># To stop the execution, hit Ctrl+C, and then `docker-compose -f docker-compose-v3.yml down`</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">chrome:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">selenium/node-chrome:latest</span></span><br><span class="line">    <span class="attr">shm_size:</span> <span class="string">2gb</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">selenium-hub</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SE_EVENT_BUS_HOST=selen-hub</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SE_EVENT_BUS_PUBLISH_PORT=4442</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SE_EVENT_BUS_SUBSCRIBE_PORT=4443</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">my-grid</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5900:5900&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;7900:7900&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">firefox:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">selenium/node-firefox:latest</span></span><br><span class="line">    <span class="attr">shm_size:</span> <span class="string">2gb</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">selenium-hub</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SE_EVENT_BUS_HOST=selen-hub</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SE_EVENT_BUS_PUBLISH_PORT=4442</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SE_EVENT_BUS_SUBSCRIBE_PORT=4443</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">my-grid</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5901:5900&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;7901:7900&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">selenium-hub:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">selenium/hub:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">selen-hub</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;4442:4442&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;4443:4443&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;4444:4444&quot;</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">my-grid</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">my-grid:</span></span><br></pre></td></tr></table></figure><p>æŠŠdocker-compose.yml æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åè¿›å…¥æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿è¡Œå®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><blockquote><p>-d ï¼šåå°è¿è¡Œ</p></blockquote><p>å¦‚æœæ–‡ä»¶åæ²¡ç”¨é»˜è®¤çš„ docker-compose.ymlï¼Œå°±å‚è€ƒä¸Šé¢çš„æç¤ºï¼ŒåŠ ä¸Š-f çš„æ–‡ä»¶å‚æ•°å°±è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose -f docker-compose-v3.yml up -d</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œåï¼Œé€šè¿‡<code>docker ps -a</code>æŸ¥çœ‹å®¹å™¨åˆ—è¡¨ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæ·»åŠ äº†3ä¸ªå®¹å™¨ï¼ˆå®¹å™¨éœ€è¦åŠ nameçš„ï¼Œè‡ªå·±æ·»åŠ ä¸€ä¸‹container_nameå‚æ•°ï¼›è¿˜æœ‰ä¸ªfirefoxä¸éœ€è¦çš„å°±åˆ é™¤æˆ–è€…æ³¨é‡Šæ‰å°±è¡Œã€‚ï¼‰ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_Selenium_2.png"                                     ></p><p>è¦åˆ é™¤è¿™äº›å®¹å™¨ä¹Ÿç®€å•ï¼Œå¯ä»¥ä¸€é”®åˆ é™¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose -f docker-compose-v3.yml down</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€ä½¿ç”¨Pythonè°ƒç”¨Selenium-Grid"><a href="#ä¸‰ã€ä½¿ç”¨Pythonè°ƒç”¨Selenium-Grid" class="headerlink" title="ä¸‰ã€ä½¿ç”¨Pythonè°ƒç”¨Selenium Grid"></a>ä¸‰ã€ä½¿ç”¨Pythonè°ƒç”¨Selenium Grid</h2><p>è¿™åæ­£è·Ÿå¹³å¸¸çš„Selenium WebDriverä¸€æ ·çš„ï¼Œå‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼š<a href="/2022/05/04/Python-Selenium%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/" title="Python Seleniumä½¿ç”¨ä¸¾ä¾‹">Python Seleniumä½¿ç”¨ä¸¾ä¾‹</a></p><p>ä¸»è¦å°±æ˜¯å¼€å¤´è®¾ç½®æœ‰äº›ä¸ä¸€æ ·ã€‚è¿™é‡Œå°±éœ€è¦ç”¨åˆ° <a class="link"   href="http://43.142.94.65:4444/" >http://43.142.94.65:4444<i class="fas fa-external-link-alt"></i></a> è¿è¡Œåçš„è¿™äº›ä¿¡æ¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;browserName&quot;:&quot;chrome&quot;,&quot;browserVersion&quot;:&quot;102.0&quot;,&quot;platformName&quot;:&quot;Linux&quot;,&quot;se:noVncPort&quot;:7900,&quot;se:vncEnabled&quot;:true&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸¾ä¾‹ï¼ˆtest.pyï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">selenium_grid_url = <span class="string">&#x27;http://43.142.94.65:4444/wd/hub&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># selenium</span></span><br><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line">option.set_capability(<span class="string">&quot;browserName&quot;</span>, <span class="string">&quot;chrome&quot;</span>)</span><br><span class="line">option.set_capability(<span class="string">&quot;browserVersion&quot;</span>, <span class="string">&quot;102.0&quot;</span>)</span><br><span class="line">option.set_capability(<span class="string">&quot;platformName&quot;</span>, <span class="string">&quot;Linux&quot;</span>)</span><br><span class="line">wd = webdriver.Remote(command_executor=selenium_grid_url, options=option)</span><br><span class="line"></span><br><span class="line">wd.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨WebDriver å¯¹è±¡çš„getæ–¹æ³• å¯ä»¥è®©æµè§ˆå™¨æ‰“å¼€æŒ‡å®šç½‘å€</span></span><br><span class="line">wd.get(<span class="string">&#x27;https://cn.bing.com/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(wd.title) <span class="comment"># æ‰“å°ç½‘é¡µæ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®idé€‰æ‹©å…ƒç´ ï¼Œè¿”å›çš„å°±æ˜¯è¯¥å…ƒç´ å¯¹åº”çš„WebElementå¯¹è±¡</span></span><br><span class="line"><span class="comment"># element = wd.find_element_by_id(&#x27;c&#x27;) # selenium3å†™æ³•</span></span><br><span class="line">element = wd.find_element(By.ID,<span class="string">&#x27;sb_form_q&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡è¯¥ WebElementå¯¹è±¡ï¼Œå°±å¯ä»¥å¯¹é¡µé¢å…ƒç´ è¿›è¡Œæ“ä½œäº†</span></span><br><span class="line"><span class="comment"># æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²åˆ° è¿™ä¸ª è¾“å…¥æ¡†é‡Œ</span></span><br><span class="line"><span class="comment"># element.send_keys(&#x27;äº”å››é’å¹´èŠ‚\n&#x27;)</span></span><br><span class="line">element.send_keys(<span class="string">&#x27;äº”å››é’å¹´èŠ‚&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">element2 = wd.find_element(By.ID, <span class="string">&#x27;search_icon&#x27;</span>)</span><br><span class="line">element2.click()</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">wd.quit()</span><br></pre></td></tr></table></figure><p>ç”¨å‘½ä»¤è¿è¡Œè¿™ä¸ªPythonæ–‡ä»¶ï¼Œ<code>python test.py</code>å°±å¯ä»¥çœ‹åˆ°è¿è¡Œç»“æœäº†ã€‚ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢è¿œç¨‹è§‚çœ‹çš„æ–¹å¼çœ‹åˆ°è¿è¡Œè¿‡ç¨‹ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_Selenium_3.png"                                     ></p><h2 id="å››ã€è¿œç¨‹è§‚çœ‹"><a href="#å››ã€è¿œç¨‹è§‚çœ‹" class="headerlink" title="å››ã€è¿œç¨‹è§‚çœ‹"></a>å››ã€è¿œç¨‹è§‚çœ‹</h2><p>Selenium æç¤ºVNCå®¢æˆ·ç«¯å’Œæµè§ˆå™¨ä¸¤ç§è¿œç¨‹æ–¹æ³•ã€‚</p><h3 id="1-VNCå®¢æˆ·ç«¯"><a href="#1-VNCå®¢æˆ·ç«¯" class="headerlink" title="1.VNCå®¢æˆ·ç«¯"></a>1.VNCå®¢æˆ·ç«¯</h3><p>vnc vieweræ˜¯ä¸€æ¬¾ä¼˜ç§€çš„è¿œç¨‹æ§åˆ¶å·¥å…·è½¯ä»¶ã€‚<br>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a class="link"   href="https://www.realvnc.com/en/connect/download/viewer/" >https://www.realvnc.com/en/connect/download/viewer/<i class="fas fa-external-link-alt"></i></a></p><p>å®‰è£…å¥½ä»¥å File-&gt;New connectionï¼Œåœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­è¾“å…¥nodeçš„ipå’Œç«¯å£å·ï¼ˆæ¯”å¦‚æˆ‘è¿™å°±æ˜¯43.142.94.65:5900ï¼ŒNameéšæ„ï¼‰ï¼Œä¿å­˜ååŒå‡»å¯åŠ¨ã€‚<br>è¿æ¥ï¼Œä¼šè¦æ±‚è¾“å…¥å¯†ç ï¼Œé»˜è®¤å¯†ç ï¼šsecret</p><p>è¿æ¥ä¸Šåï¼Œå†è¿è¡ŒPython seleniumçš„ä»£ç ï¼Œå°±èƒ½çœ‹åˆ°è¿è¡Œè¿‡ç¨‹äº†ã€‚ï¼ˆç»“æœå°±åƒä¸Šé¢é‚£å¼ å›¾ä¸€æ ·ï¼‰</p><h3 id="2-ä½¿ç”¨æµè§ˆå™¨ï¼ˆnoVNCï¼‰"><a href="#2-ä½¿ç”¨æµè§ˆå™¨ï¼ˆnoVNCï¼‰" class="headerlink" title="2.ä½¿ç”¨æµè§ˆå™¨ï¼ˆnoVNCï¼‰"></a>2.ä½¿ç”¨æµè§ˆå™¨ï¼ˆnoVNCï¼‰</h3><p>æˆ‘çš„æœåŠ¡å™¨ipä¸ºï¼š43.142.94.65ï¼Œæ˜ å°„å‡ºæ¥çš„ç«¯å£ä¹Ÿæ˜¯7900ï¼Œé‚£æ‰“å¼€åœ°å€å°±æ˜¯ï¼š</p><p><a class="link"   href="http://43.142.94.65:7900/vnc.html" >http://43.142.94.65:7900/vnc.html<i class="fas fa-external-link-alt"></i></a></p><p>é»˜è®¤å¯†ç ï¼šsecret</p><p>æ•ˆæœè·Ÿä¸Šé¢ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>PS.æ³¨æ„æœåŠ¡å™¨é˜²ç«å¢™è®¾ç½®é‡Œè¿™å‡ ä¸ªç”¨åˆ°çš„ç«¯å£å¼€ä¸€ä¸‹ã€‚ï¼ˆdocker-compose.yml æ–‡ä»¶é‡Œé‚£äº›ä¸ªç«¯å£ï¼‰</p><h2 id="å°ç»“çš„è¯"><a href="#å°ç»“çš„è¯" class="headerlink" title="å°ç»“çš„è¯"></a>å°ç»“çš„è¯</h2><p>æœ‰äº†è¿™äº›å¯ä»¥åšäº›ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>åŠ ä¸Šå‰é¢ä¸€ç¯‡æ–‡ç« ï¼š<a href="/2022/05/28/%E6%9C%8D%E5%8A%A1%E5%99%A8Docker%E6%90%AD%E5%BB%BAFlask%E5%BA%94%E7%94%A8%EF%BC%88%E4%B8%80%EF%BC%89/" title="æœåŠ¡å™¨ Dockeræ­å»ºFlaskåº”ç”¨ï¼ˆä¸€ï¼‰">æœåŠ¡å™¨ Dockeræ­å»ºFlaskåº”ç”¨ï¼ˆä¸€ï¼‰</a>ï¼Œå°±åœ¨æœåŠ¡å™¨ä¸Šç”¨Dockeråˆ›å»ºäº†3ä¸ªå®¹å™¨ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>Flaskåº”ç”¨çš„å®¹å™¨</li><li>selenium hubçš„å®¹å™¨</li><li>selenium node-chromeçš„å®¹å™¨</li></ul><p>è¿™æ ·å°±å¯ä»¥åœ¨Flaskåº”ç”¨çš„å®¹å™¨ä¸­ï¼Œä»£ç ç”¨seleniumçˆ¬å–æ•°æ®ï¼Œå†™ä¸€ä¸ªgetæ¥å£ï¼Œè¿”å›jsonæ•°æ®ï¼›æˆ–è€…åšè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
            <tag> Python </tag>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡å™¨ Dockeræ­å»ºFlaskåº”ç”¨ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/05/28/%E6%9C%8D%E5%8A%A1%E5%99%A8Docker%E6%90%AD%E5%BB%BAFlask%E5%BA%94%E7%94%A8%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2022/05/28/%E6%9C%8D%E5%8A%A1%E5%99%A8Docker%E6%90%AD%E5%BB%BAFlask%E5%BA%94%E7%94%A8%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>ç”¨Pythonçš„Webæ¡†æ¶â€”â€”Flaskå†™äº†åº”ç”¨ï¼Œç„¶åå°±å¯ä»¥æ”¾åˆ°æœåŠ¡å™¨ä¸Šã€‚</p><p>ç”¨Dockerçš„è¯ï¼Œè´¼æ–¹ä¾¿ã€‚è‡ªå·±ç”¨çš„Flaské¡¹ç›®çš„åŸºç¡€ç¯å¢ƒï¼ˆå®‰è£…éœ€è¦çš„å¸¸ç”¨çš„åº“ï¼‰ï¼Œå¯ä»¥æ‰“åŒ…æˆä¸€ä¸ªç¯å¢ƒé•œåƒã€‚</p><p>ç„¶åæ–°å»ºFlaské¡¹ç›®çš„è¯ï¼Œå°±åœ¨è¿™ä¸ªé•œåƒçš„åŸºç¡€ä¸Šå»ºå®¹å™¨å°±è¡Œäº†ã€‚<br>éœ€è¦MySQLçš„è¯ï¼Œå†å»ºä¸ªMySQLçš„å®¹å™¨ç”¨å°±è¡Œã€‚</p><p>æ­¤æ–‡æ˜¯ä¸€ä¸ªæœ€åŸºç¡€ç‰ˆï¼Œè¿˜æ²¡å¸¦æ•°æ®åº“MySQLã€‚ç”¨çš„æœåŠ¡å™¨æ˜¯CentOS8.2ç‰ˆæœ¬ã€‚<br>å¦‚æœéœ€è¦é…ç½®MySQLçš„ï¼Œçœ‹è¿™ç¯‡ï¼š<a href="/2023/01/14/%E6%9C%8D%E5%8A%A1%E5%99%A8Docker%E6%90%AD%E5%BB%BAFlask%E5%BA%94%E7%94%A8%EF%BC%88%E4%BA%8C%EF%BC%89/" title="æœåŠ¡å™¨Dockeræ­å»ºFlaskåº”ç”¨ï¼ˆäºŒï¼‰">æœåŠ¡å™¨Dockeræ­å»ºFlaskåº”ç”¨ï¼ˆäºŒï¼‰</a>ï¼Œ</p><a id="more"></a><h2 id="ä¸€ã€åˆ›å»ºFlaské¡¹ç›®ç¯å¢ƒé•œåƒï¼ˆæœåŠ¡å™¨ï¼‰"><a href="#ä¸€ã€åˆ›å»ºFlaské¡¹ç›®ç¯å¢ƒé•œåƒï¼ˆæœåŠ¡å™¨ï¼‰" class="headerlink" title="ä¸€ã€åˆ›å»ºFlaské¡¹ç›®ç¯å¢ƒé•œåƒï¼ˆæœåŠ¡å™¨ï¼‰"></a>ä¸€ã€åˆ›å»ºFlaské¡¹ç›®ç¯å¢ƒé•œåƒï¼ˆæœåŠ¡å™¨ï¼‰</h2><h3 id="1-é¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰"><a href="#1-é¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰" class="headerlink" title="1.é¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰"></a>1.é¡¹ç›®ç»“æ„ï¼ˆæ ·ä¾‹ï¼‰</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">book_isbn</span><br><span class="line">â”œâ”€â”€ app</span><br><span class="line">â”‚   â”œâ”€â”€ templates</span><br><span class="line">â”‚       â””â”€â”€ index.html</span><br><span class="line">â”‚   â”œâ”€â”€ app.py</span><br><span class="line">â”‚   â”œâ”€â”€ Dockerfile</span><br><span class="line">â”‚   â””â”€â”€ requirements.txt</span><br></pre></td></tr></table></figure><h3 id="2-ç”Ÿæˆ-requirements-txtï¼ˆæœ¬åœ°ï¼‰"><a href="#2-ç”Ÿæˆ-requirements-txtï¼ˆæœ¬åœ°ï¼‰" class="headerlink" title="2.ç”Ÿæˆ requirements.txtï¼ˆæœ¬åœ°ï¼‰"></a>2.ç”Ÿæˆ requirements.txtï¼ˆæœ¬åœ°ï¼‰</h3><p>è¿›å…¥book_isbné¡¹ç›®ç›®å½•çš„appç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥ç”Ÿæˆé¡¹ç›®ç¯å¢ƒçš„ requirements.txt æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure><p><strong>requirements.txt ä¸¾ä¾‹</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">click&#x3D;&#x3D;8.0.1</span><br><span class="line">colorama&#x3D;&#x3D;0.4.4</span><br><span class="line">et-xmlfile&#x3D;&#x3D;1.1.0</span><br><span class="line">Flask&#x3D;&#x3D;2.0.1</span><br><span class="line">Flask-MySQLdb&#x3D;&#x3D;0.2.0</span><br><span class="line">Flask-SQLAlchemy&#x3D;&#x3D;2.5.1</span><br><span class="line">Flask-WTF&#x3D;&#x3D;0.15.1</span><br><span class="line">greenlet&#x3D;&#x3D;1.1.0</span><br><span class="line">itsdangerous&#x3D;&#x3D;2.0.1</span><br><span class="line">Jinja2&#x3D;&#x3D;3.0.1</span><br><span class="line">MarkupSafe&#x3D;&#x3D;2.0.1</span><br><span class="line">mysqlclient&#x3D;&#x3D;2.0.3</span><br><span class="line">numpy&#x3D;&#x3D;1.22.2</span><br><span class="line">openpyxl&#x3D;&#x3D;3.0.9</span><br><span class="line">pandas&#x3D;&#x3D;1.4.1</span><br><span class="line">PyMySQL&#x3D;&#x3D;1.0.2</span><br><span class="line">python-dateutil&#x3D;&#x3D;2.8.2</span><br><span class="line">pytz&#x3D;&#x3D;2021.3</span><br><span class="line">six&#x3D;&#x3D;1.16.0</span><br><span class="line">SQLAlchemy&#x3D;&#x3D;1.4.21</span><br><span class="line">Werkzeug&#x3D;&#x3D;2.0.1</span><br><span class="line">WTForms&#x3D;&#x3D;2.3.3</span><br><span class="line">xlrd&#x3D;&#x3D;2.0.1</span><br><span class="line">pandas&#x3D;&#x3D;1.4.1</span><br><span class="line">requests&#x3D;&#x3D;2.27.1</span><br><span class="line">selenium&#x3D;&#x3D;4.1.3</span><br><span class="line">urllib3&#x3D;&#x3D;1.26.9</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°é™¤äº†å¸¦Flaskä¸­å¸¸ç”¨çš„åº“ï¼Œä¹Ÿå¸¦äº†mysqlå’Œseleniumã€pandasè¿™äº›ï¼Œè¿™ç§éšä½ è‡ªå·±å°±è¡Œï¼Œç”Ÿæˆçš„requirements.txtæ–‡ä»¶ä¸­å¦‚æœæœ‰å“ªäº›ç”¨ä¸ç€ï¼Œä¹Ÿå¯ä»¥åˆ é™¤çš„ã€‚è¿™ä¸ªåªè¦ç”¨åˆ°çš„åº“éƒ½è£…ä¸Šäº†ï¼Œå…¶å®ƒçš„å…³ç³»ä¸å¤§ã€‚</p><h3 id="3-ç”¨Dockerfile-æ–‡ä»¶åˆ›å»ºé•œåƒ"><a href="#3-ç”¨Dockerfile-æ–‡ä»¶åˆ›å»ºé•œåƒ" class="headerlink" title="3.ç”¨Dockerfile æ–‡ä»¶åˆ›å»ºé•œåƒ"></a>3.ç”¨Dockerfile æ–‡ä»¶åˆ›å»ºé•œåƒ</h3><p>Dockerfileæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># Use an official Python runtime as an image</span><br><span class="line">FROM python:3.9</span><br><span class="line"></span><br><span class="line"># Sets the working directory for following COPY and CMD instructions</span><br><span class="line"># Notice we havenâ€™t created a directory by this name - this instruction</span><br><span class="line"># creates a directory with this name if it doesnâ€™t exist</span><br><span class="line">WORKDIR &#x2F;app</span><br><span class="line"></span><br><span class="line"># copy code</span><br><span class="line"># COPY . &#x2F;app</span><br><span class="line">COPY requirements.txt &#x2F;app</span><br><span class="line"></span><br><span class="line"># RUN python -m pip install --upgrade pip</span><br><span class="line"># RUN pip install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host&#x3D;files.pythonhosted.org --no-cache-dir -r requirements.txt</span><br><span class="line">RUN pip3 install -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple --upgrade pip </span><br><span class="line">RUN pip3 install -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple -r requirements.txt </span><br><span class="line"></span><br><span class="line"># The EXPOSE instruction indicates the ports on which a container</span><br><span class="line"># æˆ‘è¿™é‡Œapp.pyä¸­runçš„port&#x3D;5020ï¼Œæ‰€ä»¥å¼€çš„æ˜¯è¿™ä¸ªç«¯å£ï¼Œä½ çš„çœ‹ä½ è‡ªå·±çš„è®¾ç½®</span><br><span class="line">EXPOSE 5020</span><br><span class="line"></span><br><span class="line"># Run app.py when the container launches</span><br><span class="line">COPY app.py &#x2F;app</span><br><span class="line"># CMD [&quot;python&quot;, &quot;app.py&quot;]</span><br></pre></td></tr></table></figure><p><code>EXPOSE 5020</code>ï¼šè¿™é‡Œéœ€è¦æ”¹æˆä½ è‡ªå·±è®¾ç½®çš„ç«¯å£å·ã€‚<br>åˆ«çš„å¯ä»¥å•¥ä¹Ÿä¸ç”¨æ”¹ã€‚</p><p>å½“ç„¶ï¼Œç°åœ¨éœ€è¦æŠŠè¿™æ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šã€‚æˆ‘è¿™ç›´æ¥ç”¨Xftpä¸Šä¼ åˆ°äº† <code>/root/flask/book_isbn/app</code>ç›®å½•ã€‚</p><p>ç„¶åSSHè¿æ¥æœåŠ¡å™¨ï¼Œè¿›å…¥åˆ° /root/flask/book_isbn/app ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t book_isbn:v1.0 .</span><br></pre></td></tr></table></figure><blockquote><p>-t è®¾ç½®é•œåƒåå­—å’Œç‰ˆæœ¬å·</p></blockquote><p>æ‰§è¡Œå®Œï¼Œå°±å¯ä»¥ç”¨å‘½ä»¤ <code>docker images</code>çœ‹åˆ°ä»¥ä¸‹é•œåƒäº†ï¼ˆå½“ç„¶ä¹Ÿæœ‰python3.9çš„é•œåƒï¼‰ã€‚å¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_Python_Flask_interface_1.png"                                     ></p><p><strong>æ³¨æ„</strong>ï¼šæœ‰ä¸€ç‚¹è¯´æ˜ä¸€ä¸‹ï¼Œå¦‚æœä½ çš„Flaské¡¹ç›®æ˜¯åšä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ï¼Œåç»­ä¸ä¿®æ”¹ä»£ç ï¼Œç›´æ¥æ‰“åŒ…çš„ä¸€ä¸ªWebé¡¹ç›®ã€‚é‚£requirements.txt æ–‡ä»¶å°±ä¸ç”¨éƒ½æ‰”è¿›å»ï¼›è¿™ä¸ªDockerfileæ–‡ä»¶ä¹Ÿä¸èƒ½è¿™æ ·å†™ç®€ç•¥ï¼Œè¦æŠŠé¡¹ç›®ä»£ç éƒ½copyè¿›å»ï¼Œç›´æ¥çš„CMDä¹Ÿè¦ç”¨èµ·æ¥ï¼Œè¦è¿è¡Œapp.pyçš„ã€‚ï¼ˆæˆ‘è¿™åªæ˜¯æ­åŸºç¡€ç¯å¢ƒçš„ï¼Œéƒ½æ˜¯åç»­åœ¨é‡Œé¢æ”¹é¡¹ç›®ä»£ç çš„ï¼‰</p><h2 id="äºŒã€åˆ›å»ºFlaské¡¹ç›®å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰"><a href="#äºŒã€åˆ›å»ºFlaské¡¹ç›®å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰" class="headerlink" title="äºŒã€åˆ›å»ºFlaské¡¹ç›®å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰"></a>äºŒã€åˆ›å»ºFlaské¡¹ç›®å®¹å™¨ï¼ˆæœåŠ¡å™¨ï¼‰</h2><p>ç›´æ¥æ ¹æ®åˆšåˆ›å»ºçš„é•œåƒï¼šbook_isbn:v1.0 åˆ›å»ºä¸€ä¸ªå®¹å™¨ã€‚</p><h3 id="1-åˆ›å»ºå®¹å™¨ï¼ˆbook-isbnï¼‰"><a href="#1-åˆ›å»ºå®¹å™¨ï¼ˆbook-isbnï¼‰" class="headerlink" title="1.åˆ›å»ºå®¹å™¨ï¼ˆbook_isbnï¼‰"></a>1.åˆ›å»ºå®¹å™¨ï¼ˆbook_isbnï¼‰</h3><p>åé€€ï¼ˆ<code>cd ..</code>ï¼‰ï¼Œå›åˆ°book_isbnç›®å½•ä¸‹ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run -dit --restart=always \</span><br><span class="line">-p 5020:5020 \</span><br><span class="line">-p 5022:22 \</span><br><span class="line">-v `<span class="built_in">pwd</span>`/docker_app/:/app/ \</span><br><span class="line">--name book_isbn book_isbn:v1.0 /bin/bash</span><br></pre></td></tr></table></figure><blockquote><p><code>pwd</code>/docker_app/ï¼šå…¶ä¸­pwdæ˜¯ç”¨çš„å‘½ä»¤å½¢å¼ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•ã€‚<br>ç¬¬4è¡Œè¡¨ç¤ºå°†æœåŠ¡å™¨ä¸­çš„ å½“å‰ç›®å½•ä¸‹çš„docker_app ç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ /appç›®å½•ï¼ˆè¿™æ˜¯åˆ›å»ºé•œåƒæ—¶è®¾çš„WORKDIR å·¥ä½œç›®å½•</p></blockquote><p>æ‰§è¡Œå®Œåï¼Œç”¨<code>docker ps -a</code>å‘½ä»¤æŸ¥çœ‹ï¼Œå°±å¯ä»¥å®¹å™¨åˆ—è¡¨äº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_Python_Flask_interface_2.png"                                     ></p><p>åŒæ—¶ï¼Œåœ¨book_isbnç›®å½•ä¸‹ä¹Ÿç”Ÿæˆäº†ä¸€ä¸ª docker_appç›®å½•ã€‚</p><h3 id="2-æŠŠappç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker-appç›®å½•ä¸­"><a href="#2-æŠŠappç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker-appç›®å½•ä¸­" class="headerlink" title="2.æŠŠappç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker_appç›®å½•ä¸­"></a>2.æŠŠappç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker_appç›®å½•ä¸­</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r app/. docker_app/</span><br></pre></td></tr></table></figure><blockquote><p>cp -r app docker_app/ ï¼šè¡¨ç¤ºå°†appç›®å½•åŠå…¶ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker_appç›®å½•ä¸‹ï¼Œå°±ä¼šæœ‰ docker_app/appç›®å½•</p><p>cp -r app/. docker_app/ ï¼šè¡¨ç¤ºå°†appç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°docker_appç›®å½•ä¸‹ï¼Œä¸åŒ…æ‹¬appç›®å½•</p></blockquote><p>ä»¥åè¦æ”¹å®¹å™¨ä¸­çš„ä»£ç ï¼Œå°±ç›´æ¥æ”¹è¿™ä¸ªç›®å½•ä¸‹çš„ä»£ç å°±è¡Œäº†ã€‚<br>å¯ä»¥ç”¨VS Codeè¿œç¨‹è¿æ¥ï¼Œä¹Ÿå¯ä»¥ç”¨Cloud Studioï¼Œç„¶åä¿®æ”¹é¡¹ç›®ä¸­çš„æ–‡ä»¶å°±è¡Œã€‚</p><p>è€ŒåŸæ¥çš„book_isbn/appç›®å½•ä¹Ÿä¸éœ€è¦äº†ï¼Œå¯ä»¥åˆ é™¤ï¼Œä¸åˆ é™¤ä¹…äº†è‡ªå·±å¯èƒ½ä¹Ÿä¼šå¿˜è®°ã€ææ··ã€‚å¯ä»¥éœ€è¦é‡æ–°åˆ›å»ºå®¹å™¨çš„æ—¶å€™å†ä¸Šä¼ å°±è¡Œäº†ã€‚</p><h2 id="ä¸‰ã€åå°ä¸€ç›´è¿è¡Œapp-py"><a href="#ä¸‰ã€åå°ä¸€ç›´è¿è¡Œapp-py" class="headerlink" title="ä¸‰ã€åå°ä¸€ç›´è¿è¡Œapp.py"></a>ä¸‰ã€åå°ä¸€ç›´è¿è¡Œapp.py</h2><p>è¿™ä¸ªç”¨<code>nohup</code>å‘½ä»¤ï¼Œæœ‰æ–‡ç« å†™è¿‡ä»‹ç»äº†ï¼š<a href="/2022/05/02/Linux-nohup-%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C-%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" title="Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£">Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£</a></p><h3 id="1-è¿›å…¥å®¹å™¨"><a href="#1-è¿›å…¥å®¹å™¨" class="headerlink" title="1.è¿›å…¥å®¹å™¨"></a>1.è¿›å…¥å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it book_isbn /bin/bash</span><br></pre></td></tr></table></figure><h3 id="2-åå°è¿è¡ŒFlaské¡¹ç›®"><a href="#2-åå°è¿è¡ŒFlaské¡¹ç›®" class="headerlink" title="2.åå°è¿è¡ŒFlaské¡¹ç›®"></a>2.åå°è¿è¡ŒFlaské¡¹ç›®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup python -u app.py &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œä¼šæ˜¾ç¤ºè¿›ç¨‹çš„PIDã€‚</p><p><strong>å‘½ä»¤è¯¦è§£</strong>ï¼š</p><blockquote><p>1.æœ€åä¸€ä¸ªâ€œ&amp;â€ï¼šè¡¨ç¤ºåå°è¿è¡Œç¨‹åº<br>2.â€œnohupâ€ ï¼šè¡¨ç¤ºç¨‹åºä¸è¢«æŒ‚èµ·<br>3.â€œpythonâ€ï¼šå³python.exeï¼Œæ‰§è¡Œpythonä»£ç <br>4.â€œ-uâ€ï¼šè¡¨ç¤ºä¸å¯ç”¨ç¼“å­˜ï¼Œå®æ—¶è¾“å‡ºæ‰“å°ä¿¡æ¯åˆ°æ—¥å¿—æ–‡ä»¶ï¼ˆå¦‚æœä¸åŠ -uï¼Œåˆ™ä¼šå¯¼è‡´æ—¥å¿—æ–‡ä»¶ä¸ä¼šå®æ—¶åˆ·æ–°ä»£ç ä¸­çš„printå‡½æ•°çš„ä¿¡æ¯ï¼‰<br>5.â€œapp.pyâ€ï¼šè¡¨ç¤ºpythonçš„æºä»£ç æ–‡ä»¶<br>6.â€œ&gt;â€ï¼šè¡¨ç¤ºå°†æ‰“å°ä¿¡æ¯é‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶<br>7.â€œ/dev/nullâ€ï¼šæˆ‘è¿™é‡Œå°±ä¸è¦æ—¥å¿—æ–‡ä»¶äº†<br>8.â€œ2&gt;&amp;1â€ï¼šè¡¨ç¤ºå°†æ ‡å‡†é”™è¯¯è¾“å‡ºè½¬å˜åŒ–æ ‡å‡†è¾“å‡ºï¼Œå¯ä»¥å°†é”™è¯¯ä¿¡æ¯ä¹Ÿè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼ˆ0-&gt; stdin, 1-&gt;stdout, 2-&gt;stderrï¼‰</p></blockquote><p>å½“åå°è¿è¡Œapp.pyåï¼Œå°±å¯ä»¥é€šè¿‡æœåŠ¡å™¨çš„ipåœ°å€è®¿é—®äº†ã€‚æ¯”å¦‚æˆ‘çš„æœåŠ¡å™¨ipåœ°å€ä¸ºï¼š43.142.94.65ï¼Œé‚£åœ¨æµè§ˆå™¨é‡Œå°±å¯ä»¥ç”¨ä»¥ä¸‹åœ°å€è®¿é—®äº†ï¼š<a class="link"   href="http://43.142.94.65:5020/" >http://43.142.94.65:5020/<i class="fas fa-external-link-alt"></i></a><br>å¦‚å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_Python_Flask_interface_3.png"                                     ></p><h3 id="3-ç»“æŸåå°è¿è¡Œè¿›ç¨‹ï¼ˆå®¹å™¨å†…ï¼‰"><a href="#3-ç»“æŸåå°è¿è¡Œè¿›ç¨‹ï¼ˆå®¹å™¨å†…ï¼‰" class="headerlink" title="3.ç»“æŸåå°è¿è¡Œè¿›ç¨‹ï¼ˆå®¹å™¨å†…ï¼‰"></a>3.ç»“æŸåå°è¿è¡Œè¿›ç¨‹ï¼ˆå®¹å™¨å†…ï¼‰</h3><p>è¿›ç¨‹åœ¨åå°è¿è¡Œï¼Œæƒ³è¦å…³é—­å°±è¦æŸ¥çœ‹è¿›ç¨‹çš„PIDã€‚æƒ³è¦ä¿®æ”¹ä»£ç ï¼Œå°±éœ€è¦å…ˆç»“æŸè¿›ç¨‹ã€‚</p><p>å¯ä»¥é€šè¿‡æœç´¢æŸ¥æ‰¾è¿™ä¸ªå‘½ä»¤çš„PIDã€‚</p><p><strong>1).ç”¨å‘½ä»¤æŸ¥æ‰¾è¿›ç¨‹çš„PID</strong></p><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥æ‰¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep <span class="string">&quot;app.py&quot;</span></span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Docker_Python_Flask_interface_4.png"                                      ></p><p>ç”¨æˆ·ååé¢ä¸€é¡¹å°±æ˜¯PIDï¼Œå¯ä»¥çœ‹åˆ°PID=36ã€‚</p><p>è¿˜å¯ä»¥ç”¨ <code>top -p 36</code>å‘½ä»¤ç¡®è®¤ä¸‹471è¿›ç¨‹æ˜¯ä¸æ˜¯è¿™ä¸ªapp.pyçš„è¿›ç¨‹ã€‚</p><p><strong>2).ç»“æŸè¿›ç¨‹</strong></p><p>è¿è¡Œå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> [PID]</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚ä¸Šé¢çš„è¿›ç¨‹å°±æ˜¯<code>kill 36</code>ï¼Œå°±å¯ä»¥ç»“æŸè¿™ä¸ªapp.pyçš„è¿›ç¨‹äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è¡Œæ”¿åŠå…¬ç³»åˆ—ã€‘Pythonæ‰¹é‡å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å</title>
      <link href="/2022/05/28/%E3%80%90%E8%A1%8C%E6%94%BF%E5%8A%9E%E5%85%AC%E7%B3%BB%E5%88%97%E3%80%91Python%E6%89%B9%E9%87%8F%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6%E5%B9%B6%E9%87%8D%E5%91%BD%E5%90%8D/"/>
      <url>/2022/05/28/%E3%80%90%E8%A1%8C%E6%94%BF%E5%8A%9E%E5%85%AC%E7%B3%BB%E5%88%97%E3%80%91Python%E6%89%B9%E9%87%8F%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6%E5%B9%B6%E9%87%8D%E5%91%BD%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<p><strong>é—®é¢˜æè¿°</strong>ï¼š</p><p>æ¯”å¦‚æˆ‘éœ€è¦æ”¶é›†å…¨éƒ¨å‘˜å·¥å¡«å†™åçš„ä¸€ä»½èµ„æ–™ï¼Œè¦è®©æ¯ä¸ªäººå¡«å†™æŸä¸ªæ–‡æ¡£ï¼ˆæ¨¡æ¿ï¼‰ã€‚ç°åœ¨æ‰‹ä¸Šæœ‰ä¸ªåå•åˆ—è¡¨ã€‚</p><p>è€ƒè™‘åˆ°é’‰é’‰ç¾¤é‡Œé¢ï¼Œéƒ¨åˆ†äººæ²¡æœ‰ç”µè„‘ï¼Œåªæœ‰æ‰‹æœºçš„ï¼Œç”¨æ‰‹æœºä¸‹è½½æ–‡ä»¶å†ç¼–è¾‘ä¸Šä¼ æ¯”å¦‚éº»çƒ¦ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œå°±å¯ä»¥å»ºä¸ªæ–‡ä»¶å¤¹ï¼ŒæŠŠæ¨¡æ¿çš„æ–‡æ¡£å¤åˆ¶åˆ°æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¾æ¬¡é‡å‘½åä¸ºå‘˜å·¥å§“åçš„æ–‡ä»¶åã€‚</p><p>ç„¶åæŠŠæ•´ä¸ªæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°é’‰é’‰ç¾¤å°±å¯ä»¥äº†ã€‚ç¾¤æˆå‘˜æ‰¾åˆ°æ–‡ä»¶å¤¹ä¸­è‡ªå·±åå­—çš„æ–‡æ¡£ï¼Œç›´æ¥åœ¨çº¿ç¼–è¾‘å°±è¡Œäº†ã€‚</p><a id="more"></a><p>å½“ç„¶ï¼Œä¸Šé¢åªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œä¸»è¦æ˜¯æ–¹ä¾¿åœ¨é’‰é’‰ç¾¤ä¸­æ–¹ä¾¿ç¾¤å‘˜ç”¨æ‰‹æœºæ“ä½œã€‚</p><p>æ­¤æ–‡ä¸»è¦ä»‹ç»ç”¨Pythonè¯»å–Excelä¸­å§“ååˆ—è¡¨ï¼Œå†æ‰¹é‡å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½åçš„æ–¹æ³•ã€‚</p><p><strong>å®ç°æ€è·¯</strong>ï¼š</p><ul><li>è¯»å–Excelè¡¨ä¸­å§“ååˆ—çš„æ•°æ®</li><li>åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œç”¨æ¥æ”¾æ‰€æœ‰çš„æ–‡æ¡£</li><li>å¾ªç¯éå†å§“ååˆ—è¡¨ï¼ˆListï¼‰ï¼Œä¾æ¬¡å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å</li></ul><h2 id="ä¸€ã€ç”¨openpyxlåº“è¯»å–Excelè¡¨æ ¼"><a href="#ä¸€ã€ç”¨openpyxlåº“è¯»å–Excelè¡¨æ ¼" class="headerlink" title="ä¸€ã€ç”¨openpyxlåº“è¯»å–Excelè¡¨æ ¼"></a>ä¸€ã€ç”¨openpyxlåº“è¯»å–Excelè¡¨æ ¼</h2><p>openpyxl åº“æ˜¯Pythonç”¨æ¥æ“ä½œExcelè¡¨æ ¼ï¼ˆ.xlsxï¼‰ä¸€ä¸ªåº“ã€‚è¿™é‡Œåªç®€å•ä»‹ç»æ€ä¹ˆè¯»å–ä¸€åˆ—æ•°æ®ï¼Œä¸ä½œè¯¦ç»†ä»‹ç»ã€‚</p><p>æ¯”å¦‚æœ‰è¿™æ ·ä¸€å¼ è¡¨ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/OfficeSeries_Python_copyfile_rename_1.png"                                     ></p><p>æˆ‘ä»¬æ€ä¹ˆæŠŠAåˆ—çš„æ•°æ®è¯»å‡ºæ¥ã€‚</p><h3 id="1-å®‰è£…openpyxl-åº“"><a href="#1-å®‰è£…openpyxl-åº“" class="headerlink" title="1.å®‰è£…openpyxl åº“"></a>1.å®‰è£…openpyxl åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install openpyxl</span><br></pre></td></tr></table></figure><h3 id="2-è¯»å–Excelä¸€åˆ—ï¼ˆAåˆ—ï¼‰æ•°æ®"><a href="#2-è¯»å–Excelä¸€åˆ—ï¼ˆAåˆ—ï¼‰æ•°æ®" class="headerlink" title="2.è¯»å–Excelä¸€åˆ—ï¼ˆAåˆ—ï¼‰æ•°æ®"></a>2.è¯»å–Excelä¸€åˆ—ï¼ˆAåˆ—ï¼‰æ•°æ®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä» Excelæ–‡ä»¶ä¸­è¯»å– æŒ‡å®šåˆ—(col_name) çš„æ•°æ®è¿”å›List</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_from_excel_by_col_name</span>(<span class="params">ex_file, sheet_name, col_name</span>):</span></span><br><span class="line">    <span class="keyword">if</span>(os.path.exists(ex_file)):</span><br><span class="line">        book = openpyxl.load_workbook(ex_file)</span><br><span class="line">        sheet = book[sheet_name]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    value_list = []</span><br><span class="line">    <span class="keyword">for</span> col_num <span class="keyword">in</span> sheet[col_name]:</span><br><span class="line">        value_list.append(col_num.value)</span><br><span class="line">    book.close()</span><br><span class="line">    <span class="keyword">return</span> value_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># name_list å³è·å–åˆ°çš„å§“ååˆ—è¡¨ e.g [&#x27;1è€å½§&#x27;,&#x27;2è€æ”¸&#x27;]</span></span><br><span class="line">name_list = read_from_excel_by_col_name(<span class="string">&#x27;ä¿¡æ¯è¡¨.xlsx&#x27;</span>, <span class="string">&#x27;Sheet1&#x27;</span>, <span class="string">&#x27;A&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="äºŒã€åˆ›å»ºæ–‡ä»¶å¤¹"><a href="#äºŒã€åˆ›å»ºæ–‡ä»¶å¤¹" class="headerlink" title="äºŒã€åˆ›å»ºæ–‡ä»¶å¤¹"></a>äºŒã€åˆ›å»ºæ–‡ä»¶å¤¹</h2><p>è¿™ä¸ªç®€å•ï¼Œç›´æ¥ç”¨Pythonè‡ªå¸¦çš„osåº“çš„makedirs()æ–¹æ³•å°±è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkdir</span>(<span class="params">path</span>):</span></span><br><span class="line">    outdir = os.path.exists(path)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> outdir:</span><br><span class="line">        os.makedirs(path)</span><br><span class="line"></span><br><span class="line">mkdir(<span class="string">&#x27;D:\107è½¨è¿¹ç¡®è®¤ä¹¦&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å"><a href="#ä¸‰ã€å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å" class="headerlink" title="ä¸‰ã€å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å"></a>ä¸‰ã€å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å</h2><p>ç”¨shutilåº“ï¼Œå®ç°å¯¹æ–‡ä»¶çš„å¤åˆ¶æ“ä½œï¼Œä¹‹å‰ä¸€ç¯‡æ–‡ç« ä¸“é—¨è®²äº†è¿™ä¸ªåº“çš„ç”¨æ³•ä¸¾ä¾‹ï¼š<a href="/2022/05/15/Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-shutil%E5%BA%93%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/" title="Pythonæ–‡ä»¶æ“ä½œ shutilåº“ä½¿ç”¨ä¸¾ä¾‹">Pythonæ–‡ä»¶æ“ä½œ shutilåº“ä½¿ç”¨ä¸¾ä¾‹</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">temp_file = <span class="string">r&#x27;D:\a.docx&#x27;</span> <span class="comment"># æ¨¡æ¿æ–‡ä»¶</span></span><br><span class="line">houzhui = <span class="string">&#x27;.&#x27;</span> + temp_file.split(<span class="string">&#x27;.&#x27;</span>)[-<span class="number">1</span>] <span class="comment"># æ¨¡æ¿æ–‡ä»¶åç¼€ .docx</span></span><br><span class="line"></span><br><span class="line">dst_path = <span class="string">r&#x27;D:\107è½¨è¿¹ç¡®è®¤ä¹¦&#x27;</span> <span class="comment"># å­˜æ”¾æ–°æ–‡ä»¶çš„ç›®å½•</span></span><br><span class="line">new_file_name = <span class="string">&#x27;1è€å½§&#x27;</span></span><br><span class="line">dst = dst_path + <span class="string">&#x27;\\&#x27;</span> + new_file_name + houzhui <span class="comment"># &#x27;D:\107è½¨è¿¹ç¡®è®¤ä¹¦\1è€å½§.docx&#x27; è¿™ä¸ªè·¯å¾„æ˜¯windowsä¸‹å†™æ³•</span></span><br><span class="line"></span><br><span class="line">shutil.copy(temp_file, dst) <span class="comment"># å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å</span></span><br></pre></td></tr></table></figure><h2 id="å››ã€å®Œæ•´ä»£ç ä¸¾ä¾‹"><a href="#å››ã€å®Œæ•´ä»£ç ä¸¾ä¾‹" class="headerlink" title="å››ã€å®Œæ•´ä»£ç ä¸¾ä¾‹"></a>å››ã€å®Œæ•´ä»£ç ä¸¾ä¾‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os, shutil</span><br><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkdir</span>(<span class="params">path</span>):</span></span><br><span class="line">    outdir = os.path.exists(path)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> outdir:</span><br><span class="line">        os.makedirs(path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä» Excelæ–‡ä»¶ä¸­è¯»å– æŒ‡å®šåˆ—(col_name) çš„æ•°æ®è¿”å›List</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_from_excel_by_col_name</span>(<span class="params">ex_file, sheet_name, col_name</span>):</span></span><br><span class="line">    <span class="keyword">if</span>(os.path.exists(ex_file)):</span><br><span class="line">        book = openpyxl.load_workbook(ex_file)</span><br><span class="line">        sheet = book[sheet_name]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    value_list = []</span><br><span class="line">    <span class="keyword">for</span> col_num <span class="keyword">in</span> sheet[col_name]:</span><br><span class="line">        value_list.append(col_num.value)</span><br><span class="line">    book.close()</span><br><span class="line">    <span class="keyword">return</span> value_list</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    ex_file = <span class="string">r&#x27;.\ä¿¡æ¯è¡¨.xlsx&#x27;</span></span><br><span class="line">    temp_file = <span class="string">r&#x27;C:\èŠ‚å‡æ—¥ç¦»æ ¡è¿”å®¶å¸ˆç”Ÿå‘˜å·¥è¡ŒåŠ¨è½¨è¿¹ç¡®è®¤ä¹¦.doc&#x27;</span></span><br><span class="line">    houzhui = <span class="string">&#x27;.&#x27;</span> + temp_file.split(<span class="string">&#x27;.&#x27;</span>)[-<span class="number">1</span>] <span class="comment"># .doc</span></span><br><span class="line">    <span class="comment"># print(houzhui)</span></span><br><span class="line"></span><br><span class="line">    dst_path = <span class="string">r&#x27;D:\107è½¨è¿¹ç¡®è®¤ä¹¦&#x27;</span></span><br><span class="line">    mkdir(dst_path) <span class="comment"># åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–å§“ååˆ—è¡¨</span></span><br><span class="line">    name_list = read_from_excel_by_col_name(ex_file, <span class="string">&#x27;Sheet1&#x27;</span>, <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">    <span class="comment"># print(name_list)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‰¹é‡å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å</span></span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> name_list:</span><br><span class="line">        dst = dst_path + <span class="string">&#x27;\\&#x27;</span> + name + houzhui</span><br><span class="line">        shutil.copy(temp_file, dst)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-------------fine!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"><span class="comment"># print(os.getcwd()) # æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•è·¯å¾„</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œåç»“æœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/OfficeSeries_Python_copyfile_rename_2.png"                                     ></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šä½ çš„ç¬¬ä¸€æœ¬ä¿é™©æŒ‡å—ã€‹ä¹¦æ‘˜&amp;ç¬”è®°</title>
      <link href="/2022/05/22/%E3%80%8A%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E6%9C%AC%E4%BF%9D%E9%99%A9%E6%8C%87%E5%8D%97%E3%80%8B%E4%B9%A6%E6%91%98-%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/05/22/%E3%80%8A%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E6%9C%AC%E4%BF%9D%E9%99%A9%E6%8C%87%E5%8D%97%E3%80%8B%E4%B9%A6%E6%91%98-%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>ä¹¦å</th><th>ã€Šä½ çš„ç¬¬ä¸€æœ¬ä¿é™©æŒ‡å—ã€‹</th></tr></thead><tbody><tr><td>ä½œè€…</td><td>æ§½å”</td></tr><tr><td>å‡ºç‰ˆç¤¾</td><td>ä¸­ä¿¡å‡ºç‰ˆç¤¾</td></tr><tr><td>å‡ºç‰ˆæ—¶é—´</td><td>2018-09</td></tr><tr><td>è±†ç“£è¯„åˆ†</td><td>8.4åˆ† â˜…â˜…â˜…â˜…â˜† ï¼ˆæ¨èï¼‰</td></tr><tr><td>æˆ‘çš„è¯„è®º</td><td>ç§‘æ™®æ€§å¾ˆå¼ºï¼Œç‰¹åˆ«é€‚åˆå°ç™½çœ‹çœ‹ã€äº†è§£ä¸€ä¸‹ã€‚å†™çš„æŒºç®€å•æ˜“æ‡‚çš„ã€‚</td></tr></tbody></table><a id="more"></a><p>å‡è®¾æœ‰ä»¶å•†å“ï¼Œä½ çœ‹ä¸è§ä¹Ÿæ‘¸ä¸ç€ï¼Œåªèƒ½â€œè„‘è¡¥â€å®ƒçš„ä»·å€¼å’Œä½œç”¨ã€‚æ›´è¦å‘½çš„æ˜¯ï¼Œèº«è¾¹è¿˜æœ‰å¾ˆå¤šäººå¯¹ä½ è¯´ï¼šä½ çš„è¿™äº›è„‘è¡¥å¯èƒ½éƒ½æ˜¯å‡çš„ã€‚é‚£ä½ è¿˜ä¼šä¹°å—ï¼Ÿ ä¿é™©å°±æ˜¯è¿™æ ·ä¸€ç§ã€‚</p><p>æ­»äº¡å’Œç–¾ç—…æ˜¯æœ€ç›´è§‚çš„ä¸¤å¤§é£é™©ï¼Œå› ä¸ºå®¹æ˜“ç†è§£ï¼Œæ¶ˆè´¹è€…æ™®éå¾ˆè®¤åŒã€‚é’ˆå¯¹è¿™ä¸¤å¤§é£é™©ï¼Œä¿é™©å…¬å¸å¼€å‘äº†<strong>å¯¿é™©</strong>å’Œ<strong>é‡å¤§ç–¾ç—…é™©</strong>ä¸¤ç§äº§å“ã€‚</p><p>å››å¤§ä¿é™©é‡‘åˆšï¼šå®šæœŸå¯¿é™©ã€æ„å¤–é™©ã€é‡å¤§ç–¾ç—…é™©ã€å•†ä¸šåŒ»ç–—é™©ã€‚</p><h2 id="ä¸€ã€å¯¿é™©"><a href="#ä¸€ã€å¯¿é™©" class="headerlink" title="ä¸€ã€å¯¿é™©"></a>ä¸€ã€å¯¿é™©</h2><p>å¯¹<strong>ç»ˆèº«å¯¿é™©</strong>çš„æè¿°ï¼Œå°±æ˜¯å…¶æ¶µç›–çš„èº«æ•…è´£ä»»ï¼šæ— è®ºæŠ•ä¿äººæ´»åˆ°å¤šå°‘å²ï¼Œåªè¦èº«æ•…å°±å¯ä»¥è·å¾—ä¸€ç¬”ç†èµ”é‡‘ã€‚</p><p>æ¯”å¦‚ç»ˆèº«å¯¿é™©ï¼Œè¿™æ¬¾äº§å“åŒ…å«èº«æ•…è´£ä»»ï¼Œä¸»è¦æ˜¯ä¸ºäº†åº”å¯¹è¢«ä¿äººæ­»äº¡çš„é£é™©ã€‚å¦‚æœè¢«ä¿äººä¸å¹¸èº«æ•…ï¼Œä¿é™©å…¬å¸ä¾¿ä¼šä¸ºå…¶ä¿é™©å—ç›Šäººæä¾›ä¸€ç¬”å®šé¢ç†èµ”é‡‘ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¾—ç¢ç£¨ï¼šä»€ä¹ˆæ ·çš„äººåœ¨èº«æ•…åï¼Œéœ€è¦ç•™ä¸‹ä¸€ç¬”é’±å‘¢ï¼Ÿä»–ä»¬æ›´å¯èƒ½æ˜¯ä½œä¸ºå®¶åº­æ”¯æŸ±çš„çˆ¶æ¯ï¼Œè€Œä¸æ˜¯å­å¥³ã€‚ç”±æ­¤æˆ‘ä»¬çŸ¥é“ï¼Œå¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä¸ºå­©å­è´­ä¹°ç»ˆèº«å¯¿é™©ã€‚</p><h2 id="äºŒã€æ„å¤–é™©"><a href="#äºŒã€æ„å¤–é™©" class="headerlink" title="äºŒã€æ„å¤–é™©"></a>äºŒã€æ„å¤–é™©</h2><h3 id="1ã€æ„å¤–çš„å®šä¹‰"><a href="#1ã€æ„å¤–çš„å®šä¹‰" class="headerlink" title="1ã€æ„å¤–çš„å®šä¹‰"></a>1ã€æ„å¤–çš„å®šä¹‰</h3><blockquote><p>é­å—å¤–æ¥çš„ã€çªå‘çš„ã€éæœ¬æ„çš„ã€éç–¾ç—…çš„ä½¿èº«ä½“å—åˆ°ä¼¤å®³çš„å®¢è§‚äº‹ä»¶ã€‚è‡ªç„¶æ­»äº¡ã€ç–¾ç—…èº«æ•…ã€çŒæ­»ã€ è‡ªæ€åŠè‡ªä¼¤å‡ä¸å±äºæ„å¤–ä¼¤å®³ã€‚</p></blockquote><p>åœ¨æ¯ä»½æ„å¤–é™©çš„ä¿é™©æ¡æ¬¾é‡Œï¼Œä½ éƒ½èƒ½çœ‹åˆ°è¿™æ ·çš„æè¿°ã€‚è¿™æ®µè¯è¡¨è¾¾äº†ä¸¤å±‚æ„æ€ï¼š</p><ul><li>ç¬¬ä¸€ï¼Œå¤–æ¥çš„ã€çªå‘çš„ã€éæœ¬æ„çš„ã€éç–¾ç—…çš„ä½¿èº«ä½“å—åˆ°ä¼¤å®³çš„å®¢è§‚äº‹ä»¶ï¼Œå±äºæ„å¤–ï¼›</li><li>ç¬¬äºŒï¼Œ è‡ªç„¶æ­»äº¡ã€ç–¾ç—…èº«æ•…ã€çŒæ­»ã€è‡ªæ€åŠè‡ªä¼¤ï¼Œä¸å±äºæ„å¤–ã€‚</li></ul><h3 id="2ã€æ„å¤–é™©çš„è´£ä»»"><a href="#2ã€æ„å¤–é™©çš„è´£ä»»" class="headerlink" title="2ã€æ„å¤–é™©çš„è´£ä»»"></a>2ã€æ„å¤–é™©çš„è´£ä»»</h3><p>æ„å¤–é™©åªåŒ…å«<strong>æ„å¤–èº«æ•…</strong>å’Œ<strong>æ„å¤–ä¼¤æ®‹</strong>ä¸¤é¡¹è´£ä»»ï¼Œå¹¶ä¸åŒ…å«æ„å¤–åŒ»ç–—ã€‚</p><p>ä¸€èµ·æ„å¤–äº‹ä»¶å¯èƒ½å¸¦æ¥ä¸¤ç§ç»“æœï¼Œä¸€æ˜¯å—ä¼¤ï¼ŒäºŒæ˜¯èº«æ•…ã€‚å¦‚æœä¸€ä»½æ„å¤–é™©åªæ¶µç›–æ„å¤–èº«æ•…ï¼Œå› ä¸ºæ„å¤–å¯¼è‡´çš„å—ä¼¤å°±æ— æ³•è·èµ”ã€‚<br><em>ï¼ˆç°åœ¨å¾ˆå¤šæ„å¤–é™©ï¼Œä¸€èˆ¬èƒ½çœ‹åˆ°ä¼šæœ‰é™„å¸¦ä¸€ä¸ªæ„å¤–åŒ»ç–—é™©ã€‚ï¼‰</em></p><p>ä¸å°‘äººè¯¯ä»¥ä¸º<strong>çŒæ­»</strong>ä¹Ÿæ˜¯ä¸€ç§æ„å¤–ã€‚æ•´æ™šç†¬å¤œå·¥ä½œä»¥è‡´çŒæ­»ï¼Œæ€ä¹ˆèƒ½ä¸ç®—æ„å¤–å‘¢ï¼Ÿ<br>ä½†åŒ»å­¦ä¸Šå¯¹äºçŒæ­»çš„å®šä¹‰æ˜¯ï¼š<strong>å› ç–¾ç—…è€Œçªç„¶æ­»äº¡ã€‚ä¿é™©å…¬å¸ä¹Ÿå°†çŒæ­»è´£ä»»è§†ä¸ºå› çªå‘ç–¾ç—…å¯¼è‡´çš„èº«æ•…ã€‚</strong></p><p>æˆ‘ä»¬å½“ç„¶å¯ä»¥æŠŠçŒæ­»ä½œä¸ºä¸€é¡¹é¢å¤–è´£ä»»ï¼ŒåŠ åˆ°æ„å¤–é™©çš„äº§å“é‡Œï¼Œä½†è¿™å¿…ç„¶å¯¼è‡´æ„å¤–é™©äº§å“ä»·æ ¼çš„æå‡ã€‚æˆ–è€…ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©è´­ä¹°ä¸€ä»½å¯¿é™©ï¼ˆå¯¹èº«æ•…çš„åŸå› ä¸åšé™åˆ¶ï¼‰ï¼Œè¿™æ ·å¯ä»¥å¼¥è¡¥ä¸€äº›çŒæ­»å¸¦æ¥çš„æŸå¤±ã€‚<br><em>ï¼ˆç°åœ¨æœ‰äº›æ„å¤–é™©ï¼Œä¹Ÿéƒ½æœ‰å¯é€‰æœ‰å¸¦çŒæ­»çš„ã€‚ï¼‰</em></p><h3 id="3ã€é…ç½®æ„å¤–é™©çš„å‡ æ¡åŸåˆ™"><a href="#3ã€é…ç½®æ„å¤–é™©çš„å‡ æ¡åŸåˆ™" class="headerlink" title="3ã€é…ç½®æ„å¤–é™©çš„å‡ æ¡åŸåˆ™"></a>3ã€é…ç½®æ„å¤–é™©çš„å‡ æ¡åŸåˆ™</h3><p><strong>åŸåˆ™ä¸€ï¼šå¿…é¡»æ¶µç›–æ„å¤–åŒ»ç–—è´£ä»»ã€‚</strong></p><p>æ„å¤–å¯¼è‡´çš„ç»“æœæ— éä¸¤ç§ï¼šä¼¤æ®‹å’Œæ­»äº¡ã€‚å› æ­¤ï¼Œæ„å¤–é™©ä¿éšœçš„è´£ä»»æœ‰ä¸‰ä¸ªå¿…é€‰é¡¹ï¼šèº«æ•…ã€ä¼¤æ®‹ã€åŒ»ç–—ã€‚å°±åƒåœ¨æ‰‹æœºè¯è´¹å¥—é¤é‡Œï¼Œé€šè¯ã€çŸ­ä¿¡ã€æµé‡ æ˜¯ä¸‰å¤§å¿…å¤‡è¦ç´ ï¼ŒåŒæ ·ï¼Œèº«æ•…ã€æ®‹ç–¾ã€åŒ»ç–—æ˜¯æ„å¤–é™©çš„ä¸‰å¤§å¿…å¤‡è¦ç´ ã€‚</p><p>è‡³äºæ„å¤–åŒ»ç–—çš„ä¿é¢ï¼Œä¸€ä¸¤ä¸‡å°±è¶³å¤Ÿäº†ã€‚å¦‚æœæ˜¯ä¸€ä¸¤ä¸‡å…ƒéƒ½æ²»ä¸å¥½çš„æ„å¤–å—ä¼¤ï¼Œä¸€å®šå·²ç»ä¸¥é‡åˆ°éœ€è¦åš æ‰‹æœ¯æˆ–è€…é•¿æœŸä½é™¢æ²»ç–—äº†ï¼Œè¿™æ—¶ç†èµ”çš„è´£ä»»å°±å¯ä»¥äº¤ç»™ä¸Šæ–‡æåˆ°çš„ä½é™¢åŒ»ç–—ä¿é™©äº†ã€‚</p><p><strong>åŸåˆ™äºŒï¼šä¸€èˆ¬æ„å¤–èº«æ•…çš„ä¿é¢åº”è¶³å¤Ÿé«˜ã€‚</strong></p><p>æ‰€ä»¥å¼ºçƒˆå»ºè®®å„ä½ï¼Œå°½å¯èƒ½æŠŠæ„å¤–èº«æ•…çš„ä¿é¢æé«˜ã€‚èŠ±æœ€å°‘çš„é’±ï¼Œæ’¬åŠ¨æ›´é«˜çš„æ æ†ï¼Œè¿™æ˜¯æ„å¤–é™©çš„çœŸå®å†™ç…§ã€‚è¯´å®è¯ï¼Œæ„å¤–é™©100ä¸‡å…ƒèº«æ•…ä¿é¢åœ¨ä¸€äºŒçº¿åŸå¸‚æ ¹æœ¬ä¸ç®—é«˜ã€‚</p><p><strong>åŸåˆ™ä¸‰ï¼šä¸åŒäººç¾¤çš„æ„å¤–é™©ï¼Œä¾§é‡ç‚¹ä¸ä¸€æ ·ã€‚</strong></p><p>å¯¹äºèŒåœºç™½é¢†æ¥è¯´ï¼Œæ„å¤–é™©æ—¢è¦æœ‰è¶³å¤Ÿçš„èº«æ•…è¡¥å¿ï¼ˆç”¨äºå¼¥è¡¥å®¶åº­ç»æµæŸå¤±ï¼‰ï¼Œä¹Ÿè¦ä¿è¯å—ä¼¤åæœ‰é’±æ²»ç–—ï¼›ä½†å¯¹äºå­©å­å’Œè€äººæ¥è¯´ï¼Œèº«æ•…è¡¥å¿å°±æ²¡æœ‰åŒ»ç–—è´¹ç”¨è¡¥å¿é‡è¦ï¼Œæ¯•ç«Ÿä»–ä»¬ä¸æ˜¯å®¶é‡Œçš„é¡¶æ¢æŸ±ã€‚å› æ­¤ï¼Œå­©å­å’Œè€äººçš„æ„å¤–é™©ï¼Œåº”ä¾§é‡äºè€ƒè™‘æå‡æ„å¤–åŒ»ç–—çš„ä¿é¢ï¼Œè€Œæ²¡æœ‰å¿…è¦è¿½æ±‚æ„å¤–èº«æ•…çš„é«˜ä¿é¢ã€‚</p><p><strong>åŸåˆ™å››ï¼šä¿éšœæ—¶é—´ä¸€å¹´å°±å¤Ÿäº†ã€‚</strong></p><p>ç‰¹åˆ«å»ºè®®ï¼Œæ¯æœˆç¼´çº³äº”é™©ä¸€é‡‘å’Œä¸ªäººæ‰€å¾—ç¨çš„ä¸Šç­æ—ï¼Œä¸€å®šè¦æŠ•ä¿ç¨æ”¶é€’å»¶å…»è€ä¿é™©ï¼Œä½ å¯ä»¥æŠŠå®ƒç† è§£ä¸ºä¸€ç§åŒ…å«æ”¿åºœç¦åˆ©çš„å…»è€ä¿é™©æ”¿ç­–ã€‚æ¯æœˆæŠ•å…¥1000å…ƒï¼Œé™¤äº†è·å¾—3%~4%çš„ç¨³å¥å¤åˆ©æ”¶ç›Šï¼Œæ›´èƒ½ç›´æ¥è·å¾—ä¸€éƒ¨åˆ†å»¶è¿Ÿç¼´ç¨ã€‚</p><p><strong>ä¸­å›½å…»è€æœ‰ä¸‰ä¸ªæ”¯æŸ±ï¼š</strong></p><ul><li>ç¬¬ä¸€æ”¯æŸ±æ˜¯æ”¿åºœå…»è€é‡‘ï¼Œ</li><li>ç¬¬äºŒæ”¯æŸ±æ˜¯ä¼ä¸šå¹´é‡‘ã€èŒä¸šå¹´é‡‘ï¼Œ</li><li>ç¬¬ä¸‰æ”¯æŸ±æ˜¯åŒ…å«ç¨å»¶å…»è€é™©åœ¨å†…çš„å•†ä¸šå…»è€ä¿é™©ã€‚</li></ul><p>ç¬¬ä¸€æ”¯æŸ±å¤§å®¶éƒ½æ‡‚ï¼Œç¬¬äºŒæ”¯æŸ±å¾ˆå¤šäººå¬éƒ½æ²¡å¬è¿‡ï¼Œå› ä¸ºåŸºæœ¬ä¸Šåªæœ‰æ•ˆç›Šå¾ˆå¥½çš„å¤§å›½ä¼ã€å¤®ä¼æ‰ä¼šç»™èŒå·¥ä¹°ã€‚æ‰€ä»¥å¯¹äºå¾ˆå¤šäººæ¥è¯´ï¼Œä»–ä»¬å¿…é¡»é€‰æ‹©ç¬¬ä¸‰æ”¯æŸ±ä½œä¸ºå…»è€çš„é‡è¦è¡¥å……ã€‚</p><h2 id="ä¸‰ã€é‡ç–¾é™©"><a href="#ä¸‰ã€é‡ç–¾é™©" class="headerlink" title="ä¸‰ã€é‡ç–¾é™©"></a>ä¸‰ã€é‡ç–¾é™©</h2><p>ä¸å…‰æ˜¯æ„å¤–é™©ï¼Œè¿‘å¹´æ¥è¶Šæ¥è¶Šå¤šçš„äººå…³æ³¨çš„é‡å¤§ç–¾ç—…é™©ï¼Œå…¶å®å¯¹äºæ¯ç§ç–¾ç—…éƒ½æœ‰æ˜ç¡®çš„å®šä¹‰ã€‚æ¯”å¦‚ï¼Œå•å•â€œç™Œç—‡â€äºŒå­—ï¼Œä¸è¶³ä»¥æ¸…æ¥šè¡¨è¾¾ç–¾ç—…çš„å®šä¹‰ã€‚åŸä½ç™Œï¼ˆç™Œç—‡çš„æ—©æœŸå½¢å¼ï¼‰ä»å­—é¢ä¸Šçœ‹ä¹Ÿå±äºç™Œç—‡ï¼Œä½†æ²»æ„ˆç‡æé«˜ä¸”èŠ±è´¹ä¸å¤šï¼Œä¾¿ä¸å±äºä¿é™©æ¡æ¬¾è§„å®šçš„é‡å¤§ç–¾ç—…ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸èƒ½ç®€å•åœ°è¯´é‡å¤§ç–¾ç—…é™©â€œåªè¦æ˜¯ç™Œç—‡å°±èƒ½ä»˜â€ã€‚</p><p><strong>å…¶å®ä¸ºäº†è§£å†³ç±»ä¼¼çš„â€œè¯¯è¯»â€ï¼Œä¿é™©æ¡æ¬¾ä¼šä¸“é—¨é’ˆå¯¹è¿™ç±»å®¹æ˜“å¼•èµ·æ­§ä¹‰çš„å†…å®¹åšé¢å¤–è¯´æ˜ã€‚æ¯”å¦‚ï¼Œæ„å¤–é™©çš„æ¡æ¬¾é‡Œä¼šå‡ºç°â€œçŒæ­»ä¸åœ¨ä¿éšœèŒƒå›´â€ï¼Œé‡ç–¾é™©é‡Œä¹Ÿä¼šå‡ºç°â€œåŸä½ç™Œä¸å±äºæ¶æ€§è‚¿ç˜¤â€ä¹‹ç±»çš„è¡¨è¿°ã€‚</strong></p><h3 id="1-æå‰ç»™ä»˜å‹é‡ç–¾é™©"><a href="#1-æå‰ç»™ä»˜å‹é‡ç–¾é™©" class="headerlink" title="1.æå‰ç»™ä»˜å‹é‡ç–¾é™©"></a>1.æå‰ç»™ä»˜å‹é‡ç–¾é™©</h3><p>å¯¹å¯¿é™©æ¥è¯´ï¼Œä¿éšœç»ˆèº«çš„å¯¿é™©ï¼Œå®¢æˆ·ä¸€å®šèƒ½æ‹¿åˆ°èµ”ä»˜ï¼Œæ¯•ç«Ÿäººè¿™ä¸€è¾ˆå­ç»ˆæœ‰ä¸€æ­»ã€‚è€Œå¯¹é‡ç–¾é™©æ¥è¯´ï¼Œå³ä½¿è®¾ç½®ä¸ºä¿éšœç»ˆèº«ï¼Œä½†å¦‚æœç”±äºè½¦ç¥¸ç­‰æ„å¤–äº‹æ•…ä¸å¹¸èº«äº¡ï¼Œè¢«ä¿é™©äººè¿˜æ²¡â€œæ¥å¾—åŠâ€æ‚£ä¸Šé‡ç–¾å°±ç¦»å¼€äººä¸–ï¼Œè‡ªç„¶æ˜¯æ‹¿ä¸åˆ°èµ”å¿çš„ã€‚è¿™ç§æƒ…å†µå¹¶ä¸å°‘è§ã€‚ </p><p>å¯¹æ­¤ï¼Œ<strong>ä¿é™©å…¬å¸çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šåœ¨é‡ç–¾é™©é‡Œæ·»åŠ æ­»äº¡è´£ä»»ã€‚</strong><br>æ¢å¥è¯è¯´ï¼Œå³ä½¿ä½ æ²¡å¾—ç—…ï¼Œä½†ä¸å¹¸äº¡æ•…ï¼Œä¿é™©å…¬å¸ä¹Ÿä¼šèµ”å¿ã€‚ è¿™ç±»é‡ç–¾é™©åå«â€œ<strong>æå‰ç»™ä»˜å‹é‡ç–¾é™©</strong>â€ã€‚èº«æ‚£é‡ç–¾æˆ–ä¸å¹¸èº«æ•…ï¼Œå“ªä¸ªæå‰å‘ç”Ÿï¼Œéƒ½å¯ç»™ä»˜èµ”å¿ã€‚ä½†å®ƒå’Œè¿”æœ¬å‹ä¿é™©ç±»ä¼¼ï¼Œå…¶ä»£ä»·ä¾ç„¶æ˜¯ï¼šæ”¯ä»˜æ›´å¤šçš„ä¿è´¹ã€‚</p><h3 id="2-ä»€ä¹ˆå«â€œç½¹æ‚£â€"><a href="#2-ä»€ä¹ˆå«â€œç½¹æ‚£â€" class="headerlink" title="2.ä»€ä¹ˆå«â€œç½¹æ‚£â€"></a>2.ä»€ä¹ˆå«â€œç½¹æ‚£â€</h3><p>åœ¨é‡ç–¾é™©çš„ç†èµ”ä¸­ï¼Œ<strong>ç¬¦åˆâ€œç½¹æ‚£â€è¦æ±‚çš„æœ‰ä¸‰ç§æƒ…å†µã€‚</strong></p><p><strong>ç¬¬ä¸€ï¼Œç—…æƒ…è¾¾åˆ°æŸä¸ªæ ‡å‡†ï¼Œç›¸å½“äºç¡®è¯Šå³èµ”ã€‚</strong></p><p>æ¯”å¦‚æ¶æ€§è‚¿ç˜¤ï¼š</p><blockquote><p>æŒ‡æ¶æ€§ç»†èƒä¸å—æ§åˆ¶åœ°è¿›è¡Œå¢é•¿å’Œæ‰©æ•£ï¼Œ æµ¸æ¶¦å’Œç ´åå‘¨å›´æ­£å¸¸ç»„ç»‡ï¼Œå¯ä»¥ç»è¡€ç®¡ã€æ·‹å·´ç®¡å’Œä½“è…”æ‰©æ•£è½¬ç§»åˆ°èº«ä½“å…¶ä»–éƒ¨ä½çš„ç–¾ç—…ã€‚ç»ç—…ç†å­¦æ£€æŸ¥ç»“æœæ˜ç¡®è¯Šæ–­ï¼Œä¸´åºŠè¯Šæ–­å±äºä¸–ç•Œå«ç”Ÿç»„ç»‡ã€Šç–¾ç—…å’Œæœ‰å…³å¥åº·é—®é¢˜çš„å›½é™…ç»Ÿè®¡åˆ†ç±»ã€‹çš„æ¶æ€§è‚¿ç˜¤èŒƒç•´ã€‚</p></blockquote><p><strong>ç¬¬äºŒï¼ŒæŠ•ä¿äººä¸ºæ²»ç–—æŸç§ç–¾ç—…è€Œæ¥å—äº†æŸç§æ²»ç–—æ–¹æ³•ã€‚</strong></p><p>æ¯”å¦‚å¿ƒè„ç“£è†œæ‰‹æœ¯ï¼š</p><blockquote><p>ä¸ºæ²»ç–—å¿ƒè„ç“£è†œç–¾ç—…ï¼Œå®é™…å®æ–½äº†å¼€èƒ¸è¿›è¡Œçš„å¿ƒè„ç“£è†œç½®æ¢æˆ–ä¿®å¤çš„æ‰‹æœ¯ã€‚</p></blockquote><p><strong>ç¬¬ä¸‰ï¼ŒæŸç§çŠ¶æ€æŒç»­äº†ä¸€æ®µæ—¶é—´ã€‚</strong></p><p>æ¯”å¦‚è„‘ä¸­é£åé—ç—‡ï¼š</p><blockquote><p>æŒ‡å› è„‘è¡€ç®¡çš„çªå‘ç—…å˜å¼•èµ·è„‘è¡€ç®¡å‡ºè¡€ã€æ “å¡æˆ–æ¢—æ­»ï¼Œå¹¶å¯¼è‡´ç¥ç»ç³»ç»Ÿæ°¸ä¹…æ€§çš„åŠŸèƒ½éšœç¢ã€‚ç¥ç»ç³»ç»Ÿæ°¸ä¹…æ€§çš„åŠŸèƒ½éšœç¢ï¼ŒæŒ‡ç–¾ç—…ç¡®è¯Š180å¤©åï¼Œä»é—ç•™ä¸‹åˆ—ä¸€ç§æˆ–ä¸€ç§ä»¥ä¸Šéšœç¢ï¼š<br>ä¸€è‚¢æˆ–ä¸€è‚¢ä»¥ä¸Šçš„è‚¢ä½“æœºèƒ½å®Œå…¨ä¸§å¤±ï¼›<br>è¯­è¨€èƒ½åŠ›æˆ–å’€åš¼åå’½èƒ½åŠ›å®Œå…¨ä¸§å¤±ï¼›<br>è‡ªä¸»ç”Ÿæ´»èƒ½åŠ›å®Œå…¨ä¸§å¤±ï¼Œæ— æ³•ç‹¬ç«‹å®Œæˆå…­é¡¹åŸºæœ¬æ—¥å¸¸æ´»åŠ¨ä¸­çš„ä¸‰é¡¹æˆ–ä¸‰é¡¹ä»¥ä¸Šã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œå¦‚æœè°å¯¹ä½ è¯´é‡ç–¾é™©æ˜¯ç¡®è¯Šå³èµ”çš„ï¼Œé‚£ä»–æ˜¾ç„¶ç†è§£å¾—è¿‡äºç®€å•äº†ã€‚</p><h3 id="3-é™¤äº†é‡å¤§ç–¾ç—…ï¼Œé‡ç–¾é™©è¿˜ä¿è¿™äº›"><a href="#3-é™¤äº†é‡å¤§ç–¾ç—…ï¼Œé‡ç–¾é™©è¿˜ä¿è¿™äº›" class="headerlink" title="3.é™¤äº†é‡å¤§ç–¾ç—…ï¼Œé‡ç–¾é™©è¿˜ä¿è¿™äº›"></a>3.é™¤äº†é‡å¤§ç–¾ç—…ï¼Œé‡ç–¾é™©è¿˜ä¿è¿™äº›</h3><p>åœ¨æ–°å¢çš„è´£ä»»é‡Œï¼Œ</p><p><strong>ç¬¬ä¸€ç±»æ˜¯â€œèº«æ•…è´£ä»»â€ã€‚</strong><br>è¿™ç§åŒ…å«èº«æ•…è´£ä»»çš„é‡ç–¾é™©ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥â€œæå‰ç»™ä»˜â€ã€‚ æ‰€è°“â€œæå‰ç»™ä»˜â€ï¼Œå¹¶ä¸æ˜¯â€œæˆ‘æ¯”åˆ«çš„é‡ç–¾é™©èµ”ä»˜å¾—å¿«â€ï¼Œè¿™é‡Œçš„æå‰æŒ‡çš„æ˜¯é‡ç–¾ã€èº«æ•…äºŒè€…ä¸­å“ªä¸ªå…ˆå‘ç”Ÿï¼Œå°±ç»™ä»˜å‘ä¸ªã€‚</p><p><strong>ç¬¬äºŒç±»æ–°å¢è´£ä»»æ˜¯è½»ç—‡å’Œä¸­ç—‡è´£ä»»ã€‚</strong><br>æ¯”å¦‚åŸä½ç™Œï¼Œä½œä¸ºç™Œç—‡çš„æ—©æœŸé˜¶æ®µï¼ŒåŸä½ç™Œç›¸å¯¹å®¹æ˜“æ²»æ„ˆï¼Œå±äºè½»ç—‡çš„ä¸€ç§ã€‚</p><p><strong>ç¬¬ä¸‰ç±»æ–°å¢è´£ä»»æ˜¯é’ˆå¯¹é‡å¤§ç–¾ç—…çš„èŠ±æ ·èµ”ä»˜æ–¹å¼ã€‚</strong><br>æ¯”å¦‚é‡ç–¾å’Œè½»ç—‡å¯ä»¥èµ”ä»˜å¤šæ¬¡ï¼Œåˆæ¯”å¦‚æŒ‘å‡ºæŸå‡ ä¸ªç—… ç§é¢å¤–èµ”ä»˜50%çš„ä¿é¢ï¼Œå†æ¯”å¦‚æŠ•ä¿åå‰10å¹´äº«å—ä¿é¢é¢å¤–å¢åŠ 50%ï¼Œç­‰ç­‰ã€‚</p><p>æ‰€æœ‰çš„èµ”ä»˜æ–¹å¼éƒ½æ˜¯å¯¹é£é™©çš„å®šä»·ï¼Œç„¶åæŠŠæº¢ä»·åŠ åˆ°åŸæœ‰ä»·æ ¼ä¸­ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚</p><p>ç»ä¸åå¯¹å¤§å®¶é€‰æ‹©è´£ä»»ä¸°å¯Œçš„é‡ç–¾é™©ï¼Œè€Œæ˜¯å¸Œæœ›å¤§å®¶åšå®ˆä¸€ä¸ªå‰æï¼š<strong>é€‰æ‹©é‡å¤§ç–¾ç—…é™©æ—¶ï¼Œæœ€é‡è¦çš„æ˜¯ åšåˆ°ä¿é¢æ»¡è¶³éœ€è¦ã€‚</strong></p><h3 id="4-é‡ç–¾é™©çš„ä¿é¢é€‰æ‹©"><a href="#4-é‡ç–¾é™©çš„ä¿é¢é€‰æ‹©" class="headerlink" title="4.é‡ç–¾é™©çš„ä¿é¢é€‰æ‹©"></a>4.é‡ç–¾é™©çš„ä¿é¢é€‰æ‹©</h3><p><strong>å¹´æ”¶å…¥20ä¸‡å…ƒçš„å°ç‹ï¼Œé‡ç–¾é™©çš„ä¿é¢åº”è¯¥æ˜¯å¤šå°‘å‘¢ï¼Ÿ</strong></p><p>è¿™ä¸ªé—®é¢˜æ²¡æœ‰æ­£ç¡®ç­”æ¡ˆï¼Œä½†æœ‰æ­£ç¡®çš„æ€è·¯ã€‚æ‚£é‡ç–¾åï¼Œæ‚£è€…æ™®éé¢ä¸´çš„æ˜¯3~5å¹´çš„æ²»ç–—åº·å¤æœŸï¼Œä¸æ­¤åŒæ—¶ï¼Œé‡ç–¾å¯¼è‡´æ”¶å…¥ä¸­æ–­å°†ä¸ºå®¶åº­å¸¦æ¥æ›´å¤§çš„å‹åŠ›ã€‚</p><p>å› æ­¤ï¼Œé‡ç–¾é™©çš„ä¿é¢åº”è‡³å°‘è¦†ç›–æŠ•ä¿äºº3~5å¹´çš„æ”¶å…¥ã€‚æ‰€ä»¥ï¼Œå¯¹äºå°ç‹æ¥è¯´ï¼Œ60ä¸‡å…ƒçš„é‡ç–¾é™©ä¿é¢ä¸€ç‚¹ å„¿ä¹Ÿä¸å¤šã€‚</p><p>æ”¶å…¥æ²¡äº†ï¼Œæˆ¿è´·è¿˜å¾—è¿˜ï¼Œé“¶è¡Œå¯ä¸ç®¡ä½ æ˜¯å¦å¾—ç—…ï¼›å­©å­å’Œå®¶äººçš„æ­£å¸¸ç”Ÿæ´»ä¹Ÿè¦ç»§ç»­ï¼Œæ›´ä¸ç”¨è¯´æ²»ç—…æœ¬èº«çš„é«˜æ˜‚å¼€é”€äº†ã€‚åªè¦ç¡®ä¿è¿™æ¬¾é‡ç–¾é™©èƒ½æä¾›60ä¸‡å…ƒçš„é‡ç–¾ä¿é¢ï¼Œæœ‰æ²¡æœ‰èº«æ•…è´£ä»»ã€å¤šæ¬¡èµ”ä»˜ã€æŠ•ä¿äººè±å…ï¼Œéƒ½æ— å…³ç´§è¦ã€‚</p><p>å¯¹äºé‡ç–¾é™©ã€å®šæœŸå¯¿é™©ï¼Œå¯ä»¥ä¿ç»ˆèº«æˆ–è€…ä¿åˆ°70å²å·¦å³çš„é•¿æœŸäº§å“ï¼Œæ˜¯æˆ‘ä»¬çš„é¦–é€‰â€”â€”ä¸ä»…ä»·æ ¼æ›´åˆ’ ç®—ï¼Œä¹Ÿä¸ä¼šå‡ºç°ä¿é™©ä¸­æ–­çš„æƒ…å†µã€‚</p><h3 id="5-å¦‚ä½•ç¡®å®šä¿éšœæœŸé™"><a href="#5-å¦‚ä½•ç¡®å®šä¿éšœæœŸé™" class="headerlink" title="5.å¦‚ä½•ç¡®å®šä¿éšœæœŸé™"></a>5.å¦‚ä½•ç¡®å®šä¿éšœæœŸé™</h3><p>å’Œç¼´è´¹æœŸé™ç›¸æ¯”ï¼Œ<strong>å¯¹æ¶ˆè´¹è€…æ¥è¯´ï¼Œæœ€å¤§çš„éš¾ç‚¹å…¶å®åœ¨äºå¦‚ä½•ç¡®å®šä¿éšœæœŸé™ã€‚</strong></p><p>ä¿éšœæœŸé™çš„å»¶é•¿ï¼Œä¼šå¸¦æ¥ä¿è´¹çš„å‡é«˜ã€‚æ²¡åŠæ³•ï¼Œä¸€ä¸ªäººå¹´é¾„è¶Šå¤§ï¼Œç½¹æ‚£é‡ç–¾çš„æ¦‚ç‡å°±è¶Šé«˜ã€‚å¦‚æœé¢„ç®—å…… è¶³ï¼Œä¿ç»ˆèº«å½“ç„¶æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä½†å¦‚æœæˆ‘ä¸€æ—¶åŠä¼šå„¿æ‹¿ä¸å‡ºé‚£ä¹ˆå¤šé’±ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæƒå®œä¹‹è®¡å‘¢ï¼Ÿ</p><p>å½“ç„¶æœ‰ã€‚<strong>åœ¨ç¡®ä¿ä¿é¢å……è¶³çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¿é¢æ‹†æˆä¸¤ä¸ªäº§å“æ¥å®ç°ï¼Œä¸€ä¸ªä¿åˆ°é€€ä¼‘ï¼Œå¦ä¸€ä¸ªä¿ç»ˆèº«ã€‚</strong></p><p>æ¯”å¦‚ï¼Œå¯¹äºéœ€è¦60ä¸‡å…ƒé‡ç–¾é™©ä¿é¢çš„å°ç‹æ¥è¯´ï¼Œå¯ä»¥é€‰æ‹©ä¹°ä¸€ä»½ä¿ç»ˆèº«çš„30ä¸‡å…ƒä¿é¢çš„é‡ç–¾é™©ï¼Œå†ä¹°ä¸€ ä»½ä¿åˆ°70å²çš„30ä¸‡å…ƒä¿é¢çš„é‡ç–¾é™©ã€‚<br>è¿™æ¯”ç›´æ¥è´­ä¹°ä¸€ä»½ä¿ç»ˆèº«çš„60ä¸‡å…ƒä¿é¢çš„é‡ç–¾é™©ï¼ŒèŠ±è´¹æ›´å°‘ã€‚è¿™ç§ç»ˆèº«é™©å’Œå®šæœŸé™©æ­é…è´­ä¹°çš„æ–¹æ³•ï¼Œä¸€æ–¹é¢å¯ä»¥è§£å†³äººç”Ÿå…³é”®æ—¶æœŸï¼ˆé€€ä¼‘å‰ï¼‰çš„é£é™©é—®é¢˜ï¼Œå¦ä¸€æ–¹é¢å¯ä»¥ç¡®ä¿æ­¥å…¥è€å¹´åä¹Ÿæœ‰ä¿éšœã€‚</p><h2 id="å››ã€åŒ»ç–—é™©"><a href="#å››ã€åŒ»ç–—é™©" class="headerlink" title="å››ã€åŒ»ç–—é™©"></a>å››ã€åŒ»ç–—é™©</h2><p>çœ‹ä¼¼å¤æ‚çš„åŒ»ç–—é™©å…¶å®åªåŒ…æ‹¬ä¸¤ç§äº§å“ã€‚</p><ul><li>ç¬¬ä¸€ç§æ˜¯åŒ…å«é—¨è¯Šè´£ä»»çš„å•†ä¸šåŒ»ç–—ä¿é™©ï¼Œå¯æš‚ä¸”ç§°ä¹‹ä¸º<strong>é—¨è¯ŠåŒ»ç–—ä¿é™©</strong>ã€‚</li><li>ç¬¬äºŒç§æ˜¯åŒ…å«ä½é™¢è´£ä»»çš„å•†ä¸šåŒ»ç–—ä¿é™©ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>ä½é™¢åŒ»ç–—ä¿é™©</strong>ã€‚</li></ul><p>å¦‚æœä¸€ä¸ªäººç½¹æ‚£å½±å“æ­£å¸¸ç”Ÿæ´»çš„é‡å¤§ç–¾ç—…ï¼Œé‚£ä»–ä¸»è¦é¢ä¸´çš„é—®é¢˜æœ‰ä¸¤ä¸ªï¼š</p><ul><li>ä¸€æ˜¯æ²»ç–—è´¹ç”¨å¤ªé«˜ï¼Œæç©ºå®¶åº•ï¼›</li><li>äºŒæ˜¯æ— æ³•ç»§ç»­å·¥ä½œï¼Œå¤±å»æ”¶å…¥ã€‚</li></ul><p>å‰è€…å¯ä»¥é <strong>å•†ä¸šåŒ»ç–—ä¿é™©</strong>è§£å†³ï¼Œåè€…åˆ™åªèƒ½é <strong>é‡ç–¾é™©</strong>è§£å†³ï¼Œä¸¤ç±»ä¿é™©çš„åŠŸèƒ½ä¸ä¸€æ ·ã€‚</p><p><em>ï¼ˆåŒ»ç–—é™©ä¸»è¦æ˜¯çœ‹ç—…ä¹‹åæŠ¥é”€çš„ï¼Œçœ‹èŠ±è´¹æ¥æŠ¥é”€ï¼›è€Œé‡ç–¾é™©æ˜¯ç¡®è¯Šåå°±èµ”ä»˜çš„é’±ã€‚ï¼‰</em></p><h2 id="äº”ã€å›¢é™©"><a href="#äº”ã€å›¢é™©" class="headerlink" title="äº”ã€å›¢é™©"></a>äº”ã€å›¢é™©</h2><p>åœ¨è¿™é‡ŒæŠŠä¼ä¸šå›¢ä½“ä¿é™©ç»Ÿç§°ä¸ºå›¢é™©ã€‚</p><p>å›¢é™©é€šå¸¸ç”±4ä¸ªä¿é™©äº§å“ç»„æˆï¼š<strong>å®šæœŸå¯¿é™©ã€é‡å¤§ç–¾ç—…é™©ã€æ„å¤–é™©ã€åŒ»ç–—é™©ã€‚</strong></p><h3 id="1-å›¢é™©ä¸¾ä¾‹"><a href="#1-å›¢é™©ä¸¾ä¾‹" class="headerlink" title="1.å›¢é™©ä¸¾ä¾‹"></a>1.å›¢é™©ä¸¾ä¾‹</h3><p>è¿™4ä¸ªäº§å“å°±æ˜¯ä¸€ä»½å¥—é¤é‡Œçš„æ±‰å ¡ã€ç‚¸é¸¡ã€é¥®æ–™å’Œç”œç‚¹ï¼Œå¦‚æœç»™è¿™4ä¸ªå•å“æ¢ç‚¹å„¿é…æ–™ï¼Œåˆå¯ä»¥è¡ç”Ÿå‡ºä¸åŒçš„å£å‘³ï¼Œæœ€ç»ˆå½¢æˆä¸åŒçš„ä¿é™©è´£ä»»ã€‚ä»¥è¿™4ä¸ªäº§å“ä¸ºåŸºç¡€ï¼Œå›¢é™©è®¡åˆ’å¯ä»¥æ¶µç›–ä»¥ä¸‹è´£ä»»ï¼š</p><ul><li>1.ç½¹æ‚£é‡å¤§ç–¾ç—…ï¼šä¿é¢50ä¸‡å…ƒ(é‡å¤§ç–¾ç—…é™©çš„é‡ç–¾è´£ä»»50ä¸‡å…ƒï¼‰ã€‚</li><li>2.ç–¾ç—…å¯¼è‡´èº«æ•…ï¼šä¿é¢50ä¸‡å…ƒï¼ˆå®šæœŸå¯¿é™©èº«æ•…è´£ä»»50ä¸‡å…ƒï¼‰ã€‚</li><li>3.æ„å¤–å¯¼è‡´èº«æ•…ï¼šä¿é¢150ä¸‡å…ƒï¼ˆå®šæœŸå¯¿é™©èº«æ•…è´£ä»»50ä¸‡å…ƒ+æ„å¤–é™©èº«æ•…è´£ä»»100ä¸‡å…ƒï¼‰ã€‚</li><li>4.é—¨è¯Šè´£ä»»ï¼šä¿é¢2ä¸‡å…ƒï¼ˆåŒ»ç–—é™©åŒ…å«çš„é—¨æ€¥è¯ŠåŒ»ç–—è´£ä»»2ä¸‡å…ƒï¼‰ã€‚</li><li>5.ä½é™¢è´£ä»»ï¼šä¿é¢30ä¸‡å…ƒï¼ˆåŒ»ç–—é™©åŒ…å«çš„ä½é™¢åŒ»ç–—è´£ä»»30ä¸‡å…ƒï¼‰ã€‚</li></ul><p>ç”±æ­¤ï¼Œå…¬å¸ä¾¿å¯ä»¥è´Ÿè´£ä»»åœ°å¯¹å‘˜å·¥è¯´ï¼Œä¸ç®¡æ˜¯æ‚£é‡ç—…è¿˜æ˜¯èº«æ•…ï¼Œæ‰€æœ‰è¿™äº›é£é™©éƒ½ç”±ä¿é™©å…¬å¸æ¥æ‰¿æ‹…ã€‚åªè¦ä½ åœ¨æˆ‘å…¬å¸å·¥ä½œä¸€å¤©ï¼Œæˆ‘å°±ç»™ä½ è¿™ä»½å®‰å¿ƒã€‚</p><p>çœ‹åˆ°è¿™é‡Œä½ å¯èƒ½ä¼šè¯´ï¼Œè¿™ä¹ˆå¥½çš„ä¿é™©ç¦åˆ©ï¼Œä¸€å®šè¦èŠ±ä¸å°‘é’±ã€‚ä½†å¦‚æœæˆ‘å‘Šè¯‰ä½ ï¼Œè¿™ä¹ˆå¤šçš„ç¦åˆ©ï¼Œæ¯å¹´æ¯äººçš„ä»·æ ¼åªæœ‰2800å…ƒï¼Œå¹³å‡æ¯ä¸ªæœˆæ‰200å¤šå…ƒï¼Œä½ æ˜¯ä¸æ˜¯è§‰å¾—å¾ˆå€¼?ï¼ˆè¿™é‡Œçš„ä¿è´¹è®¡ç®—å‰ææ˜¯ï¼Œå‡è®¾è¯¥å…¬å¸å‘˜å·¥çš„å¹³å‡å¹´é¾„ä¸º35å²ã€‚ï¼‰</p><h3 id="2-å›¢é™©ä»·æ ¼â€œäº²æ°‘â€åŸå› "><a href="#2-å›¢é™©ä»·æ ¼â€œäº²æ°‘â€åŸå› " class="headerlink" title="2.å›¢é™©ä»·æ ¼â€œäº²æ°‘â€åŸå› "></a>2.å›¢é™©ä»·æ ¼â€œäº²æ°‘â€åŸå› </h3><p>ä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p><ul><li>ç¬¬ä¸€ï¼Œå›¢é™©å¯ä»¥ç®€å•ç±»æ¯”ä¸ºå›¢è´­ï¼Œä¹°çš„äººæ•°å¤šï¼ŒèŠ‚çœäº†ä¸€éƒ¨åˆ†ç®¡ç†æˆæœ¬ï¼Œè‡ªç„¶å°±èƒ½è·å¾—ä¸€å®šçš„ä¼˜æƒ ã€‚</li><li>ç¬¬äºŒï¼Œå›¢é™©çš„ä¸»è¦é”€å”®å¯¹è±¡æ˜¯ä¼ä¸šäººåŠ›èµ„æºéƒ¨ï¼Œåªè¦è´Ÿè´£äººæ‹æ¿ï¼Œ100ä¸ªå‘˜å·¥å°±ç›´æ¥è´­ä¹°äº†ï¼Œä¸ç”¨ä¸€ä¸ªä¸€ ä¸ªåœ°å®£ä¼ ã€ä»‹ç»ï¼Œé—´æ¥é™ä½äº†äº§å“çš„é”€å”®è´¹ç”¨ï¼Œæœ€ç»ˆçš„å®æƒ è½åœ¨äº†æ¯ä¸€ä½å‚ä¿å‘˜å·¥èº«ä¸Šã€‚</li><li>ç¬¬ä¸‰ï¼Œä»¥ä¼ä¸šåä¹‰æŠ•ä¿ï¼Œå‚ä¿äººå‘˜çš„å·¥ä½œç¯å¢ƒå’Œæ€§è´¨ç›¸å¯¹ä¸€è‡´ï¼Œå¤–éƒ¨é£é™©å¯æ§ï¼Œä½•å†µä¸å°‘ä¼ä¸šè¿˜æœ‰å…¥èŒ ä½“æ£€ï¼Œå¯ä»¥å¾ˆå¥½è§£å†³å®¢æˆ·çš„é€†é€‰æ‹©å’Œå¥åº·é—®é¢˜ã€‚è€Œä¸”ï¼Œå›¢é™©çš„æ ¸ä¿æ˜¯é¢å‘ä¸€ä¸ªç¾¤ä½“çš„æ ¸ä¿ï¼Œä¸ç”¨æŒ¨ä¸ªè¯¢ é—®ã€‚å› æ­¤ï¼Œæœ‰äº›äººå³ä½¿å› ä¸ºå°ç—…æ— æ³•è´­ä¹°é‡ç–¾é™©ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å›¢é™©æ¥è§£å†³æ‚£é‡å¤§ç–¾ç—…çš„é£é™©é—®é¢˜ã€‚</li></ul><p>å¤šäººå›¢è´­ã€æ ¸ä¿å®½æ¾ï¼Œé™¤äº†è¿™äº›åŸå› å¤–ï¼Œå›¢é™©ä»·ä½çš„åŸå› è¿˜åœ¨äºå…¶åŒ…å«çš„ä¿é™©äº§å“çš„ä¿éšœæœŸé™éƒ½æ˜¯ä¸€å¹´ã€‚<em>ï¼ˆæˆ‘è§‰å¾—è¿™ä¹Ÿæ˜¯å›¢é™©ä¾¿å®œçš„ä¸€ä¸ªåŸå› ï¼‰</em></p><p>èº«è¾¹çš„æœ‹å‹èƒ½äº«å—åˆ°å›¢é™©çš„å¤§å¤šæ¥è‡ªä¸¤ç±»å…¬å¸ï¼šä¸€ç±»æ˜¯å¤–èµ„è·¨å›½ä¼ä¸šçš„ä¸­å›½åˆ†æ”¯æœºæ„ï¼›ä¸€ç±»æ˜¯éƒ¨åˆ†é‡‘èä¼ä¸šï¼Œä»¥ç§å‹Ÿã€æŠ•è¡Œä¸ºä¸»ã€‚<br><em>ï¼ˆæˆ‘è§‰å¾—å›½å†…ä¸€äº›äº’è”ç½‘ç±»å…¬å¸å¥½åƒä¹Ÿæœ‰çš„ï¼‰</em></p><p>æ‰€ä»¥ï¼Œå»ºè®®å¤§å®¶ç”¨å®¢è§‚çš„æ€åº¦çœ‹å¾…å…¬å¸ä¸ºå‘˜å·¥è´­ä¹°çš„å›¢é™©ã€‚å®ƒæ˜¯ä¸€ç§æå¥½çš„å‘˜å·¥ç¦åˆ©ï¼Œå®ƒåº”è¯¥æ˜¯å‘˜å·¥è‡ª èº«å·²è´­ä¿é™©çš„æœ‰åŠ›è¡¥å……ï¼Œå´ä¸èƒ½è¢«å½“ä½œå…¨éƒ¨ã€‚å½“ä½ ç¦»èŒåï¼Œä»é›¶å¼€å§‹çš„é™¤äº†ä½ çš„äº‹ä¸šï¼Œè¿˜æœ‰ä½ çš„ä¿é™©ã€‚</p><h2 id="å…­ã€å¥åº·å‘ŠçŸ¥"><a href="#å…­ã€å¥åº·å‘ŠçŸ¥" class="headerlink" title="å…­ã€å¥åº·å‘ŠçŸ¥"></a>å…­ã€å¥åº·å‘ŠçŸ¥</h2><p>å¥åº·å‘ŠçŸ¥ï¼Œå¯ä»¥è¢«çœ‹ä½œæ ¸ä¿çš„ç¬¬ä¸€é“é˜²çº¿ï¼Œè¿™é“é˜²çº¿ä¸»è¦åŒ…å«ä¸‰éƒ¨åˆ†å†…å®¹ï¼š</p><ul><li>1.<strong>å¥åº·é—®è¯¢</strong>ï¼š æ˜¯å¦æœ‰ç–¾ç—…æˆ–ä½é™¢è®°å½•ç­‰ã€‚è¿™æ˜¯å¥åº·å‘ŠçŸ¥ä¸­æœ€ä¸»è¦çš„éƒ¨åˆ†ï¼Œå› æ­¤ï¼Œå¾ˆå¤šæ ¸ä¿å¸ˆéƒ½æ˜¯åŒ»ç”Ÿå‡ºèº«ï¼Œæ¯•ç«Ÿæœ‰äº†åŒ»å­¦æ–¹é¢çš„ä¸“ä¸šçŸ¥è¯†ï¼Œæ‰èƒ½å‡†ç¡®æŠŠæ¡å¥åº·é—®é¢˜çš„ä¸¥è‹›å°ºåº¦ã€‚</li><li>2.<strong>èŒä¸šé—®è¯¢</strong>ï¼š æ˜¯å¦ä»äº‹é«˜å±è¡Œä¸šã€‚å¯¹äºé«˜ç©ºæ¸…æ´å·¥ã€æ­¦è­¦æˆ˜å£«ç­‰èŒä¸šçš„ä»ä¸šè€…æ¥è¯´ï¼Œä»–ä»¬é¢ä¸´çš„é£é™©æ˜æ˜¾æ›´é«˜ã€‚</li><li>3.<strong>ç”Ÿæ´»é—®è¯¢</strong>ï¼š æ˜¯å¦å¸çƒŸã€é…—é…’ï¼ˆé…’ç²¾ä¾èµ–ï¼‰ï¼Œæ˜¯å¦æœ‰æé™è¿åŠ¨ç­‰å±é™©æ€§é«˜çš„ä¸šä½™çˆ±å¥½ç­‰ã€‚ é™¤äº†è¿™ä¸‰ç±»é—®è¯¢ï¼Œå…¶ä»–é—®è¯¢è¿˜ä¼šé›¶æ•£åœ°æ¶‰åŠå®¢æˆ·çš„ä¿é™©è´­ä¹°æƒ…å†µç­‰ã€‚</li></ul><p>å½“æˆ‘ä»¬å¯¹ç…§è‡ªèº«æƒ…å†µæŒ¨ä¸ªçœ‹å®Œå¥åº·å‘ŠçŸ¥åï¼Œä¼šæ”¶åˆ°æ ¸ä¿å¸ˆçš„æ ¸ä¿ç»“è®ºï¼Œå†…å®¹ä¸å¤–ä¹ä»¥ä¸‹4ç§ï¼š</p><ul><li><strong>ç»“è®ºä¸€ï¼šæ ‡å‡†ä½“ã€‚</strong> æ­å–œï¼Œä½ å®Œç¾åœ°ç¬¦åˆå¥åº·å‘ŠçŸ¥ä¸­çš„æ‰€æœ‰è¦æ±‚ï¼Œå¯ä»¥ç›´æ¥æŠ•ä¿ï¼Œæ— é¡»åšè¡¥å……å‘ŠçŸ¥ã€‚</li><li>**ç»“è®ºäºŒï¼šæ¬¡æ ‡å‡†ä½“ã€‚ **å¯èƒ½æœ‰å°‘æ•°å‡ æ¡ä¸ç¬¦åˆå¥åº·å‘ŠçŸ¥ï¼Œä½†è€ƒè™‘åˆ°åŸºæœ¬åœ¨å¯æ¥å—èŒƒå›´å†…ï¼Œä¿é™©å…¬å¸å°±â€œå‹‰ä¸ºå…¶éš¾â€åœ°å…è®¸ä½ æŠ•ä¿äº†ã€‚å½“ç„¶ï¼Œæœ‰ä¸ªå‰ææ¡ä»¶ï¼šè¦ä¹ˆå¢åŠ ä¿è´¹ï¼Œè¦ä¹ˆæ¥å—é™¤å¤–è´£ä»»ã€‚</li><li>**ç»“è®ºä¸‰ï¼šå»¶æœŸã€‚ **ä¿é™©å…¬å¸è€ƒè™‘åˆ°ä½ çš„æŸä¸ªå¥åº·é—®é¢˜ï¼Œæš‚ä¸æ¥å—ä½ çš„æœ¬æ¬¡æŠ•ä¿ç”³è¯·ï¼Œå»ºè®®è¿‡ä¸€æ®µæ—¶é—´å†æ¥è¯•è¯•ã€‚è‡³äºè¦ç­‰å¤šä¹…ï¼Œä¸åŒå…¬å¸ã€ä¸åŒäº§å“ã€ä¸åŒç–¾ç—…çš„æƒ…å†µçš†ä¸ä¸€æ ·ã€‚<br>ä¿é™©å…¬å¸çš„æ„æ€è¯´ç™½äº†å°±æ˜¯ï¼šä½ å½“ä¸‹çš„é£é™©è¿‡é«˜ï¼Œç­‰ç­‰å†è¯´å§ã€‚é‡åˆ°å»¶æœŸï¼Œæˆ‘ä»¬åº”å½“åˆ†æƒ…å†µçœ‹å¾…ã€‚æ¯”å¦‚ï¼Œå¯¹äºæ—©äº§å„¿ï¼Œé€šå¸¸è¦ç­‰åˆ°2å²ä»¥åæ‰èƒ½ç”³è¯·æŠ•ä¿ï¼›ä½ å½“å‰æŸé¡¹è¡€æ¶²æŒ‡æ ‡å¼‚å¸¸ï¼Œå¯èƒ½æ˜¯å› ä¸ºæœ€è¿‘åŠå¹´çš„é¥®é£Ÿè¿‡äºæ²¹è…»ï¼Œä¸”ç¼ºä¹é”»ç‚¼ï¼Œå‡å¦‚èŠ±ä¸ŠåŠå¹´æ—¶é—´é”»ç‚¼ä»¥æ¢å¤ä½“è´¨ï¼Œä¾¿å¾ˆå®¹æ˜“æˆåŠŸæŠ•ä¿ã€‚ä½†å¦‚æœå¯¼è‡´å»¶æœŸçš„æ˜¯æ…¢æ€§ç–¾ç—…ï¼Œå¯èƒ½çŸ­æœŸå†…æ— æ³•æ¢å¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šæ— å¥ˆåœ°å°†å»¶æœŸçœ‹ä½œâ€œæ­»ç¼“â€â€”â€”å’Œæ‹’ä¿æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚</li><li><strong>ç»“è®ºå››ï¼šæ‹’ä¿ã€‚</strong> å¯¹ä¸èµ·ï¼Œä½ çš„èº«ä½“å¥åº·çŠ¶å†µä¸ç¬¦åˆå¥åº·å‘ŠçŸ¥çš„è¦æ±‚ï¼Œç›¸å½“äºè¢«ä¿é™©å…¬å¸åˆ¤äº†â€œæ­»åˆ‘â€ã€‚</li></ul><p><strong>è¯´å®è¯ï¼Œå½“ä¿é™©å…¬å¸æŠŠé‡ç–¾é™©ã€åŒ»ç–—é™©è¿™ç±»ä¿éšœå‹äº§å“æ”¾åˆ°ç½‘ä¸Šé”€å”®çš„æ—¶å€™ï¼Œå…¶å®åªæ˜¯æƒ³å–ç»™æ ‡å‡†ä½“å®¢æˆ·ã€‚</strong></p><p>è‡³äºæ¬¡æ ‡å‡†ä½“å’Œéæ ‡å‡†ä½“å®¢æˆ·ï¼Œå¯¹ä¸èµ·ï¼Œè¿™ç±»äº§å“ä¸æ˜¯ä¸ºä»–ä»¬å‡†å¤‡çš„ã€‚ä¸è¿‡ï¼Œéšç€é€šè¿‡äº’è”ç½‘è´­ä¹°ä¿é™©çš„å®¢æˆ·è¶Šæ¥è¶Šå¤šï¼Œæ¬¡æ ‡å‡†ä½“å®¢æˆ·çš„è´­ä¹°å‘¼å£°ä¹Ÿè¶Šæ¥è¶Šé«˜ã€‚ä¸ºå®ç°è¿™ä¸€ç›®æ ‡ï¼Œä¿é™©å…¬å¸å’Œå„å¤§ä¿é™©é”€å”®å¹³å°é‡‡å–äº†ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚</p><p>ä¸€æ˜¯ç”µè¯å’¨è¯¢ã€‚æœ‰æä¸æ¸…æ¥šçš„é—®é¢˜ï¼Ÿæ‰“ç”µè¯ã€‚éœ€è¡¥å……å°±è¯Šææ–™ï¼Ÿå‘é‚®ä»¶ã€‚è¿™èƒ½è§£å†³ä¸å°‘é—®é¢˜ï¼Œä¹Ÿæ˜¯ç›®å‰æ™®éé‡‡ç”¨çš„æ–¹æ³•ã€‚</p><p>äºŒæ˜¯<strong>æ™ºèƒ½æ ¸ä¿</strong>ã€‚æ™ºèƒ½æ ¸ä¿å…´èµ·äºè¿‘å‡ å¹´ï¼ŒæŒ‡è¶Šæ¥è¶Šå¤šçš„ä¿é™©å…¬å¸åœ¨é‡ç–¾é™©ã€åŒ»ç–—é™©çš„æŠ•ä¿æµç¨‹ä¸­ï¼Œé’ˆå¯¹å…·ä½“é—®é¢˜è®¾ç½®é—®ç­”ç¯èŠ‚ã€‚åœ¨è¿™ä¸ªç¯èŠ‚ä¸­ï¼Œä½ å¯ä»¥æƒ³è±¡è‡ªå·±åœ¨å’Œä¸€ä¸ªæœºå™¨äººå¯¹è¯ï¼Œä½ æ¯æä¾›ä¸€ä¸ªå¥åº·å‘ŠçŸ¥ï¼Œå¯¹æ–¹ä¾¿ä¼šå°±æ­¤é—®é¢˜è¿›è¡Œè¯¦ç»†è¯¢é—®ï¼Œç›´åˆ°å¾—å‡ºæœ€ç»ˆç»“è®ºã€‚</p><p>æ™ºèƒ½æ ¸ä¿æ˜¯ä¸ªäººéå¸¸æ¨å´‡çš„æ ¸ä¿æ–¹å¼ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯å°†ä¸€æ¡æ¡ç»†è‡´çš„æ ¸ä¿è§„åˆ™æŒ‰ç…§å¯èƒ½å‘ç”Ÿçš„é—®è¯¢æµç¨‹è¿›è¡Œæ•´ç†ï¼Œå¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šå®ç°â€œå®¢æˆ·â€”ä»£ç†äººâ€”æ ¸ä¿å¸ˆâ€ä¸‰ä¸ªè§’è‰²çš„è½¬æ¢ã€‚æœªæ¥å‡ å¹´å†…ï¼Œæ™ºèƒ½æ ¸ä¿çš„æŠ€æœ¯æ°´å¹³å°†ä¼šä¸æ–­è¿›æ­¥ï¼Œæå‡å®¢æˆ·çš„ä¿é™©è´­ä¹°ä½“éªŒã€‚</p><p><em>ï¼ˆç°åœ¨åŸºæœ¬ä¸Šç›´æ¥çº¿ä¸Šè´­ä¹°ï¼Œæ™ºèƒ½æ ¸ä¿å°±è¡Œï¼Œå¾ˆç®€å•æ–¹ä¾¿ã€‚ï¼‰</em></p><h2 id="ä¸ƒã€ç›¸å…³æ³•å¾‹æ³•è§„"><a href="#ä¸ƒã€ç›¸å…³æ³•å¾‹æ³•è§„" class="headerlink" title="ä¸ƒã€ç›¸å…³æ³•å¾‹æ³•è§„"></a>ä¸ƒã€ç›¸å…³æ³•å¾‹æ³•è§„</h2><h3 id="1-å¥åº·å‘ŠçŸ¥"><a href="#1-å¥åº·å‘ŠçŸ¥" class="headerlink" title="1.å¥åº·å‘ŠçŸ¥"></a>1.å¥åº·å‘ŠçŸ¥</h3><p><strong>ã€Šä¿é™©æ³•ã€‹ç¬¬åå…­æ¡</strong></p><p>ã€Šä¸­åäººæ°‘å…±å’Œå›½ä¿é™©æ³•ã€‹ï¼ˆä»¥ä¸‹ç®€ç§°â€œã€Šä¿é™©æ³•ã€‹â€ï¼‰ç¬¬åå…­æ¡å¯¹è¿™ç±»è¡Œä¸ºæœ‰æ˜ç¡®è§„å®šï¼š</p><blockquote><p>æŠ•ä¿äººæ•…æ„æˆ–è€…å› é‡å¤§è¿‡å¤±æœªå±¥è¡Œå‰æ¬¾è§„å®šçš„å¦‚å®å‘ŠçŸ¥ä¹‰åŠ¡ï¼Œè¶³ä»¥å½±å“ä¿é™©äººå†³å®šæ˜¯å¦åŒæ„æ‰¿ä¿æˆ–è€…æé«˜ä¿é™©è´¹ç‡çš„ï¼Œä¿é™©äººæœ‰æƒè§£é™¤åˆåŒã€‚</p></blockquote><p>è¿™é‡Œçš„â€œæ•…æ„æˆ–è€…å› é‡å¤§è¿‡å¤±â€åŒ…å«ä¸¤ç§æƒ…å†µã€‚</p><p><strong>ä¸€ç§æ˜¯â€œæˆ‘æ•…æ„ä¸å‘ŠçŸ¥â€ã€‚</strong><br>æ¯”å¦‚ï¼Œåœ¨éª—ä¿æ¡ˆä»¶é‡Œï¼Œä¸ˆå¤«æ˜¯åŒ»ç”Ÿï¼Œå¦»å­æ˜¯ä»£ç†äººï¼Œæ˜çŸ¥æŠ•ä¿äººçš„ç—…æƒ…å´ä¸å‘ŠçŸ¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸”ä¸è¯´ä»–ä»¬çš„è¡Œä¸ºæ˜¯å¦æ¶‰å«Œæ¬ºè¯ˆç½ªï¼Œä¿é™©å…¬å¸è‚¯å®šè¿ä¿è´¹éƒ½ä¸ä¼šé€€è¿˜ã€‚</p><p><strong>å¦ä¸€ç§æ˜¯â€œæˆ‘æ— æ„ä¸­æ²¡å‘ŠçŸ¥â€ã€‚</strong><br>æ¯”å¦‚ï¼Œå¥åº·å‘ŠçŸ¥é‡Œæ˜ç¡®å†™äº†â€œæœ€è¿‘1å¹´å†…æ˜¯å¦æœ‰è¡€æ¶²æ£€æµ‹ç»“æœå¼‚å¸¸â€çš„ç»†é¡¹ã€‚æŸå®¢æˆ·åœ¨åŠå¹´å‰çš„ä¸€æ¬¡ä½“æ£€ä¸­ï¼ŒæŸé¡¹è¡€æ¶²æŒ‡æ ‡æ˜¾ç¤ºå¼‚å¸¸ï¼Œä½“æ£€æŠ¥å‘Šä¸Šä¹Ÿæœ‰æ ‡æ³¨ï¼Œä½†ä»–æŠ•ä¿æ—¶å¿˜è®°äº†åŠå¹´å‰çš„è¿™ä»¶äº‹ã€‚ æŠ•ä¿åä¸€å¹´å·¦å³ï¼Œè¯¥å®¢æˆ·ç¡®è¯Šæ‚£é‡å‹å†ç”Ÿéšœç¢æ€§è´«è¡€ï¼Œä¿é™©å…¬å¸ç»æ ¸æŸ¥å‘ç°ï¼Œä½“æ£€æ—¶çš„è¿™é¡¹è¡€æ¶²æŒ‡æ ‡å±äºç–¾ç—…çš„é‡è¦å¾å…†ï¼Œå®¢æˆ·åº”åœ¨æŠ•ä¿æ—¶å‘ŠçŸ¥ã€‚å¦‚æœå®¢æˆ·å¦‚å®å‘ŠçŸ¥ï¼Œä¿é™©å…¬å¸ä¾¿ä¸ä¼šæ‰¿ä¿ã€‚<br><strong>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¢æˆ·æ›´å¤šæ˜¯æ— æ„çš„ã€éä¸»è§‚çš„ï¼Œæ‰€ä»¥å¯ä»¥æ‹¿å›å·²äº¤ä¿è´¹ã€‚</strong>ä½†åˆ°äº†è¿™ä¸ªæ—¶å€™ï¼Œé€€è¿˜ä¿è´¹å¹¶æ— å¤ªå¤§æ„ä¹‰ï¼Œæ²¡æœ‰è·å¾—èµ”å¿æ‰æ˜¯é—®é¢˜æ‰€åœ¨ã€‚</p><p><strong>å…¶å®å®¢æˆ·â€œå› é‡å¤§è¿‡å¤±è€Œæœªå°½å‘ŠçŸ¥ä¹‰åŠ¡â€è¿™ä¸ªé—®é¢˜ï¼Œåœ¨å®é™…æ¡ˆä¾‹ä¸­ç»å¸¸å‡ºç°æ‰¯çš®çš„æƒ…å†µï¼Œæœ€ç»ˆæˆä¸ºä¿é™©ç†èµ”çº çº·ä¸­çš„å¸¸è§éš¾é¢˜ã€‚</strong></p><h3 id="2-èµ”ä»˜"><a href="#2-èµ”ä»˜" class="headerlink" title="2.èµ”ä»˜"></a>2.èµ”ä»˜</h3><p><strong>èµ”ä»˜ç›¸å…³é—®é¢˜ä¸­æœ€çªå‡ºçš„å°±æ˜¯ï¼šä¿é™©æ¡æ¬¾å†…å®¹è‰°æ¶©ï¼Œæœ‰äº›æ ‡å‡†è¾ƒä¸ºè‹›åˆ»ã€‚å…¶ä¸­ä»¥é‡å¤§ç–¾ç—…é™©å¯¹äºç–¾ç—…çš„å®šä¹‰æœ€ä¸ºçªå‡ºã€‚</strong></p><h4 id="ã€Šå¥åº·ä¿é™©ç®¡ç†åŠæ³•ã€‹"><a href="#ã€Šå¥åº·ä¿é™©ç®¡ç†åŠæ³•ã€‹" class="headerlink" title="ã€Šå¥åº·ä¿é™©ç®¡ç†åŠæ³•ã€‹"></a>ã€Šå¥åº·ä¿é™©ç®¡ç†åŠæ³•ã€‹</h4><p>ä¿é™©ä¸šè¿™ç§ä¸é¡¾å®é™…æƒ…å†µçš„å’¬æ–‡åš¼å­—ï¼Œè¿ä¸­åäººæ°‘å…±å’Œå›½ä¿é™©ç›‘ç£ç®¡ç†å§”å‘˜ä¼šï¼ˆä»¥ä¸‹ç®€ç§°â€œä¸­å›½ä¿ç›‘ä¼šâ€ï¼‰éƒ½çœ‹ä¸ä¸‹å»äº†ã€‚æ—©åœ¨2006å¹´ï¼Œä¸­å›½ä¿ç›‘ä¼šå‘å¸ƒçš„ã€Šå¥åº·ä¿é™©ç®¡ç†åŠæ³•ã€‹ä¸­å°±æœ‰è§„å®šï¼š ä¿é™©å…¬å¸åœ¨å¥åº·ä¿é™©äº§å“æ¡æ¬¾ä¸­çº¦å®šçš„ç–¾ç—…è¯Šæ–­æ ‡å‡†åº”å½“ç¬¦åˆé€šè¡Œçš„åŒ»å­¦è¯Šæ–­æ ‡å‡†ï¼Œå¹¶è€ƒè™‘åˆ°åŒ»ç–—æŠ€æœ¯æ¡ä»¶å‘å±•çš„è¶‹åŠ¿ã€‚å¥åº·ä¿é™©åˆåŒç”Ÿæ•ˆåï¼Œè¢«ä¿é™©äººæ ¹æ®é€šè¡Œçš„åŒ»å­¦è¯Šæ–­æ ‡å‡†è¢«ç¡®è¯Šç–¾ç—…çš„ï¼Œä¿é™©å…¬å¸ä¸å¾—ä»¥è¯¥è¯Šæ–­æ ‡å‡†ä¸ä¿é™©åˆåŒçº¦å®šä¸ç¬¦ä¸ºç†ç”±æ‹’ç»ç»™ä»˜ä¿é™©é‡‘ã€‚</p><p>ä¸­å›½ä¿ç›‘ä¼šåœ¨2017å¹´ä¿®è®¢ã€Šå¥åº·ä¿é™©ç®¡ç†åŠæ³•ã€‹æ—¶ï¼Œä¸Šè¿°å†…å®¹å¾—åˆ°ä¿ç•™ï¼Œè€Œä¸”å…³äºæ¶ˆè´¹è€…ä¿æŠ¤çš„å†…å®¹æ›´å¤šã€åŠ›åº¦æ›´å¤§ã€‚ç²¾ç¡®ã€å¯é‡åŒ–æœ¬æ¥å°±æ˜¯ä¸“ä¸šã€é«˜æ•ˆçš„ä»£åè¯ã€‚åªæ˜¯åœ¨ä¿é™©ç†èµ”é¢†åŸŸï¼Œå¯é‡åŒ–çš„æ ‡å‡†å’Œå®é™…æ“ä½œæƒ…å†µä¸¤è€…ä¹‹é—´çš„å¹³è¡¡ç¡®å®å¤ªéš¾æŒæ¡äº†ã€‚</p><h4 id="ä¿é™©å…¬å¸å¿ä»˜èƒ½åŠ›"><a href="#ä¿é™©å…¬å¸å¿ä»˜èƒ½åŠ›" class="headerlink" title="ä¿é™©å…¬å¸å¿ä»˜èƒ½åŠ›"></a>ä¿é™©å…¬å¸å¿ä»˜èƒ½åŠ›</h4><p>æ‰€è°“<strong>å¿ä»˜èƒ½åŠ›ï¼ŒæŒ‡çš„æ˜¯å½“ä¿é™©å…¬å¸é­é‡æç«¯æƒ…å†µæ—¶ï¼Œæ˜¯å¦ä»æœ‰èƒ½åŠ›å±¥è¡Œèµ”ä»˜è´£ä»»ã€‚</strong><br>æ¯ä¸ªå¹´åº¦å’Œå­£åº¦ï¼Œä¿é™©å…¬å¸çš„ç²¾ç®—ã€è´¢åŠ¡ç­‰ä¸“ä¸šäººå£«éƒ½ä¼šç¼–åˆ¶å…¬å¸å¿ä»˜èƒ½åŠ›æŠ¥å‘Šï¼Œæ¶‰åŠä¸€ç³»åˆ—æ•°å­¦æ¨¡å‹å’Œå‹åŠ›æµ‹è¯•ã€‚</p><p>ç›®å‰æˆ‘å›½æ‰§è¡Œçš„<strong>ç¬¬äºŒä»£å¿ä»˜èƒ½åŠ›ç›‘ç®¡åˆ¶åº¦</strong>ï¼ˆå¿äºŒä»£ï¼‰ï¼Œæ˜¯äº2016å¹´å¹´åˆé¢å¸ƒå®æ–½çš„ï¼Œå ªç§°å…¨çƒèŒƒå›´å†…å§¿æ€æœ€å®¡æ…ã€æ¶µç›–é¢æœ€å¹¿çš„å¿ä»˜èƒ½åŠ›ç›‘ç®¡ä½“ç³»ã€‚ æ ¹æ®å¿ä»˜èƒ½åŠ›æƒ…å†µï¼Œä¿é™©å…¬å¸ä¼šå¾—åˆ°ä»ä¼˜åˆ°å·®çš„è¯„çº§ï¼ŒåŒ…æ‹¬Aã€ Bã€Cã€D4ä¸ªç­‰çº§ã€‚<br><strong>è¯„çº§å¯ä»¥åœ¨ä¿é™©å…¬å¸å®˜ç½‘çš„â€œå…¬å¼€ä¿¡æ¯æŸ¥è¯¢â€æ ç›®æŸ¥åˆ°</strong>ï¼Œæˆ‘ä»¬å°†å®ƒè§†ä¸ºåˆ¤æ–­ä¿é™©å…¬å¸æ˜¯å¦â€œé è°±â€çš„ä¸€ä¸ªé‡è¦æ ‡å¿—ã€‚é•¿æœŸæ¥çœ‹ï¼Œåªè¦è¯„çº§ç¨³å®šåœ¨Aå’ŒBçš„å…¬å¸ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æ”¾å¿ƒè´­ä¹°å…¶äº§å“ã€‚</p><h3 id="3-é‡ç–¾é™©ä¸èƒ½å•ç‹¬å¤„ç†ç”²çŠ¶è…ºç™Œ"><a href="#3-é‡ç–¾é™©ä¸èƒ½å•ç‹¬å¤„ç†ç”²çŠ¶è…ºç™Œ" class="headerlink" title="3.é‡ç–¾é™©ä¸èƒ½å•ç‹¬å¤„ç†ç”²çŠ¶è…ºç™Œ"></a>3.é‡ç–¾é™©ä¸èƒ½å•ç‹¬å¤„ç†ç”²çŠ¶è…ºç™Œ</h3><p>2018å¹´5æœˆï¼Œä¸­å›½é“¶ä¿ç›‘ä¼šå‘å¸ƒã€Šå…³äºç»„ç»‡å¼€å±•äººèº«ä¿é™©äº§å“ä¸“é¡¹æ ¸æŸ¥æ¸…ç†å·¥ä½œçš„é€šçŸ¥ã€‹ï¼Œæ˜ç¡®è¦æ±‚ä¿é™©å…¬å¸ä¸å¾—å‡ºç°ä¸‹åˆ—è¡Œä¸ºï¼š</p><blockquote><p>é‡å¤§ç–¾ç—…ä¿é™©äº§å“å¯¹æ¶æ€§è‚¿ç˜¤è´£ä»»ä¸­çš„ç”²çŠ¶è…ºæ¶æ€§è‚¿ç˜¤è¿›è¡Œå•ç‹¬å¤„ç†ï¼Œè´£ä»»è®¾è®¡ä¸åˆç†ï¼Œè®¾ç½®è¾ƒä½çš„ä¿é™©é‡‘é¢ï¼Œå˜ç›¸ç¼©å°äº§å“çš„ä¿éšœèŒƒå›´ã€‚</p></blockquote><p><em>ï¼ˆä¸è¿‡ ï¼Œç°åœ¨å…³äºè¿™ä¸ªç”²çŠ¶è…ºç™Œä¸€ç›´åœ¨è¯´å¥½åƒè¦ç§»å‡ºé‡ç–¾äº†ã€‚å…·ä½“æƒ…å†µçœ‹å½“å‰é‡ç–¾é™©çš„è¯´æ˜ï¼‰</em></p><h2 id="å…«ã€é€‰è´­ä¿é™©äº§å“ä¸‰ä¸ªé‡ç‚¹"><a href="#å…«ã€é€‰è´­ä¿é™©äº§å“ä¸‰ä¸ªé‡ç‚¹" class="headerlink" title="å…«ã€é€‰è´­ä¿é™©äº§å“ä¸‰ä¸ªé‡ç‚¹"></a>å…«ã€é€‰è´­ä¿é™©äº§å“ä¸‰ä¸ªé‡ç‚¹</h2><p>æ±½è½¦ä¸‰å¤§ä»¶æ˜¯ä»€ä¹ˆï¼Ÿæ‰€è°“ä¸‰å¤§ä»¶ï¼ŒæŒ‡çš„æ˜¯å‘åŠ¨æœºã€å˜é€Ÿç®±ã€åº•ç›˜ã€‚æ±½è½¦çš„è¿™ä¸‰å¤§ä»¶ï¼Œå†³å®šäº†æ•´è½¦çš„åŠ¨åŠ›å’Œé©¾é©¶æ€§èƒ½ï¼Œä¹Ÿæ˜¯å…¶æ ¸å¿ƒæŠ€æœ¯ã€‚</p><p>ä¿é™©äº§å“ï¼Œå…¶å®ä¹Ÿæœ‰ä¸‰å¤§ä»¶ã€‚ä¿é™©è´£ä»»ï¼Œå°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä½™ä¸‹ä¸¤å¤§ä»¶åˆ†åˆ«æ˜¯ä¿é™©äº§å“çš„ä¿é¢å’ŒæœŸé™ã€‚</p><p>ä¸€æ¡åŸåˆ™ï¼š<strong>è´£ä»»ã€ä¿é¢ã€æœŸé™è¿™ä¸‰æ ·ä¸œè¥¿æ˜¯æˆ‘ä»¬é€‰è´­ä¿é™©äº§å“æ˜¯æœ€é‡è¦çš„å…³æ³¨ç‚¹ã€‚</strong></p><p><strong>è´£ä»»çš„å¤šå°‘ã€ä¿é¢çš„é«˜ä½ã€æœŸé™çš„é•¿çŸ­ï¼Œè¿™ä¸‰å¤§å› ç´ ç›´æ¥å†³å®šäº†ä¿é™©äº§å“çš„ä»·æ ¼ã€‚</strong></p><h3 id="1-ä¿é™©è´£ä»»"><a href="#1-ä¿é™©è´£ä»»" class="headerlink" title="1.ä¿é™©è´£ä»»"></a>1.ä¿é™©è´£ä»»</h3><p>ä¿é™©è´£ä»»å†³å®šäº†äº§å“çš„å½¢æ€ï¼Œå¤šç§å½¢æ€çš„äº§å“ç»„æˆä¸€ä»½ä¿é™©è®¡åˆ’ã€‚æŠŠä¿é™©è´£ä»»å¼„æ¸…æ¥šï¼Œå°±æƒ³å¼„æ¸…æ¥šï¼Œä½ çˆ±ä¸çˆ±åƒç‰›è‚‰ä¸€æ ·ï¼Œæœ€ç»ˆä¼šå¸®åŠ©ä½ é€‰å¯¹â€œå¥—é¤â€ã€‚</p><p><strong>ä½ æœ€éœ€è¦å‘ä»–ä»¬å’¨è¯¢çš„å°±æ˜¯è¿™æ¬¾äº§å“çš„è´£ä»»åˆ°åº•æ˜¯ä»€ä¹ˆ ã€æ‰¿æ‹…ä»€ä¹ˆé£é™©ã€è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚</strong><br>å¼„æ˜ç™½è‡ªå·±éœ€è¦çš„ä¿é™©è´£ä»»æ‰æ˜¯æœ€é‡è¦çš„ã€‚</p><p>è¦è®°ä½ï¼š<strong>çŸ­æœŸé™©å‘æŒ¥çš„åªæ˜¯è¡¥å……ä½œç”¨ã€‚</strong>å¦‚æœæˆ‘ä»¬ä¸€å¼€å§‹å°±å®Œå…¨å€šä»—ä¸€å¹´æœŸäº§å“ï¼Œé‚£ä¹ˆæœªæ¥é‡åˆ°é—®é¢˜çš„æ¦‚ç‡ä¼šå¾ˆé«˜ã€‚ </p><p>å¯¹äºåˆå…¥èŒåœºçš„å•èº«ä¸€æ—æ¥è¯´ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯ï¼Œå…ˆç¡®å®šå“ªäº›éœ€æ±‚æ˜¯ä¸€å®šè¦è§£å†³çš„ï¼Œæ ¹æ®ä¼˜å…ˆçº§åˆ—å‡ºæ¸…å•ï¼š</p><ul><li>1.å¾—äº†é‡ç–¾ï¼Œæœ‰é’±æ²»ç—…ï¼›</li><li>2.å¾—äº†é‡ç–¾ï¼Œå¼¥è¡¥æ²»ç–—æœŸé—´çš„æ”¶å…¥ï¼›</li><li>3.ä¸å¹¸èº«æ•…ï¼Œç»™çˆ¸å¦ˆç•™ä¸€ç¬”å…»è€è´¹ï¼›</li><li>4.æ„å¤–å—ä¼¤ï¼Œè§£å†³åŒ»ä¿ä¸åŒ…å«çš„è´¹ç”¨ã€‚</li></ul><p>å¯ä»¥æ ¹æ®ä»¥ä¸Š4é¡¹éœ€æ±‚ï¼Œæ‰¾åˆ°å¯¹åº”çš„ä¿é™©äº§å“ï¼Œå¹¶ç»“åˆè‡ªå·±çš„æ”¶å…¥ç¡®å®šä¿é¢ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¦‚æœå‘ç°ä¿ç»ˆèº«çš„äº§å“ä»·æ ¼è¿‡é«˜ï¼Œå°±é€‰æ‹©å…«åˆ°60å²æˆ–è€…70å²ï¼›å¦‚æœä½ è¿˜æ˜¯è§‰å¾—éš¾ä»¥æ‰¿å—ï¼Œå¯ä»¥é€‰æ‹©å‡å°‘ä¿é¢ï¼Œç›´è‡³æ‰¾åˆ°è‡ªå·±é¢„ç®—èŒƒå›´å†…çš„äº§å“è§„åˆ’ã€‚</p><p>ä¿é™©è¿™ç§äº§å“ä¸æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œå®ƒæ˜¯é™ªä¼´ä½ åº¦è¿‡æ¼«é•¿äººç”Ÿçš„ä¸€ç§é£é™©è§„åˆ’ã€‚</p><h2 id="ä¹ã€ä¿é™©ä¸šåŠ¡å‘˜"><a href="#ä¹ã€ä¿é™©ä¸šåŠ¡å‘˜" class="headerlink" title="ä¹ã€ä¿é™©ä¸šåŠ¡å‘˜"></a>ä¹ã€ä¿é™©ä¸šåŠ¡å‘˜</h2><p>ç¬¬ä¸€ï¼Œä¿é™©ä»£ç†äººã€‚ä»–ä»¬ä»£è¡¨å„è‡ªæ‰€åœ¨çš„ä¿é™©å…¬å¸ï¼Œåªé”€å”®æŸä¸€å®¶ä¿é™©å…¬å¸çš„äº§å“ã€‚ </p><p>ç¬¬äºŒï¼Œä¿é™©ç»çºªäººã€‚å’Œä»£ç†äººæœ€å¤§çš„ä¸åŒæ˜¯ï¼Œç»çºªäººä»£è¡¨çš„ä¸æ˜¯æŸä¸€å®¶ä¿é™©å…¬å¸ï¼Œè€Œæ˜¯ä¿é™©ä¸­ä»‹å…¬å¸ï¼Œä»–ä»¬å¯ä»¥é”€å”®å¤šå®¶ä¿é™©å…¬å¸äº§å“ã€‚</p><p>ç¬¬ä¸‰ï¼Œé“¶è¡Œç†è´¢ç»ç†ã€‚æ— è®ºæ˜¯åœ¨ç½‘ç‚¹æŸœå°ï¼Œè¿˜æ˜¯ç½‘ä¸Šé“¶è¡Œï¼Œæˆ‘ä»¬éƒ½èƒ½æ‰¾åˆ°é“¶è¡Œä»£ç†çš„å„å®¶ä¿é™©å…¬å¸çš„äº§å“ã€‚</p><p>ç¬¬å››ï¼Œäº’è”ç½‘ç¬¬ä¸‰æ–¹å¹³å°ã€‚é€šè¿‡äº’è”ç½‘è´­ä¹°ä¿é™©çš„è¡Œä¸ºï¼Œæ­£å˜å¾—è¶Šæ¥è¶Šæ™®éã€‚ä¸ç®¡æ˜¯è…¾è®¯ã€é˜¿é‡Œå·´å·´è¿™æ ·çš„äº’è”ç½‘å·¨å¤´ï¼Œè¿˜æ˜¯ä¸“åšä¿é™©é‡‘èçš„å‚ç›´ç½‘ç«™ï¼Œéƒ½å±æ­¤ç±»ã€‚<br><em>ï¼ˆç°åœ¨äº’è”ç½‘é”€å”®å¹³å°å¾ˆæ–¹ä¾¿çš„ã€‚ï¼‰</em></p><p>ä¸€ä¸ªä¸å®¹å¿½è§†çš„å®¢è§‚äº‹å®æ˜¯ï¼š<strong>ä¿é™©ä»£ç†äººæ˜¯ä¸€ä¸ªæµåŠ¨æ€§æå¤§çš„èŒä¸šï¼Œå½“å¹´å‘ä½ é”€å”®ä¿é™©çš„äººï¼Œå¯èƒ½å·²ç»ç¦»å¼€äº†è¿™ä¸ªè¡Œä¸šã€‚</strong><br>åœ¨ä¿é™©å…¬å¸é‡Œï¼Œç”±äºé”€å”®äººå‘˜ç¦»èŒé€ æˆçš„ä¿å•æ— äººç®¡ç†çš„é—®é¢˜éå¸¸æ™®éï¼Œè¿™ç±»ä¿å•è¢«å½¢è±¡åœ°ç§°ä¸ºâ€œå­¤å„¿ä¿å•â€ã€‚</p><p>å–ä¿é™©å…¶å®ä¸€ç‚¹å„¿ä¹Ÿä¸ç®€å•ï¼Œæ–¹æ–¹é¢é¢çš„çŸ¥è¯†éƒ½è¦æ¶‰åŠï¼ŒçœŸæ­£åˆæ ¼çš„ä¿é™©é”€å”®äººå‘˜åº”å½“å…·å¤‡èä¼šè´¯é€šçš„èƒ½åŠ›ã€‚<br><strong>é¦–å…ˆï¼Œåº”å¯¹ä¿é™©ç²¾ç®—æœ‰åŸºæœ¬çš„è®¤è¯†ã€‚</strong>äº§å“è´µä¸è´µ(åŒç±»äº§å“çš„å®šä»·å’Œè´¹ç‡å¯¹æ¯”)ï¼Ÿåˆ°åº•æœ‰å“ªäº›ä¿éšœ(ä¿é™©è´£ä»»çš„è§£è¯»)ï¼Ÿé€€ä¿èƒ½æ‹¿åˆ°å¤šå°‘ä¿è´¹(ä¿å•ç°é‡‘ä»·å€¼çš„è§£è¯»)ï¼Ÿä¹°å®Œåå“ªäº›ä¿¡æ¯å¯ä»¥ä¿®æ”¹(å¯¹ä¿å•ä¿å…¨åŠŸèƒ½çš„è®²è§£)ï¼Ÿ â€¦â€¦</p><p><strong>å…¶æ¬¡ï¼Œè¦æœ‰åŸºæœ¬çš„é‡‘èçŸ¥è¯†ã€‚</strong>å¦‚æœä»¥ç†è´¢ä¸ºç›®çš„ï¼Œè¿™ä¸ªäº§å“èƒ½å®ç°å¤šé«˜æ”¶ç›Š(å¦‚ä½•è®¡ç®—åˆ†çº¢é™©ã€ä¸‡èƒ½é™©ã€å¹´é‡‘ç­‰äº§å“çš„æŠ•èµ„æ”¶ç›Š)ï¼Ÿç¼´è´¹æœŸé™æ€ä¹ˆé€‰æ‹©(ç°é‡‘æµè´´ç°åŸç†)ï¼Ÿ â€¦â€¦</p><p><strong>å†æ¬¡ï¼Œè¦å…·å¤‡åŸºæœ¬çš„ä¿é™©æ³•å¾‹çŸ¥è¯†ã€‚</strong>ä¿é™©æ¡æ¬¾é‡Œæœ‰æ²¡æœ‰æ‰€è°“çš„å‘(é™¤å¤–è´£ä»»åšé‡ç‚¹è¯´æ˜)ï¼Ÿé‡åˆ°ç»“å©šçš„æ—¶å€™å¦‚ä½•å¤„ç†ï¼Ÿ â€¦â€¦</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¯¹é‡ç–¾é™©ã€åŒ»ç–—é™©çš„å¥åº·é™©äº§å“æ¶‰åŠçš„æ ¸ä¿è§„åˆ™ã€ç–¾ç—…å®šä¹‰ã€ç†èµ”æ ‡å‡†ï¼Œè¦èƒ½æœ‰ç†æœ‰æ®åœ°æä¾›è§£ç­”ã€‚</p><h2 id="åã€ç†è´¢ä¿é™©"><a href="#åã€ç†è´¢ä¿é™©" class="headerlink" title="åã€ç†è´¢ä¿é™©"></a>åã€ç†è´¢ä¿é™©</h2><p>æ¬§ç¾å’Œæ—¥æœ¬çš„ç»éªŒè¯æ˜ï¼Œéšç€ä¸­äº§é˜¶çº§çš„å¢åŠ å’Œè€é¾„åŒ–çš„é€¼è¿‘ï¼Œä»¥å…»è€é‡‘ä¸ºä»£è¡¨çš„é•¿æœŸä¿é™©èµ„é‡‘å°†ä¼šæˆä¸ºå±…æ°‘çš„é‡è¦æŠ•èµ„æ–¹å¼ã€‚</p><h3 id="1-å¹´é‡‘ä¿é™©"><a href="#1-å¹´é‡‘ä¿é™©" class="headerlink" title="1.å¹´é‡‘ä¿é™©"></a>1.å¹´é‡‘ä¿é™©</h3><p>ç¬¬ä¸€ç§ä¿é™©ä¹‹æ‰€ä»¥â€œç®—ä¸æ¸…æ¥šâ€æ”¶ç›Šï¼Œæ˜¯å› ä¸ºä½ äº¤çš„ä¿è´¹å¹¶éåœ¨æŸä¸ªæ—¶é—´ç‚¹ä¸€æ¬¡æ€§è¿”è¿˜ç»™ä½ ï¼Œè€Œæ˜¯åƒåˆ†æœŸè´·æ¬¾ä¸€æ ·ï¼Œé€å¹´è¿”è¿˜ç»™ä½ ã€‚å¹´é‡‘ä¿é™©å¾€å¾€å±äºæ­¤ç±»ã€‚</p><p>ä¸‹é¢ï¼Œè¯·ä½ æŠŠè‡ªå·±å½“æˆé“¶è¡Œï¼ŒæŠŠä¿é™©å…¬å¸å½“æˆæœˆä¾›ä¸€æ—ã€‚ä½ è´­ä¹°ç†è´¢ä¿é™©ï¼Œå®é™…ä¸Šå°±æ˜¯å‘ä¿é™©å…¬å¸æ”¾ è´·ï¼Œä¿é™©å…¬å¸åœ¨æœªæ¥çš„å²æœˆé‡Œå‘ä½ å®šæœŸè¿˜æ¬¾ï¼ˆä½ é¢†å–å¹´é‡‘ï¼‰ã€‚é‚£ä¹ˆï¼Œå¦‚æœä½ è¿â€œæ”¾è´·åˆ©ç‡â€éƒ½ä¸çŸ¥é“ï¼Œ è¿™ç”Ÿæ„å²‚ä¸æ˜¯ç™½åšäº†ï¼Ÿ ä¸ºäº†ç¡®å®šâ€œæ”¾è´·åˆ©ç‡â€ï¼Œä½ å¿…é¡»æ‹¥æœ‰ä¸€é¡¹æŠ€èƒ½ï¼š<strong>è®¡ç®—å†…éƒ¨æ”¶ç›Šç‡ã€‚</strong></p><p>å¹´é‡‘é™©äº§å“ï¼Œéƒ½è¦éµä»ä¸€ä¸ªè§„å®šï¼š<strong>å†…éƒ¨æ”¶ç›Šç‡ä¸èƒ½è¶…è¿‡4.025%ã€‚</strong>è¿™æ˜¯ç›‘ç®¡éƒ¨é—¨ä¸ºäº†é˜²æ­¢åˆ©å·® æŸè€Œåˆ¶å®šçš„è§„åˆ™ ã€‚<br><em>ï¼ˆè¿™æ˜¯ä»¥å‰çš„ï¼Œç°åœ¨è‚¯å®šæ²¡è¿™ä¹ˆé«˜ï¼Œå¥½åƒé™åˆ°3.5%è¿˜æ˜¯å¤šå°‘äº†ï¼‰</em></p><h3 id="2-ä¸‡èƒ½é™©ã€è¿ç»“é™©"><a href="#2-ä¸‡èƒ½é™©ã€è¿ç»“é™©" class="headerlink" title="2.ä¸‡èƒ½é™©ã€è¿ç»“é™©"></a>2.ä¸‡èƒ½é™©ã€è¿ç»“é™©</h3><p>äº¤ä¸€ç¬”é’±ï¼Œè¿‡æ®µæ—¶é—´å–å‡ºæ¥ï¼Œè¦ä¹ˆå¤šäº†ï¼ˆèµšäº†ï¼‰ï¼Œè¦ä¹ˆå°‘äº†ï¼ˆäºäº†ï¼‰ï¼Œè¿™ç§æ”¶ç›Šç‡éå¸¸å¥½ç®—ã€‚è¿ç»“é™©å’Œä¸‡èƒ½é™©å°±å±äºè¿™ç±»ç†è´¢ä¿é™©äº§å“ã€‚</p><p>æœ€å¥½ç†è§£çš„å°±æ˜¯æŠ•èµ„<strong>è¿ç»“é™©</strong>ï¼Œå…¶ç†è´¢é£æ ¼æœ€å½ªæ‚ï¼Œå¯¹å®ƒæ¥è¯´ï¼Œå€ºåˆ¸å¯ä»¥ä¹°ï¼ŒåŸºé‡‘å¯ä»¥ä¹°ï¼Œè‚¡ç¥¨ä¹Ÿå¯ä»¥ ä¹°ã€‚è€Œä¸”ï¼Œå®ƒä¸å¯¹æ¯”ä¾‹åšé™åˆ¶ã€‚</p><p><strong>ä¸‡èƒ½é™©</strong>åˆ™æ²¡é‚£ä¹ˆæ¿€è¿›ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©è‚¡ç¥¨ä½œä¸ºæŠ•èµ„å¯¹è±¡ï¼Œä½†èµ„é‡‘è¿ç”¨æ¯”ä¾‹å—åˆ°ä¸€å®šçš„é™åˆ¶ã€‚æ›´é‡è¦çš„ æ˜¯ï¼Œä¸‡èƒ½æŠ•èµ„è´¦æˆ·è®¾ç½®äº†ä¿åº•æ”¶ç›Šï¼Œå®¢æˆ·èµ·ç ä¸ä¼šæœ‰äºæŸçš„é£é™©ã€‚</p><p>äº‹å®ä¸Šï¼Œä¸‡èƒ½é™©æœ¬å°±æ˜¯ä¸ºäº†åŒæ—¶æ»¡è¶³ç†è´¢å’Œä¿éšœä¸¤å¤§éœ€æ±‚è€Œè¯ç”Ÿçš„ã€‚</p><p>å…¶å®ï¼Œè·å–å¤§è§„æ¨¡çš„èµ„é‡‘ï¼Œåœ¨ä»»ä½•æ—¶å€™éƒ½æ˜¯ä¿é™©å…¬å¸çš„é‡è¦åŠŸèƒ½ç”šè‡³æ˜¯é¦–è¦åŠŸèƒ½ã€‚ä¸ºäº†è¾¾åˆ°èµ„é‡‘çš„è§„æ¨¡ æ•ˆåº”ï¼Œå•é é‡ç–¾é™©ã€å®šæœŸå¯¿é™©è¿™ç±»äº§å“èšæ‹¢èµ„é‡‘ï¼Œæ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚è€Œå¸‚åœºä¸Šå‡ ä¹æ²¡æœ‰ä¸åšç†è´¢ä¿é™©çš„ä¿ é™©å…¬å¸ï¼Œè¿™æ„å‘³ç€ä¿é™©å…¬å¸çš„æŠ•èµ„èƒ½åŠ›å¯¹å…¶ç”Ÿå­˜å‘å±•è€Œè¨€è‡³å…³é‡è¦ã€‚</p><p>ä¿é™©äº§å“çš„ä»·æ ¼<br>ä¿é™©äº§å“çš„ä»·æ ¼ä¸ä»…ä»…ç”±é£é™©å‘ç”Ÿç‡å†³å®šã€‚è¿™å°±å¥½åƒä¸€ç“¶å†œå¤«å±±æ³‰ï¼Œå…¶æˆæœ¬ä¸»è¦ç”±ä¸‰éƒ¨åˆ†æ„æˆï¼šå–æ°´æˆ æœ¬ã€è¿è¾“æˆæœ¬ã€è¥é”€æˆæœ¬ã€‚åªçœ‹ä¸€ä¸ªå› ç´ ä¸è¶³ä»¥å¾—å‡ºç»“è®ºã€‚åŒæ ·çš„é“ç†ï¼Œé‡ç–¾é™©çš„æˆæœ¬ä¹ŸåŒ…å«ä¸‰éƒ¨åˆ†ï¼š <strong>é¢„å®šåˆ©ç‡ã€é‡ç–¾å‘ç”Ÿç‡åŠè´¹ç‡ã€‚</strong></p><p><em>ï¼ˆå‰å‡ å¹´5%å¹´æ”¶ç›Šç‡çš„ä¸‡èƒ½é™©å¾ˆç«ï¼Œåæ¥å°±å«åœäº†ã€æ²¡äº†ã€‚ç„¶åæ”¶ç›Šç‡å°±é™äº† ï¼Œå¤§æ¦‚4ç‚¹å‡ ï¼ŒæŠ‘æˆ– å¾€3ç‚¹å‡ å»äº†å§ï¼Œä¹Ÿå¯èƒ½æ²¡è¿™äº§å“äº†ã€‚ï¼‰</em></p><h2 id="åä¸€ã€å®šåˆ¶ä¿é™©æ–¹æ¡ˆ"><a href="#åä¸€ã€å®šåˆ¶ä¿é™©æ–¹æ¡ˆ" class="headerlink" title="åä¸€ã€å®šåˆ¶ä¿é™©æ–¹æ¡ˆ"></a>åä¸€ã€å®šåˆ¶ä¿é™©æ–¹æ¡ˆ</h2><h3 id="1-å¦‚ä½•ç»™å­©å­ä¹°ä¿é™©"><a href="#1-å¦‚ä½•ç»™å­©å­ä¹°ä¿é™©" class="headerlink" title="1.å¦‚ä½•ç»™å­©å­ä¹°ä¿é™©"></a>1.å¦‚ä½•ç»™å­©å­ä¹°ä¿é™©</h3><p>å¼„æ¸…æ¥šå­©å­é¢ä¸´çš„é£é™©ï¼Œæ˜¯ç§‘å­¦é…ç½®ä¿é™©çš„å‰ææ¡ä»¶ã€‚å’Œå­©å­ç›¸å…³çš„é£é™©å…¶å®å¾ˆç®€å•ï¼Œå‡ ä¹éƒ½å’Œç–¾ç—…ç›¸ å…³ï¼Œä¸€ç‚¹å„¿ä¹Ÿä¸å¤æ‚ã€‚</p><p><strong>é£é™©ä¸€ï¼šèº«æ‚£å±é‡ç–¾ç—…</strong></p><p>æ¯”å¦‚å°‘å„¿ç¾¤ä½“ä¸­å‘ç—…ç‡æœ€é«˜çš„æ¶æ€§è‚¿ç˜¤ç™½è¡€ç—…ï¼Œæ˜¯å¤§å®¶å…¬è®¤çš„é‡å¤§é£é™©ã€‚ç™½è¡€ç—…å å…¨éƒ¨å„¿ç«¥æ¶æ€§è‚¿ç˜¤çš„ 35.9%ã€‚<br>å­©å­ä¸€æ—¦æ‚£å±é‡ç–¾ç—…ï¼Œé™¤äº†éœ€è¦é•¿æœŸæŠ•å…¥é«˜é¢æ²»ç–—è´¹ç”¨ï¼Œçˆ¶æ¯ä¹Ÿå¯èƒ½ä¸ºäº†ç…§é¡¾å­©å­è€Œè¾æ‰å·¥ä½œã€‚å› æ­¤ï¼Œ <strong>é‡ç–¾é™©</strong>å’Œ<strong>é«˜ä¿é¢ä½é™¢åŒ»ç–—é™©</strong>æ˜¯åº”è¯¥é¦–å…ˆä¸ºå­©å­é…ç½®çš„ä¿é™©ã€‚</p><p>é‡ç–¾é™©çš„ä»·å€¼åœ¨äºï¼Œç½¹æ‚£é‡ç–¾åä¸€æ¬¡æ€§è·å¾—å®šé¢èµ”å¿ï¼Œå¯ä½œä¸ºè‡ªè´¹æ²»ç–—è´¹ç”¨å’Œå®¶åº­æ”¶å…¥ä¸­æ–­çš„è¡¥å¿ã€‚<br>é«˜é¢ä½é™¢åŒ»ç–—é™©çš„ä»·å€¼åœ¨äºåº”å¯¹é«˜é¢çš„åŒ»ç–—è´¹ç”¨ï¼Œå°¤å…¶æ˜¯è®¸å¤šåŒ»ä¿èŒƒå›´å¤–çš„è‡ªè´¹é¡¹ç›®ã€‚åªè¦äº§ç”Ÿäº†å¿…è¦ä¸”åˆç†çš„åŒ»ç–—å¼€é”€ï¼Œåœ¨ä¿é¢èŒƒå›´å†…èŠ±å¤šå°‘ä¿é™©å…¬å¸å°±èµ”ä»˜å¤šå°‘ã€‚å‡ ç™¾ä¸‡å…ƒçš„é«˜ä¿é¢åŒ»ç–—é™©ï¼Œå¯ä»¥åœ¨è¿™æ–¹é¢ä¸ºå®¶åº­æä¾›å……è¶³çš„é¢„ç®—æ”¯æŒã€‚</p><p><strong>é£é™©äºŒï¼šå‘ç”Ÿæ„å¤–å—ä¼¤</strong></p><p>å› äº¤é€šäº‹æ•…ã€è·Œå€’ã€å è½é€ æˆçš„æ„å¤–ä¼¤å®³å’Œèº«æ•…ï¼Œåœ¨å­©ç«¥çš„æ„å¤–é™©ç†èµ”ä¸­çš„å æ¯”æœ€é«˜ã€‚<br><em>ï¼ˆæ‰€ä»¥ä¸Šå­¦åï¼Œå­¦æ ¡éƒ½ä¼šè®©ä¹°æ„å¤–é™©ï¼Œè®°å¾—ä»å°ä¸Šå­¦å°±æœ‰ä¹°ä¿é™©ï¼‰</em></p><p><strong>é£é™©ä¸‰ï¼šèº«æ‚£ä¸€èˆ¬ç–¾ç—…</strong></p><p>å’Œå±é‡ç–¾ç—…ç›¸æ¯”ï¼Œå°ç—…å°ç¾åœ¨å­©å­ä»¬èº«ä¸Šè¦å¸¸è§å¾—å¤šã€‚æ¯é€¢å„¿ç«¥æµæ„Ÿå­£ï¼Œå„åŒ»é™¢ çš„å„¿ç§‘ç§‘å®¤æ°¸è¿œäººæ»¡ä¸ºæ‚£ã€‚</p><p>æ”¿åºœä¸¥æ ¼é™åˆ¶æœªæˆå¹´äººèº«æ•…å¯è·å¾—çš„èµ”å¿é‡‘é¢ã€‚å³ä½¿çˆ¶æ¯ä»å‡ åå®¶ä¿é™©å…¬å¸ç»™å­©å­ä¹°äº†å‡ åä»½å¯¿é™©ã€æ„å¤–é™©ï¼Œä¸€æ—¦å­©å­èº«æ•…ï¼Œè·å¾—çš„èµ”å¿éƒ½ä¸èƒ½è¶…è¿‡ç‰¹å®šé™é¢ã€‚</p><p>10å²ä»¥ä¸‹çš„æœªæˆå¹´äººçš„èº«æ•…èµ”å¿é™é¢æ˜¯20ä¸‡å…ƒã€‚10~18å²çš„æœªæˆå¹´äººï¼Œèº«æ•…èµ”å¿é™é¢æ˜¯50ä¸‡å…ƒï¼ˆæ³¨æ„ï¼šèˆªç©ºæ„å¤–ã€è‡ªç„¶ç¾å®³æ„å¤–ä¸å—æ­¤è§„å®šé™åˆ¶ï¼‰ã€‚</p><p><strong>å­©å­çœŸæ­£éœ€è¦çš„å•†ä¸šä¿é™©å…¶å®åªæœ‰ä¸‰æ¬¾ï¼š é‡å¤§ç–¾ç—…é™©ã€ æ„å¤–é™©ã€ é«˜é¢ä½é™¢åŒ»ç–—ã€‚</strong></p><p><strong>ä¸ºå­©å­é…ç½®ä¿é™©çš„å…³é”®ç‚¹</strong></p><ul><li>1.ä½œä¸ºçˆ¶æ¯ï¼Œå…ˆæŠŠè‡ªå·±çš„ä¿é™©é…ç½®å¥½ï¼Œå› ä¸ºä½ æ‰æ˜¯å­©å­æœ€å¤§çš„â€œä¿é™©â€ï¼›</li><li>2.åœ¨è´­ä¹°ä»»ä½•å•†ä¸šä¿é™©ä¹‹å‰ï¼Œå…ˆä¸ºå­©å­åŠç†å¥½å½“åœ°çš„å°‘å„¿åŒ»ä¿ï¼Œè¿™æ˜¯æ”¿åºœç»™äºˆçš„ç¦åˆ©ï¼Œä¸€ å®šè¦å……åˆ†åˆ©ç”¨ï¼›</li><li>3.ç»“åˆè‡ªèº«é¢„ç®—ï¼Œé¦–å…ˆé…ç½®é«˜ä¿é¢çš„é‡å¤§ç–¾ç—…é™©å’Œä½é™¢åŒ»ç–—é™©ï¼Œå…¶ä»–çš„ä¿é™©åˆ™é‡åŠ›è´­ä¹°ã€‚</li></ul><h3 id="2-å¦‚ä½•ç»™çˆ¶æ¯ä¹°ä¿é™©"><a href="#2-å¦‚ä½•ç»™çˆ¶æ¯ä¹°ä¿é™©" class="headerlink" title="2.å¦‚ä½•ç»™çˆ¶æ¯ä¹°ä¿é™©"></a>2.å¦‚ä½•ç»™çˆ¶æ¯ä¹°ä¿é™©</h3><p>ç»™çˆ¶æ¯é…ç½®ä¿é™©ï¼Œä¸»è¦è€ƒè™‘çš„åº”è¯¥æ˜¯<strong>é‡ç–¾é™©ã€åŒ»ç–—é™©å’Œæ„å¤–é™©ã€‚</strong></p><p><strong>é˜²ç™Œé™©</strong></p><p>æ‚£æœ‰é«˜è¡€å‹ã€å¿ƒè„ç—…ã€ç³–å°¿ç—…çš„è€å¹´äººï¼Œå¯ä»¥ç›´æ¥å’Œé‡å¤§ç–¾ç—…é™©ã€ä½é™¢åŒ»ç–—é™©è¯´å†è§äº†ã€‚ä¿é™©å…¬å¸ä¹Ÿæ„è¯†åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯æƒ³äº†ä¸€ä¸ªåŠæ³•ï¼šåŒæ–¹å„é€€ä¸€æ­¥ã€‚ä¿é™©å…¬å¸æŠŠä¿éšœèŒƒå›´ç¼©å°ï¼Œé™åˆ¶ä¹Ÿéšä¹‹å‡å°‘ã€‚ä½†è¿™ä¸ªä¿éšœèŒƒå›´ä¸èƒ½å¤ªå°ï¼Œå¾—æœ‰å­˜åœ¨çš„æ„ä¹‰ã€‚</p><p>äºæ˜¯ï¼Œé˜²ç™Œç±»ä¿é™©åº”è¿è€Œç”Ÿã€‚é‡ç–¾é™©æ¶µç›–çš„å‡ åç§ç–¾ç—…ï¼Œåªä¿ç•™ç¬¬ä¸€é¡¹ï¼Œå³æ¶æ€§è‚¿ç˜¤ï¼›ä½é™¢åŒ»ç–—é™©æ¶µç›–çš„æ‰€æœ‰ç–¾ç—…çš„ä½é™¢è´£ä»»ï¼Œä¹Ÿåªä¿ç•™ä¸€é¡¹ï¼Œå³ç™Œç—‡ä½é™¢è´£ä»»ã€‚ åœ¨ç»™å®¶åº­å¸¦æ¥å·¨å¤§å‹åŠ›çš„é‡å¤§ç–¾ç—…ä¸­ï¼Œæ¶æ€§è‚¿ç˜¤å 70%ã€‚ç¬¼ç»Ÿåœ°è¯´æ¶æ€§è‚¿ç˜¤ä½ å¯èƒ½æ²¡æœ‰æ¦‚å¿µï¼Œä½†å¦‚æœæˆ‘è¯´ä¸€æ¬¾ä¿é™©æ—¢ä¿ç™½è¡€ç—…ï¼Œåˆä¿èƒƒç™Œã€è‚ºç™Œï¼Œè¿˜ä¿èº«ä½“æ‰€æœ‰å™¨å®˜çš„ç™Œç—‡ï¼Œå¬ä¸Šå»æ˜¯ä¸æ˜¯æŒºå…¨é¢çš„ã€‚</p><p><strong>ç»™çˆ¶æ¯ä¹°ä¿é™©çš„æŠ€å·§</strong></p><p>ç¬¬ä¸€ï¼Œç¡®ä¿çˆ¶æ¯åŒæ–¹éƒ½æœ‰ç¤¾ä¼šåŒ»ç–—ä¿é™©ã€‚ä¸ç®¡æ˜¯åŸå¸‚çš„å±…æ°‘åŒ»ä¿ï¼Œè¿˜æ˜¯å†œæ‘çš„â€œæ–°å†œåˆâ€ï¼Œæ²¡æœ‰çš„è¯ï¼Œèµ¶ç´§å…ˆæŠŠç¤¾ä¼šåŒ»ä¿åŠå¥½ã€‚<em>ï¼ˆç°åœ¨åŸºæœ¬ä¸Šéƒ½ä¹°äº†è¿™ä¸ªï¼‰</em></p><p>ç¬¬äºŒï¼Œé‡åˆ°ç–‘éš¾æ‚ç—‡ï¼Œä¸å°‘äººä¼šé€‰æ‹©å¸¦çˆ¶æ¯æ¥åŒ—ä¸Šå¹¿ç­‰å¤§åŸå¸‚å°±è¯Šã€‚æ‰€ä»¥ï¼Œè¯·æå‰ç ”ç©¶å¥½åŒ»ä¿çš„å¼‚åœ°ç»“ç®—æµç¨‹ï¼Œç¡®ä¿ä¸è®©åŒ»ä¿â€œç™½äº¤â€ï¼Œè¿™ä¸€ç‚¹éå¸¸æœ‰å¿…è¦ã€‚</p><p>ç¬¬ä¸‰ï¼Œè¯¦ç»†äº†è§£çˆ¸å¦ˆçš„èº«ä½“å¥åº·æƒ…å†µï¼Œå¯¹ç—‡ä¸‹è¯ä¹°ä¿é™©ã€‚</p><h3 id="3-å¦‚ä½•ç»™è‡ªå·±ä¹°ä¿é™©"><a href="#3-å¦‚ä½•ç»™è‡ªå·±ä¹°ä¿é™©" class="headerlink" title="3.å¦‚ä½•ç»™è‡ªå·±ä¹°ä¿é™©"></a>3.å¦‚ä½•ç»™è‡ªå·±ä¹°ä¿é™©</h3><h4 id="1-18å²ä¿é™©æ¸…å•"><a href="#1-18å²ä¿é™©æ¸…å•" class="headerlink" title="1).18å²ä¿é™©æ¸…å•"></a>1).18å²ä¿é™©æ¸…å•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">**å­¦ç”Ÿå›¢ä½“ä¿é™©**ï¼š</span><br><span class="line">åŒ…å«æ„å¤–èº«æ•…&#x2F;ä¼¤æ®‹è´£ä»»ï¼Œæ„å¤–åŒ»ç–—è´£ä»»ï¼Œä½é™¢åŒ»ç–—è´£ä»»ï¼›é¢„ç®—ä¸º200 å…ƒã€‚</span><br><span class="line"></span><br><span class="line">æˆ–è‡ªå·±æŠ•ä¿ï¼š</span><br><span class="line">**æ„å¤–é™©**ï¼šåŒ…å«æ„å¤–èº«æ•…&#x2F;ä¼¤æ®‹è´£ä»»ï¼Œæ„å¤–åŒ»ç–—è´£ä»»ï¼›é¢„ç®—ä¸º200å…ƒï¼ˆä¿é¢ä¸º50ä¸‡å…ƒï¼‰ã€‚</span><br><span class="line">**åŒ»ç–—é™©**ï¼šåŒ…å«ç–¾ç—…å¯¼è‡´çš„ä½é™¢åŒ»ç–—è´£ä»»ï¼Œé¢„ç®—ä¸º200å…ƒã€‚</span><br><span class="line"></span><br><span class="line">**ä¿éšœé€Ÿè§ˆ**</span><br><span class="line">èº«æ•…è¡¥å¿ï¼ˆä»…é™æ„å¤–åŸ å› ï¼‰ï¼š50ä¸‡å…ƒã€‚</span><br><span class="line">æ„å¤–åŒ»ç–—è¡¥å¿ï¼š1ä¸‡å…ƒï¼ˆä¸Šé™ï¼‰ã€‚</span><br><span class="line">ä½é™¢åŒ»ç–—è¡¥å¿ï¼š100ä¸‡å…ƒï¼ˆä¸Šé™ï¼‰ã€‚</span><br></pre></td></tr></table></figure><h4 id="2-22å²ä¿é™©æ¸…å•"><a href="#2-22å²ä¿é™©æ¸…å•" class="headerlink" title="2).22å²ä¿é™©æ¸…å•"></a>2).22å²ä¿é™©æ¸…å•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">**æ–°å¢ä¿é™©æƒ…å†µ**</span><br><span class="line">**å®šæœŸå¯¿é™©A**ï¼šå—ç›Šäººä¸ºçˆ¶æ¯ï¼Œä¿é¢å¤§çº¦ç›¸å½“äºçˆ¶æ¯5å¹´çš„é€€ä¼‘é‡‘ï¼›é¢„ç®—ä¸ºæ¯å¹´500å…ƒï¼ˆä¿é¢ 50ä¸‡å…ƒï¼Œä¿éšœæœŸ30å¹´ï¼Œç¼´è´¹æœŸ30å¹´ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">**ä¿éšœé€Ÿè§ˆ**</span><br><span class="line">èº«æ•…è¡¥å¿ï¼ˆä¸é™æ­»äº¡åŸå› ï¼‰ï¼š50ä¸‡å…ƒã€‚</span><br><span class="line">é¢å¤–èº«æ•…è¡¥å¿ ï¼ˆä»…é™æ„å¤–åŸå› ï¼‰ï¼š50ä¸‡å…ƒã€‚</span><br><span class="line">æ„å¤–åŒ»ç–—è¡¥å¿ï¼š1ä¸‡å…ƒï¼ˆä¸Šé™ï¼‰ã€‚</span><br><span class="line">ä½é™¢åŒ»ç–—è¡¥å¿ï¼š100ä¸‡å…ƒï¼ˆä¸Šé™ï¼‰ã€‚</span><br></pre></td></tr></table></figure><h4 id="3-28å²ä¿é™©æ¸…å•"><a href="#3-28å²ä¿é™©æ¸…å•" class="headerlink" title="3).28å²ä¿é™©æ¸…å•"></a>3).28å²ä¿é™©æ¸…å•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å¯¹ä¸€ä¸ªå®¶åº­æ¥è¯´ï¼Œç§°å¾—ä¸Šç­é¡¶ä¹‹ç¾çš„åªæœ‰ä¸¤ä»¶äº‹ï¼šèº«æ‚£é‡ç–¾ï¼Œä¸å¹¸èº«æ•…ã€‚å‰è€…é é‡å¤§ç–¾ç—…é™©å’ŒåŒ»ç–—é™©æ¥ åº”å¯¹ï¼Œåè€…é å®šæœŸå¯¿é™©æ¥åº”å¯¹ã€‚</span><br><span class="line"></span><br><span class="line">**æ–°å¢ä¿é™©æƒ…å†µ**</span><br><span class="line">**å®šæœŸå¯¿é™©B**ï¼šå—ç›Šäººä¸ºæ³•å®šå—ç›Šäººï¼Œä¿é¢çº¦ç­‰äº5å€å¹´è–ªï¼›</span><br><span class="line">é¢„ç®—ä¸ºæ¯å¹´1000å…ƒï¼ˆä¿é¢80ä¸‡ å…ƒï¼Œä¿åˆ°60å²ï¼Œç¼´è´¹æœŸ30å¹´ï¼‰ã€‚</span><br><span class="line">**é‡å¤§ç–¾ç—…é™©A**ï¼šä¿é¢çº¦ç­‰äºè´­ä¹°æ—¶çš„3å€å¹´è–ªï¼›é¢„ç®—ä¸ºæ¯å¹´5000å…ƒï¼ˆä¿ é¢50ä¸‡å…ƒï¼Œä¿åˆ°70å²ï¼Œç¼´è´¹æœŸ30å¹´ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">**ä¿éšœé€Ÿè§ˆ**</span><br><span class="line">èº«æ•…è¡¥å¿ï¼ˆä¸é™æ­»äº¡åŸå› ï¼‰ï¼š130ä¸‡å…ƒã€‚</span><br><span class="line">é¢å¤–èº«æ•…è¡¥å¿ ï¼ˆä»…é™æ„å¤–åŸå› ï¼‰ï¼š50ä¸‡å…ƒã€‚</span><br><span class="line">æ„å¤–åŒ»ç–—è¡¥å¿ï¼š1ä¸‡å…ƒï¼ˆä¸Šé™ï¼‰ã€‚</span><br><span class="line">ä½é™¢åŒ»ç–—è¡¥å¿ï¼š100ä¸‡å…ƒï¼ˆä¸Šé™ï¼‰ã€‚</span><br><span class="line">é‡å¤§ç–¾ç—…è¡¥å¿ï¼š50ä¸‡å…ƒã€‚</span><br></pre></td></tr></table></figure><h4 id="4-32å²ä¿é™©æ¸…å•"><a href="#4-32å²ä¿é™©æ¸…å•" class="headerlink" title="4).32å²ä¿é™©æ¸…å•"></a>4).32å²ä¿é™©æ¸…å•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">**æ–°å¢ä¿é™©æƒ…å†µ**</span><br><span class="line">**æ„å¤–é™©**ï¼šåŒ…å«æ„å¤–èº«æ•…&#x2F;ä¼¤æ®‹è´£ä»»ï¼›é¢„ç®—ä¸ºæ¯å¹´400å…ƒï¼ˆä¿é¢100ä¸‡å…ƒï¼‰ã€‚</span><br><span class="line">**å‡é¢å®šæœŸå¯¿é™© C**ï¼šå—ç›Šäººä¸ºæ³•å®šå—ç›Šäººï¼Œä¿é¢ç­‰äºæˆ¿è´·æ€»é¢ï¼›é¢„ç®—ä¸ºæ¯å¹´2000å…ƒï¼ˆä¿é¢150ä¸‡å…ƒï¼Œä¿éšœæœŸ30å¹´ï¼Œç¼´è´¹æœŸ 20å¹´ï¼‰ã€‚</span><br><span class="line">**é‡å¤§ç–¾ç—…é™©B**ï¼šæå‡é‡ç–¾ä¿é¢ï¼›é¢„ç®—ä¸ºæ¯å¹´5000å…ƒï¼ˆä¿é¢30ä¸‡å…ƒï¼Œä¿ç»ˆèº«ï¼Œç¼´è´¹æœŸ30å¹´ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">**ä¿éšœé€Ÿè§ˆ**</span><br><span class="line">èº«æ•…è¡¥å¿ï¼ˆä¸é™æ­»äº¡åŸå› ï¼‰ï¼š130ä¸‡å…ƒã€‚</span><br><span class="line">é¢å¤–èº«æ•…è¡¥å¿ï¼ˆä»…é™æ„å¤–åŸå› ï¼‰ï¼š150ä¸‡å…ƒã€‚</span><br><span class="line">æ„å¤–åŒ»ç–—è¡¥å¿ï¼š 1ä¸‡å…ƒï¼ˆä¸Šé™ï¼‰ã€‚</span><br><span class="line">ä½é™¢åŒ»ç–—è¡¥å¿ï¼š 100ä¸‡å…ƒï¼ˆä¸Šé™ï¼‰ã€‚</span><br><span class="line">é‡å¤§ç–¾ç—…è¡¥å¿ï¼š 80ä¸‡å…ƒã€‚</span><br></pre></td></tr></table></figure><h4 id="5-32å²ä¿é™©æ¸…å•"><a href="#5-32å²ä¿é™©æ¸…å•" class="headerlink" title="5).32å²ä¿é™©æ¸…å•"></a>5).32å²ä¿é™©æ¸…å•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">å·²ç»è´­ä¹°çš„ä¸‰ä»½å®šæœŸå¯¿é™©ï¼Œåˆ†åˆ«æ˜¯ä¸ºäº†çˆ¶æ¯çš„å…»è€ã€é…å¶çš„ç”Ÿæ´»ã€æˆ¿è´·çš„å¿è¿˜ï¼Œç°åœ¨ä½ éœ€è¦ä¸ºå­©å­ä¹°ä¸€ ä»½å®šæœŸå¯¿é™©äº†ã€‚</span><br><span class="line"></span><br><span class="line">**æ–°å¢ä¿é™©æƒ…å†µ**</span><br><span class="line">**å®šæœŸå¯¿é™©D**ï¼šå—ç›Šäººä¸ºå­å¥³ï¼Œä¿é¢ç›¸å½“äºå­©å­5å¹´çš„ç”Ÿæ´»è´¹ï¼›é¢„ç®—ä¸ºæ¯å¹´4000å…ƒï¼ˆä¿é¢100 ä¸‡å…ƒï¼Œä¿åˆ°60å²ï¼Œç¼´è´¹æœŸ20å¹´ï¼‰ã€‚</span><br><span class="line">**å…»è€ä¿é™©**ï¼ˆ60å²é¢†å–ï¼‰ï¼šé¢„ç®—ä¸ºæ¯å¹´60000å…ƒï¼ˆæ¯æœˆ5000å…ƒï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">**ä¿éšœé€Ÿè§ˆ**</span><br><span class="line">æ„å¤–é™©ï¼šåŒ…å«æ„å¤–èº«æ•…&#x2F;ä¼¤æ®‹è´£ä»»ï¼Œæ„å¤–åŒ»ç–—è´£ä»»ï¼›é¢„ç®—ä¸ºæ¯å¹´200å…ƒï¼ˆä¿é¢50ä¸‡å…ƒï¼‰ã€‚</span><br><span class="line">æ„å¤–é™©ï¼šåŒ…å«æ„å¤–èº«æ•…&#x2F;ä¼¤æ®‹è´£ä»»ï¼›é¢„ç®—ä¸ºæ¯å¹´400å…ƒï¼ˆä¿é¢100ä¸‡å…ƒï¼‰ã€‚</span><br><span class="line">åŒ»ç–—é™©ï¼šåŒ…å«ç–¾ç—…å¯¼è‡´çš„ä½é™¢åŒ»ç–—è´£ä»»ï¼›é¢„ç®—ä¸ºæ¯å¹´200å…ƒã€‚</span><br><span class="line">å®šæœŸå¯¿é™©Aï¼šå—ç›Šäººä¸ºçˆ¶æ¯ï¼Œä¿é¢ç›¸å½“äºçˆ¶æ¯5å¹´çš„é€€ä¼‘é‡‘ï¼›é¢„ç®—ä¸ºæ¯å¹´500å…ƒ ï¼ˆä¿é¢50ä¸‡å…ƒï¼Œä¿éšœæœŸ30å¹´ï¼Œç¼´è´¹æœŸ30å¹´ï¼‰ã€‚</span><br><span class="line">å®šæœŸå¯¿é™©Bï¼šå—ç›Šäººä¸ºæ³•å®šå—ç›Šäººï¼Œä¿é¢ç›¸å½“äºè‡ªå·±5å€ çš„å¹´è–ªã€‚é¢„ç®—ä¸ºæ¯å¹´1000å…ƒï¼ˆä¿é¢80ä¸‡å…ƒï¼Œä¿åˆ°60å²ï¼Œç¼´è´¹æœŸ30å¹´ï¼‰ã€‚</span><br><span class="line">å‡é¢å®šæœŸå¯¿é™©Cï¼šå—ç›Šäººä¸ºæ³•å®š å—ç›Šäººï¼Œä¿é¢ç­‰äºæˆ¿è´·æ€»é¢ï¼›é¢„ç®—ä¸ºæ¯å¹´2000å…ƒï¼ˆä¿é¢150ä¸‡å…ƒï¼Œä¿éšœæœŸ30å¹´ï¼Œç¼´è´¹æœŸ20å¹´ï¼‰ã€‚</span><br><span class="line">å®šæœŸå¯¿é™©Dï¼šå—ç›Šäººä¸ºå­å¥³ï¼Œä¿é¢ç›¸å½“äºå­©å­5å¹´çš„ç”Ÿæ´»è´¹ï¼›é¢„ç®—ä¸ºæ¯å¹´4000å…ƒï¼ˆä¿é¢100ä¸‡å…ƒï¼Œä¿åˆ°60å²ï¼Œç¼´ è´¹æœŸ20å¹´ï¼‰ã€‚</span><br><span class="line">é‡å¤§ç–¾ç—…é™©Aï¼šä¿é¢ç›¸å½“äºè‡ªå·±å½“æ—¶çš„3å€å¹´è–ªï¼›é¢„ç®—ä¸ºæ¯å¹´5000å…ƒï¼ˆä¿é¢50ä¸‡å…ƒï¼Œä¿åˆ°70 å²ï¼Œç¼´è´¹æœŸ30å¹´ï¼‰ã€‚</span><br><span class="line">é‡å¤§ç–¾ç—…é™©Bï¼šæå‡é‡ç–¾é™©ä¿é¢ï¼›é¢„ç®—ä¸ºæ¯å¹´5000å…ƒï¼ˆä¿é¢30ä¸‡å…ƒï¼Œä¿ç»ˆèº«ï¼Œç¼´è´¹ æœŸ30å¹´ï¼‰ã€‚</span><br><span class="line">å…»è€ä¿é™©ï¼ˆ60å²é¢†å–ï¼‰ï¼šé¢„ç®—ä¸ºæ¯å¹´60000å…ƒï¼ˆæ¯æœˆ5000å…ƒï¼‰ã€‚</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œä½ å¤§æ¦‚ç»ˆäºæ˜ç™½äº†ï¼š</p><p>ç»™è‡ªå·±ä¹°ä¿é™©ï¼Œä¸èƒ½ä¸€è¹´è€Œå°±ï¼Œåº”éšç€äººç”Ÿè¿›å…¥ä¸åŒé˜¶æ®µè€Œåˆ†æ­¥å®æ–½ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è‡ªå·±çš„æƒ…æ„Ÿè¿›è¡Œå†åˆ†é…ï¼Œè¯´åˆ°åº•å°±æ˜¯ï¼Œå›ç­”â€œ<strong>ä¸ºè°ä¹°ä¿é™©</strong>â€çš„é—®é¢˜ã€‚<br>æ¯”å¦‚ï¼Œæ¶‰åŠåŒ»ç–—è¡¥å¿çš„ä¿é™©ï¼ˆå¦‚ä½é™¢åŒ»ç–—é™©ã€é‡å¤§ç–¾ç—…é™©)ï¼Œæ˜¯ä¸ºäº†è®©è‡ªå·±ä¸è‡³äºè¢«ç–¾ç—…æç©ºè…°åŒ…ï¼›å†æ¯”å¦‚ï¼Œæ¶‰åŠèº«æ•…è¡¥å¿çš„ä¿é™©ï¼ˆå¦‚å®šæœŸå¯¿é™©ã€æ„å¤–é™©)ï¼Œæ˜¯ä¸ºäº†è®©å®¶äººèƒ½å¤Ÿç»§ç»­ç»´æŒåŸæ¥çš„ç”Ÿæ´»æ°´å‡†ã€‚</p><h2 id="åäºŒã€ä¸ªäººæ€»ç»“"><a href="#åäºŒã€ä¸ªäººæ€»ç»“" class="headerlink" title="åäºŒã€ä¸ªäººæ€»ç»“"></a>åäºŒã€ä¸ªäººæ€»ç»“</h2><p>è´­ä¹°ä¿é™©çš„æ­¥éª¤ï¼ˆçº¯å±ä¸ªäººæµ…è§ï¼‰ï¼š</p><p>1.äº†è§£å‡ ç§ä¿é™©æƒ…å†µï¼ŒåŒ¹é…è‡ªå·±çš„é£é™©éœ€æ±‚ã€‚<br>æŒ‘é€‰å¥½æƒ³è¦ä¹°çš„ä¿é™©å“ç§ï¼ˆæ¯”å¦‚æ„å¤–é™©+é‡ç–¾é™©+å¯¿é™©ï¼Œè¿™ä¸ªé€‰æ‹©è‡ªå·±åˆé€‚çš„å°±å¥½ï¼‰ã€‚</p><p>2.æ¯ä¸ªå“ç§ä»ä¸€äº›ç½‘çº¢äº§å“ï¼ˆæœ‰åˆ©äºæˆ‘ä»¬åšä¸€ä¸ªå¿«é€Ÿè¿‡æ»¤ï¼‰ä¸­æŒ‘å‡ºå‡ å®¶å…¬å¸çš„äº§å“ã€‚<br>å¯¹æ¯”æŒ‘å‡ºæ¥çš„å‡ ç§äº§å“çš„å…¬å¸æƒ…å†µå’Œäº§å“è¯¦æƒ…ï¼ˆç½‘çº¢äº§å“ä¸€èˆ¬ç½‘ä¸Šä¼šæœ‰ä¸€äº›å¯¹æ¯”çš„æ–‡ç« ï¼Œå¯ä»¥å‚è€ƒï¼‰ã€‚ä¸€äº›äº’è”ç½‘å¹³å°ï¼Œçƒ­é—¨çš„äº§å“é‡ŒæŒ‘ä¸€ä¸‹ã€‚</p><p>3.æ‰¾å¹³å°ï¼ˆé è°±çš„å¹³å°æˆ–è€…å®˜ç½‘ï¼‰çš„ä¿é™©é¡¾é—®å’¨è¯¢ã€ç¡®è®¤ã€‚<br>åƒäº’è”ç½‘å¹³å°è¿™äº›ï¼Œéƒ½ä¼šç›´æ¥ç»™ä½ é…ä¸€ä¸ªä¿é™©çš„é¡¾é—®ç»ç†ï¼Œç›´æ¥é—®å°±è¡Œäº†ã€‚æ¯”å¦‚æœ‰å¥åº·å‘ŠçŸ¥ä¸æ˜ç¡®çš„ï¼Œæˆ–è€…èŒä¸šä¸æ˜ç¡®çš„ã€‚</p><h3 id="ä¸ªäººä¿é™©é…ç½®ï¼ˆæ¨èï¼‰"><a href="#ä¸ªäººä¿é™©é…ç½®ï¼ˆæ¨èï¼‰" class="headerlink" title="ä¸ªäººä¿é™©é…ç½®ï¼ˆæ¨èï¼‰"></a>ä¸ªäººä¿é™©é…ç½®ï¼ˆæ¨èï¼‰</h3><p>çº¯å±ä¸ªäººæƒ³æ³•ã€‚æœ‰è‡ªå·±æƒ³æ³•çš„ï¼Œå¿½ç•¥å°±å¥½ï¼›æ²¡æœ‰è‡ªå·±æƒ³æ³•çš„ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æˆ‘çš„æƒ³æ³•ã€‚</p><p>å…³äºä¹¦ä¸­<strong>å®šåˆ¶ä¿é™©æ–¹æ¡ˆ</strong>è¿™ä¸€å—ï¼Œåæ­£å°±çœ‹ä¸€ä¸‹ï¼Œäº†è§£ä¸€ä¸‹ã€‚<br>è¯´ç™½äº† ï¼Œåæ­£å°±å¯¿é™©ã€é‡ç–¾ã€åŒ»ç–—å’Œæ„å¤–è¿™4ç§ã€‚</p><p><strong>ä¿é™©èƒ½ä¹°å°±æ—©ç‚¹ä¹°</strong></p><p>å¦‚æœèƒ½ä¹°çš„è¯ï¼Œ</p><ul><li>1).é‡ç–¾é™©ï¼šé•¿æœŸé™©ã€‚è¿™è™½ç„¶ä¸æ˜¯ç¡®è¯Šå³èµ”ï¼Œåæ­£å·®ä¸å¤šå°±æ˜¯è¿™ä¹ˆç†è§£ï¼Œå¾—äº†è¿™ç—…ï¼Œç¡®è¯Šåå°±èƒ½æ‹¿åˆ°èµ”å¿é‡‘é¢çš„ã€‚ä¸€èˆ¬éƒ½æ˜¯åˆ†Nå¹´ä»˜æ¬¾çš„ï¼Œä¿åˆ°å¤šä¹…ï¼ˆæ¯”å¦‚70å²ï¼Œä¿ç»ˆèº«ï¼‰çš„ã€‚</li><li>2).å¯¿é™©ï¼šé•¿æœŸé™©ã€‚åæ­£ä¹Ÿæ˜¯å¯ä»¥åˆ†Nå¹´äº¤è´¹ï¼Œä¿åˆ°å¤šä¹…çš„ã€‚</li><li>3).åŒ»ç–—é™©ï¼šæœ‰2ç§ã€‚å³æœ‰é•¿æœŸé™©ï¼Œä¹Ÿæœ‰çŸ­æœŸé™©ï¼ˆä¿1å¹´ï¼‰çš„ã€‚èƒ½ä¹°é•¿æœŸçš„ï¼Œå½“ç„¶ä¹°ä¸ªé•¿æœŸçš„ï¼Œæ¯”å¦‚ä¿è¯ç»­ä¿å¤šå°‘å¹´çš„ã€‚æ¯•ç«Ÿä¿1å¹´çš„çŸ­æœŸé™©ï¼Œæ˜¯ä¸ä¿è¯èƒ½ç»­ä¿çš„ã€‚ï¼ˆâ€æƒ æ°‘ä¿â€ç±»å°±æ˜¯çŸ­æœŸ1å¹´çš„åŒ»ç–—é™©ï¼‰</li><li>4).æ„å¤–é™©ï¼šä¸€èˆ¬éƒ½å¸¦æ„å¤–åŒ»ç–—ã€‚å› ä¸ºé•¿æœŸæ˜¯æ¯”çŸ­æœŸçš„è¦è´µçš„ ï¼Œæ„å¤–é™©å°±ç”¨ä¸ç€é•¿æœŸäº† ï¼Œå› ä¸ºæ„å¤–é™©ä¸€èˆ¬æ²¡å•¥é™åˆ¶ï¼Œæ‰€ä»¥çŸ­æœŸï¼ˆä¿1å¹´ï¼‰å°±è¡Œï¼Œæ¯å¹´ä¹°ä¸€ä¸‹ã€‚</li></ul><p>è‡³äºå¹´é‡‘é™©è¿™äº›ç†è´¢å‹çš„ï¼Œçœ‹è‡ªå·±ç†è´¢ã€å…»è€è¿™æ–¹é¢çš„éœ€è¦å§ã€‚</p><p>æ¯”å¦‚æœ‰äº›ä¸èƒ½ä¹°çš„è¯ï¼Œ<br>åƒæˆ‘è‡ªå·±å‰å‡ å¹´æƒ³ä¹°çš„æ—¶å€™ï¼Œå‘ç°æ¯å¹´çš„ä½“æ£€çªç„¶æœ‰äº†è‚ºç»“èŠ‚ï¼Œæ‰€ä»¥é‡ç–¾ã€å¯¿é™©ã€åŒ»ç–—é™©éƒ½ä¸ç”¨æƒ³äº†ï¼Œéƒ½ä¸èƒ½ä¹°äº†ã€‚</p><p>æ‰€ä»¥è‡ªå·±å°±åªä¹°äº†ä¸ªé«˜é¢æ„å¤–é™©ã€‚<br>å¹¸å¥½æœ‰â€æƒ æ°‘ä¿â€è¿™ç§äº§å“ï¼Œç›¸å½“äºè¡¥å……çš„åŒ»ç–—é™©ã€‚</p><blockquote><p><strong>â€œæƒ æ°‘ä¿â€</strong><br>å‰ä¸¤å¹´å¼€å§‹ï¼Œå…¨å›½å„åœ°åœ°æ–¹æ”¿åºœæœ‰æ¨ä¸€ä¸ªâ€œæƒ æ°‘ä¿â€ï¼ˆå¤§æ¦‚è¿™åå­—ï¼Œå„åœ°åå­—ä¸åŒï¼Œä¿çš„ä¸œè¥¿ä¹Ÿç•¥æœ‰ä¸åŒï¼Œä¹Ÿæœ‰å…¨å›½ç‰ˆçš„ï¼‰çš„å•†ä¸šä¿é™©ã€‚å°±æ˜¯ä¿1å¹´çš„çŸ­æœŸçš„åŒ»ç–—é™©ã€‚ä¸€å¹´å¤§æ¦‚åªè¦100-200å·¦å³ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯»ä¹¦ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TPLinkè·¯ç”±å™¨æ— çº¿æ¡¥æ¥ã€æ— çº¿ä¸­ç»§</title>
      <link href="/2022/05/21/TPLink%E8%B7%AF%E7%94%B1%E5%99%A8%E6%97%A0%E7%BA%BF%E6%A1%A5%E6%8E%A5%E3%80%81%E6%97%A0%E7%BA%BF%E4%B8%AD%E6%96%AD/"/>
      <url>/2022/05/21/TPLink%E8%B7%AF%E7%94%B1%E5%99%A8%E6%97%A0%E7%BA%BF%E6%A1%A5%E6%8E%A5%E3%80%81%E6%97%A0%E7%BA%BF%E4%B8%AD%E6%96%AD/</url>
      
        <content type="html"><![CDATA[<p>åŸæ¥ç”¨çš„ä¸€å°TPLinkçš„è·¯ç”±å™¨ï¼Œä¹‹å‰æ¢æˆå°ç±³AC2100äº†ï¼ˆåƒå…†è·¯ç”±å™¨ï¼‰ï¼Œè¿˜æ¢äº†ç½‘çº¿ï¼Œå¼€äº†5Gé…ç½®ï¼Œå¸¦å®½300+Mã€‚</p><p>ç„¶åè·¯ç”±å™¨åœ¨æˆ‘æˆ¿é—´ï¼Œæ‰€ä»¥åœ¨æˆ‘æˆ¿é—´ä¿¡å·å½“ç„¶æ²¡å•¥é—®é¢˜ï¼Œç”¨äº†å¿«2å¹´äº†ï¼Œç„¶åçˆ¹å¦ˆååº”ç°åœ¨åœ¨å®¢å…æœ‰æ—¶å€™WiFiä¿¡å·ä¸è¡Œï¼Œå‹æ ¹ç”¨ä¸äº†ã€‚ï¼ˆæˆ‘è‡ªå·±åŸºæœ¬ä¸Šæ˜¯åœ¨å¨æˆ¿ä¿¡å·çš„ç¡®ä¸è¡Œï¼Œåˆ«çš„åœ°æ–¹å¥½åƒæ²¡å•¥é—®é¢˜ï¼‰</p><a id="more"></a><p>äºæ˜¯ï¼ŒæŠŠæ—§çš„é‚£å°TPLinkçš„è·¯ç”±å™¨æ‰¾å‡ºæ¥äº†ï¼ˆåŸæ¥ä¹Ÿæ²¡åï¼Œå°±æ˜¯è§‰å¾—ä¸å¥½ç”¨äº†å§ï¼‰ï¼Œå‡†å¤‡æ‰”å®¢å…ï¼Œæ­ä¸ªæ— çº¿æ¡¥æ¥è¯•ä¸€ä¸‹ã€‚å›å¤´å¦‚æœè¿˜æ˜¯ä¸å¥½ç”¨ï¼Œå†ä¹°ä¸ªæ–°è·¯ç”±å™¨åšæ— çº¿æ¡¥æ¥çœ‹çœ‹ã€‚</p><p>TPLinkçš„è·¯ç”±å™¨åšæ— çº¿æ¡¥æ¥ã€è®¾ç½®å¾ˆæ–¹ä¾¿ã€‚</p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ul><li>1.æœ‰ä¸€å°æ­£å¸¸ä½¿ç”¨çš„è·¯ç”±å™¨ï¼ˆå°ç±³AC2100ï¼‰ï¼Œä½œä¸ºä¸»è·¯ç”±å™¨ã€‚</li><li>2.ä¸€å°å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰çš„è¿æ¥ä¸Šç”µæºã€‚</li><li>3.ç”¨æ‰‹æœºæˆ–å¹³æ¿è¿›å…¥å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰çš„ç®¡ç†é¡µé¢ï¼Œè¿›è¡Œæ“ä½œã€‚</li></ul><h2 id="TPLinkè·¯ç”±å™¨æ— çº¿æ¡¥æ¥è®¾ç½®"><a href="#TPLinkè·¯ç”±å™¨æ— çº¿æ¡¥æ¥è®¾ç½®" class="headerlink" title="TPLinkè·¯ç”±å™¨æ— çº¿æ¡¥æ¥è®¾ç½®"></a>TPLinkè·¯ç”±å™¨æ— çº¿æ¡¥æ¥è®¾ç½®</h2><h3 id="1-è®¾å¤‡è¿æ¥å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰WiFIä¿¡å·"><a href="#1-è®¾å¤‡è¿æ¥å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰WiFIä¿¡å·" class="headerlink" title="1.è®¾å¤‡è¿æ¥å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰WiFIä¿¡å·"></a>1.è®¾å¤‡è¿æ¥å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰WiFIä¿¡å·</h3><p>å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰æ¥ä¸Šç”µæºåï¼Œç”¨æ‰‹æœºæˆ–å¹³æ¿è¿æ¥å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰çš„WiFiä¿¡å·ã€‚</p><p>å½“ç„¶ï¼Œä½ ç”¨ç”µè„‘ä¹Ÿå¯ä»¥ï¼Œç”µè„‘æœ‰æ— çº¿çš„ç›´æ¥è¿æ— çº¿ä¿¡å·ï¼Œæ²¡æœ‰æ— çº¿çš„å°å¼å°±éœ€è¦ç½‘çº¿è¿æ¥äº†ã€‚</p><h3 id="2-ç™»å½•TPLinkè·¯ç”±å™¨ç®¡ç†é¡µé¢"><a href="#2-ç™»å½•TPLinkè·¯ç”±å™¨ç®¡ç†é¡µé¢" class="headerlink" title="2.ç™»å½•TPLinkè·¯ç”±å™¨ç®¡ç†é¡µé¢"></a>2.ç™»å½•TPLinkè·¯ç”±å™¨ç®¡ç†é¡µé¢</h3><p>ä¸€èˆ¬æ˜¯â€192.168.1.1â€ æˆ– â€œ192.168.0.1â€ï¼Œä»¥å‰ç”¨è¿‡çš„è·¯ç”±å™¨å°±ç›´æ¥ç”¨å¯†ç ç™»å½•å°±è¡Œã€‚<br>å¦‚æœå¿˜è®°å¯†ç äº†ï¼Œå°±æŠŠè·¯ç”±å™¨é‡ç½®ä¸€ä¸‹ï¼ˆæ¢å¤ä¹‹åï¼Œç”¨é»˜è®¤çš„å¯†ç ç™»å½•ï¼‰ã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/TPLink_wifi_bridging_1.png"                                     ><p>åç§°è®¾ç½®ä¸è®¾ç½®ä¹Ÿæ— æ‰€è°“ï¼Œåæ­£è®¾ç½®æ¡¥æ¥åä¼šè®¾ç½®çš„ï¼Œåªè¦ç™»å½•æˆåŠŸäº†å°±è¡Œã€‚</p><h3 id="3-ã€æ— çº¿æ¡¥æ¥ã€‘è®¾ç½®"><a href="#3-ã€æ— çº¿æ¡¥æ¥ã€‘è®¾ç½®" class="headerlink" title="3.ã€æ— çº¿æ¡¥æ¥ã€‘è®¾ç½®"></a>3.ã€æ— çº¿æ¡¥æ¥ã€‘è®¾ç½®</h3><p>1).æ‰“å¼€ã€åº”ç”¨ç®¡ç†ã€‘-&gt;ã€æ— çº¿æ¡¥æ¥ã€‘ï¼Œè¿›å…¥<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/TPLink_wifi_bridging_2.png"                                     ></p><p>2).é€‰æ‹©æ¡¥æ¥çš„ä¸»è·¯ç”±å™¨</p><p>å¼€å§‹è®¾ç½®åï¼Œä¼šæ‰«å‡ºé™„è¿‘çš„æ— çº¿åç§°ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©ä¸»è·¯ç”±å™¨ï¼ˆå°ç±³AC2100ï¼‰ï¼Œé€‰æ‹©ä¹‹åä¼šè¦è¾“å…¥ä¸»è·¯ç”±å™¨è®¾ç½®çš„æ— çº¿å¯†ç ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/TPLink_wifi_bridging_3.png"                                     ></p><p>è¿æ¥æˆåŠŸåï¼Œç„¶åä¼šä»ä¸»è·¯ç”±å™¨è‡ªåŠ¨è·å–IPåœ°å€ï¼Œç›´æ¥ä¸‹ä¸€æ­¥ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/TPLink_wifi_bridging_4.png"                                     ></p><p><strong>æ³¨æ„</strong>ï¼šæŠŠè¿™ä¸ªipè®°ä¸€ä¸‹ï¼Œå› ä¸ºä¸‹æ¬¡å†è¿›å…¥å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰çš„ç®¡ç†é¡µé¢ï¼Œå°±ä¸æ˜¯ 192.168.0.1äº†ï¼Œè€Œæ˜¯è¿™ä¸ªipåœ°å€äº†ã€‚ï¼ˆæˆ‘è¿™é‡Œæ˜¯ 192.168.31.201ï¼‰</p><p>3).å‰¯è·¯ç”±å™¨çš„æ— çº¿åç§°è®¾ç½®</p><p>è¿™é‡Œä¼šæœ‰ä¸ªæç¤ºï¼š</p><blockquote><p>æ¨èå°†æœ¬è·¯ç”±å™¨çš„æ— çº¿åç§°å’Œå¯†ç æ›´æ”¹ä¸ºä¸ä¸»è·¯ç”±å™¨ä¸€è‡´ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹æ›´æ”¹ï¼š</p></blockquote><p>ç„¶åçœ‹åˆ°æ— çº¿åç§°å’Œæ— çº¿å¯†ç æ˜¯è·Ÿä¸»è·¯ç”±å™¨è®¾ç½®çš„ä¸€æ ·çš„ã€‚</p><p>ä¸ªäººå»ºè®®è¿˜æ˜¯ä¸è¦ä¸€è‡´äº†ï¼Œå› ä¸ºå¦‚æœä¸€è‡´è¿ä¸Šè¿™ä¸ªWiFiä¿¡å·çš„æ—¶å€™å°±ä¸æ¸…æ¥šæ˜¯å“ªä¸ªäº†ã€‚å½“ç„¶ï¼Œåé¢ä¹Ÿå¯ä»¥å†ä¿®æ”¹ï¼ˆå°±æ˜¯éº»çƒ¦ä¸€ç‚¹ï¼Œè¦ç¡®è®¤è¿ä¸Šçš„æ˜¯è¿™ä¸ªè·¯ç”±å™¨çš„WiFiä¿¡å·ï¼‰ã€‚</p><p>å»ºè®®ç›´æ¥æ— çº¿åç§°åé¢åŠ ä¸Š<code>-2</code>å°±è¡Œï¼Œå¯†ç å¯ä»¥ä¸€è‡´ã€‚</p><p>æœ€åå®Œæˆåè·¯ç”±å™¨ä¼šé‡å¯ã€‚</p><p>4).æŸ¥çœ‹å‰¯è·¯ç”±å™¨ï¼ˆTPLinkï¼‰DHCPæœå™¨è®¾ç½®</p><p>å› ä¸ºè¿™ä¸ªæ— çº¿æ¡¥æ¥æ˜¯è¦å…³é—­è¿™ä¸ªDHCPæœåŠ¡çš„ï¼Œå¦åˆ™è¿æ¥äº†TPLinkçš„å¥½åƒä¸èƒ½ä¸Šç½‘ã€‚</p><p>TPLinkçš„æ‰“å¼€DHCPè®¾ç½®ï¼Œçœ‹åˆ°ç›´æ¥å˜æˆã€è‡ªåŠ¨ã€‘é€‰é¡¹äº†ï¼Œé‚£å°±æ˜¯å…³é—­äº†ã€‚ä¸ç”¨å†æ‰‹åŠ¨å…³äº†ã€‚</p><h3 id="4-å°ç»“"><a href="#4-å°ç»“" class="headerlink" title="4.å°ç»“"></a>4.å°ç»“</h3><p>æ‰€ä»¥TPLinkçš„è·¯ç”±å™¨æ— çº¿æ¡¥æ¥ï¼Œä½œä¸€ä¸ªå‰¯è·¯ç”±å™¨æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚</p><p>å·®ä¸å¤šç›´æ¥ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å°±è¡Œï¼Œä¹Ÿä¸ç”¨è®¾ä»€ä¹ˆipã€‚<br>å°±æ˜¯æ— çº¿åç§°è®¾ç½®æˆ‘è§‰å¾—å¯ä»¥æ”¹ä¸€ä¸‹ï¼Œç®€å•æ ‡è¯†ä¸€ä¸‹ã€‚è¿™æ ·å“ªä¸ªä¿¡å·å¥½ï¼Œå¯ä»¥è‡ªå·±é€‰æ‹©ä¸€ä¸‹ã€‚å¯†ç åæ­£è®¾ç½®çš„ä¸€æ ·çš„ï¼Œè¾“è¿‡ä¸€æ¬¡åä¹Ÿä¸ç”¨è¾“å…¥ã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/TPLink_wifi_bridging_5.png"                                     ><p>PS.æ•ˆæœå’‹æ ·è¿˜ä¸çŸ¥é“ï¼Œçœ‹äº†ä¸€ä¸‹è®¢å•ï¼Œå‘ç°æ˜¯15å¹´ä¹°çš„TPLinkäº†ã€‚åˆ«çš„è·¯ç”±å™¨åªè¦æœ‰è¿™ä¸ªè®¾ç½®é€‰é¡¹çš„ï¼Œåº”è¯¥éƒ½å¾ˆç®€å•ã€‚</p><h2 id="å°ç±³è·¯ç”±å™¨æ— çº¿ä¸­ç»§è®¾ç½®"><a href="#å°ç±³è·¯ç”±å™¨æ— çº¿ä¸­ç»§è®¾ç½®" class="headerlink" title="å°ç±³è·¯ç”±å™¨æ— çº¿ä¸­ç»§è®¾ç½®"></a>å°ç±³è·¯ç”±å™¨æ— çº¿ä¸­ç»§è®¾ç½®</h2><p>è®¾ç½®åŸºæœ¬ä¸Šè·ŸTPLinkæ²¡å•¥åŒºåˆ«ï¼Œç›´æ¥å…ˆè¿ä¸Šä¸€å°ä¸»è·¯ç”±å™¨åï¼Œå†æŠŠå‰¯è·¯ç”±å™¨ï¼ˆå°ç±³è·¯ç”±å™¨ï¼‰æ’ä¸Šç”µæºï¼Œç™»å½•ç®¡ç†åœ°å€ï¼ˆå°ç±³çš„é»˜è®¤æ˜¯ï¼š192.168.31.1ï¼‰ã€‚</p><p>è¿›å…¥ã€å¸¸ç”¨è®¾ç½®ã€‘-&gt;ã€ä¸Šç½‘è®¾ç½®ã€‘-&gt;ã€å·¥ä½œæ¨¡å¼åˆ‡æ¢ã€‘ï¼Œé€‰æ‹©â€œæ— çº¿ä¸­ç»§å·¥ä½œæ¨¡å¼â€å°±è¡Œäº†ã€‚</p><p>åé¢çš„è®¾ç½®ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ˜¯å¦è¦åŒé¢‘åˆä¸€ï¼ˆ2.4Gå’Œ5Gåˆä¸€ï¼‰ï¼Œç„¶åä¹Ÿä¸€æ ·ä¼šåˆ†é…ä¸€ä¸ªipï¼Œè¿™ä¸ªå°±æ˜¯ä¹‹åè¿™ä¸ªä½œä¸­ç»§å™¨çš„å‰¯è·¯ç”±å™¨çš„ç®¡ç†åœ°å€äº†ï¼ˆè€Œä¸æ˜¯åŸæ¥çš„192.163.31.1äº†ï¼‰ã€‚è¿™ä¸ªåœ°å€è¿›ä¸»è·¯ç”±å™¨ç®¡ç†é¡µé¢é‡Œä¹Ÿèƒ½æŸ¥çœ‹çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python æ‰¹é‡è½¬æ¢å›¾ç‰‡æ ¼å¼</title>
      <link href="/2022/05/20/Python-%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F/"/>
      <url>/2022/05/20/Python-%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>è·Ÿä¹‹å‰ä¸€ç¯‡æ–‡ç« ï¼š<a href="/2022/05/10/Python-%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8/" title="Python æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸">Python æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸</a> ä¸€æ ·ï¼Œç”¨çš„ä¹Ÿæ˜¯PILçš„åº“ã€‚</p><p>PIL(Python Imaging Library)æ˜¯Pythonçš„ç¬¬ä¸‰æ–¹å›¾åƒå¤„ç†åº“ï¼Œä½†ç”±äºå…¶å¼ºå¤§çš„åŠŸèƒ½ï¼Œäº‹å®ä¸Šå·²ç»è¢«è®¤ä¸ºæ˜¯å›¾åƒå¤„ç†æ ‡å‡†åº“äº†ã€‚PILåŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œè€Œä¸”APIå´éå¸¸ç®€å•æ˜“ç”¨ã€‚</p><p>ç”±äºPILä»…æ”¯æŒåˆ°Python 2.7ï¼ŒåŠ ä¸Šå¹´ä¹…å¤±ä¿®ï¼Œäºæ˜¯ä¸€ç¾¤å¿—æ„¿è€…åœ¨PILçš„åŸºç¡€ä¸Šåˆ›å»ºäº†å…¼å®¹çš„ç‰ˆæœ¬ï¼Œåå­—å«Pillowï¼Œæ”¯æŒæœ€æ–°Python 3.xï¼ŒåˆåŠ å…¥äº†è®¸å¤šæ–°ç‰¹æ€§ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®‰è£…ä½¿ç”¨Pillowã€‚</p><a id="more"></a><h2 id="å®‰è£…Pillowåº“"><a href="#å®‰è£…Pillowåº“" class="headerlink" title="å®‰è£…Pillowåº“"></a>å®‰è£…Pillowåº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Pillow</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ä¸Šæœ‰æä¾›Pillowæ”¯æŒçš„Python ç‰ˆæœ¬ã€‚åŸºæœ¬ä¸ŠPython3.7+ç‰ˆæœ¬å¯¹Pillowæ–°ç‰ˆéƒ½æ˜¯æ”¯æŒçš„ã€‚<br>ï¼ˆ<a class="link"   href="https://pillow.readthedocs.io/en/latest/installation.html" >https://pillow.readthedocs.io/en/latest/installation.html<i class="fas fa-external-link-alt"></i></a> ï¼‰<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_image_resize_1.png"                                     ></p><h2 id="æ‰¹é‡è½¬æ¢å›¾ç‰‡æ ¼å¼"><a href="#æ‰¹é‡è½¬æ¢å›¾ç‰‡æ ¼å¼" class="headerlink" title="æ‰¹é‡è½¬æ¢å›¾ç‰‡æ ¼å¼"></a>æ‰¹é‡è½¬æ¢å›¾ç‰‡æ ¼å¼</h2><p><strong>è§£å†³æ€è·¯</strong>ï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œæ–°å»ºä¸€ä¸ªæ–°çš„ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾è½¬æ¢å¥½æ ¼å¼çš„å›¾ç‰‡ï¼ˆæ¯”å¦‚ç›´æ¥åœ¨ç›®å½•åé¢åŠ ä¸ªæ ¼å¼ç±»å‹ï¼‰</li><li>ç¬¬äºŒæ­¥ï¼Œç”¨os.listdir(path) æ–¹æ³•è·å–pathç›®å½•ä¸‹æ‰€æœ‰çš„å›¾ç‰‡æ–‡ä»¶åï¼Œè¿”å›ä¸€ä¸ªListï¼›</li><li>ç¬¬ä¸‰æ­¥ï¼Œéå†åˆ—è¡¨ï¼Œå¤„ç†æ¯ä¸€å¼ å›¾ç‰‡ï¼ŒæŠŠæ–‡ä»¶ååŸæ¥çš„åç¼€å»æ‰ï¼Œä¿å­˜çš„æ—¶å€™æŠŠæ–°çš„åç¼€ï¼ˆæ ¼å¼ç±»å‹ï¼‰åŠ ä¸Šã€‚</li></ul><p><strong>å®Œæ•´ä»£ç å®ç°</strong>å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¹é‡è½¬æ¢å›¾ç‰‡æ ¼å¼ä¸ºpic_typeæ ¼å¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert_image_format</span>(<span class="params">path, pic_type</span>):</span></span><br><span class="line">    outdir = path + <span class="string">&#x27;_&#x27;</span> + pic_type <span class="comment"># &#x27;C:\pictest_jpg&#x27;</span></span><br><span class="line">    mkdir(outdir)</span><br><span class="line">    file_list = os.listdir(path)</span><br><span class="line">    <span class="comment"># print(file_list)</span></span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> file_list:</span><br><span class="line">        <span class="keyword">with</span> Image.<span class="built_in">open</span>(path+<span class="string">&#x27;\\&#x27;</span>+file) <span class="keyword">as</span> image:</span><br><span class="line">            filename = os.path.splitext(file)[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">if</span>(image.mode != <span class="string">&#x27;RGB&#x27;</span>):</span><br><span class="line">                image = image.convert(<span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line">            image.save(outdir+<span class="string">&#x27;\\&#x27;</span>+filename+<span class="string">&#x27;.&#x27;</span>+pic_type)</span><br><span class="line"></span><br><span class="line">convert_image_format(path=<span class="string">r&#x27;C:\pictest&#x27;</span>, pic_type=<span class="string">&#x27;jpg&#x27;</span>) <span class="comment"># æŠŠå›¾ç‰‡éƒ½è½¬æˆjpgæ ¼å¼</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä¸­with - asç”¨æ³•</title>
      <link href="/2022/05/20/Python%E4%B8%ADwith-as%E7%94%A8%E6%B3%95/"/>
      <url>/2022/05/20/Python%E4%B8%ADwith-as%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>æœ€å¸¸è§åˆ°çš„ç”¨åˆ°with asçš„åœ°æ–¹ï¼Œæ¯”å¦‚æ‰“å¼€æ–‡ä»¶çš„æ—¶å€™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;1.txt&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    data = file.read()</span><br><span class="line">    <span class="built_in">print</span>(data)</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆè¦ç”¨with asï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ç®€åŒ–ç‰ˆçš„ try exceptè¯­å¥ï¼Œå¯ä»¥å¤„ç†å¼‚å¸¸ã€‚</p><a id="more"></a><h2 id="ä¸ºä»€ä¹ˆè¦ç”¨with-as"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨with-as" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨with as"></a>ä¸ºä»€ä¹ˆè¦ç”¨with as</h2><p>æ¯”å¦‚ï¼Œä¸Šé¢çš„ä»£ç ï¼Œä¸ç”¨with as å†™æ³•ï¼Œä¸€èˆ¬è¿™æ ·å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;1.txt&quot;</span>)</span><br><span class="line">data = file.read()</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">file.close</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¼šæœ‰ä¸ªé—®é¢˜ï¼šå½“â€1.txtâ€æ–‡ä»¶ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œå°±ä¼šæŠ¥å¼‚å¸¸ï¼Œå°±éœ€è¦å¤„ç†å¼‚å¸¸ï¼Œæˆ–è€…å…ˆåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚ä½ å°±å¯èƒ½éœ€è¦è¿™æ ·å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    file = <span class="built_in">open</span>(<span class="string">&#x27;1.txt&#x27;</span>)</span><br><span class="line">    data = file.read()</span><br><span class="line">    <span class="built_in">print</span>(data)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    file.close()</span><br></pre></td></tr></table></figure><p>è€Œç”¨with aså°±ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦äº†ï¼Œèƒ½è‡ªåŠ¨å¤„ç†å¼‚å¸¸ã€‚</p><p><strong>with as</strong>è¯­å¥ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> expression <span class="keyword">as</span> [variable]:</span><br><span class="line">    <span class="comment"># ä»£ç å—ï¼Œå¯¹[variable]çš„æ“ä½œç­‰</span></span><br></pre></td></tr></table></figure><h2 id="with-å·¥ä½œåŸç†"><a href="#with-å·¥ä½œåŸç†" class="headerlink" title="with å·¥ä½œåŸç†"></a>with å·¥ä½œåŸç†</h2><p>withæ‰€æ±‚å€¼çš„å¯¹è±¡å¿…é¡»æœ‰ä¸€ä¸ªenter()æ–¹æ³•ï¼Œä¸€ä¸ªexit()æ–¹æ³•ã€‚</p><ul><li>1.ç´§è·Ÿwithåé¢çš„è¯­å¥è¢«æ±‚å€¼åï¼Œè¿”å›å¯¹è±¡çš„<code>__enter__()</code>æ–¹æ³•è¢«è°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼å°†è¢«èµ‹å€¼ç»™asåé¢çš„å˜é‡ï¼›</li><li>2.å½“withåé¢çš„ä»£ç å—å…¨éƒ¨è¢«æ‰§è¡Œå®Œä¹‹åï¼Œå°†è°ƒç”¨å‰é¢è¿”å›å¯¹è±¡çš„<code>__exit__()</code>æ–¹æ³•ã€‚æ‰€ä»¥ä¹Ÿä¸ç”¨close()äº†ã€‚</li></ul><p>æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__enter__</span>(<span class="params">self</span>):</span> <span class="comment"># 3</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;In __enter__()&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Foo&quot;</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__exit__</span>(<span class="params">self, exc_type, exc_value, exc_trace</span>):</span> <span class="comment"># 5</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;In __exit__()&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_sample</span>():</span><span class="comment"># 2</span></span><br><span class="line">    <span class="keyword">return</span> Sample()</span><br><span class="line"> </span><br><span class="line"><span class="keyword">with</span> get_sample() <span class="keyword">as</span> sample: <span class="comment"># 1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sample:&quot;</span>, sample) <span class="comment"># 4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»£ç è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In __enter__()</span><br><span class="line">sample: Foo</span><br><span class="line">In __exit__()</span><br></pre></td></tr></table></figure><p>ä»£ç æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ul><li>1.with asè¯­å¥ä¸­sample=get_sample()ï¼Œè°ƒç”¨get_sample()æ–¹æ³•ï¼›</li><li>2.è¿”å›ä¸€ä¸ªSample()å¯¹è±¡ï¼›</li><li>3.è°ƒç”¨Sample()å¯¹è±¡çš„<code>__enter__()</code>æ–¹æ³•ï¼Œè¾“å‡º<code>In __enter__()</code>ï¼Œå¹¶return â€œFooâ€ï¼›</li><li>4.æ‰§è¡Œwithä¸‹é¢ä»£ç å—çš„è¯­å¥ï¼Œ<code>print(&quot;sample:&quot;, sample)</code>ï¼›</li><li>5.withæ‰§è¡Œå®Œåï¼Œè°ƒç”¨Sample()å¯¹è±¡çš„<code>__exit__()</code>æ–¹æ³•ï¼Œè¾“å‡º<code>In __exit__()</code>ã€‚</li></ul><p>exit()æ–¹æ³•ä¸­æœ‰3ä¸ªå‚æ•°ï¼š<code>exc_type</code>ï¼Œ<code>exc_value</code>ï¼Œ<code>exc_trace</code>ï¼Œæ˜¯åœ¨å¼‚å¸¸å¤„ç†ä¸­ç”¨çš„ã€‚</p><blockquote><p><code>exc_type</code>ï¼šé”™è¯¯çš„ç±»å‹<br><code>exc_value</code>ï¼šé”™è¯¯ç±»å‹å¯¹åº”çš„å€¼<br><code>exc_trace</code>ï¼šä»£ç ä¸­é”™è¯¯å‘ç”Ÿçš„ä½ç½®<br>å¯ä»¥åœ¨exit()æ–¹æ³•ä¸­printæ‰“å°å‡ºæ¥ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonæ–‡ä»¶æ“ä½œ shutilåº“ä½¿ç”¨ä¸¾ä¾‹</title>
      <link href="/2022/05/15/Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-shutil%E5%BA%93%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/"/>
      <url>/2022/05/15/Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-shutil%E5%BA%93%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ç”¨shutilåº“ï¼Œå®ç°å¯¹æ–‡ä»¶çš„æ“ä½œï¼ˆå¤åˆ¶ã€ç§»åŠ¨ï¼‰å’Œå¯¹æ–‡ä»¶å¤¹çš„æ“ä½œï¼ˆå¤åˆ¶ã€ç§»åŠ¨ã€åˆ é™¤ï¼‰çš„ä½¿ç”¨ä¸¾ä¾‹ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://docs.python.org/3.9/library/shutil.html" >https://docs.python.org/3.9/library/shutil.html<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="ä¸€ã€å¤åˆ¶æ–‡ä»¶"><a href="#ä¸€ã€å¤åˆ¶æ–‡ä»¶" class="headerlink" title="ä¸€ã€å¤åˆ¶æ–‡ä»¶"></a>ä¸€ã€å¤åˆ¶æ–‡ä»¶</h2><h3 id="1-copy-src-dst"><a href="#1-copy-src-dst" class="headerlink" title="1.copy(src, dst)"></a>1.copy(src, dst)</h3><ul><li>srcæ˜¯æ–‡ä»¶ï¼Œdstå¯ä»¥æ˜¯æ–‡ä»¶æˆ–ç›®å½•</li><li>æŠŠsrcæ–‡ä»¶å¤åˆ¶åˆ°ç›®å½•dstç›®å½•ä¸­ï¼ˆå‰ææ˜¯å­˜åœ¨dstç›®å½•ï¼‰</li><li>å¦‚æœä¸å­˜åœ¨dstç›®å½•ï¼Œä¼šå¤åˆ¶å†…å®¹ä¿å­˜æˆä¸€ä¸ªtestæ–‡ä»¶ï¼Œç›¸å½“äºå¤åˆ¶æ–‡ä»¶äº†ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">src = <span class="string">r&#x27;D:\a.txt&#x27;</span></span><br><span class="line">dst = <span class="string">r&#x27;D:\test&#x27;</span></span><br><span class="line">shutil.copy(src, dst) <span class="comment"># return dst</span></span><br></pre></td></tr></table></figure><h3 id="2-copy2-src-dst"><a href="#2-copy2-src-dst" class="headerlink" title="2.copy2(src, dst)"></a>2.copy2(src, dst)</h3><ul><li>srcæ˜¯æ–‡ä»¶ï¼Œdstå¯ä»¥æ˜¯æ–‡ä»¶æˆ–ç›®å½•</li><li>æŠŠsrcæ–‡ä»¶å¤åˆ¶åˆ°dstç›®å½•ä¸­ï¼Œå¹¶ä¿ç•™æºæ–‡ä»¶å…ƒæ•°æ®ï¼ˆå‰ææ˜¯å­˜åœ¨dstç›®å½•ï¼‰</li><li>è¿™ä¸ªå’Œcopyçš„åŒºåˆ«å°±æ˜¯å¤åˆ¶å‡ºæ¥çš„srcæ–‡ä»¶çš„å…ƒæ•°æ®èƒ½ä¿ç•™ï¼Œæ¯”å¦‚srcæ–‡ä»¶çš„ä¿®æ”¹æ—¥æœŸè¿™äº›ä¼šä¸å˜åŒ–ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">src = <span class="string">r&#x27;D:\a.txt&#x27;</span></span><br><span class="line">dst = <span class="string">r&#x27;D:\test2&#x27;</span></span><br><span class="line">shutil.copy2(src, dst) <span class="comment"># return dstï¼Œå¦‚æœä¸å­˜åœ¨dstç›®å½•ï¼Œä¼šå¤åˆ¶å†…å®¹ä¿å­˜æˆä¸€ä¸ªtest2æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h3 id="3-copyfileobj-fsrc-fdst"><a href="#3-copyfileobj-fsrc-fdst" class="headerlink" title="3.copyfileobj(fsrc, fdst)"></a>3.copyfileobj(fsrc, fdst)</h3><ul><li>srcï¼Œdstéƒ½æ˜¯æ–‡ä»¶</li><li>æŠŠsrcæ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°dstæ–‡ä»¶ä¸­ï¼Œå¦‚æœåŸæ–‡ä»¶å­˜åœ¨ï¼Œä¼šè¦†ç›–åŸå†…å®¹</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">src = <span class="string">r&#x27;D:\b.txt&#x27;</span></span><br><span class="line">dst = <span class="string">r&#x27;D:\test\a.txt&#x27;</span></span><br><span class="line">shutil.copyfileobj(<span class="built_in">open</span>(src,<span class="string">&#x27;r&#x27;</span>), <span class="built_in">open</span>(dst,<span class="string">&#x27;w&#x27;</span>))</span><br></pre></td></tr></table></figure><h3 id="4-copyfile-src-dst"><a href="#4-copyfile-src-dst" class="headerlink" title="4.copyfile(src, dst)"></a>4.copyfile(src, dst)</h3><ul><li>srcï¼Œdstéƒ½æ˜¯æ–‡ä»¶</li><li>æŠŠsrcæ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°dstæ–‡ä»¶ä¸­ï¼Œå¦‚æœåŸæ–‡ä»¶å­˜åœ¨ï¼Œä¼šè¦†ç›–åŸå†…å®¹</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">src = <span class="string">r&#x27;D:\b.txt&#x27;</span></span><br><span class="line">dst = <span class="string">r&#x27;D:\test\a.txt&#x27;</span></span><br><span class="line">shutil.copyfile(src, dst)</span><br></pre></td></tr></table></figure><p><strong>æ‰€ä»¥ï¼Œæ„Ÿè§‰copyfileobjã€copyfileè¿™2ä¸ªæ–¹æ³•ä¹Ÿç”¨ä¸ç€ï¼Œä¸€èˆ¬ç›´æ¥ç”¨copy()å°±å¯ä»¥å®ç°ã€‚</strong></p><h2 id="äºŒã€å¤åˆ¶æ–‡ä»¶å¤¹"><a href="#äºŒã€å¤åˆ¶æ–‡ä»¶å¤¹" class="headerlink" title="äºŒã€å¤åˆ¶æ–‡ä»¶å¤¹"></a>äºŒã€å¤åˆ¶æ–‡ä»¶å¤¹</h2><h3 id="5-copytree-src-dst"><a href="#5-copytree-src-dst" class="headerlink" title="5.copytree(src, dst)"></a>5.copytree(src, dst)</h3><ul><li>srcï¼Œdstéƒ½æ˜¯ç›®å½•</li><li>æŠŠsrcæ–‡ä»¶å¤¹å¤åˆ¶åˆ°dstæ–‡ä»¶å¤¹ï¼ˆdstæ–‡ä»¶å¤¹ä¸èƒ½å·²å­˜åœ¨ï¼‰</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">src = <span class="string">r&#x27;D:\test&#x27;</span></span><br><span class="line">dst = <span class="string">r&#x27;D:\test3&#x27;</span></span><br><span class="line">shutil.copytree(src, dst)</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€åˆ é™¤ç›®å½•"><a href="#ä¸‰ã€åˆ é™¤ç›®å½•" class="headerlink" title="ä¸‰ã€åˆ é™¤ç›®å½•"></a>ä¸‰ã€åˆ é™¤ç›®å½•</h2><h3 id="6-rmtree-path"><a href="#6-rmtree-path" class="headerlink" title="6.rmtree(path)"></a>6.rmtree(path)</h3><ul><li>åˆ é™¤pathç›®å½•ï¼Œpathä¸èƒ½æ˜¯æ–‡ä»¶</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">path= <span class="string">r&#x27;D:\test3&#x27;</span></span><br><span class="line">shutil.rmtree(path)</span><br></pre></td></tr></table></figure><h2 id="å››ã€ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•"><a href="#å››ã€ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•" class="headerlink" title="å››ã€ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•"></a>å››ã€ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•</h2><h3 id="7-move-src-dst"><a href="#7-move-src-dst" class="headerlink" title="7.move(src, dst)"></a>7.move(src, dst)</h3><ul><li>æŠŠsrcæ–‡ä»¶æˆ–ç›®å½•ç§»åŠ¨åˆ°dstç›®å½•</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">src = <span class="string">r&#x27;D:\test&#x27;</span></span><br><span class="line">src2 = <span class="string">r&#x27;D:\test2\b.txt&#x27;</span></span><br><span class="line">dst = <span class="string">r&#x27;D:\test3&#x27;</span></span><br><span class="line">shutil.move(src, dst)</span><br><span class="line">shutil.move(src2, dst)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è¡Œæ”¿åŠå…¬ç³»åˆ—ã€‘Pythonæ‰¹é‡åˆ›å»ºæ–‡ä»¶å¤¹</title>
      <link href="/2022/05/14/%E3%80%90%E8%A1%8C%E6%94%BF%E5%8A%9E%E5%85%AC%E7%B3%BB%E5%88%97%E3%80%91Python%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
      <url>/2022/05/14/%E3%80%90%E8%A1%8C%E6%94%BF%E5%8A%9E%E5%85%AC%E7%B3%BB%E5%88%97%E3%80%91Python%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
      
        <content type="html"><![CDATA[<p><strong>é—®é¢˜æè¿°</strong>ï¼š</p><p>æ¯”å¦‚æˆ‘éœ€è¦æ”¶é›†å…¬å¸å…¨éƒ¨å‘˜å·¥çš„ä¸€äº›èµ„æ–™ï¼ˆæ¯”å¦‚å¥åº·ç ç­‰å…¬å¼€èµ„æ–™ï¼‰ï¼Œç°åœ¨æ‰‹ä¸Šæœ‰ä¸ªåå•åˆ—è¡¨ã€‚</p><p>å¦‚æœæ¯ä¸ªäººéƒ½ç§å‘ç»™æˆ‘ï¼Œè¿˜å¾—è‡ªå·±ä¿å­˜ã€æ•´ç†ï¼ˆé‡å‘½åç­‰ï¼‰ã€‚<br>ä¸ºäº†æ–¹ä¾¿æ•´ç†ï¼Œäºæ˜¯ï¼Œæˆ‘å°±å¯ä»¥å»ºä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢ç»™æ¯ä¸ªäººå»ºä¸ªå•ç‹¬çš„æ–‡ä»¶å¤¹ï¼Œå½“ç„¶è¿™äº›æ–‡ä»¶å¤¹éƒ½æ˜¯ç©ºçš„ã€‚</p><p>ç„¶åæŠŠæ•´ä¸ªæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°é’‰é’‰ç¾¤å°±å¯ä»¥äº†ã€‚ç¾¤æˆå‘˜æ‰¾åˆ°æ–‡ä»¶å¤¹é‡Œè‡ªå·±åå­—çš„æ–‡ä»¶å¤¹ï¼Œå¯¹åº”ä¸Šä¼ èµ„æ–™å°±è¡Œäº†ã€‚</p><a id="more"></a><p>å½“ç„¶ï¼Œä¸Šé¢åªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œè€Œä¸”æ˜¯ç”¨é’‰é’‰çš„ï¼Œä¸ºäº†æ–¹ä¾¿ä¸Šä¼ äººå‘˜ç›´æ¥æ‰‹æœºæ“ä½œã€‚</p><p>æ­¤æ–‡ä¸»è¦ä»‹ç»ç”¨Pythonè¯»å–Excelä¸­å§“ååˆ—è¡¨ï¼Œå†æ‰¹é‡åˆ›å»ºå§“åä¸ºåçš„æ–‡ä»¶å¤¹çš„æ–¹æ³•ã€‚</p><p><strong>å®ç°æ€è·¯</strong>ï¼š</p><ul><li>è¯»å–Excelè¡¨ä¸­å§“ååˆ—çš„æ•°æ®</li><li>å¾ªç¯ä¸€ä¸‹å§“ååˆ—è¡¨ï¼ˆListï¼‰ï¼Œä¾æ¬¡åˆ›å»ºæ–‡ä»¶å¤¹</li></ul><h2 id="ä¸€ã€ç”¨openpyxlåº“è¯»å–Excelè¡¨æ ¼"><a href="#ä¸€ã€ç”¨openpyxlåº“è¯»å–Excelè¡¨æ ¼" class="headerlink" title="ä¸€ã€ç”¨openpyxlåº“è¯»å–Excelè¡¨æ ¼"></a>ä¸€ã€ç”¨openpyxlåº“è¯»å–Excelè¡¨æ ¼</h2><p>openpyxl åº“æ˜¯Pythonç”¨æ¥æ“ä½œExcelè¡¨æ ¼ï¼ˆ.xlsxï¼‰ä¸€ä¸ªåº“ã€‚è¿™é‡Œåªç®€å•ä»‹ç»æ€ä¹ˆè¯»å–ä¸€åˆ—æ•°æ®ï¼Œä¸ä½œè¯¦ç»†ä»‹ç»ã€‚</p><p>æ¯”å¦‚æœ‰è¿™æ ·ä¸€å¼ è¡¨ï¼šAå·æ˜¯åºå·ï¼ŒBåˆ—æ˜¯å§“åã€‚<br>ç„¶åæˆ‘æƒ³è¦çš„æ–‡ä»¶å¤¹åæ˜¯åºå·+å§“åã€‚</p><p>å°±å¯ä»¥å…ˆåœ¨Cåˆ—ä¸­ç”¨å…¬å¼<code>A1&amp;B1</code>æŠŠAåˆ—å’ŒBåˆ—çš„å­—ç¬¦ä¸²æ‹¼èµ·æ¥ã€‚<br>å› ä¸ºPythonè¯»å–Excelä¸ç¡®å®šæ˜¯è¯»å–åˆ°æœ¬è´¨çš„å…¬å¼ï¼Œè¿˜æ˜¯å€¼ï¼›æ‰€ä»¥æŠŠCåˆ—å†å¤åˆ¶ä¸€åˆ—Dåˆ—å‡ºæ¥ï¼ˆåªå¤åˆ¶å€¼ï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/OfficeSeries_Python_create_directorys_1.png"                                     ></p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠDåˆ—çš„æ•°æ®è¯»å‡ºæ¥å°±å¯ä»¥äº†ã€‚</p><h3 id="1-å®‰è£…openpyxl-åº“"><a href="#1-å®‰è£…openpyxl-åº“" class="headerlink" title="1.å®‰è£…openpyxl åº“"></a>1.å®‰è£…openpyxl åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install openpyxl</span><br></pre></td></tr></table></figure><h3 id="2-è¯»å–Excelä¸€åˆ—ï¼ˆDåˆ—ï¼‰æ•°æ®"><a href="#2-è¯»å–Excelä¸€åˆ—ï¼ˆDåˆ—ï¼‰æ•°æ®" class="headerlink" title="2.è¯»å–Excelä¸€åˆ—ï¼ˆDåˆ—ï¼‰æ•°æ®"></a>2.è¯»å–Excelä¸€åˆ—ï¼ˆDåˆ—ï¼‰æ•°æ®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä» Excelæ–‡ä»¶ä¸­è¯»å– æŒ‡å®šåˆ—(col_name) çš„æ•°æ®è¿”å›List</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_from_excel_by_col_name</span>(<span class="params">ex_file, sheet_name, col_name</span>):</span></span><br><span class="line">    <span class="keyword">if</span>(os.path.exists(ex_file)):</span><br><span class="line">        book = openpyxl.load_workbook(ex_file)</span><br><span class="line">        sheet = book[sheet_name]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    value_list = []</span><br><span class="line">    <span class="keyword">for</span> col_num <span class="keyword">in</span> sheet[col_name]:</span><br><span class="line">        value_list.append(col_num.value)</span><br><span class="line">    book.close()</span><br><span class="line">    <span class="keyword">return</span> value_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># name_list å³è·å–åˆ°çš„å§“ååˆ—è¡¨ e.g [&#x27;1è€å½§&#x27;,&#x27;2è€æ”¸&#x27;]</span></span><br><span class="line">name_list = read_from_excel_by_col_name(<span class="string">&#x27;ä¿¡æ¯è¡¨.xlsx&#x27;</span>, <span class="string">&#x27;Sheet1&#x27;</span>, <span class="string">&#x27;D&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="äºŒã€åˆ›å»ºæ–‡ä»¶å¤¹"><a href="#äºŒã€åˆ›å»ºæ–‡ä»¶å¤¹" class="headerlink" title="äºŒã€åˆ›å»ºæ–‡ä»¶å¤¹"></a>äºŒã€åˆ›å»ºæ–‡ä»¶å¤¹</h2><p>è¿™ä¸ªç®€å•ï¼Œç›´æ¥ç”¨Pythonè‡ªå¸¦çš„osåº“çš„makedirs()æ–¹æ³•å°±è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkdir</span>(<span class="params">path</span>):</span></span><br><span class="line">    outdir = os.path.exists(path)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> outdir:</span><br><span class="line">        os.makedirs(path)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å®Œæ•´ä»£ç ä¸¾ä¾‹"><a href="#ä¸‰ã€å®Œæ•´ä»£ç ä¸¾ä¾‹" class="headerlink" title="ä¸‰ã€å®Œæ•´ä»£ç ä¸¾ä¾‹"></a>ä¸‰ã€å®Œæ•´ä»£ç ä¸¾ä¾‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä» Excelæ–‡ä»¶ä¸­è¯»å– æŒ‡å®šåˆ—(col_name) çš„æ•°æ®è¿”å›List</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_from_excel_by_col_name</span>(<span class="params">ex_file, sheet_name, col_name</span>):</span></span><br><span class="line">    <span class="keyword">if</span>(os.path.exists(ex_file)):</span><br><span class="line">        book = openpyxl.load_workbook(ex_file)</span><br><span class="line">        sheet = book[sheet_name]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    value_list = []</span><br><span class="line">    <span class="keyword">for</span> col_num <span class="keyword">in</span> sheet[col_name]:</span><br><span class="line">        value_list.append(col_num.value)</span><br><span class="line">    book.close()</span><br><span class="line">    <span class="keyword">return</span> value_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkdir</span>(<span class="params">path</span>):</span></span><br><span class="line">    outdir = os.path.exists(path)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> outdir:</span><br><span class="line">        os.makedirs(path)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    ex_file = <span class="string">r&#x27;.\ex\ä¿¡æ¯è¡¨.xlsx&#x27;</span></span><br><span class="line">    collect_path = <span class="string">r&#x27;D:\testä¿¡æ¯æ”¶é›†&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–å§“ååˆ—è¡¨</span></span><br><span class="line">    name_list = read_from_excel_by_col_name(ex_file, <span class="string">&#x27;Sheet1&#x27;</span>, <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">    <span class="comment"># print(name_list)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‰¹é‡åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> name_list:</span><br><span class="line">        mkdir(collect_path + <span class="string">&#x27;\\&#x27;</span> + name) <span class="comment"># åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"><span class="comment"># print(os.getcwd()) # æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•è·¯å¾„</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œåç»“æœå¦‚å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/OfficeSeries_Python_create_directorys_2.png"                                     ></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåˆ›å»ºsitemapç«™ç‚¹åœ°å›¾å‘æœç´¢å¼•æ“æäº¤</title>
      <link href="/2022/05/14/Hexo%E5%88%9B%E5%BB%BAsitemap%E7%AB%99%E7%82%B9%E5%9C%B0%E5%9B%BE%E5%90%91%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8F%90%E4%BA%A4/"/>
      <url>/2022/05/14/Hexo%E5%88%9B%E5%BB%BAsitemap%E7%AB%99%E7%82%B9%E5%9C%B0%E5%9B%BE%E5%90%91%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8F%90%E4%BA%A4/</url>
      
        <content type="html"><![CDATA[<p>ç«™ç‚¹åœ°å›¾æ˜¯ä¸€ç§xmlæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡è¯¥æ–‡ä»¶åˆ—å‡ºç½‘ç«™ä¸Šçš„ç½‘é¡µï¼Œä»è€Œå°†ç½‘ç«™å†…å®¹çš„ç»„ç»‡æ¶æ„å‘ŠçŸ¥Googleå’Œå…¶ä»–æœç´¢å¼•æ“ã€‚Sitemap å¯æ–¹ä¾¿ç®¡ç†å‘˜é€šçŸ¥æœç´¢å¼•æ“ä»–ä»¬ç½‘ç«™ä¸Šæœ‰å“ªäº›å¯ä¾›æŠ“å–çš„ç½‘é¡µã€‚æœç´¢å¼•æ“ç½‘é¡µæŠ“å–å·¥å…·ä¼šè¯»å–æ­¤æ–‡ä»¶ï¼Œä»¥ä¾¿æ›´åŠ æ™ºèƒ½åœ°æŠ“å–æ‚¨çš„ç½‘ç«™ã€‚</p><p>å‘æœç´¢å¼•æ“æäº¤è‡ªå·±hexoåšå®¢çš„sitemapï¼Œæœ‰åŠ©äºè®©åˆ«äººæ›´å¥½åœ°é€šè¿‡æœç´¢å¼•æ“æœç´¢åˆ°è‡ªå·±çš„åšå®¢ã€‚</p><a id="more"></a><h2 id="ä¸€ã€ç”ŸæˆHexoåšå®¢çš„sitemapæ–‡ä»¶"><a href="#ä¸€ã€ç”ŸæˆHexoåšå®¢çš„sitemapæ–‡ä»¶" class="headerlink" title="ä¸€ã€ç”ŸæˆHexoåšå®¢çš„sitemapæ–‡ä»¶"></a>ä¸€ã€ç”ŸæˆHexoåšå®¢çš„sitemapæ–‡ä»¶</h2><p>Hexoæœ‰æä¾›2ä¸ªæ’ä»¶ï¼Œç”¨æ¥è‡ªåŠ¨ç”Ÿæˆsitemapæ–‡ä»¶ã€‚ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œåï¼Œæ¯å½“æ‰§è¡Œ <code>hexo generate</code>å‘½ä»¤åï¼Œå°±ä¼šåœ¨Hexoä¸‹çš„publicç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ã€‚</p><ul><li>sitemap.xml è¿™ä¸ªç”¨æ¥æäº¤ç»™Googleã€Bingç­‰æœç´¢å¼•æ“</li><li>baidusitemap.xml è¿™ä¸ªæ˜¯ç™¾åº¦ä¸“ç”¨çš„</li></ul><p>è¿è¡Œ <code>hexo deploy</code>å‘½ä»¤åï¼Œæ‰“å¼€è®¿é—®ï¼š<code>åŸŸå/sitemap.xml</code>ï¼Œ<code>åŸŸå/baidusitemap.xml</code>è¿™ä¸¤ä¸ªæ–‡ä»¶éƒ½èƒ½è®¿é—®ï¼Œå°±æ²¡é—®é¢˜äº†ã€‚</p><p>è®¿é—®ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_sitemap_1.png"                                     ></p><h2 id="äºŒã€æäº¤ç«™ç‚¹åœ°å›¾-sitemap-ç»™æœç´¢å¼•æ“"><a href="#äºŒã€æäº¤ç«™ç‚¹åœ°å›¾-sitemap-ç»™æœç´¢å¼•æ“" class="headerlink" title="äºŒã€æäº¤ç«™ç‚¹åœ°å›¾(sitemap)ç»™æœç´¢å¼•æ“"></a>äºŒã€æäº¤ç«™ç‚¹åœ°å›¾(sitemap)ç»™æœç´¢å¼•æ“</h2><h3 id="1-æäº¤ç»™Google"><a href="#1-æäº¤ç»™Google" class="headerlink" title="1.æäº¤ç»™Google"></a>1.æäº¤ç»™Google</h3><p>ç½‘å€ï¼š<a class="link"   href="https://search.google.com/search-console/" >https://search.google.com/search-console/<i class="fas fa-external-link-alt"></i></a><br>å½“ç„¶ï¼Œå‰ææ˜¯ä½ èƒ½è®¿é—®Googleï¼Œå¹¶æ³¨å†Œäº†Googleçš„è´¦å·äº†ã€‚</p><p>1).éœ€è¦æœ‰ä¸ªå…ˆéªŒè¯ä½ å¯¹ç½‘ç«™çš„æ‰€æœ‰æƒ</p><ul><li><p>é¦–å…ˆï¼ŒæŒ‰æ“ä½œæç¤ºä¸‹è½½æä¾›çš„HTMLéªŒè¯æ–‡ä»¶ï¼ˆgoogle2342fweklrljlj235423.htmlç±»å‹è¿™æ ·çš„æ–‡ä»¶ï¼‰ï¼›</p></li><li><p>ç„¶åï¼Œè¦æŠŠè¿™ä¸ªæ–‡ä»¶æ”¾ç½‘ç«™é¦–é¡µï¼›</p><p>ï¼ˆå°±ç›´æ¥æ”¾<code>Hexo/source</code>ç›®å½•ä¸‹ï¼ŒæŒ‰<a href="/2022/05/12/Hexo%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BF%87%E6%B8%B2%E6%9F%93/" title="Hexo è‡ªå®šä¹‰é¡µé¢ è·³è¿‡æ¸²æŸ“">Hexo è‡ªå®šä¹‰é¡µé¢ è·³è¿‡æ¸²æŸ“</a>è¿™ç¯‡æ–‡ç« çš„è·³è¿‡æ¸²æŸ“æ–¹æ³•ï¼Œ<code>hexo g</code>åå°±ä¼šç”Ÿæˆåœ¨publicç›®å½•ä¸‹äº†ï¼‰</p></li><li><p>æœ€åï¼Œæ·»åŠ ç«™ç‚¹åœ°å›¾</p><p>æœ‰ä¸¤ç§æ–¹å¼ï¼Œå¯ä»¥è‡ªå·±éƒ½è¯•ä¸‹ã€‚æäº¤å®Œåå¦‚ä¸‹å›¾æ‰€ç¤ºå°±è¡Œäº†ï¼Œå›å¤´å†çœ‹ï¼š</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_sitemap_2.png"                                     ></li></ul><h3 id="2-æäº¤ç»™Bing"><a href="#2-æäº¤ç»™Bing" class="headerlink" title="2.æäº¤ç»™Bing"></a>2.æäº¤ç»™Bing</h3><p>å¦‚æœèƒ½æäº¤ç»™Googleçš„è¯ï¼Œå…ˆæäº¤ç»™Googleåï¼Œå†æäº¤ç»™Bingå°±å¾ˆç®€å•ã€‚å› ä¸ºå¯ä»¥ç›´æ¥æˆæƒé€šè¿‡ã€‚</p><p>ç½‘å€ï¼š<a class="link"   href="https://www.bing.com/webmasters" >https://www.bing.com/webmasters<i class="fas fa-external-link-alt"></i></a></p><p>ç„¶åæˆ‘å°±ç›´æ¥æ·»åŠ äº†ä¸‹ã€ç½‘ç«™åœ°å›¾ã€‘ï¼Œå°±ç”¨sitemap.xmlæ–‡ä»¶å°±è¡Œï¼ŒæŠŠhttpå’Œhttpsçš„ç›´æ¥æ·»åŠ è¯•äº†ä¸‹ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_sitemap_3.png"                                     ></p><h3 id="3-æäº¤ç»™ç™¾åº¦"><a href="#3-æäº¤ç»™ç™¾åº¦" class="headerlink" title="3.æäº¤ç»™ç™¾åº¦"></a>3.æäº¤ç»™ç™¾åº¦</h3><p>ç™¾åº¦åŸæ¥å«ç«™é•¿å¹³å°å§ï¼Œç°åœ¨å¥½åƒæ”¹åå«ä»€ä¹ˆèµ„æºäº†ã€‚<br>ç½‘å€ï¼š<a class="link"   href="https://ziyuan.baidu.com/linksubmit/index" >https://ziyuan.baidu.com/linksubmit/index<i class="fas fa-external-link-alt"></i></a></p><p>ç™¾åº¦æ˜¯æˆ‘æœ€æä¸æ‡‚çš„ï¼Œæ˜æ˜<code>åŸŸå/baidusitemap.xml</code>æ–‡ä»¶éƒ½èƒ½è®¿é—®ï¼Œåæ­£æäº¤è¿˜æ˜¯å¤±è´¥ã€‚<br>æç¤ºâ€œä¸»åŸŸæ ¡éªŒå¤±è´¥â€ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_sitemap_4.png"                                     ></p><p>éš¾é“æ–‡ç« é‡Œè¿˜ä¸èƒ½å‡ºç°åˆ«çš„ç«™ç‚¹äº†ï¼Ÿï¼Ÿå¤ªå¥‡æ€ªäº†ï¼Œä»€ä¹ˆç©æ„~ é‚æ”¾å¼ƒã€‚</p><p><strong>æœ€åï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹å¯ä»¥æ€ä¹ˆåœ¨æœç´¢å¼•æ“ä¸Šçœ‹ç»“æœ</strong>ï¼š<br>å¯ä»¥è¿‡ä¸€ä¸¤å¤©ï¼Œç„¶åæ‰“å¼€æœç´¢å¼•æ“ï¼Œç›´æ¥æœç´¢ <code>site:åŸŸå</code>æˆ–è€…å‰é¢å†åŠ ä¸ªå…³é”®è¯ï¼Œï¼ˆæ¯”å¦‚æˆ‘çš„æœç´¢ <code>hexo site:hduzn.cn</code>ï¼‰å°±å¯ä»¥çœ‹æ”¶å½•äº†å¤šå°‘äº†ã€‚<br>åœ¨æœç´¢å¼•æ“ä¸­æœç´¢æ—¶ ï¼ŒåŠ ä¸Šsite:åŸŸåï¼Œæœ¬æ¥å°±å¯ä»¥æœç´¢æŒ‡å®šç«™ç‚¹ä¸­çš„å†…å®¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python å¤‡ä»½ è±†ç“£ è¯»è¿‡çš„ä¹¦çš„è®°å½•</title>
      <link href="/2022/05/13/Python-%E5%A4%87%E4%BB%BD-%E8%B1%86%E7%93%A3-%E8%AF%BB%E8%BF%87%E7%9A%84%E4%B9%A6%E7%9A%84%E8%AE%B0%E5%BD%95/"/>
      <url>/2022/05/13/Python-%E5%A4%87%E4%BB%BD-%E8%B1%86%E7%93%A3-%E8%AF%BB%E8%BF%87%E7%9A%84%E4%B9%A6%E7%9A%84%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŸæ–‡ç« å†™äºï¼š2021å¹´02æœˆ20æ—¥<br>æœ¬æ¥æƒ³å‡çº§ä¸‹ seleniumï¼ŒåŸæ¥ç”¨çš„3ï¼Œç°åœ¨å‡†å¤‡æ”¹ä»£ç æ¢æˆ4çš„ç‰ˆæœ¬ã€‚ç»“æœå‘ç°ç°åœ¨éƒ½ä¼šæ£€æµ‹æ˜¯selenium webdriverï¼Œä¸è®©ä»£ç ç™»å½•äº†ã€‚<br>äºæ˜¯ï¼Œåˆé‡æ–°æŠ˜è…¾äº†ä¸‹ã€‚</p></blockquote><p>ä¹‹å‰æ€»æ˜¯æ‹…å¿ƒæŸä¸€å¤©è±†ç“£æ’‘ä¸ä¸‹å»äº†ä¼šå€’é—­ã€‚äºæ˜¯ï¼Œæ€»æƒ³ç€æŠŠè‡ªå·±åœ¨è±†ç“£æ ‡è®°çš„è¯»è¿‡çš„ä¹¦ï¼Œçœ‹è¿‡çš„ç”µå½±éƒ½å¤‡ä»½å­˜ä¸‹æ¥ï¼Œä¸»è¦è¿˜æœ‰ä¸€äº›çœ‹å®Œå½“æ—¶çš„çŸ­è¯„è®°å½•ã€‚</p><p>ç”µå½±çš„é¡µé¢å’Œè¯»ä¹¦çš„é¡µé¢å·®ä¸å¤šçš„ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä»‹ç»ä¸€ä¸‹å¤‡ä»½è¯»è¿‡çš„ä¹¦çš„æ–¹æ³•ã€‚<br>æœ€ç»ˆå­˜åˆ°Excelè¡¨æ ¼ä¸­å’Œæ•°æ®åº“ï¼ˆsqliteï¼‰è¡¨ä¸­ã€‚</p><a id="more"></a><p>æ­¤é¡¹ç›®æ‰€æœ‰ä»£ç å¼€æºæ”¾åœ¨Githubä¸Šäº†ï¼Œæ–‡ç« ä¸‹é¢æœ‰åœ°å€ï¼Œæ‰€ä»¥æ­¤æ–‡åªæ˜¯è®°å½•è¿™ä¸ªå®ç°ã€ä½¿ç”¨çš„è¿‡ç¨‹ã€‚</p><h2 id="ä¸€ã€å‡†å¤‡å·¥ä½œ"><a href="#ä¸€ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€ã€å‡†å¤‡å·¥ä½œ"></a>ä¸€ã€å‡†å¤‡å·¥ä½œ</h2><h3 id="1-å®‰è£…Selenium-æµ‹è¯•ç¯å¢ƒ"><a href="#1-å®‰è£…Selenium-æµ‹è¯•ç¯å¢ƒ" class="headerlink" title="1.å®‰è£…Selenium æµ‹è¯•ç¯å¢ƒ"></a>1.å®‰è£…Selenium æµ‹è¯•ç¯å¢ƒ</h3><p>ç”¨æ¥è‡ªåŠ¨åŒ–æ“ä½œè±†ç“£çš„é¡µé¢ï¼Œçˆ¬å–æ•°æ®ã€‚<br>ä¹‹å‰æœ‰ç¯‡ç¬”è®°å†™äº†ï¼š<a href="/2022/05/04/Python-Selenium%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/" title="Python Seleniumä½¿ç”¨ä¸¾ä¾‹">Python Seleniumä½¿ç”¨ä¸¾ä¾‹</a></p><p>å¦‚æœæ˜¯Windowsç¯å¢ƒä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¸»è¦å°±æ˜¯3æ­¥ã€‚</p><ul><li>å®‰è£…Chromeæµè§ˆå™¨ï¼›</li><li>å®‰è£…æµè§ˆå™¨é©±åŠ¨ï¼ˆè¦å¯¹åº”æµè§ˆå™¨çš„ç‰ˆæœ¬ï¼Œå°±æ˜¯ä¸€ä¸ªchromedriver.exeè¿™æ ·çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼‰</li><li>å®‰è£…SeleniumåŒ…ï¼ˆç°åœ¨è£…çš„ç‰ˆæœ¬éƒ½æ˜¯4ï¼‰</li></ul><p>å®‰è£…SeleniumåŒ…Windowsä¸‹å‘½ä»¤ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><h3 id="2-å®‰è£…-openpyxl-åŒ…"><a href="#2-å®‰è£…-openpyxl-åŒ…" class="headerlink" title="2.å®‰è£… openpyxl åŒ…"></a>2.å®‰è£… openpyxl åŒ…</h3><p>è¿™ä¸ªæ˜¯ç”¨æ¥æ“ä½œExcelè¡¨çš„ï¼ŒæŠŠæ•°æ®å†™å…¥åˆ°Excelè¡¨é‡Œéœ€è¦ç”¨åˆ°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install openpyxl</span><br></pre></td></tr></table></figure><p>è‡ªå·±ç®€å•çš„æ•°æ®åº“ï¼Œå°±ç›´æ¥ç”¨Pythonè‡ªå¸¦çš„sqlite3äº†ï¼Œå¾ˆå–œæ¬¢å°±è¿™æ ·ä¸€ä¸ªæ•°æ®åº“(.db)æ–‡ä»¶ã€‚</p><h2 id="äºŒã€ä»£ç å®ç°"><a href="#äºŒã€ä»£ç å®ç°" class="headerlink" title="äºŒã€ä»£ç å®ç°"></a>äºŒã€ä»£ç å®ç°</h2><p><strong>æ€è·¯</strong>ï¼š</p><ul><li>1).ç™»å½•è¿›è±†ç“£è´¦å·ï¼Œç‚¹å¼€ã€è¯»è¿‡çš„ä¹¦ã€‘çš„é¡µé¢ï¼›</li><li>2).è·å–æœ€å¤§çš„é¡µé¢æ•° max_page_numï¼›</li><li>3).è·å–æ¯ä¸ªé¡µé¢çš„é“¾æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªæ‰€æœ‰é“¾æ¥çš„Listï¼špage_site_listï¼›</li><li>4).å†™ä¸€ä¸ªè·å–ä¸€ä¸ªé¡µé¢ä¿¡æ¯çš„æ–¹æ³•/å‡½æ•°ï¼šget_one_pageï¼Œå­˜æˆä¸€ä¸ªListï¼›</li><li>4).å¾ªç¯page_site_listï¼Œè¯»å–æ¯ä¸ªé¡µé¢çš„æ•°æ®ä¿¡æ¯Listå­˜åˆ°å…¨éƒ¨æ•°æ®çš„Listä¸­ï¼šall_page_data_listï¼›</li><li>5).æœ€åæŠŠå…¨éƒ¨æ•°æ® all_page_data_list å†™å…¥åˆ°Excelè¡¨ä¸­å’Œå­˜åˆ°æ•°æ®åº“ä¸­ã€‚</li></ul><h3 id="1-å»ºç«‹æ•°æ®åº“ã€è¡¨"><a href="#1-å»ºç«‹æ•°æ®åº“ã€è¡¨" class="headerlink" title="1.å»ºç«‹æ•°æ®åº“ã€è¡¨"></a>1.å»ºç«‹æ•°æ®åº“ã€è¡¨</h3><p>å»ºç«‹ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ <strong>douban.db</strong>ï¼Œç„¶åå»ºä¸€å¼ å­˜ä¹¦ä¿¡æ¯çš„ <strong>books</strong>è¡¨ã€‚</p><p>é‡Œé¢æœ‰ä¹¦ç±çš„name(åç§°)ï¼Œsite(è±†ç“£é“¾æ¥)ï¼Œauthor(ä½œè€…)ï¼Œtags(æ ‡ç­¾)ï¼Œdate(å·²è¯»æ—¥æœŸ)ï¼Œcomments(è¯„è®º)ï¼Œ<code>rating_num</code>(è¯„åˆ†æ•°å­—ç­‰çº§), rating(è¯„åˆ†,æ˜Ÿçº§)ï¼Œpic(ä¹¦ç±å›¾ç‰‡é“¾æ¥)</p><p>å­˜äº†ä¹¦ç±çš„å›¾ç‰‡é“¾æ¥ï¼Œä¸»è¦ä¸ºäº†ä»¥ååˆ«çš„åœ°æ–¹ä¹Ÿå¯ä»¥ç”¨ã€‚<br>æ‰€ä»¥å¦‚æœä½ ä¸éœ€è¦çš„ä¿¡æ¯ï¼Œå¯ä»¥ä¸å­˜ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> &quot;books&quot; (</span><br><span class="line">&quot;id&quot;<span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY AUTOINCREMENT <span class="keyword">UNIQUE</span>,</span><br><span class="line">&quot;name&quot;TEXT <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">&quot;site&quot;TEXT,</span><br><span class="line">&quot;author&quot;TEXT,</span><br><span class="line">&quot;tags&quot;TEXT,</span><br><span class="line">&quot;date&quot;TEXT,</span><br><span class="line">&quot;comments&quot;TEXT,</span><br><span class="line">&quot;rating_num&quot;<span class="type">INTEGER</span>,</span><br><span class="line">&quot;rating&quot;TEXT,</span><br><span class="line">&quot;pic&quot;TEXT</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="2-è·å–æ‰€æœ‰é¡µé¢çš„é“¾æ¥List-çš„æ–¹æ³•"><a href="#2-è·å–æ‰€æœ‰é¡µé¢çš„é“¾æ¥List-çš„æ–¹æ³•" class="headerlink" title="2.è·å–æ‰€æœ‰é¡µé¢çš„é“¾æ¥List çš„æ–¹æ³•"></a>2.è·å–æ‰€æœ‰é¡µé¢çš„é“¾æ¥List çš„æ–¹æ³•</h3><p>æ€è·¯ï¼š<br>è·å–æœ€å¤§é¡µé¢æ•°çš„æ—¶å€™ï¼ŒæŠŠå¯¹åº”çš„é“¾æ¥å­˜ä¸‹æ¥ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæ¨¡æ¿é“¾æ¥ï¼Œmodel_site å¦‚ä¸‹ï¼š<br>å…¶ä¸­<code>[id]</code>ä¸ºæ¯ä¸ªäººè‡ªå·±çš„è±†ç“£ç”¨æˆ·idã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;book.douban.com&#x2F;people&#x2F;[id]&#x2F;collect?start&#x3D;285&amp;sort&#x3D;time&amp;rating&#x3D;all&amp;filter&#x3D;all&amp;mode&#x3D;grid</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>start=</code>åé¢çš„æ•°å­—å³æ˜¯æ¯ä¸ªé¡µé¢ä¸åŒçš„åœ°æ–¹ã€‚</p><ul><li>ç¬¬1é¡µï¼šæ²¡å†™ï¼Œå…¶å®æ˜¯0ï¼›</li><li>ç¬¬2é¡µï¼š15ï¼›</li><li>ç¬¬3é¡µï¼š30ï¼›</li><li>ç¬¬4é¡µï¼š45ï¼›</li><li>ç¬¬né¡µï¼š(n-1)*15</li></ul><p>æ‰€ä»¥å¯ä»¥æŠŠ model_site åˆ‡åˆ†æˆ3æ®µï¼Œæ•°å­—å‰é¢æ˜¯ç¬¬ä¸€æ®µï¼Œä¸­é—´æ˜¯é¡µé¢ç›¸å…³çš„æ•°å­—ï¼Œç¬¬ä¸‰æ®µæ˜¯ <code>&amp;sort</code>å¼€å§‹çš„åé¢è¿™æ®µã€‚</p><p>ç¬¬ä¸€æ®µå’Œç¬¬ä¸‰æ®µæ˜¯å›ºå®šçš„ï¼Œé€šè¿‡ä¸€ä¸ªå¾ªç¯å°±å¯ä»¥äº†ã€‚</p><p>ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–æ‰€æœ‰é¡µæ•°çš„é“¾æ¥List</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_page_site_list</span>(<span class="params">max_page_num, model_site</span>):</span></span><br><span class="line">    <span class="comment"># model_site: https://book.douban.com/people/[id]/collect?start=300&amp;sort=time&amp;rating=all&amp;filter=all&amp;mode=grid</span></span><br><span class="line">    cop = <span class="string">&#x27;[0-9]&#x27;</span></span><br><span class="line">    site_part2 = <span class="string">&#x27;&#x27;</span>.join(re.findall(cop, model_site)) <span class="comment"># ç”¨æ­£åˆ™å–å‡ºæ•°å­—&#x27;300&#x27;</span></span><br><span class="line">    site_part1 = model_site.split(site_part2)[<span class="number">0</span>] <span class="comment"># https://book.douban.com/people/[id]/collect?start=</span></span><br><span class="line">    site_part3 = model_site.split(site_part2)[<span class="number">1</span>] <span class="comment"># &amp;sort=time&amp;rating=all&amp;filter=all&amp;mode=grid</span></span><br><span class="line"></span><br><span class="line">    site_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(max_page_num):</span><br><span class="line">        site_part2_num = <span class="built_in">str</span>(i * <span class="number">15</span>)</span><br><span class="line">        page_site = site_part1 + site_part2_num + site_part3</span><br><span class="line">        site_list.append(page_site)</span><br><span class="line">    <span class="keyword">return</span> site_list</span><br></pre></td></tr></table></figure><h3 id="3-è·å–ä¸€é¡µçš„å†…å®¹æ–¹æ³•"><a href="#3-è·å–ä¸€é¡µçš„å†…å®¹æ–¹æ³•" class="headerlink" title="3.è·å–ä¸€é¡µçš„å†…å®¹æ–¹æ³•"></a>3.è·å–ä¸€é¡µçš„å†…å®¹æ–¹æ³•</h3><p>è·å–ä¸€é¡µçš„å†…å®¹ï¼Œæœ€åè¿”å›ä¸€ä¸ªdata_listã€‚<br>data_listä¸­æ¯ä¸€é¡¹åŒ…æ‹¬ï¼šä¹¦ç±åã€ä¹¦ç±é“¾æ¥ã€ä¹¦ç±ä½œè€…ä¿¡æ¯ã€ä¹¦ç±æ ‡ç­¾ã€é˜…è¯»æ—¥æœŸã€è¯„è®ºã€è¯„åˆ†(æ•°å­—)ã€è¯„åˆ†ã€ä¹¦ç±å›¾ç‰‡é“¾æ¥ã€‚</p><p>ä»£ç å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–ä¸€é¡µçš„æ•°æ®å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_one_page</span>(<span class="params">wd, page_site</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        wd.get(page_site)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">except</span> selenium.common.exceptions.TimeoutException:</span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br><span class="line">        wd.get(page_site)</span><br><span class="line"></span><br><span class="line">    pic_list = [] <span class="comment"># å›¾ä¹¦å›¾ç‰‡List</span></span><br><span class="line">    pic_values = wd.find_elements(By.XPATH, <span class="string">&#x27;//li[@class=&quot;subject-item&quot;]//img&#x27;</span>) <span class="comment"># å›¾ä¹¦å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> pic_values:</span><br><span class="line">        pic_site = value.get_attribute(<span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">        pic_list.append(pic_site)</span><br><span class="line">    <span class="comment"># print(pic_list)</span></span><br><span class="line"></span><br><span class="line">    book_site_list = [] <span class="comment"># å›¾ç‰‡é“¾æ¥List</span></span><br><span class="line">    book_name_list = [] <span class="comment"># å›¾ä¹¦åç§°List</span></span><br><span class="line">    book_values = wd.find_elements(By.XPATH, <span class="string">&#x27;//li[@class=&quot;subject-item&quot;]//div[@class=&quot;info&quot;]//h2//a&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> book_values:</span><br><span class="line">        book_site = value.get_attribute(<span class="string">&#x27;href&#x27;</span>)</span><br><span class="line">        book_site_list.append(book_site)</span><br><span class="line">        book_name = value.text</span><br><span class="line">        book_name_list.append(book_name)</span><br><span class="line">    <span class="comment"># print(book_site_list)</span></span><br><span class="line">    <span class="comment"># print(book_name_list)</span></span><br><span class="line"></span><br><span class="line">    author_list = [] <span class="comment"># ä½œè€…ä¿¡æ¯List</span></span><br><span class="line">    author_info = wd.find_elements(By.XPATH, <span class="string">&#x27;//li[@class=&quot;subject-item&quot;]//div[@class=&quot;info&quot;]//div[@class=&quot;pub&quot;]&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> author_info:</span><br><span class="line">        author_list.append(value.text)</span><br><span class="line">    <span class="comment"># print(author_list)</span></span><br><span class="line"></span><br><span class="line">    tags_list = [] <span class="comment"># æ ‡ç­¾List</span></span><br><span class="line">    tag_values = wd.find_elements(By.XPATH, <span class="string">&#x27;//li[@class=&quot;subject-item&quot;]//div[@class=&quot;info&quot;]//div[@class=&quot;short-note&quot;]//span[@class=&quot;tags&quot;]&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> tag_values:</span><br><span class="line">        tags_list.append(value.text.split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">1</span>].strip())</span><br><span class="line">    <span class="comment"># print(tags_list)</span></span><br><span class="line"></span><br><span class="line">    date_list = [] <span class="comment"># è¯»è¿‡æ—¥æœŸList</span></span><br><span class="line">    date_values = wd.find_elements(By.XPATH, <span class="string">&#x27;//li[@class=&quot;subject-item&quot;]//div[@class=&quot;info&quot;]//div[@class=&quot;short-note&quot;]//span[@class=&quot;date&quot;]&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> date_values:</span><br><span class="line">        date_list.append(value.text.split()[<span class="number">0</span>])</span><br><span class="line">    <span class="comment"># print(date_list)</span></span><br><span class="line"></span><br><span class="line">    rating_list = [] <span class="comment"># è¯„åˆ†Listï¼ˆæ˜Ÿæ˜Ÿï¼‰</span></span><br><span class="line">    rating_num_list = [] <span class="comment"># è¯„åˆ†Listï¼ˆæ•°å­—ï¼‰</span></span><br><span class="line">    rating_values = wd.find_elements(By.XPATH, <span class="string">&#x27;//li[@class=&quot;subject-item&quot;]//div[@class=&quot;info&quot;]//div[@class=&quot;short-note&quot;]//span[1]&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> rating_values:</span><br><span class="line">        rate = value.get_attribute(<span class="string">&#x27;class&#x27;</span>)[<span class="number">6</span>] <span class="comment"># str 5/4/3/2/1</span></span><br><span class="line">        rating_num_list.append(<span class="built_in">int</span>(rate))</span><br><span class="line">        rating_list.append(douban_config.rating_dict[rate])</span><br><span class="line">    <span class="comment"># print(rating_list)</span></span><br><span class="line">    <span class="comment"># print(rating_num_list)</span></span><br><span class="line"></span><br><span class="line">    comment_list = [] <span class="comment"># çŸ­è¯„List</span></span><br><span class="line">    comment_values =  wd.find_elements(By.XPATH, <span class="string">&#x27;//li[@class=&quot;subject-item&quot;]//div[@class=&quot;info&quot;]//div[@class=&quot;short-note&quot;]//p[@class=&quot;comment&quot;]&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> comment_values:</span><br><span class="line">        comment_list.append(value.text)</span><br><span class="line">    <span class="comment"># print(comment_list)</span></span><br><span class="line"></span><br><span class="line">    num = <span class="built_in">len</span>(book_name_list)</span><br><span class="line">    data_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        data_list.append([book_name_list[i], book_site_list[i], author_list[i], tags_list[i], date_list[i], comment_list[i], rating_num_list[i], rating_list[i], pic_list[i]])</span><br><span class="line">    <span class="keyword">return</span> data_list</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼š<br>å› ä¸ºæ¯ä¸€é¡µä¸­æ˜¯æ¯ä¸€é¡¹å–ä¸€ä¸ªListã€æœ€ååˆæˆçš„ã€‚<br><strong>æ‰€ä»¥å¦‚æœä¹¦ç±æ ‡è®°çš„æ—¶å€™ï¼Œæ²¡æœ‰æ ‡ç­¾ã€æ²¡æœ‰è¯„åˆ†(æ‰“æ˜Ÿ)çš„è¯ï¼Œä¼šæŠ¥é”™ï¼Œè·å–ä¸åˆ°ä¿¡æ¯ã€‚</strong></p><h3 id="4-ç”¨seleniumç™»å½•å‰æè®¾ç½®"><a href="#4-ç”¨seleniumç™»å½•å‰æè®¾ç½®" class="headerlink" title="4.ç”¨seleniumç™»å½•å‰æè®¾ç½®"></a>4.ç”¨seleniumç™»å½•å‰æè®¾ç½®</h3><p>ä¸ºäº†è·³è¿‡seleniumçš„webdriveræ£€æµ‹ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ˜¯æœ¬åœ°debuggeræ¨¡å¼ç™»å½•ã€‚<br>ä½¿ç”¨æ–¹æ³•çœ‹åé¢çš„<strong>ä½¿ç”¨è¯´æ˜</strong>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line"><span class="comment"># ä½¿ç”¨æœ¬åœ°debuggeræ¨¡å¼ï¼Œå¯ä»¥æå‰ç™»å½•</span></span><br><span class="line">option.add_experimental_option(<span class="string">&#x27;debuggerAddress&#x27;</span>,<span class="string">&#x27;127.0.0.1:9222&#x27;</span>)</span><br><span class="line">wd = webdriver.Chrome(options=option)</span><br><span class="line">wd.implicitly_wait(<span class="number">10</span>)</span><br><span class="line">wd.get(site)</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ•´ä¸ªé¡¹ç›®æ‰“åŒ…"><a href="#ä¸‰ã€æ•´ä¸ªé¡¹ç›®æ‰“åŒ…" class="headerlink" title="ä¸‰ã€æ•´ä¸ªé¡¹ç›®æ‰“åŒ…"></a>ä¸‰ã€æ•´ä¸ªé¡¹ç›®æ‰“åŒ…</h2><p>æ•´ä¸ªé¡¹ç›®æ”¾åœ¨ Githubä¸Šäº†ã€‚é“¾æ¥ï¼š <a class="link"   href="https://github.com/hduzn/own_douban_backup" >own_douban_backup<i class="fas fa-external-link-alt"></i></a></p><p>çœ‹README.mdæ–‡æ¡£å³å¯ã€‚</p><p><strong>é¡¹ç›®æ–‡ä»¶è¯´æ˜ï¼š</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">douban_backup</span><br><span class="line">- db</span><br><span class="line">  - douban.db</span><br><span class="line">- ex</span><br><span class="line">  - douban.xlsx</span><br><span class="line">- books.py</span><br><span class="line">- douban.sql</span><br><span class="line">- douban_config.py</span><br><span class="line">- main.py</span><br><span class="line">- z_db.py</span><br></pre></td></tr></table></figure><blockquote><p>db/douban.db : sqliteæ•°æ®åº“æ–‡ä»¶ï¼Œæœ€åä¿å­˜çš„æ•°æ®éƒ½åœ¨è¿™é‡Œ<br>ex/douban.xlsx : Excelæ–‡ä»¶ï¼Œæœ€åä¿å­˜çš„æ•°æ®åŒæ­¥ä¿å­˜åœ¨è¿™é‡Œ<br>books.py ï¼šè°ƒç”¨ main()æ–¹æ³•ï¼Œå°†Douban è¯»è¿‡çš„ä¹¦çš„è®°å½•ä¿å­˜åˆ°æ•°æ®åº“booksè¡¨ä¸­å’Œdouban.xlsx æ–‡ä»¶ä¸­<br>douban.sql : è¡¨åˆ›å»ºçš„sqlè¯­å¥ï¼ˆbooksè¡¨ï¼‰<br>douban_config.py ï¼šé…ç½®æ–‡ä»¶<br>main.py ï¼šä¸»æ–‡ä»¶<br>z_db.py ï¼šæ•°æ®åº“æ“ä½œæ–‡ä»¶</p></blockquote><h2 id="å››ã€ä½¿ç”¨è¯´æ˜"><a href="#å››ã€ä½¿ç”¨è¯´æ˜" class="headerlink" title="å››ã€ä½¿ç”¨è¯´æ˜"></a>å››ã€ä½¿ç”¨è¯´æ˜</h2><p>è¿è¡Œmain.pyä¸­çš„æ–¹æ³•</p><p>1.å…ˆè¿è¡Œ<code>init_create_table()</code>æ–¹æ³•åˆå§‹åŒ–ï¼Œåˆ›å»ºæ•°æ®åº“ä¸­çš„è¡¨</p><p>2.å¤‡ä»½çœ‹è¿‡çš„ä¹¦<br>å»æ‰ <code>#books.main()</code>å‰é¢çš„ #æ³¨é‡Šï¼Œå† æ³¨é‡Š<code>init_create_table()</code>æ–¹æ³•å³å¯è¿è¡Œã€‚</p><p>3.<strong>æ€ä¹ˆè¿è¡Œ</strong></p><p>1).ç¬¬ä¸€æ­¥ï¼Œç”¨Windows PowerShellæˆ–å‘½ä»¤æç¤ºç¬¦è¿è¡Œchrome.exe</p><p>æ‰¾åˆ°Chromeæµè§ˆå™¨çš„å®‰è£…è·¯å¾„ï¼Œæ¯”å¦‚æˆ‘çš„åœ¨ï¼š<code>C:\Program Files (x86)\Google\Chrome\Application</code>ï¼Œé‡Œé¢å°±æœ‰chrome.exeç¨‹åºã€‚</p><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="string">&quot;C:\Program Files (x86)\Google\Chrome\Application&quot;</span></span><br><span class="line"></span><br><span class="line">.\chrome.exe --remote-debugging-port=9222 --user-data-dir=D:\cdsf</span><br></pre></td></tr></table></figure><blockquote><p>remote-debugging-portï¼šæ˜¯ä»£ç ä¸­æŒ‡å®šçš„ç«¯å£debuggerAddressï¼›<br>user-data-dirï¼šéšä¾¿æŒ‡å®šä¸€ä¸ªç›®å½•å°±è¡Œï¼ˆçœŸå®æ²¡æœ‰è¿™ä¸ªç›®å½•ä¹Ÿæ²¡å…³ç³»ï¼Œåå­—éšä¾¿å–ï¼‰</p></blockquote><p>å¦‚å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_douban_backup_1.png"                                     ></p><p>è¿è¡Œå®Œåä¼šæ‰“å¼€Chromeæµè§ˆå™¨ã€‚</p><p>2).ç¬¬äºŒæ­¥ï¼Œè¿è¡Œ main.py</p><p>åœ¨main.pyä¸­è¿è¡Œç¨‹åºã€‚å°±ä¼šåœ¨æ‰“å¼€çš„Chromeæµè§ˆå™¨ä¸­æ­£å¸¸è¿è¡Œäº†ã€‚</p><p>PS.å¦‚æœè‡ªå·±æå‰ç™»å½•è¿‡ï¼Œè¿˜èƒ½è®°ä½å¯†ç ã€‚å†ç™»å½•çš„æ—¶å€™å¯ä»¥ä¸éœ€è¦ç™»å½•äº†ã€‚ï¼ˆæ‰€ä»¥ç™»å½•éƒ¨åˆ†çš„ä»£ç åšäº†è¿™ä¸ªåˆ¤æ–­ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo è‡ªå®šä¹‰é¡µé¢ è·³è¿‡æ¸²æŸ“</title>
      <link href="/2022/05/12/Hexo%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BF%87%E6%B8%B2%E6%9F%93/"/>
      <url>/2022/05/12/Hexo%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BF%87%E6%B8%B2%E6%9F%93/</url>
      
        <content type="html"><![CDATA[<p>Hexoåšå®¢ä¸­æ‰€æœ‰çš„æ–‡ç« éƒ½æ˜¯ç»è¿‡æ¸²æŸ“çš„é™æ€ç½‘é¡µã€‚</p><p>æ‰€ä»¥ï¼Œå½“æˆ‘æœ‰ä¸ªè‡ªå®šä¹‰çš„é¡µé¢ï¼ˆæ¯”å¦‚a.htmlè¦æ”¾åœ¨æ ¹ç›®å½•ä¸‹ï¼‰ï¼Œæƒ³è·³è¿‡æ¸²æŸ“ï¼Œå°±éœ€è¦è®¾ç½®ä¸‹ã€‚</p><p><strong>Hexoè·³è¿‡æ¸²æŸ“ æ–¹æ³•ï¼š</strong></p><p><strong>ä¿®æ”¹Hexoç›®å½•çš„é…ç½®æ–‡ä»¶ï¼ˆ<code>_config.yml</code>ï¼‰</strong><br>æœç´¢æ‰¾åˆ° <code>skip_render</code>è¿™ä¸€é¡¹è¿›è¡Œé…ç½®å³å¯ã€‚</p><a id="more"></a><p><strong>ä¸¾ä¾‹</strong></p><p>1.æ ¹ç›®å½•ä¸‹çš„a.htmlæ–‡ä»¶è·³è¿‡æ¸²æŸ“ é…ç½®ï¼š</p><p>æŠŠa.htmlæ–‡ä»¶æ”¾åœ¨Hexo/source ç›®å½•ä¸‹ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;a.html&quot;</span></span><br></pre></td></tr></table></figure><p>å†é€šè¿‡<code>hexo generate</code>å‘½ä»¤åï¼Œåœ¨publicç›®å½•ä¸‹å°±æœ‰a.htmlæ–‡ä»¶äº†ï¼Œè€Œä¸”æ²¡æœ‰æ¸²æŸ“ï¼Œæ²¡æ”¹å˜æ–‡ä»¶å†…å®¹ã€‚</p><p>2.source/test æ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶è·³è¿‡æ¸²æŸ“ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;test/*&quot;</span></span><br></pre></td></tr></table></figure><p>3.source/test æ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶ä»¥åŠå­æ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶è·³è¿‡æ¸²æŸ“ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;test/**&quot;</span></span><br></pre></td></tr></table></figure><p>4.è·³è¿‡å¤šä¸ªï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;a.html&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;test/*&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢åŒæ­¥éƒ¨ç½²åˆ°Github Pages</title>
      <link href="/2022/05/12/Hexo%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%AD%A5%E9%83%A8%E7%BD%B2%E5%88%B0Github-Pages/"/>
      <url>/2022/05/12/Hexo%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%AD%A5%E9%83%A8%E7%BD%B2%E5%88%B0Github-Pages/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘çš„Hexoåšå®¢å·²ç»éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šäº†ï¼Œéƒ¨ç½²è¿‡ç¨‹çœ‹æ­¤æ–‡ï¼š<a href="/2022/05/01/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/" title="Hexoåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼ˆUbuntuï¼‰ä¸Š">Hexoåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼ˆUbuntuï¼‰ä¸Š</a></p><p>ç„¶åï¼Œå› ä¸ºåŸæ¥æ˜¯ç”¨çš„Github Pagesï¼Œå°±æƒ³ç€é¡ºä¾¿åŒæ­¥åˆ°Github Pagesä¸Šå§ã€‚</p><a id="more"></a><h2 id="ä¸€ã€åˆ›å»ºGithub-Pages"><a href="#ä¸€ã€åˆ›å»ºGithub-Pages" class="headerlink" title="ä¸€ã€åˆ›å»ºGithub Pages"></a>ä¸€ã€åˆ›å»ºGithub Pages</h2><p>å¦‚æœè¿˜æ²¡åˆ›å»ºçš„ï¼Œçœ‹æ­¤æ–‡ <a href="/2022/04/09/%E3%80%90%E5%B0%8F%E7%99%BD%E6%95%99%E7%A8%8B%E3%80%91%E5%85%8D%E8%B4%B9%E5%BB%BA%E7%AB%8B%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99%EF%BC%88Github+Hexo%EF%BC%89/" title="ã€å°ç™½æ•™ç¨‹ã€‘å…è´¹å»ºç«‹é™æ€åšå®¢ç½‘ç«™ï¼ˆGithub+Hexoï¼‰">ã€å°ç™½æ•™ç¨‹ã€‘å…è´¹å»ºç«‹é™æ€åšå®¢ç½‘ç«™ï¼ˆGithub+Hexoï¼‰</a> ä¸­ç¬¬ä¸‰æ­¥â€œéƒ¨ç½²åˆ°Github Pagesä¸Šâ€çš„éƒ¨åˆ†ã€‚</p><p>å¦‚æœåŸæ¥å·²ç»åœ¨åˆ›å»ºçš„ï¼Œé‚£å°±å…ˆä¸ç”¨ç®¡äº†ã€‚ç›´æ¥ä¸‹ä¸€æ­¥ï¼Œåˆ›å»ºSSHå¯†é’¥ã€‚</p><h2 id="äºŒã€åˆ›å»ºä¸“ç”¨çš„SSHå¯†é’¥"><a href="#äºŒã€åˆ›å»ºä¸“ç”¨çš„SSHå¯†é’¥" class="headerlink" title="äºŒã€åˆ›å»ºä¸“ç”¨çš„SSHå¯†é’¥"></a>äºŒã€åˆ›å»ºä¸“ç”¨çš„SSHå¯†é’¥</h2><p>åŸæ¥éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šä¹Ÿæ˜¯ç”¨çš„gitï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿæ˜¯ç”¨çš„gitï¼Œå°±æ–¹ä¾¿äº†ã€‚</p><p><strong>æ­¥éª¤ï¼š</strong></p><ul><li>è¿›å…¥æœ¬æœºSSHç›®å½•ï¼Œåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥</li><li>æŠŠSSHå…¬é’¥æ·»åŠ åˆ°Githubä¸­</li><li>æœ¬æœºSSHé…ç½®æ–‡ä»¶ï¼ˆconfigï¼‰ä¿®æ”¹</li><li>sshæµ‹è¯•</li></ul><h3 id="1-åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥"><a href="#1-åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥" class="headerlink" title="1.åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥"></a>1.åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥</h3><p>æ‰“å¼€ã€Git Bashã€‘ï¼Œè¿è¡Œå‘½ä»¤è¿›å…¥sshç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br><span class="line"></span><br><span class="line">ssh -keygen -t rsa -C <span class="string">&quot;your_email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„é‚®ç®±æ˜¯è‡ªå·±çš„é‚®ç®±åœ°å€ï¼ŒæŒ‰è¿™ä¸ªé‚®ç®±åœ°å€ä¼šåˆ›å»ºä¸€å¯¹å¯†é’¥ã€‚</p><p><strong>æ³¨æ„ï¼šå›è½¦åï¼Œæœ‰ä»¥ä¸‹ä¿¡æ¯æç¤ºï¼Œè®©ä½ è¾“å…¥ä¸€ä¸ªkeyçš„fileåç§°ï¼Œè¦è®°å¾—è¾“å…¥ä¸€ä¸ªåç§°ï¼Œä¸è¦ç”¨é»˜è®¤çš„ã€‚</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;c&#x2F;Users&#x2F;yourusername&#x2F;.ssh&#x2F;id_rsa): [Press enter]</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘è¾“å…¥<code>github2022_rsa</code>ï¼ˆæ–‡ä»¶åå¯ä»¥åŠ ä¸Š<code>_rsa</code>å¥½è¯†åˆ«ï¼‰åå›è½¦ï¼Œç„¶åæ˜¯è¾“å…¥å¯†ç ï¼Œç›´æ¥å›è½¦ã€å›è½¦ï¼Œå°±è¡¨ç¤ºç”¨çš„ç©ºå¯†ç ã€‚</p><p>å®Œæˆåï¼Œä¼šæ˜¾ç¤ºå¦‚ä¸‹çš„ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved <span class="keyword">in</span> github2022_rsa</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> github2022_rsa.pub</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:B***********t/9i*************s your_email@example.com</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæ–°çš„SSHå¯†é’¥å°±åˆ›å»ºå¥½äº†ã€‚</p><h3 id="2-æŠŠSSHå…¬é’¥æ·»åŠ åˆ°Githubä¸­"><a href="#2-æŠŠSSHå…¬é’¥æ·»åŠ åˆ°Githubä¸­" class="headerlink" title="2.æŠŠSSHå…¬é’¥æ·»åŠ åˆ°Githubä¸­"></a>2.æŠŠSSHå…¬é’¥æ·»åŠ åˆ°Githubä¸­</h3><p>åœ¨ã€Git Bashã€‘ä¸­ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤æŠŠå…¬é’¥å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿç²˜è´´æ¿ï¼ˆclipboardï¼‰ä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clip &lt; ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><ul><li>ç™»é™†GitHubï¼Œè¿›å…¥Account ã€Settingsã€‘ï¼›</li><li>é€‰æ‹©ã€SSH and GPG keysã€‘ï¼›</li><li>ã€New SSH keyã€‘ï¼Œç›´æ¥æŠŠå¤åˆ¶å¥½çš„å…¬é’¥ç²˜è´´åˆ°Keyçš„å†…å®¹é‡Œï¼ŒTitleæ ‡é¢˜è‡ªå·±å–ï¼Œç‚¹å‡»æ·»åŠ å³å¯ã€‚</li></ul><h3 id="3-æœ¬æœºSSHé…ç½®æ–‡ä»¶ä¿®æ”¹"><a href="#3-æœ¬æœºSSHé…ç½®æ–‡ä»¶ä¿®æ”¹" class="headerlink" title="3.æœ¬æœºSSHé…ç½®æ–‡ä»¶ä¿®æ”¹"></a>3.æœ¬æœºSSHé…ç½®æ–‡ä»¶ä¿®æ”¹</h3><p>è¿™ä¸ªæ—¶å€™ï¼Œä½ ç›´æ¥æµ‹è¯•sshæ˜¯ä¸é€šçš„ï¼Œæç¤ºï¼šâ€œ<a class="link"   href="mailto:&#x67;&#105;&#116;&#64;&#x67;&#105;&#116;&#x68;&#x75;&#98;&#46;&#x63;&#111;&#109;" >&#x67;&#105;&#116;&#64;&#x67;&#105;&#116;&#x68;&#x75;&#98;&#46;&#x63;&#111;&#109;<i class="fas fa-external-link-alt"></i></a>: Permission denied (publickey).â€<br>ç„¶åå› ä¸ºä»¥å‰ä¹Ÿç”¨è¿‡github pagesçš„ï¼Œæ‰€ä»¥å°±æœ‰è¿™ä¸ªæç¤ºã€‚</p><p>æœ¬æœº~/.ssh ç›®å½•æœ‰2ä¸ªæ–‡ä»¶éœ€è¦æ”¹åŠ¨ã€‚</p><ul><li>known_hosts æ–‡ä»¶</li><li>config æ–‡ä»¶</li></ul><p><strong>known_hosts</strong>æ–‡ä»¶ç”¨äºéªŒè¯è¿œç¨‹ç™»é™†ç³»ç»Ÿçš„èº«ä»½ã€‚sshå¯ä»¥è‡ªåŠ¨å°†å¯†é’¥æ·»åŠ åˆ°ç”¨æˆ·æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ ã€‚è¯¥æ–‡ä»¶åŒ…å«ç”¨æˆ·å·²è¿æ¥è¿‡æ‰€æœ‰ä¸»æœºçš„å…¬å…±å¯†é’¥åˆ—è¡¨ã€‚ä¸€èˆ¬ï¼Œåˆæ¬¡ç™»é™†ï¼Œsshä¼šè‡ªåŠ¨å°†è¿œç¨‹ä¸»æœºçš„å…¬é’¥æ·»åŠ åˆ°ç”¨æˆ·çš„known_hostsæ–‡ä»¶ã€‚</p><p>1).ä¿®æ”¹<strong>known_hosts æ–‡ä»¶</strong></p><p>è¦è§£å†³ä¸Šé¢é‚£ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦ä¿®æ”¹<strong>known_hosts æ–‡ä»¶</strong>ã€‚<br>ç”¨è®°äº‹æœ¬ç±»è½¯ä»¶æ‰“å¼€ï¼ŒæŠŠgithub.comå¼€å¤´çš„ä¸€è¡Œåˆ é™¤ï¼Œå†ä¿å­˜æ–‡ä»¶å°±è¡Œäº†ã€‚</p><p>2).ä¿®æ”¹<strong>config</strong>æ–‡ä»¶</p><p>ä¿®æ”¹å®Œä¸Šé¢çš„æ–‡ä»¶ï¼Œç»§ç»­sshæµ‹è¯•ï¼Œè¿˜æ˜¯æœ‰ä¸Šé¢çš„é—®é¢˜ï¼Œè¿˜æœ‰ä¸€ä¸ªæé†’ï¼š<br><code>Warning: Permanently added &#39;github.com,140.82.113.3&#39; (ECDSA) to the list of known hosts.</code></p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠç›¸å…³çš„é…ç½®æ·»åŠ åˆ°configé…ç½®æ–‡ä»¶ä¸­ã€‚ï¼ˆå…³äºSSHå¯†é’¥é…ç½®ï¼Œconfigæ–‡ä»¶çš„ä»‹ç»ï¼Œè¿™ç¯‡æ–‡ç« é‡Œæœ‰ï¼š<a href="/2022/05/01/Hexo-SSH%E5%AF%86%E9%92%A5%E9%85%8D%E7%BD%AE/" title="Hexo SSHå¯†é’¥é…ç½®">Hexo SSHå¯†é’¥é…ç½®</a>ï¼‰</p><p>ç”¨è®°äº‹æœ¬ç±»è½¯ä»¶æ‰“å¼€configæ–‡ä»¶ï¼Œæ·»åŠ ä¸‹é¢2æ®µé…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  HostName github.com</span><br><span class="line">  IdentityFile ~/.ssh/github2022_rsa</span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line"></span><br><span class="line">Host 140.82.113.3</span><br><span class="line">  HostName 140.82.113.3</span><br><span class="line">  IdentityFile ~/.ssh/github2022_rsa</span><br><span class="line">  PreferredAuthentications publickey</span><br></pre></td></tr></table></figure><p>140.82.113.3æ˜¯é€šè¿‡<code>ping github.com</code>å¾—åˆ°çš„ipåœ°å€ã€‚</p><h3 id="4-sshæµ‹è¯•"><a href="#4-sshæµ‹è¯•" class="headerlink" title="4.sshæµ‹è¯•"></a>4.sshæµ‹è¯•</h3><p>é…ç½®å®Œååœ¨ã€Git Bashã€‘ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°æœ€åä¸€å¥<code>Hi youname! You&#39;ve successfully authenticated</code>å°±OKäº†ã€‚</p><h2 id="ä¸‰ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶ï¼ˆ-config-ymlï¼‰"><a href="#ä¸‰ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶ï¼ˆ-config-ymlï¼‰" class="headerlink" title="ä¸‰ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶ï¼ˆ_config.ymlï¼‰"></a>ä¸‰ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶ï¼ˆ<code>_config.yml</code>ï¼‰</h2><p>åœ¨æœ€åçš„ deployæ¨¡å—ä¸‹æ·»åŠ githubé¡¹ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> </span><br><span class="line">    <span class="attr">hexo:</span> <span class="string">git@111.4.22.313:/var/repo/hexo_static.git</span></span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:hduzn/hduzn.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>æ³¨ï¼šä¸Šé¢çš„111.4.22.313 ä¸ºä½ è‡ªå·±æœåŠ¡å™¨çš„ipï¼ˆè¿™é‡Œåªæ˜¯éšä¾¿å†™çš„ipï¼‰</p><p><a class="link"   href="mailto:&#x67;&#x69;&#x74;&#x40;&#103;&#105;&#x74;&#104;&#117;&#98;&#x2e;&#99;&#111;&#109;" >&#x67;&#x69;&#x74;&#x40;&#103;&#105;&#x74;&#104;&#117;&#98;&#x2e;&#99;&#111;&#109;<i class="fas fa-external-link-alt"></i></a>åé¢çš„åœ°å€æ˜¯ä½ çš„ <code>githubç”¨æˆ·å/github pagesåœ°å€.git</code>ã€‚<br>è¿™ä¸ªåœ¨ä½ çš„github pagesä»“åº“ä¸Šï¼Œç›´æ¥å¤åˆ¶ã€Codeã€‘ä¸­çš„SSHåœ°å€æ˜¯ä¸€æ ·çš„ã€‚</p><p>è¿™æ ·å°±å¯ä»¥äº†ã€‚æ¯æ¬¡<code>hexo deploy</code>åï¼Œä¹Ÿä¼šåŒæ­¥éƒ¨ç½²åˆ°Github Pagesä¸Šäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu NginxæœåŠ¡å™¨SSLè¯ä¹¦å®‰è£…éƒ¨ç½²</title>
      <link href="/2022/05/11/Ubuntu-Nginx%E6%9C%8D%E5%8A%A1%E5%99%A8SSL%E8%AF%81%E4%B9%A6%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/"/>
      <url>/2022/05/11/Ubuntu-Nginx%E6%9C%8D%E5%8A%A1%E5%99%A8SSL%E8%AF%81%E4%B9%A6%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<p>ä¸ºä»€ä¹ˆè¦å®‰è£…SSLè¯ä¹¦ï¼Œå¦‚æœæ²¡æœ‰SSLè¯ä¹¦ï¼Œè®¿é—®ç½‘ç«™çš„æ—¶å€™ï¼Œå‰é¢ä¼šæœ‰ä¸ªå°å¹å·ï¼Œæ˜¯ç”¨ <code>http://www.hduzn.cn</code>è¿™æ ·çš„åŸŸåè®¿é—®çš„ã€‚å¦‚æœéƒ¨ç½²äº†SSLï¼Œè®¿é—®çš„æ—¶å€™ã€åŸŸåå‰é¢å°±æœ‰ä¸ªå®‰å…¨é”çš„å°å›¾æ ‡äº†ã€‚æ˜¯ç”¨ <code>https://www.hduzn.cn</code>è¿™æ ·çš„åœ°å€è®¿é—®çš„ã€‚</p><p>åæ­£éƒ½å¯ä»¥å…è´¹ç”³è¯·SSLè¯ä¹¦çš„ï¼Œå°±ç”³è¯·äº†ä¸‹ã€‚</p><a id="more"></a><p><strong>å‰è¨€</strong>ï¼š<br>å·²ç»æŠŠHexoåšå®¢éƒ¨ç½²åˆ°UbuntuæœåŠ¡å™¨ä¸Šäº†ï¼Œå¯ä»¥é€šè¿‡httpè®¿é—®äº†ã€‚<br>éƒ¨ç½²çš„æ–‡ç« å‚è€ƒæ­¤ç¯‡ï¼š<a href="/2022/05/01/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/" title="Hexoåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼ˆUbuntuï¼‰ä¸Š">Hexoåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼ˆUbuntuï¼‰ä¸Š</a></p><h2 id="ä¸€ã€ä¸‹è½½SSLè¯ä¹¦ï¼ˆæœ¬åœ°ï¼‰"><a href="#ä¸€ã€ä¸‹è½½SSLè¯ä¹¦ï¼ˆæœ¬åœ°ï¼‰" class="headerlink" title="ä¸€ã€ä¸‹è½½SSLè¯ä¹¦ï¼ˆæœ¬åœ°ï¼‰"></a>ä¸€ã€ä¸‹è½½SSLè¯ä¹¦ï¼ˆæœ¬åœ°ï¼‰</h2><p>åœ¨è…¾è®¯äº‘ä¹°çš„åŸŸåï¼Œåœ¨DNSPodä¸­ç›´æ¥ç‚¹å‡»SSLçš„å›¾æ ‡ï¼Œç‚¹ã€ç‚¹æ­¤ç®¡ç†ã€‘å³å¯è·³è½¬åˆ°è…¾è®¯äº‘ä¸ŠSSLè¯ä¹¦ç®¡ç†çš„é¡µé¢ã€‚</p><p><strong>1.ç”³è¯·è¯ä¹¦</strong></p><p>ç‚¹å‡»ã€ç”³è¯·è¯ä¹¦ã€‘ï¼Œå°±èƒ½ç”³è¯·å…è´¹çš„è¯ä¹¦ã€‚</p><p><strong>2.ä¸‹è½½è¯ä¹¦</strong></p><p>ç‚¹å‡»ã€ä¸‹è½½è¯ä¹¦ã€‘ï¼Œä¼šæä¾›å„ç§æœåŠ¡å™¨ç±»å‹çš„è¯ä¹¦ä¸‹è½½ã€‚ï¼ˆæ¯”å¦‚Tomcatã€Apacheã€Nginxã€IISç­‰ï¼‰</p><p>å¦‚æœé…ç½®å¥½DNSäº†ï¼Œç³»ç»Ÿä¼šæ£€æµ‹ï¼Œä¼šæç¤ºä½ æ¨èä¸‹è½½å“ªä¸€ç±»è¯ä¹¦ã€‚</p><p>è…¾è®¯äº‘çš„SSLè¯ä¹¦ç®¡ç†æ§åˆ¶å°ï¼š<a class="link"   href="https://console.cloud.tencent.com/ssl" >https://console.cloud.tencent.com/ssl<i class="fas fa-external-link-alt"></i></a></p><p>æˆ‘è¿™é‡Œç”¨çš„NginxæœåŠ¡å™¨ï¼Œå°±ä¸‹è½½Nginxçš„è¯ä¹¦ã€‚</p><p>ä¸‹è½½åï¼Œè§£å‹å‡ºæ¥ä¸€ä¸ª hduzn.cn_nginx æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¸€å…±4ä¸ªæ–‡ä»¶ï¼š</p><blockquote><p>hduzn.cn_bundle.crt è¯ä¹¦æ–‡ä»¶<br>hduzn.cn.key ç§é’¥æ–‡ä»¶<br>hduzn.cn.csr æ²¡ç”¨åˆ°<br>hduzn.cn_bundle.pem æ²¡ç”¨åˆ°</p></blockquote><p>å°±ç”¨åˆ°å‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œåä¸¤ä¸ªæ²¡ç”¨åˆ°ã€‚</p><h2 id="äºŒã€éƒ¨ç½²SSLè¯ä¹¦ï¼ˆæœåŠ¡å™¨ï¼‰"><a href="#äºŒã€éƒ¨ç½²SSLè¯ä¹¦ï¼ˆæœåŠ¡å™¨ï¼‰" class="headerlink" title="äºŒã€éƒ¨ç½²SSLè¯ä¹¦ï¼ˆæœåŠ¡å™¨ï¼‰"></a>äºŒã€éƒ¨ç½²SSLè¯ä¹¦ï¼ˆæœåŠ¡å™¨ï¼‰</h2><p>è…¾è®¯äº‘æä¾›çš„NginxæœåŠ¡å™¨SSLè¯ä¹¦å®‰è£…éƒ¨ç½²çš„æ–‡æ¡£ï¼š<a class="link"   href="https://cloud.tencent.com/document/product/400/35244" >https://cloud.tencent.com/document/product/400/35244<i class="fas fa-external-link-alt"></i></a></p><h3 id="1-ä¸Šä¼ è¯ä¹¦åˆ°æœåŠ¡å™¨"><a href="#1-ä¸Šä¼ è¯ä¹¦åˆ°æœåŠ¡å™¨" class="headerlink" title="1.ä¸Šä¼ è¯ä¹¦åˆ°æœåŠ¡å™¨"></a>1.ä¸Šä¼ è¯ä¹¦åˆ°æœåŠ¡å™¨</h3><p>ç›´æ¥ç”¨Xftpä¸Šä¼ ã€‚å› ä¸ºç”¨Xshellï¼Œæ‰€ä»¥å¯¹åº”ä¹Ÿè£…äº†Xftpç”¨ï¼Œå¾ˆæ–¹ä¾¿ä¼ æ–‡ä»¶ã€‚</p><p>å› ä¸ºå¯èƒ½æ¶‰åŠæƒé™é—®é¢˜ï¼Œæ‰€ä»¥å‡†å¤‡åˆ†ä¸¤æ­¥èµ°ï¼š</p><ul><li>1).å…ˆæŠŠæ–‡ä»¶ä¸Šä¼ åˆ°ç”¨æˆ·çš„homeç›®å½•ï¼›</li><li>2).å†æŠŠæ–‡ä»¶å¤åˆ¶åˆ°Nginxé…ç½®çš„ç›®å½•é‡Œã€‚</li></ul><p>å…ˆå»ºä¸ªssl/nginx_sslç›®å½•ï¼Œç„¶åæŠŠ<code>hduzn.cn_bundle.crt</code>å’Œ<code>hduzn.cn.key</code>ä¸¤ä¸ªæ–‡ä»¶ç”¨Xftpä¸Šä¼ åˆ°ç›®å½•ï¼š<code>/home/ubuntu/ssl/nginx_ssl</code>ã€‚</p><p>å†åˆ°æœåŠ¡å™¨ä¸­è¿è¡Œå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo cp hduzn.cn_bundle.crt /etc/nginx/sites-available</span><br><span class="line">sudo cp hduzn.cn.key /etc/nginx/sites-available</span><br></pre></td></tr></table></figure><p>ç›´æ¥æŠŠä¸¤ä¸ªæ–‡ä»¶æ”¾ /etc/nginx/ç›®å½•ä¸‹ï¼Œæˆ‘ç´¢æ€§è·Ÿé…ç½®æ–‡ä»¶æ”¾ä¸€èµ·äº†ã€‚</p><h3 id="2-ä¿®æ”¹ç«™ç‚¹Nginxé…ç½®æ–‡ä»¶"><a href="#2-ä¿®æ”¹ç«™ç‚¹Nginxé…ç½®æ–‡ä»¶" class="headerlink" title="2.ä¿®æ”¹ç«™ç‚¹Nginxé…ç½®æ–‡ä»¶"></a>2.ä¿®æ”¹ç«™ç‚¹Nginxé…ç½®æ–‡ä»¶</h3><p>æ ¹æ®ä¹‹å‰Hexoéƒ¨ç½²åˆ°Ubuntuçš„å†…å®¹ï¼Œæˆ‘çš„ç«™ç‚¹çš„Nginxé…ç½®æ–‡ä»¶æ˜¯ï¼š<code>/etc/nginx/sites-available/default</code></p><blockquote><p>å¦‚æœä½ ä¸æƒ³ç›´æ¥ç”¨vimå‘½ä»¤å†™è¿™ä¹ˆå¤šè¡Œï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘ä¸€æ ·ï¼ŒæŠŠè¿™ä¸ªdefaultæ–‡ä»¶å…ˆé€šè¿‡Xftpä¸‹è½½åˆ°æœ¬åœ°ã€‚æ”¹å®Œäº†å†ä¸Šä¼ ä¸Šå»ã€‚é€šè¿‡å‘½ä»¤å¼ºåˆ¶è¦†ç›–åŸæ–‡ä»¶å°±è¡Œäº†ã€‚</p></blockquote><p>åŸä¿®æ”¹å¥½çš„æ–‡ä»¶ï¼ˆç”¨httpè®¿é—®ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80 default_server;</span><br><span class="line">    listen [::]:80 default_server ipv6only&#x3D;on;</span><br><span class="line"></span><br><span class="line">    root &#x2F;var&#x2F;www&#x2F;hexo; # éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†</span><br><span class="line">    index index.html index.htm;</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>è¡Œæ•°è¯´æ˜ï¼š</p><ul><li>4ï¼šç›‘å¬80ç«¯å£ï¼Œdefault_server å³è®¾ä¸ºé»˜è®¤è™šæ‹Ÿä¸»æœºï¼Œæ— æ•ˆè®¿é—®ä¼šè½¬åˆ°è¯¥ç«™ç‚¹</li><li>5ï¼šå¯¹åº” ipv6</li><li>7ï¼šnginxæ‰˜ç®¡çš„hexoç›®å½•è·¯å¾„</li></ul><h4 id="httpsè®¿é—®é…ç½®"><a href="#httpsè®¿é—®é…ç½®" class="headerlink" title="httpsè®¿é—®é…ç½®"></a>httpsè®¿é—®é…ç½®</h4><p>åŠ ä¸Šhttpsè®¿é—®é…ç½®åï¼ˆä¸»è¦æ·»åŠ äº†HTTPS serveréƒ¨åˆ†ï¼‰ï¼Œæ–‡ä»¶ä¸»è¦éƒ¨åˆ†æ”¹ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Default server configuration</span><br><span class="line">#</span><br><span class="line">server &#123;</span><br><span class="line">listen 80 default_server;</span><br><span class="line">listen [::]:80 default_server;</span><br><span class="line">server_name www.hduzn.cn # å†™ä¸ŠåŸŸå</span><br><span class="line"></span><br><span class="line">#root &#x2F;var&#x2F;www&#x2F;hexo; # nginxæ‰˜ç®¡çš„hexoç›®å½•è·¯å¾„</span><br><span class="line">#server_name _;</span><br><span class="line"></span><br><span class="line">location &#x2F; &#123;</span><br><span class="line"># First attempt to serve request as file, then</span><br><span class="line"># as directory, then fall back to displaying a 404.</span><br><span class="line">try_files $uri $uri&#x2F; &#x3D;404;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">rewrite ^(.*) https:&#x2F;&#x2F;www.hduzn.cn$1 permanent; # å°†httpè®¿é—®é‡å®šå‘ä¸ºhttpsè®¿é—®</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># HTTPS server</span><br><span class="line">#</span><br><span class="line">server &#123;</span><br><span class="line"># SSL configuration</span><br><span class="line">#</span><br><span class="line">listen 443 ssl; # sslçš„ç«¯å£</span><br><span class="line">listen [::]:443 ssl;</span><br><span class="line">server_name www.hduzn.cn; # å†™ä¸ŠåŸŸå</span><br><span class="line">ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;hduzn.cn_bundle.crt;</span><br><span class="line">    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;hduzn.cn.key;</span><br><span class="line">ssl_session_cache shared:SSL:1m;</span><br><span class="line">ssl_session_timeout 5m;</span><br><span class="line">ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_ciphers RC4:HIGH:!aNULL:!MD5;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">root &#x2F;var&#x2F;www&#x2F;hexo; # nginxæ‰˜ç®¡çš„hexoç›®å½•è·¯å¾„</span><br><span class="line">#server_name _;</span><br><span class="line"></span><br><span class="line">location &#x2F; &#123;</span><br><span class="line"># First attempt to serve request as file, then</span><br><span class="line"># as directory, then fall back to displaying a 404.</span><br><span class="line">try_files $uri $uri&#x2F; &#x3D;404;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¡Œæ•°è¯´æ˜ï¼š</p><ul><li>18ï¼šå°†httpè®¿é—®é‡å®šå‘ä¸ºhttpsè®¿é—®ï¼Œå³å®šå‘åˆ°ç¬¬äºŒä¸ª server å—ï¼Œéœ€è¦æ³¨æ„sslè¯ä¹¦åˆ°æœŸæ—¶é—´</li><li>26ï¼šç›‘å¬SSLçš„443ç«¯å£</li><li>27ï¼šå¯¹åº” ipv6</li><li>29ï¼šè¯ä¹¦æ–‡ä»¶</li><li>30ï¼šç§é’¥æ–‡ä»¶</li><li>33ï¼šåè®®é…ç½®</li><li>34ï¼šåŠ å¯†å¥—ä»¶</li><li>37ï¼šnginxæ‰˜ç®¡çš„hexoç›®å½•è·¯å¾„</li></ul><p>ä¿®æ”¹å®Œåï¼Œé‡å¯Nginxã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service nginx restart</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Hexo </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸</title>
      <link href="/2022/05/10/Python-%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8/"/>
      <url>/2022/05/10/Python-%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8/</url>
      
        <content type="html"><![CDATA[<p>PIL(Python Imaging Library)æ˜¯Pythonçš„ç¬¬ä¸‰æ–¹å›¾åƒå¤„ç†åº“ï¼Œä½†ç”±äºå…¶å¼ºå¤§çš„åŠŸèƒ½ï¼Œäº‹å®ä¸Šå·²ç»è¢«è®¤ä¸ºæ˜¯å›¾åƒå¤„ç†æ ‡å‡†åº“äº†ã€‚PILåŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œè€Œä¸”APIå´éå¸¸ç®€å•æ˜“ç”¨ã€‚</p><p>ç”±äºPILä»…æ”¯æŒåˆ°Python 2.7ï¼ŒåŠ ä¸Šå¹´ä¹…å¤±ä¿®ï¼Œäºæ˜¯ä¸€ç¾¤å¿—æ„¿è€…åœ¨PILçš„åŸºç¡€ä¸Šåˆ›å»ºäº†å…¼å®¹çš„ç‰ˆæœ¬ï¼Œåå­—å«Pillowï¼Œæ”¯æŒæœ€æ–°Python 3.xï¼ŒåˆåŠ å…¥äº†è®¸å¤šæ–°ç‰¹æ€§ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®‰è£…ä½¿ç”¨Pillowã€‚</p><a id="more"></a><h2 id="å®‰è£…Pillowåº“"><a href="#å®‰è£…Pillowåº“" class="headerlink" title="å®‰è£…Pillowåº“"></a>å®‰è£…Pillowåº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Pillow</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ä¸Šæœ‰æä¾›Pillowæ”¯æŒçš„Python ç‰ˆæœ¬ã€‚åŸºæœ¬ä¸ŠPython3.7+ç‰ˆæœ¬å¯¹Pillowæ–°ç‰ˆéƒ½æ˜¯æ”¯æŒçš„ã€‚<br>ï¼ˆ<a class="link"   href="https://pillow.readthedocs.io/en/latest/installation.html" >https://pillow.readthedocs.io/en/latest/installation.html<i class="fas fa-external-link-alt"></i></a> ï¼‰<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_image_resize_1.png"                                     ></p><h2 id="æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸"><a href="#æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸" class="headerlink" title="æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸"></a>æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸</h2><p>åœ¨ç½‘ä¸Šä¸‹è½½äº†ä¸€æºœçš„avatarçš„å¤´åƒå›¾ï¼Œå¤§å°éƒ½æ˜¯<code>800*800</code>çš„ï¼Œåœ¨åšå®¢ä¸­ç”¨ï¼Œå‘ç°å¤ªå¤§äº†ï¼Œè¿˜å å¤šçš„ç©ºé—´ï¼Œæƒ³æ‰¹é‡å…¨éƒ¨æŠŠå¤§å°ä¿®æ”¹æˆ <code>80*80</code>çš„ï¼Œè¿™æ ·å çš„ç©ºé—´ä¹Ÿå°ï¼Œåæ­£å¤Ÿç”¨ã€‚</p><p>åŸæ¥<code>800*800</code>å¤§å°çš„å›¾ç‰‡ï¼Œä¸€å¼ å°±è¦75KBå·¦å³ï¼Œæ”¹æˆ<code>80*80</code>å¤§å°åï¼Œå°±åªæœ‰7KBå·¦å³äº†ã€‚</p><p>æ¯”å¦‚å½“å‰å­˜æ”¾åŸå›¾ç‰‡çš„ç›®å½•ä¸ºï¼š<code>C:\a</code></p><p><strong>è§£å†³æ€è·¯</strong>ï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œæ–°å»ºä¸€ä¸ªæ–°çš„ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾æ–°çš„å°ºå¯¸çš„å›¾ç‰‡ï¼›ï¼ˆæ¯”å¦‚ç›´æ¥åœ¨ç›®å½•åé¢åŠ ä¸ª <code>_new</code>ï¼‰</li><li>ç¬¬äºŒæ­¥ï¼Œç”¨glob.glob() æ–¹æ³•æŠŠç›®å½•ä¸‹æ‰€æœ‰çš„å›¾ç‰‡è·¯å¾„è·å–å‡ºæ¥ï¼Œè¿”å›ä¸€ä¸ªListï¼›</li><li>ç¬¬ä¸‰æ­¥ï¼Œéå†åˆ—è¡¨ï¼Œå¤„ç†æ¯ä¸€å¼ å›¾ç‰‡å°ºå¯¸ï¼ŒæŠŠæ–°çš„å›¾ç‰‡ä¿å­˜åˆ°æ–°çš„ç›®å½•ä¸­</li></ul><p><strong>ä¿®æ”¹å›¾ç‰‡å°ºå¯¸ä»£ç ï¼š</strong></p><p>è¿™ä¸ªå¾ˆç®€å•ï¼Œå°±è¿™ä¹ˆä¸‰æ­¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">img = Image.<span class="built_in">open</span>(<span class="string">&quot;abc.jpg&quot;</span>) <span class="comment"># æ‰“å¼€å›¾ç‰‡</span></span><br><span class="line">new_img = img.resize((<span class="number">80</span>, <span class="number">80</span>), Image.BILINEAR) <span class="comment"># ä¿®æ”¹å›¾ç‰‡å°ºå¯¸</span></span><br><span class="line">new_img.save(<span class="string">&quot;new_abc.jpg&quot;</span>) <span class="comment"># ä¿å­˜å›¾ç‰‡</span></span><br></pre></td></tr></table></figure><p><strong>å®Œæ•´ä»£ç å®ç°</strong>å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkdir</span>(<span class="params">path</span>):</span></span><br><span class="line">    outdir = os.path.exists(path)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> outdir:</span><br><span class="line">        os.makedirs(path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹æ‰€æœ‰å›¾ç‰‡å°ºå¯¸</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_pic_size</span>(<span class="params">path, width, height</span>):</span></span><br><span class="line">    out_dir = path + <span class="string">&#x27;_new&#x27;</span> <span class="comment"># æ”¹å¥½å°ºå¯¸åçš„æ–°æ–‡ä»¶å¤¹</span></span><br><span class="line">    mkdir(out_dir)</span><br><span class="line">    </span><br><span class="line">    path_files = path + <span class="string">&#x27;\\&#x27;</span> + <span class="string">&#x27;*.*&#x27;</span> <span class="comment"># éœ€è¦ä¿®æ”¹çš„å›¾ç‰‡æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶</span></span><br><span class="line">    path_list = glob.glob(path_files)</span><br><span class="line">    <span class="comment"># print(path_list)</span></span><br><span class="line">    <span class="keyword">for</span> picfile <span class="keyword">in</span> path_list:</span><br><span class="line">        img = Image.<span class="built_in">open</span>(picfile)</span><br><span class="line">        <span class="comment"># img.show()</span></span><br><span class="line">        <span class="comment"># print(img.mode)</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            new_img = img.resize((width, height), Image.BILINEAR)</span><br><span class="line">            <span class="comment"># print(new_img.mode)</span></span><br><span class="line">            new_img.save(os.path.join(out_dir, os.path.basename(picfile)))</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(e)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸</span></span><br><span class="line">change_pic_size(path=<span class="string">r&#x27;C:\a&#x27;</span>, width=<span class="number">80</span>, height=<span class="number">80</span>)</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œä»£ç åï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„å›¾ç‰‡ç›®å½•ï¼ˆâ€™C:\a_newâ€™ï¼‰ï¼Œé‡Œé¢éƒ½æ˜¯<code>80*80</code>çš„å›¾ç‰‡ï¼Œå›¾ç‰‡æ–‡ä»¶åéƒ½æ²¡å˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2022/05/09/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2022/05/09/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ã€‚<br>ä¹Ÿå¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªè½»é‡çš„è™šæ‹Ÿæœºï¼Œå®ƒåªè™šæ‹Ÿä½ è½¯ä»¶éœ€è¦çš„è¿è¡Œç¯å¢ƒï¼Œå¤šä½™çš„ä¸€ç‚¹éƒ½ä¸è¦ï¼›è€Œæ™®é€šè™šæ‹Ÿæœºåˆ™æ˜¯ä¸€ä¸ªå®Œæ•´è€Œåºå¤§çš„ç³»ç»Ÿï¼ŒåŒ…å«å„ç§ä¸ç®¡ä½ è¦ä¸è¦çš„è½¯ä»¶ã€‚</p><p>Docker å…¥é—¨æ•™ç¨‹ï¼š<br><a class="link"   href="https://www.runoob.com/docker/docker-tutorial.html" >https://www.runoob.com/docker/docker-tutorial.html<i class="fas fa-external-link-alt"></i></a><br><a class="link"   href="https://docker.easydoc.net/doc/81170005/cCewZWoN/lTKfePfP" >https://docker.easydoc.net/doc/81170005/cCewZWoN/lTKfePfP<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><p><strong>Dockerä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œä¸€èˆ¬æ­¥éª¤</strong>ï¼š</p><ul><li>æ‹‰å–ä¸€ä¸ªé•œåƒï¼ˆ<code>docker pull</code>ï¼‰</li><li>åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼ˆ<code>docker run</code>ï¼‰</li><li>åœ¨å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤ï¼ˆ<code>docker exec</code>ï¼‰</li></ul><p>ç®€å•è¯´ï¼Œæ¯”å¦‚æˆ‘ï¼ˆCentosç³»ç»Ÿï¼‰å®‰è£…äº†Dockerï¼Œå¯ä»¥ä¸‹è½½ä¸€ä¸ªubuntué•œåƒï¼ˆimageï¼‰ï¼›<br>ç„¶åæ ¹æ®è¿™ä¸ªé•œåƒï¼Œæˆ‘å¯ä»¥åˆ›å»ºå®¹å™¨å« ubuntu1ï¼Œubuntu2ï¼Œubuntu3ï¼Œè¿™æ ·å°±åˆ›å»ºäº†3ä¸ªå®¹å™¨ï¼›<br>ç„¶åè¿›å…¥å®¹å™¨ubuntu1ï¼Œå¯ä»¥åœ¨å®¹å™¨é‡Œæ“ä½œï¼Œæ¯”å¦‚å®‰è£…mysqlï¼›<br>è¿›å…¥ubuntu2ï¼Œå®‰è£…sqlserverï¼›<br>â€¦â€¦<br>åœ¨ä¸åŒçš„å®¹å™¨é‡Œå¯ä»¥åšä¸åŒçš„æµ‹è¯•ã€‚å½“ä¸éœ€è¦ç¬¬1ä¸ªå®¹å™¨ï¼Œå°±åˆ é™¤ç¬¬1ä¸ªå°±è¡Œã€‚</p><h2 id="docker-å¸¸ç”¨å‘½ä»¤"><a href="#docker-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="docker å¸¸ç”¨å‘½ä»¤"></a>docker å¸¸ç”¨å‘½ä»¤</h2><p><code>docker [command] --help</code>å¯ä»¥æŸ¥çœ‹commandå‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•</p><p>æ¯”å¦‚ï¼š<code>docker ps --help</code>ï¼šå°±å¯ä»¥æŸ¥çœ‹<code>docker ps</code>è¿™ä¸ªå‘½ä»¤çš„optionsï¼ˆå‚æ•°é€‰é¡¹ï¼‰ã€‚</p><h3 id="1-é•œåƒ"><a href="#1-é•œåƒ" class="headerlink" title="1.é•œåƒ"></a>1.é•œåƒ</h3><table><thead><tr><th>docker å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>docker pull</td><td>æ‹‰å–ï¼ˆä¸‹è½½ï¼‰é•œåƒ</td></tr><tr><td>docker images</td><td>åˆ—å‡ºé•œåƒ</td></tr><tr><td>docker rmi</td><td>åˆ é™¤é•œåƒ</td></tr><tr><td>docker image prune</td><td>åˆ é™¤æœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒ</td></tr><tr><td>docker build</td><td>åˆ›å»ºæ–°é•œåƒï¼ˆéœ€è¦Dockerfileï¼‰</td></tr><tr><td>docker tag</td><td>æ ‡è®°é•œåƒ</td></tr><tr><td>docker save/load</td><td>é•œåƒä¿å­˜</td></tr></tbody></table><p><strong>æŸ¥æ‰¾é•œåƒ</strong>ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>æ–¹æ³•ä¸€ï¼šå®˜æ–¹é•œåƒï¼š<a class="link"   href="https://hub.docker.com/search?image_filter=official&amp;q=" >https://hub.docker.com/search?image_filter=official&amp;q=<i class="fas fa-external-link-alt"></i></a> ç›´æ¥æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬</li><li>æ–¹æ³•äºŒï¼š<code>docker search [é•œåƒåç§°]</code> # <code>docker search mysql</code>ï¼Œæœç´¢ubuntué•œåƒï¼Œæœç´¢å‡ºæ¥OFFICIALæ ‡[OK]çš„è¡¨ç¤ºå®˜æ–¹å‘å¸ƒçš„</li></ul><p><strong>æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull [image name] <span class="comment"># docker pull mysql:8.0 æ‹‰å–mysql:8.0ç‰ˆæœ¬çš„é•œåƒ</span></span><br><span class="line">docker images <span class="comment"># åˆ—å‡ºé•œåƒåˆ—è¡¨</span></span><br><span class="line">docker rmi -f [image name] <span class="comment"># docker rmi -f mysql å¼ºåˆ¶åˆ é™¤mysqlé•œåƒ</span></span><br></pre></td></tr></table></figure><h3 id="2-å®¹å™¨"><a href="#2-å®¹å™¨" class="headerlink" title="2.å®¹å™¨"></a>2.å®¹å™¨</h3><table><thead><tr><th>docker å‘½ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>docker run</td><td>åˆ›å»ºå®¹å™¨</td></tr><tr><td>docker ps</td><td>åˆ—å‡ºè¿è¡Œä¸­çš„å®¹å™¨</td></tr><tr><td>docker start/stop</td><td>å¯åŠ¨/åœæ­¢</td></tr><tr><td>docker rm</td><td>åˆ é™¤å®¹å™¨</td></tr><tr><td>docker rename</td><td>é‡å‘½å</td></tr><tr><td>docker cp</td><td>å¤åˆ¶</td></tr><tr><td>docker container prune</td><td>åˆ é™¤åœæ­¢çš„å®¹å™¨</td></tr><tr><td>docker exec</td><td>è¿è¡Œå‘½ä»¤</td></tr><tr><td>docker commit</td><td>ä»å®¹å™¨åˆ›å»ºæ–°é•œåƒ</td></tr></tbody></table><p><strong>æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run -it ubuntu /bin/bash <span class="comment"># åˆ›å»ºå®¹å™¨åï¼Œè¿›å…¥å®¹å™¨ï¼Œè¾“å…¥`exit`å›è½¦é€€å‡º</span></span><br><span class="line">docker run -itd --name u-test ubuntu /bin/bash <span class="comment"># -dè¡¨ç¤ºåå°è¿è¡Œ --nameæ·»åŠ åç§°</span></span><br><span class="line"></span><br><span class="line">docker ps <span class="comment"># åˆ—å‡ºè¿è¡Œä¸­çš„å®¹å™¨</span></span><br><span class="line">docker ps -a <span class="comment"># åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢çš„å®¹å™¨ï¼‰</span></span><br><span class="line">docker stop &lt;container ID&gt; <span class="comment"># åœæ­¢å®¹å™¨ï¼ˆæ ¹æ®å®¹å™¨IDï¼‰</span></span><br><span class="line">docker start &lt;container ID&gt; <span class="comment"># å¯åŠ¨å®¹å™¨ï¼ˆæ ¹æ®å®¹å™¨IDï¼‰</span></span><br><span class="line">docker restart &lt;container ID&gt; <span class="comment"># é‡å¯å®¹å™¨ï¼ˆæ ¹æ®å®¹å™¨IDï¼‰</span></span><br><span class="line">docker rm -f &lt;container ID&gt; <span class="comment"># å¼ºåˆ¶ï¼ˆ-få‚æ•°ï¼‰åˆ é™¤å®¹å™¨ï¼ˆæ ¹æ®å®¹å™¨IDï¼‰</span></span><br><span class="line"></span><br><span class="line">docker <span class="built_in">exec</span> -it &lt;container ID&gt; /bin/bash <span class="comment"># è¿›å…¥å®¹å™¨ï¼ˆæ ¹æ®å®¹å™¨IDï¼‰ï¼Œ`exit`é€€å‡º</span></span><br></pre></td></tr></table></figure><p>Easyæä¾›çš„ä¸€å¼ Dockerå‘½ä»¤é›†çš„å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/docker_command_1.png"                      style="zoom: 50%;"                ></p><h2 id="docker-å¸¸ç”¨ä¸¾ä¾‹"><a href="#docker-å¸¸ç”¨ä¸¾ä¾‹" class="headerlink" title="docker å¸¸ç”¨ä¸¾ä¾‹"></a>docker å¸¸ç”¨ä¸¾ä¾‹</h2><h3 id="1-åˆ›å»ºmysqlå®¹å™¨"><a href="#1-åˆ›å»ºmysqlå®¹å™¨" class="headerlink" title="1.åˆ›å»ºmysqlå®¹å™¨"></a>1.åˆ›å»ºmysqlå®¹å™¨</h3><p>æ­¥éª¤ï¼š</p><ul><li>æ‹‰å– mysql8.0ç‰ˆæœ¬é•œåƒ</li><li>åˆ›å»ºmysqlå®¹å™¨ï¼ˆ-p æŠŠmysql3306çš„ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„3308ç«¯å£ä¸Šï¼Œroot passwordè®¾ç½®ï¼‰</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:8.0</span><br><span class="line">docker run -p 3308:3306 --name mysql -e MYSQL_ROOT_PASSWORD=123MYSQL -d mysql:8.0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/2022/05/06/Python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2022/05/06/Python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>æ­£åˆ™è¡¨è¾¾å¼(regular expression) æè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼ï¼ˆpatternï¼‰ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ã€å°†åŒ¹é…çš„å­ä¸²æ›¿æ¢æˆ–è€…ä»æŸä¸ªä¸²ä¸­å–å‡ºç¬¦åˆæŸä¸ªæ¡ä»¶çš„å­ä¸²ç­‰ã€‚</p><p>æ¯”å¦‚ï¼š</p><ul><li><code>col+r</code>ï¼šå¯ä»¥åŒ¹é… colorã€colourã€colouur ç­‰ï¼Œ+ å·ä»£è¡¨å‰é¢çš„å­—ç¬¦è‡³å°‘å‡ºç°ä¸€æ¬¡1æ¬¡æˆ–å¤šæ¬¡ï¼›</li><li><code>col*r</code>ï¼šå¯ä»¥åŒ¹é… colrã€colorã€colour ç­‰ï¼Œ<code>*</code> å·ä»£è¡¨å‰é¢çš„å­—ç¬¦å¯ä»¥0æ¬¡æˆ–å¤šæ¬¡ï¼›</li><li><code>col?r</code>ï¼š å¯ä»¥åŒ¹é… colr æˆ–è€… colorï¼Œ? é—®å·ä»£è¡¨å‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºç°0æ¬¡æˆ–1æ¬¡ã€‚</li></ul><a id="more"></a><h2 id="åŸºç¡€1"><a href="#åŸºç¡€1" class="headerlink" title="åŸºç¡€1"></a>åŸºç¡€1</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">\n åŒ¹é…æ¢è¡Œç¬¦</span><br><span class="line">\t åŒ¹é…åˆ¶è¡¨ç¬¦</span><br><span class="line">\w åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿</span><br><span class="line">\W åŒ¹é…é™¤å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼ˆä¸\wç›¸åï¼‰</span><br><span class="line">\d åŒ¹é…åè¿›åˆ¶æ•°å­—ï¼Œç­‰ä»·äº[0-9]</span><br><span class="line">\D åŒ¹é…é™¤åè¿›åˆ¶æ•°å­—ï¼ˆä¸\Dç›¸åï¼‰</span><br><span class="line">\b åŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼Œä»…ç”¨äºå•è¯çš„é¦–å°¾ã€‚</span><br><span class="line">\B åŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼Œä½†ä¸èƒ½ç”¨äºå•è¯çš„é¦–å°¾ã€‚</span><br><span class="line">\s åŒ¹é…ç©ºç™½å­—ç¬¦</span><br><span class="line">\S åŒ¹é…é™¤ç©ºç™½å­—ç¬¦ï¼ˆä¸\sç›¸åï¼‰</span><br><span class="line">[aeiou] åŸå­è¡¨ï¼ŒåŒ¹é…aeiouä¸­çš„ä»»æ„ä¸€ä¸ª</span><br><span class="line">[^ab89x] åŸå­è¡¨ï¼ŒåŒ¹é…é™¤ab89xä»¥å¤–çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">[a-z0-9] ä½¿ç”¨å‡å·æŒ‡å®šå­—ç¬¦åŒºé—´ã€‚è¿™é‡Œè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå¿…é¡»æ˜¯å°å†™å­—æ¯æˆ–æ•°å­—</span><br><span class="line">[^A-Za-z] ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯^ï¼Œè¡¨ç¤ºåå‘é€»è¾‘ã€‚è¿™é‡ŒåŒ¹é…é™¤äº†å¤§å°å†™å­—ç¬¦ä¹‹å¤–çš„å…¶ä»–ä»»æ„å­—ç¬¦</span><br></pre></td></tr></table></figure><h3 id="æ­£åˆ™å®ä¾‹1"><a href="#æ­£åˆ™å®ä¾‹1" class="headerlink" title="æ­£åˆ™å®ä¾‹1"></a>æ­£åˆ™å®ä¾‹1</h3><h2 id="åŸºç¡€2"><a href="#åŸºç¡€2" class="headerlink" title="åŸºç¡€2"></a>åŸºç¡€2</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">^ åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´</span><br><span class="line">$ åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾</span><br><span class="line">. åŒ¹é…ä»»ä¸€å­—ç¬¦ï¼ˆä¸€ä¸ªé€šé…ç¬¦ï¼‰</span><br><span class="line">? è¡¨ç¤ºå‰æ¥å­—ç¬¦å‡ºç°0æ¬¡æˆ–1æ¬¡</span><br><span class="line">* è¡¨ç¤ºå‰æ¥å­—ç¬¦å‡ºç°0æ¬¡æˆ–å¤šæ¬¡</span><br><span class="line">+ è¡¨ç¤ºå‰æ¥å­—ç¬¦å‡ºç°1æ¬¡æˆ–å¤šæ¬¡</span><br><span class="line">&#123;n&#125; è¡¨ç¤ºå‰æ¥å­—ç¬¦æ°å¥½å‡ºç°næ¬¡</span><br><span class="line">&#123;n,&#125; è¡¨ç¤ºå‰æ¥å­—ç¬¦è‡³å°‘å‡ºç°næ¬¡</span><br><span class="line">&#123;n,m&#125; è¡¨ç¤ºå‰æ¥å­—ç¬¦è‡³å°‘å‡ºç°næ¬¡ï¼Œè‡³å¤šmæ¬¡</span><br><span class="line">| è¡¨ç¤ºé€‰æ‹©ç¬¦æˆ–</span><br><span class="line">( ) æ·»åŠ æ‹¬å·ï¼Œæ‹¬å·å†…å®¹ä¼šä¸§å¤±åŒ¹é…åŠŸèƒ½ï¼Œä½†åœ¨findall()ä¸­å¯ä»¥ç”¨äºæŠ½å–ç‰¹å®šéƒ¨åˆ†çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><h3 id="æ­£åˆ™å®ä¾‹2"><a href="#æ­£åˆ™å®ä¾‹2" class="headerlink" title="æ­£åˆ™å®ä¾‹2"></a>æ­£åˆ™å®ä¾‹2</h3><h2 id="åŸºç¡€3ï¼šè´ªå©ªæ¨¡å¼ä¸éè´ªå©ªæ¨¡å¼"><a href="#åŸºç¡€3ï¼šè´ªå©ªæ¨¡å¼ä¸éè´ªå©ªæ¨¡å¼" class="headerlink" title="åŸºç¡€3ï¼šè´ªå©ªæ¨¡å¼ä¸éè´ªå©ªæ¨¡å¼"></a>åŸºç¡€3ï¼šè´ªå©ªæ¨¡å¼ä¸éè´ªå©ªæ¨¡å¼</h2><blockquote><p>è´ªå©ªæ¨¡å¼ï¼šå°½å¯èƒ½å¤šçš„è¿›è¡ŒåŒ¹é…ï¼ˆé»˜è®¤æ˜¯è´ªå©ªæ¨¡å¼ï¼‰<br>éè´ªå©ªæ¨¡å¼ï¼šå°½å¯èƒ½å°‘çš„åŒ¹é…ï¼Œç²¾å‡†åŒ¹é…</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*? ä»¥éè´ªå©ªæ¨¡å¼ï¼Œè¡¨ç¤ºå‰æ¥å­—ç¬¦å‡ºç°0æ¬¡æˆ–å¤šæ¬¡</span><br><span class="line">+? ä»¥éè´ªå©ªæ¨¡å¼ï¼Œè¡¨ç¤ºå‰æ¥å­—ç¬¦çš„1æ¬¡æˆ–å¤šæ¬¡</span><br></pre></td></tr></table></figure><h3 id="æ­£åˆ™å®ä¾‹3"><a href="#æ­£åˆ™å®ä¾‹3" class="headerlink" title="æ­£åˆ™å®ä¾‹3"></a>æ­£åˆ™å®ä¾‹3</h3><h2 id="åŸºç¡€4ï¼šæ¨¡å¼ä¿®æ­£ç¬¦"><a href="#åŸºç¡€4ï¼šæ¨¡å¼ä¿®æ­£ç¬¦" class="headerlink" title="åŸºç¡€4ï¼šæ¨¡å¼ä¿®æ­£ç¬¦"></a>åŸºç¡€4ï¼šæ¨¡å¼ä¿®æ­£ç¬¦</h2><p>æ¨¡å¼ä¿®æ­£ç¬¦ï¼šåœ¨ä¸æ”¹å˜æ­£åˆ™è¡¨è¾¾å¼çš„æƒ…å†µä¸‹é€šè¿‡æ¨¡å¼ä¿®æ­£ç¬¦ä½¿åŒ¹é…ç»“æœå‘ç”Ÿæ›´æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">re.s è®© . ä¹Ÿå¯ä»¥åŒ¹é…å¤šè¡Œ</span><br><span class="line">re.l è®©åŒ¹é…æ—¶å¿½ç•¥å¤§å°å†™</span><br></pre></td></tr></table></figure><h3 id="æ­£åˆ™å®ä¾‹4"><a href="#æ­£åˆ™å®ä¾‹4" class="headerlink" title="æ­£åˆ™å®ä¾‹4"></a>æ­£åˆ™å®ä¾‹4</h3>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python SeleniumæŸ¥æ‰¾å…ƒç´ æ–¹æ³•æ±‡æ€»</title>
      <link href="/2022/05/04/Python-Selenium%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0%E6%96%B9%E6%B3%95%E6%B1%87%E6%80%BB/"/>
      <url>/2022/05/04/Python-Selenium%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0%E6%96%B9%E6%B3%95%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<p>å…³äºæ€ä¹ˆå®‰è£…ä½¿ç”¨Seleniumï¼Œçœ‹è¿™ç¯‡æ–‡ç« ï¼š <a href="/2022/05/04/Python-Selenium%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/" title="Python Seleniumä½¿ç”¨ä¸¾ä¾‹">Python Seleniumä½¿ç”¨ä¸¾ä¾‹</a></p><p><strong>Seleniumç”¨æ³•</strong> ä¸»è¦å°±4æ­¥ï¼š</p><ul><li>1.åˆ›å»ºWebDriverå¯¹è±¡ï¼›</li><li>2.ç”¨WebDriverå¯¹è±¡çš„<strong>getæ–¹æ³•</strong>æ‰“å¼€ç½‘å€ï¼›</li><li>3.ç”¨WebDriverå¯¹è±¡çš„<strong>find_elementæ–¹æ³•</strong>å»æ‰¾åˆ°ç½‘é¡µä¸Šä½ éœ€è¦çš„å…ƒç´ ï¼Œè¿”å›WebElementå¯¹è±¡ï¼ˆæ‰¾åˆ°å¯¹è±¡æ˜¯é‡ç‚¹ï¼‰ï¼›</li><li>4.å¯¹WebElementå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œä¸€èˆ¬å°±æ˜¯è·å–å¯¹è±¡çš„å†…å®¹ã€å¡«å†™å…¥å†…å®¹æˆ–è€…clickæ“ä½œã€‚</li></ul><p>è¿™ç¯‡æ–‡ç« ä¸»è¦é’ˆå¯¹ç¬¬3æ­¥ï¼Œåˆ—ä¸¾ä¸€äº›æŸ¥æ‰¾å…ƒç´ çš„æ–¹æ³•ã€‚ï¼ˆæ–‡ç« ä»£ç ä¸­ä½¿ç”¨selenium4ç‰ˆæœ¬ï¼‰</p><a id="more"></a><p>åœ¨æµè§ˆå™¨ä¸­æŸ¥æ‰¾ç½‘é¡µå…ƒç´ ï¼Œç›´æ¥æŒ‰F12ï¼Œæ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œåœ¨ã€å…ƒç´ ã€‘ï¼ˆElementsï¼‰é€‰é¡¹ä¸­å°±å¯ä»¥æŸ¥çœ‹ç½‘é¡µæºç ã€‚</p><p>æŸ¥æ‰¾ç½‘é¡µå…ƒç´ æ—¶ï¼Œæœ‰ä¸¤ä¸ªæƒ…å†µï¼š</p><ul><li>webdriver.find_elementï¼šåªæŸ¥æ‰¾1ä¸ªå…ƒç´ ï¼ˆè¿”å›WebElementå¯¹è±¡ï¼‰ï¼›</li><li>webdriver.find_elementsï¼šæŸ¥æ‰¾å¤šä¸ªå…ƒç´ ï¼ˆè¿”å›ä¸€ä¸ªListçš„WebElementå¯¹è±¡ï¼‰</li></ul><h2 id="ä¸€ã€åªæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ ï¼ˆfind-elementæ–¹æ³•ï¼‰"><a href="#ä¸€ã€åªæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ ï¼ˆfind-elementæ–¹æ³•ï¼‰" class="headerlink" title="ä¸€ã€åªæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ ï¼ˆfind_elementæ–¹æ³•ï¼‰"></a>ä¸€ã€åªæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ ï¼ˆfind_elementæ–¹æ³•ï¼‰</h2><h3 id="1-ç®€å•çš„ç›´æ¥æŸ¥æ‰¾"><a href="#1-ç®€å•çš„ç›´æ¥æŸ¥æ‰¾" class="headerlink" title="1.ç®€å•çš„ç›´æ¥æŸ¥æ‰¾"></a>1.ç®€å•çš„ç›´æ¥æŸ¥æ‰¾</h3><ul><li>By.IDï¼šé€šè¿‡HTMLæ ‡ç­¾çš„idå±æ€§ï¼ˆidå±æ€§åœ¨HTMLæ–‡æ¡£ä¸­å…·ä½“å”¯ä¸€æ€§ï¼Œæ‰€ä»¥æœ‰idä¼˜å…ˆé€šè¿‡è¿™ä¸ªæŸ¥æ‰¾ï¼‰</li><li>By.CLASS_NAMEï¼šé€šè¿‡HTMLæ ‡ç­¾çš„classå±æ€§ï¼ˆclasså±æ€§å¹¶æ²¡æœ‰å”¯ä¸€æ€§ï¼Œå¦‚æœæœ‰å¤šä¸ªå…ƒç´ çš„è¯ï¼Œåªä¼šè¿”å›ç¬¬1ä¸ªï¼›å½“ç„¶æœ‰äº›classåœ¨ç«™ç‚¹ä¸­å”¯ä¸€çš„è¯ï¼Œä¹Ÿæ˜¯å¯ä»¥ç”¨æ¥æŸ¥æ‰¾çš„ï¼‰</li><li>By.TAG_NAMEï¼šé€šè¿‡HTMLæ ‡ç­¾ï¼ˆå¤šä¸ªå…ƒç´ çš„è¯ï¼Œä¹Ÿæ˜¯è¿”å›ç¬¬1ä¸ªï¼‰</li></ul><p>å¯¹åº”ä»£ç ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="comment"># åˆå§‹åŒ–ä»£ç  ...</span></span><br><span class="line">wd = webdriver.Chrome(options=option)</span><br><span class="line">wd.get(<span class="string">&#x27;https://cn.bing.com/&#x27;</span>)</span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line">e1 = wd.find_element(By.ID, <span class="string">&#x27;sb_form_q&#x27;</span>) <span class="comment"># æœç´¢æ¡†</span></span><br><span class="line">e2 = wd.find_element(By.CLASS_NAME, <span class="string">&#x27;sb_form_q&#x27;</span>)</span><br><span class="line">e3 = wd.find_element(By.TAG_NAME, <span class="string">&#x27;input&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åœ¨F12æ‰“å¼€çš„å¼€å‘è€…å·¥å…·ä¸­ï¼ŒæŒ‰ <code>Ctrl+F</code>é”®ï¼Œæ‰“å¼€æœç´¢ã€‚<br>å¦‚æœæ˜¯idï¼Œæœç´¢idåå‰é¢åŠ ä¸Š<code>#</code>å·ï¼Œç›´æ¥å°±èƒ½æœç´¢idã€‚å¦‚å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Python_Selenium_find_element_1.png"                       style="zoom: 50%;"                ></p><p>å¯ä»¥ç”¨ <code>WebElement.send_keys(&#39;æœç´¢å†…å®¹&#39;)</code>æµ‹è¯•æ˜¯å¦æ‰¾åˆ°äº†è¿™ä¸ªå…ƒç´ ï¼Œæˆ–è€…ç›´æ¥printä¸€ä¸‹ã€‚</p><p>å¦‚æœæ‰¾ä¸åˆ°å…ƒç´ ï¼Œæˆ–è€…æœ‰è¿™ä¸ªå…ƒç´ ã€ç½‘ç«™å“åº”é€Ÿåº¦æ¯”ä»£ç æ‰§è¡Œé€Ÿåº¦æ…¢ç‚¹ï¼Œfind_element æ–¹æ³•å°±ä¼šæŠ›å‡º selenium.common.exceptions.NoSuchElementException å¼‚å¸¸ã€‚</p><h3 id="2-å¤„ç†-NoSuchElementException-çš„å¼‚å¸¸"><a href="#2-å¤„ç†-NoSuchElementException-çš„å¼‚å¸¸" class="headerlink" title="2.å¤„ç† NoSuchElementException çš„å¼‚å¸¸"></a>2.å¤„ç† NoSuchElementException çš„å¼‚å¸¸</h3><p>å› ä¸ºæœ‰2ç§æƒ…å†µï¼Œéƒ½ä¼šæœ‰æœ‰è¿™ä¸ªå¼‚å¸¸ï¼š</p><ul><li>æƒ…å†µä¸€ï¼šæ‰¾ä¸åˆ°æ­¤å…ƒç´ </li><li>æƒ…å†µäºŒï¼šä»£ç æ‰§è¡Œé€Ÿåº¦æ¯”ç½‘ç«™å“åº”å¿«</li></ul><p>1).å¦‚æœæ˜¯ç¬¬äºŒç§æƒ…å†µ</p><p>è™½ç„¶ç”¨äº† <code>wd.implicitly_wait(10)</code> ï¼Œä½†æœ‰æ—¶å€™è¿˜æ˜¯ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚</p><p>æˆ‘ä¸€èˆ¬è¿™æ ·å¤„ç†è¿™ä¸ªå¼‚å¸¸ï¼Œgetæ–¹æ³•ä¹‹åsleepä¸€ä¸‹ï¼ˆæ—¶é—´ä¸æ˜¯å›ºå®šï¼Œçœ‹ç½‘ç»œå’Œç«™ç‚¹çš„å“åº”æƒ…å†µï¼‰ï¼Œç„¶åå¦‚æœæŠ¥è¿™ä¸ªå¼‚å¸¸ï¼Œå°±å†sleepå¤šç­‰å¾…ä¸€ä¸‹å†æŸ¥æ‰¾è¿™ä¸ªå…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wd.get(site_url)</span><br><span class="line">time.sleep(<span class="number">2</span>) <span class="comment"># ç­‰å¾…2ç§’</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    element = wd.find_element(By.ID,<span class="string">&#x27;search_icon&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span> selenium.common.exceptions.NoSuchElementException:</span><br><span class="line">    time.sleep(<span class="number">5</span>) <span class="comment"># ç­‰å¾…5ç§’</span></span><br><span class="line">    element = wd.find_element(By.ID,<span class="string">&#x27;search_icon&#x27;</span>)</span><br></pre></td></tr></table></figure><p>2).å¦‚æœæ˜¯ç¬¬ä¸€ç§æƒ…å†µ</p><p>å°±ç›´æ¥åœ¨è¯­å¥åé¢åŠ ä¸ª if(element)çš„åˆ¤æ–­å¥½äº†ï¼Œçœ‹çœ‹falseçš„æ—¶å€™ï¼ˆæ²¡æ‰¾åˆ°å…ƒç´ ï¼‰éœ€è¦åšä»€ä¹ˆå¤„ç†æˆ–è€…æç¤ºã€‚</p><h3 id="3-é€šè¿‡CSS-SELECTOR-å¤æ‚ä¸€ç‚¹çš„æŸ¥æ‰¾ï¼ˆå…¨èƒ½æŸ¥æ‰¾ï¼‰"><a href="#3-é€šè¿‡CSS-SELECTOR-å¤æ‚ä¸€ç‚¹çš„æŸ¥æ‰¾ï¼ˆå…¨èƒ½æŸ¥æ‰¾ï¼‰" class="headerlink" title="3.é€šè¿‡CSS_SELECTOR å¤æ‚ä¸€ç‚¹çš„æŸ¥æ‰¾ï¼ˆå…¨èƒ½æŸ¥æ‰¾ï¼‰"></a>3.é€šè¿‡CSS_SELECTOR å¤æ‚ä¸€ç‚¹çš„æŸ¥æ‰¾ï¼ˆå…¨èƒ½æŸ¥æ‰¾ï¼‰</h3><p><strong>By.CSS_SELECTOR</strong>å°±æ¯”è¾ƒå…¨èƒ½äº†ï¼Œç”¨è¿™ä¸ªä¹Ÿå¯ä»¥æ ¹æ®IDã€CLASS_NAMEæ¥æŸ¥æ‰¾çš„ã€‚</p><p>1).æ™®é€šæŸ¥æ‰¾</p><ul><li>(By.CSS_SELECTOR,â€™#sb_form_qâ€™)ï¼š# æ ¹æ®idæŸ¥æ‰¾ï¼Œ= (By.ID, â€˜sb_form_qâ€™)</li><li>(By.CSS_SELECTOR,â€™.sb_form_qâ€™)ï¼š# æ ¹æ®class nameæŸ¥æ‰¾ï¼Œ=(By.CLASS_NAME, â€˜sb_form_qâ€™)</li></ul><p>2).å­å…ƒç´ ã€åä»£å…ƒç´ æŸ¥æ‰¾ï¼ˆè¿™ä¸ªç»å¸¸ä¼šç”¨åˆ°ï¼‰</p><p>æ¯”å¦‚æœ‰å¦‚ä¸‹ä¸€æ®µhtmlä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;container&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;layer1&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;inner11&#x27;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å†…å±‚11<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;inner12&#x27;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å†…å±‚12<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;container&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;layer1&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;inner33&#x27;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å†…å±‚33<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;inner44&#x27;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å†…å±‚12<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘è¦æŸ¥æ‰¾â€œå†…å±‚33â€è¿™ä¸ªå†…å®¹ï¼Œé‚£æˆ‘ä»¬å¯ä»¥è¿™æ ·æ‰¾ï¼š</p><ul><li><code>(By.CSS_SELECTOR, &#39;.container &gt; .layer1 &gt; .inner33&#39;)</code>ï¼š# å¦‚æœç”¨å¤§äºå·ï¼Œè¡¨ç¤ºå­å…ƒç´ ï¼Œå¿…é¡»ä¸€å±‚ä¸€å±‚ï¼Œä¸­é—´ä¸èƒ½å°‘ä¸ª</li><li><code>(By.CSS_SELECTOR, &#39;.container .layer1 .inner33&#39;)</code>ï¼š # å¦‚æœæ²¡ç”¨å¤§äºå·ï¼Œè¡¨ç¤ºåä»£å…ƒç´ </li><li><code>(By.CSS_SELECTOR, &#39;.container .inner33&#39;)</code>ï¼š # åä»£å…ƒç´ ä¸­é—´æ¯ä¸€å±‚å°±ä¸æ˜¯å¿…é¡»äº†</li></ul><p>3).æ ¹æ®å±æ€§æŸ¥æ‰¾ï¼ˆè¿™ä¸ªä¹Ÿå¸¸ç”¨ï¼‰</p><ul><li><code>(By.CSS_SELECTOR,&#39;div[class=&quot;inner44&quot;]&#39;)</code>ï¼š# æŸ¥æ‰¾tagæ˜¯divï¼Œä¸”classå±æ€§æ˜¯inner44çš„</li><li><code>(By.CSS_SELECTOR,&#39;button[type=submit]&#39;)</code>ï¼š# æŸ¥æ‰¾tagæ˜¯buttonä¸”typeå±æ€§æ˜¯submitçš„</li><li> <code>(By.CSS_SELECTOR,&#39;[href=&quot;www.test.com&quot;]&#39;)</code>ï¼š# æŸ¥æ‰¾å¯¹åº”çš„hrefå±æ€§å€¼</li><li><code>(By.CSS_SELECTOR,&#39;div[class=&quot;inner44&quot;][ctype=&quot;test&quot;]&#39;)</code>ï¼š# æŸ¥æ‰¾tagæ˜¯divï¼Œä¸”classå±æ€§æ˜¯inner44ã€ctypeå±æ€§æ˜¯testçš„ï¼ˆå¯ä»¥å¤šä¸ªå±æ€§ï¼‰</li><li><code>(By.CSS_SELECTOR,&#39;a[href*=&quot;http&quot;]&#39;)</code>ï¼š# è¿˜å¯ä»¥ç”¨æ­£åˆ™ï¼ŒæŸ¥æ‰¾aæ ‡ç­¾hrefå±æ€§åŒ…å«httpçš„</li><li><code>(By.CSS_SELECTOR,&#39;a[href^=&quot;http&quot;]&#39;)</code>ï¼š# æŸ¥æ‰¾aæ ‡ç­¾hrefå±æ€§ä»¥httpå¼€å¤´çš„</li><li><code>(By.CSS_SELECTOR,&#39;a[href$=&quot;.cn&quot;]&#39;)</code>ï¼š# æŸ¥æ‰¾aæ ‡ç­¾hrefå±æ€§ä»¥.cnç»“å°¾çš„</li></ul><p>ç”¨çš„æœ€å¤šçš„æ„Ÿè§‰é™¤äº†å¶å°”èƒ½ç”¨ç›´æ¥æŸ¥æ‰¾å¤–ï¼Œå°±æ˜¯åä»£å…ƒç´ ï¼ˆå¤šä¸ªclass_nameå®šä½ï¼‰å’Œæ ¹æ®å±æ€§æŸ¥æ‰¾ã€‚</p><h3 id="4-Xpathé€‰æ‹©å™¨ï¼ˆå…¨èƒ½æŸ¥æ‰¾ï¼‰"><a href="#4-Xpathé€‰æ‹©å™¨ï¼ˆå…¨èƒ½æŸ¥æ‰¾ï¼‰" class="headerlink" title="4.Xpathé€‰æ‹©å™¨ï¼ˆå…¨èƒ½æŸ¥æ‰¾ï¼‰"></a>4.Xpathé€‰æ‹©å™¨ï¼ˆå…¨èƒ½æŸ¥æ‰¾ï¼‰</h3><p>ç”¨cssæŸ¥æ‰¾åŸºæœ¬ä¸Šå¾ˆæ–¹ä¾¿ã€å¼ºå¤§äº†ï¼Œåªæ˜¯æœ‰äº›åœºæ™¯ç”¨ css æŸ¥æ‰¾å…ƒç´ ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œè€Œxpathæ¯”è¾ƒæ–¹ä¾¿ã€‚<br>å¦å¤– Xpath è¿˜æœ‰å…¶ä»–é¢†åŸŸä¼šä½¿ç”¨åˆ°ï¼Œæ¯”å¦‚çˆ¬è™«æ¡†æ¶ Scrapyï¼Œæ‰‹æœºAppæ¡†æ¶ Appiumã€‚</p><p>ç”¨Xpathçš„æ—¶å€™ï¼Œä»£ç å°±ç”¨By.XPATHï¼Œç±»ä¼¼è¿™æ ·ï¼š <code>wd.find_element(By.XPATH,&#39;/html/body/div&#39;)</code></p><p>ç­‰å›å¤´ç ”ç©¶ç”¨çˆ¬è™«çš„æ—¶å€™ï¼Œç”¨çš„ä¾‹å­å¤šä¸€äº›ï¼Œå†å•ç‹¬å†™ä¸€ç¯‡ã€‚æ­¤ç¯‡ç•¥ã€‚</p><h2 id="äºŒã€æŸ¥æ‰¾å¤šä¸ªå…ƒç´ ï¼ˆfind-elementsæ–¹æ³•ï¼‰"><a href="#äºŒã€æŸ¥æ‰¾å¤šä¸ªå…ƒç´ ï¼ˆfind-elementsæ–¹æ³•ï¼‰" class="headerlink" title="äºŒã€æŸ¥æ‰¾å¤šä¸ªå…ƒç´ ï¼ˆfind_elementsæ–¹æ³•ï¼‰"></a>äºŒã€æŸ¥æ‰¾å¤šä¸ªå…ƒç´ ï¼ˆfind_elementsæ–¹æ³•ï¼‰</h2><p>æ¯”å¦‚æœ‰æ—¶å€™ä¸€ä¸ªclass_nameä¼šæœ‰å¾ˆå¤šåœ°æ–¹åœ¨ç”¨ ï¼Œå°±å¯ä»¥æŸ¥å¤šä¸ªå…ƒç´ ã€‚</p><p>find_elementsæ–¹æ³•è¿”å›æ˜¯ä¸€ä¸ªListçš„åˆ—è¡¨ï¼Œæ‰€ä»¥ç”¨forå¾ªç¯ä¸€ä¸‹å°±èƒ½å¾—åˆ°æ¯ä¸€ä¸ªã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">elements = wd.find_elements(By.CLASS_NAME, <span class="string">&#x27;sb_form_q&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> elements:</span><br><span class="line">    <span class="built_in">print</span>(element.text)</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥CSS_SELECTORä¸­è¿˜æœ‰å­èŠ‚ç‚¹çš„å†™æ³•ï¼Œæˆ‘ä¸€èˆ¬ä¹Ÿä¸ç”¨ï¼Œç›´æ¥find_elementsåï¼Œå–åˆ—è¡¨ä¸­ç¬¬å‡ ä¸ªã€‚</p><p><strong>find_element å’Œ find_elements çš„åŒºåˆ«</strong></p><ul><li>find_elementsï¼šæ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰å…ƒç´ ï¼Œ å¦‚æœæ²¡æœ‰ï¼Œè¿”å›ç©ºåˆ—è¡¨</li><li>find_elementï¼šæ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰ï¼ŒæŠ›å‡ºNoSuchElementException å¼‚å¸¸</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Seleniumä½¿ç”¨ä¸¾ä¾‹</title>
      <link href="/2022/05/04/Python-Selenium%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/"/>
      <url>/2022/05/04/Python-Selenium%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>Seleniumæ˜¯ä¸€ä¸ªç”¨äºWebåº”ç”¨ç¨‹åºæµ‹è¯•çš„å¼€æºå·¥å…·ã€‚Seleniumæµ‹è¯•ç›´æ¥è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œå°±åƒçœŸæ­£çš„ç”¨æˆ·åœ¨æ“ä½œä¸€æ ·ï¼Œå®ç°è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯ä¸ªWebåº”ç”¨çš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ã€‚</p><p>Webçš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå› ä¸ºæ˜¯æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œä¸€æ ·ï¼Œè‡ªç„¶è€Œç„¶ä¹Ÿå¯ä»¥æŠŠæµ‹è¯•è¿‡ç¨‹ä¸­éœ€è¦çš„æ•°æ®ã€ä¿¡æ¯ç­‰ä¿å­˜ä¸‹æ¥ã€‚æ‰€ä»¥æˆ‘ä¹Ÿç”¨è¿™ä¸ªæ¥ä¸‹è½½ä¸€äº›å…¬å¼€æ•°æ®ï¼ˆä¸ç”¨æ‹…å¿ƒå¯¹çˆ¬è™«çš„é™åˆ¶å•¥çš„ï¼‰ã€‚</p><a id="more"></a><p>Selenium with Pythonä¸­æ–‡æ–‡æ¡£ï¼š<a class="link"   href="https://selenium-python-zh.readthedocs.io/en/latest/index.html" >https://selenium-python-zh.readthedocs.io/en/latest/index.html<i class="fas fa-external-link-alt"></i></a></p><h2 id="ä¸€ã€å®‰è£…SeleniumåŒ…"><a href="#ä¸€ã€å®‰è£…SeleniumåŒ…" class="headerlink" title="ä¸€ã€å®‰è£…SeleniumåŒ…"></a>ä¸€ã€å®‰è£…SeleniumåŒ…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸çŸ¥é“è‡ªå·±æ˜¯å¦å®‰è£…è¿‡ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -U selenium</span><br></pre></td></tr></table></figure><blockquote><p>-Uï¼šå°±æ˜¯ â€“upgradeï¼Œè¡¨ç¤ºå¦‚æœå·²å®‰è£…å°±å‡çº§åˆ°æœ€æ–°ç‰ˆã€‚</p></blockquote><h2 id="äºŒã€å®‰è£…æµè§ˆå™¨é©±åŠ¨"><a href="#äºŒã€å®‰è£…æµè§ˆå™¨é©±åŠ¨" class="headerlink" title="äºŒã€å®‰è£…æµè§ˆå™¨é©±åŠ¨"></a>äºŒã€å®‰è£…æµè§ˆå™¨é©±åŠ¨</h2><p>éœ€è¦æ‰¾ä½ è‡ªå·±çš„æµè§ˆå™¨ç‰ˆæœ¬å¯¹åº”çš„é©±åŠ¨ä¸‹è½½ã€‚<br>ï¼ˆæµè§ˆå™¨ä¸€èˆ¬ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œéœ€è¦åŠæ—¶æ›´æ¢ï¼‰</p><h3 id="1-ä¸‹è½½-WebDriver"><a href="#1-ä¸‹è½½-WebDriver" class="headerlink" title="1.ä¸‹è½½ WebDriver"></a>1.ä¸‹è½½ WebDriver</h3><p>1).Chrome WebDriverä¸‹è½½ï¼š<br><a class="link"   href="https://chromedriver.storage.googleapis.com/index.html" >https://chromedriver.storage.googleapis.com/index.html<i class="fas fa-external-link-alt"></i></a></p><p><a class="link"   href="https://sites.google.com/a/chromium.org/chromedriver/downloads" >https://sites.google.com/a/chromium.org/chromedriver/downloads<i class="fas fa-external-link-alt"></i></a></p><p>å¦‚æœç”¨çš„æ˜¯<mark> Chrome115</mark>ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œä¸‹è½½åœ°å€ï¼š<br><a class="link"   href="https://googlechromelabs.github.io/chrome-for-testing/" >https://googlechromelabs.github.io/chrome-for-testing/<i class="fas fa-external-link-alt"></i></a></p><p>2).Edge WebDriverä¸‹è½½ï¼š<br><a class="link"   href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/" >https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/<i class="fas fa-external-link-alt"></i></a></p><p>3).Firefox WebDriverä¸‹è½½ï¼š<br><a class="link"   href="https://github.com/mozilla/geckodriver/releases" >https://github.com/mozilla/geckodriver/releases<i class="fas fa-external-link-alt"></i></a></p><p>4).Safari WebDriverä¸‹è½½ï¼š<br><a class="link"   href="https://webkit.org/blog/6900/webdriver-support-in-safari-10/" >https://webkit.org/blog/6900/webdriver-support-in-safari-10/<i class="fas fa-external-link-alt"></i></a></p><p><strong>Chrome WebDriverä¸‹è½½ä¸¾ä¾‹</strong></p><p>ç¬¬2ä¸ªä¸‹è½½ä¸äº†ï¼ˆéœ€è¦æ¢¯å­ï¼‰ï¼Œå°±ç”¨1ä¸ªä¸‹è½½åœ°å€ã€‚</p><p>æ¯”å¦‚æˆ‘ç”¨çš„Chromeç‰ˆæœ¬æ˜¯ï¼š101.0.4951.54<br>é‚£å°±ç›´æ¥åœ¨é¡µé¢ä¸Šæœ 101.0.4951ï¼Œç„¶åæœ€åä¸€ä½æ‰¾ä¸ªå°ä¸€ç‚¹æœ€æ¥è¿‘çš„ï¼Œæ¯”å¦‚ 101.0.4951.41 è¿™ä¸ªç›®å½•ç‚¹è¿›å»ã€‚</p><p>ä¼šæä¾› Linuxã€Macã€Windowsç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚æˆ‘è¿™æ˜¯Windowsç³»ç»Ÿçš„ï¼Œå°±ä¸‹è½½å¯¹åº”çš„ chromedriver_win32.zipã€‚<br>è§£å‹åå¾—åˆ°ä¸€ä¸ª chromedriver.exe æ–‡ä»¶ï¼Œéšä¾¿æ‰¾åœ°æ–¹æ”¾ä¸€ä¸‹ï¼ˆå›å¤´éœ€è¦ç”¨åˆ°è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ï¼‰ã€‚</p><p><strong>Edge WebDriverä¸‹è½½ä¸¾ä¾‹</strong></p><p>æ¯”å¦‚æˆ‘ç”¨çš„Edgeç‰ˆæœ¬æ˜¯ï¼š101.0.1210.32 (æ­£å¼ç‰ˆæœ¬) (64 ä½)<br>æ‰“å¼€ä¸‹è½½é¡µåï¼Œç›´æ¥çœ‹åˆ°è¿™ä¸ªç‰ˆæœ¬å¯¹åº”æœ‰ï¼šx86ã€x64ã€Macã€Linuxç­‰ç³»ç»Ÿä¸‹è½½ã€‚<br>x86æ˜¯32ä½çš„ï¼Œæ‰€ä»¥ä¸‹è½½x64çš„ç‰ˆæœ¬ã€‚<br>æŠŠå‹ç¼©åŒ…é‡Œçš„ msedgedriver.exe æ–‡ä»¶è§£å‹å‡ºæ¥å°±è¡Œã€‚ï¼ˆå›å¤´éœ€è¦ç”¨åˆ°è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ï¼‰</p><h3 id="2-æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡"><a href="#2-æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡" class="headerlink" title="2.æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡"></a>2.æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡</h3><p>å»ºä¸ªç›®å½•ï¼ŒæŠŠä¸¤ä¸ªWebDriveræ–‡ä»¶æ”¾ä¸€èµ·ï¼Œå°±æ”¾åœ¨ï¼š</p><ul><li>G:\Python\software\webdriver\chromedriver.exeã€</li><li>G:\Python\software\webdriver\msedgedriver.exe</li></ul><p>æ”¾å¥½ä¹‹åï¼Œå°†è¿™ä¸ªwebdriverç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ã€‚<br>æ³¨ï¼šç°åœ¨æ–°çš„selenium4å¥½åƒå·²ç»ä¸æ”¯æŒåœ¨å‚æ•°ä¸­ç”¨è¿™ä¸ªwebdriverçš„è·¯å¾„äº†ï¼Œselenium3åŸæ¥æ˜¯å¯ä»¥ç”¨çš„ã€‚æ‰€ä»¥å»ºè®®è¿˜æ˜¯æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ã€‚</p><h2 id="ä¸‰ã€ä»£ç ç¤ºä¾‹"><a href="#ä¸‰ã€ä»£ç ç¤ºä¾‹" class="headerlink" title="ä¸‰ã€ä»£ç ç¤ºä¾‹"></a>ä¸‰ã€ä»£ç ç¤ºä¾‹</h2><p><strong>Seleniumç”¨æ³•</strong> ä¸»è¦å°±4æ­¥ï¼š</p><ul><li>1.åˆ›å»ºWebDriverå¯¹è±¡ webdriver.Chrome()ï¼›</li><li>2.ç”¨WebDriverå¯¹è±¡çš„<strong>getæ–¹æ³•</strong>æ‰“å¼€ç½‘å€ï¼›</li><li>3.ç”¨WebDriverå¯¹è±¡çš„<strong>find_elementæ–¹æ³•</strong>å»æ‰¾åˆ°ç½‘é¡µä¸Šä½ éœ€è¦çš„å…ƒç´ ï¼Œè¿”å›WebElementå¯¹è±¡ï¼ˆæ‰¾åˆ°å¯¹è±¡æ˜¯é‡ç‚¹ï¼‰ï¼›</li><li>4.å¯¹WebElementå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œä¸€èˆ¬å°±æ˜¯è·å–å¯¹è±¡çš„å†…å®¹ã€å¡«å†™å…¥å†…å®¹æˆ–è€…clickæ“ä½œã€‚</li></ul><p>ä»¥ä¸‹ä»£ç ç¤ºä¾‹ç”¨çš„Chromeæµè§ˆå™¨æµ‹è¯•ï¼Œwebdriveræ–‡ä»¶å·²æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼›å¦‚æœæ²¡æ·»åŠ çš„ï¼ŒæŠŠdriver_path å˜é‡å¯ç”¨ä¸€ä¸‹å°±è¡Œã€‚</p><p>è¿™ç§åšæœç´¢å¼•æ“ç«™ç‚¹åšæµ‹è¯•æ•ˆæœä¸€èˆ¬ï¼Œå»ºè®®ç”¨åˆ«çš„ç«™ç‚¹ã€‚åæ­£ä¸€å¼€å§‹ç”¨çš„ç™¾åº¦ï¼Œè¿˜ä¼šæœ‰éªŒè¯å‡ºæ¥ï¼Œæ‰€ä»¥ç”¨ time.sleep()ç­‰å¾…äº†å‡ ç§’ã€‚</p><p>æ³¨æ„ï¼šä»¥ä¸‹ä»£ç ä¸­ç”¨çš„Seleniumä¸º<strong>Selenium4</strong>æ–°ç‰ˆç”¨æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">option = webdriver.ChromeOptions() <span class="comment"># Edgeæµè§ˆå™¨æ²¡æœ‰optionå‚æ•°ï¼Œæ¯”è¾ƒéº»çƒ¦</span></span><br><span class="line">option.add_experimental_option(<span class="string">&quot;detach&quot;</span>, <span class="literal">True</span>) <span class="comment"># ä¸è‡ªåŠ¨å…³é—­æµè§ˆå™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º WebDriver å¯¹è±¡ï¼ŒæŒ‡æ˜ä½¿ç”¨chromeæµè§ˆå™¨é©±åŠ¨</span></span><br><span class="line"><span class="comment"># ä¸¤ç§æ¨¡å¼ï¼Œç¬¬ä¸€ç§ï¼šæ‰“å¼€æµè§ˆå™¨æ¨¡å¼ï¼ˆé»˜è®¤ä¸ºç¬¬ä¸€ç§ï¼Œå»ºè®®æµ‹è¯•æ—¶ç”¨ç¬¬ä¸€ç§æ¨¡å¼ï¼Œå¯ä»¥çœ‹åˆ°æ•ˆæœï¼‰</span></span><br><span class="line"><span class="comment"># ç¬¬äºŒç§ï¼šä¸æ‰“å¼€æµè§ˆå™¨æ¨¡å¼ï¼ˆç»™optionæ·»åŠ ä»¥ä¸‹ä»£ç å°±è¡Œï¼‰</span></span><br><span class="line"><span class="comment"># option.add_argument(&#x27;headless&#x27;)</span></span><br><span class="line"></span><br><span class="line">wd = webdriver.Chrome(options=option)</span><br><span class="line"></span><br><span class="line">wd.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨WebDriver å¯¹è±¡çš„getæ–¹æ³• å¯ä»¥è®©æµè§ˆå™¨æ‰“å¼€æŒ‡å®šç½‘å€</span></span><br><span class="line">wd.get(<span class="string">&#x27;https://cn.bing.com/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(wd.title) <span class="comment"># æ‰“å°ç½‘é¡µæ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®idé€‰æ‹©å…ƒç´ ï¼Œè¿”å›çš„å°±æ˜¯è¯¥å…ƒç´ å¯¹åº”çš„WebElementå¯¹è±¡</span></span><br><span class="line"><span class="comment"># element = wd.find_element_by_id(&#x27;c&#x27;) # selenium3å†™æ³•</span></span><br><span class="line">element = wd.find_element(By.ID,<span class="string">&#x27;sb_form_q&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡è¯¥ WebElementå¯¹è±¡ï¼Œå°±å¯ä»¥å¯¹é¡µé¢å…ƒç´ è¿›è¡Œæ“ä½œäº†</span></span><br><span class="line"><span class="comment"># æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²åˆ° è¿™ä¸ª è¾“å…¥æ¡†é‡Œ</span></span><br><span class="line"><span class="comment"># element.send_keys(&#x27;äº”å››é’å¹´èŠ‚\n&#x27;)</span></span><br><span class="line">element.send_keys(<span class="string">&#x27;äº”å››é’å¹´èŠ‚&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">element2 = wd.find_element(By.ID, <span class="string">&#x27;search_icon&#x27;</span>)</span><br><span class="line">element2.click()</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># wd.quit()</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨FFmpegä¸‹è½½m3u8æ ¼å¼è§†é¢‘</title>
      <link href="/2022/05/03/%E7%94%A8ffmpeg%E4%B8%8B%E8%BD%BDm3u8%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91/"/>
      <url>/2022/05/03/%E7%94%A8ffmpeg%E4%B8%8B%E8%BD%BDm3u8%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91/</url>
      
        <content type="html"><![CDATA[<p>FFmpeg æ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶ï¼Œå¯ä»¥æ‰§è¡ŒéŸ³é¢‘å’Œè§†é¢‘å¤šç§æ ¼å¼çš„å½•å½±ã€è½¬æ¢ã€ä¸²æµåŠŸèƒ½ï¼ŒåŒ…å«äº†libavcodecâ€”â€”è¿™æ˜¯ä¸€ä¸ªç”¨äºå¤šä¸ªé¡¹ç›®ä¸­éŸ³é¢‘å’Œè§†é¢‘çš„è§£ç å™¨åº“ï¼Œä»¥åŠlibavformatâ€”â€”ä¸€ä¸ªéŸ³é¢‘ä¸è§†é¢‘æ ¼å¼è½¬æ¢åº“ã€‚</p><p>åæ­£FFmpegå¾ˆå¼ºå¤§çš„ï¼ŒåŠŸèƒ½ä¹Ÿå¾ˆå¤šã€‚è¿™ç¯‡æ–‡ç« ï¼Œä¸»è¦ä»‹ç»ä¸‹è½½m3u8è§†é¢‘ã€‚</p><a id="more"></a><p>ä¹‹å‰æœ‰ä¸¤ç¯‡æ–‡ç« ä»‹ç»äº†ä¸‹è½½è§†é¢‘çš„å·¥å…·ï¼Œå³ï¼š</p><ul><li><a href="/2022/04/09/youtube-dl%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="youtube-dl ä½¿ç”¨æ•™ç¨‹">youtube-dl ä½¿ç”¨æ•™ç¨‹</a></li><li><a href="/2022/04/09/you-get%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="you-get ä½¿ç”¨æ•™ç¨‹">you-get ä½¿ç”¨æ•™ç¨‹</a></li></ul><p>you-get å’Œ youtube-dl è¿™ä¸¤å·®ä¸å¤šï¼Œyoutube-dl èƒ½ä¸‹è½½åŒ…æ‹¬æ²¹ç®¡è§†é¢‘åœ¨å†…çš„ä¸å°‘è§†é¢‘äº†ã€‚è¿™ä¸¤éƒ½æ˜¯ä¸€æ¬¾é‡‡ç”¨Python ç¼–å†™çš„å…è´¹ã€å¼€æºã€å‘½ä»¤è¡Œç¨‹åºï¼Œä¸»è¦æ˜¯ç”¨æ¥ä¸‹è½½è§†é¢‘çš„ã€‚è€Œä¸”ä¹Ÿéƒ½ç”¨åˆ°äº†FFmpegçš„åŠŸèƒ½ï¼Œæ‰€ä»¥éƒ½å·²ç»å®‰è£…äº†ã€‚</p><h2 id="ä¸€ã€ä¸‹è½½FFmpeg"><a href="#ä¸€ã€ä¸‹è½½FFmpeg" class="headerlink" title="ä¸€ã€ä¸‹è½½FFmpeg"></a>ä¸€ã€ä¸‹è½½FFmpeg</h2><h3 id="1-ä¸‹è½½FFmpeg"><a href="#1-ä¸‹è½½FFmpeg" class="headerlink" title="1.ä¸‹è½½FFmpeg"></a>1.ä¸‹è½½FFmpeg</h3><p>å®˜ç½‘å°±å¯ä»¥ä¸‹è½½ FFmpegï¼šï¼ˆ<a class="link"   href="http://ffmpeg.org/download.html" >http://ffmpeg.org/download.html<i class="fas fa-external-link-alt"></i></a> ï¼‰</p><p>Windowsç³»ç»Ÿçš„è¯ï¼Œé€‰æ‹©ã€Windows EXE Filesã€‘-&gt;ã€Windows builds from gyan.devã€‘ã€‚</p><p>é¡µé¢ä¸Šçš„éƒ½å¯ä»¥ä¸‹è½½ï¼Œæ¯”å¦‚æˆ‘è¿™ç›´æ¥ä¸‹è½½ã€release buildsã€‘ä¸­çš„ ffmpeg-release-essentials.7zï¼Œç›®å‰æœ€æ–°çš„ç‰ˆæœ¬ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ffmpeg_download_m3u8_1.png"                      style="zoom: 50%;"                ></p><h3 id="2-æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"><a href="#2-æ·»åŠ åˆ°ç¯å¢ƒå˜é‡" class="headerlink" title="2.æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"></a>2.æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</h3><p>ä¸‹è½½åæ˜¯ä¸ªå‹ç¼©åŒ…ï¼Œç›´æ¥è§£å‹å‡ºæ¥ã€‚æ¯”å¦‚æˆ‘è¿™è§£å‹å‡ºæ¥æ˜¯ä¸ª ffmpeg-5.0.1-essentials_build ç›®å½•ï¼Œç„¶åç›´æ¥æŠŠè¿™ä¸ªç›®å½•ä¸‹çš„<strong>binç›®å½•</strong>æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡å°±è¡Œã€‚ï¼ˆæ€ä¹ˆæ·»åŠ ç¯å¢ƒå˜é‡ï¼Œç™¾åº¦ä¸€ä¸‹å°±æœ‰ï¼‰</p><p>å› ä¸ºbinç›®å½•ä¸‹æœ‰ ffmpeg.exe å¯æ‰§è¡Œç¨‹åºï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œé‡Œç”¨ ffmpegå‘½ä»¤æ—¶ï¼Œç”¨çš„å°±æ˜¯è¿™ä¸ªã€‚</p><h2 id="äºŒã€ä¸‹è½½m3u8æ ¼å¼è§†é¢‘"><a href="#äºŒã€ä¸‹è½½m3u8æ ¼å¼è§†é¢‘" class="headerlink" title="äºŒã€ä¸‹è½½m3u8æ ¼å¼è§†é¢‘"></a>äºŒã€ä¸‹è½½m3u8æ ¼å¼è§†é¢‘</h2><p>æ¯”å¦‚ï¼Œæœ‰å¦‚ä¸‹è§†é¢‘æƒ³è¦ä¸‹è½½ï¼š<br><a class="link"   href="https://www.zxx.edu.cn/syncClassroom/classActivity?activityId=4cb86b98-b253-4884-b015-fe674f1c0c8a" >https://www.zxx.edu.cn/syncClassroom/classActivity?activityId=4cb86b98-b253-4884-b015-fe674f1c0c8a<i class="fas fa-external-link-alt"></i></a></p><p>ç”¨åˆ«çš„æ’ä»¶ä¸€çœ‹å°±èƒ½çœ‹åˆ°æ˜¯m3u8çš„ã€‚</p><p>è¿™ä¸ªç«™ç‚¹çš„ï¼Œå…ˆè¯•äº†ä¸‹ï¼Œç”¨ VLC media player è¿™ä¸ªæ’­æ”¾å™¨è½¯ä»¶ä¹Ÿå¯ä»¥ä¸‹è½½ï¼Œä»¥å‰ç¢°åˆ°è¿‡m3u8æ ¼å¼çš„æ— æ³•ç”¨è¿™ä¸ªä¸‹è½½çš„ã€‚<br>å¦‚æœä½ æ²¡è£…ffmpegçš„è¯ï¼Œä¹Ÿå¯ä»¥æœä¸€ä¸‹â€œ<strong>VLC media player ä¸‹è½½m3u8è§†é¢‘æ–¹å¼</strong>â€ï¼Œè¿™ä¸ªä¹Ÿç®€å•çš„ã€‚</p><p>ä¸ç®¡æ˜¯ç”¨VLC media player ä¸‹è½½ï¼Œè¿˜æ˜¯ç”¨ffmpegä¸‹è½½ï¼Œé¦–å…ˆéƒ½éœ€è¦æ‰¾åˆ°è¿™ä¸ªè§†é¢‘çš„m3u8çš„åœ°å€ã€‚</p><h3 id="1-æ‰¾åˆ°è§†é¢‘å¯¹åº”çš„m3u8åœ°å€"><a href="#1-æ‰¾åˆ°è§†é¢‘å¯¹åº”çš„m3u8åœ°å€" class="headerlink" title="1.æ‰¾åˆ°è§†é¢‘å¯¹åº”çš„m3u8åœ°å€"></a>1.æ‰¾åˆ°è§†é¢‘å¯¹åº”çš„m3u8åœ°å€</h3><p>1).ç›´æ¥ç”¨æµè§ˆå™¨F12å¼€å‘è€…å·¥å…·æ‰¾m3u8åœ°å€</p><p>è¿™ä¸ªä¸ç®¡Chromeæµè§ˆå™¨ï¼Œè¿˜æ˜¯Edgeã€Firefoxè¿™äº›åŸºæœ¬ä¸Šæ‰€æœ‰æµè§ˆå™¨éƒ½æœ‰äº†ã€‚æ“ä½œå¦‚ä¸‹ï¼š</p><ul><li>æŒ‰<strong>F12</strong>æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹©ã€ç½‘ç»œã€‘é¡¹ï¼›</li><li>åœ¨ã€Nameã€‘ä¸­æ‰¾åˆ°.m3u8åå•å‡»ï¼ˆæŒ‰Nameæ’åºä¸€ä¸‹ï¼Œå¾ˆå®¹æ˜“æ‰¾åˆ°çš„ï¼‰ï¼›</li><li>å¤åˆ¶å³ä¾§çš„ã€è¯·æ±‚ç½‘å€ã€‘ï¼Œç½‘å€æœ€ååº”è¯¥éƒ½æ˜¯ .m3u8ã€‚</li></ul><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ffmpeg_download_m3u8_2.png"                      style="zoom: 50%;"                ><p>æ¯”å¦‚æˆ‘å¤åˆ¶å‡ºæ¥ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;r1-ndr.ykt.cbern.com.cn&#x2F;edu_product&#x2F;65&#x2F;video&#x2F;17b9d867547a11eb96b8fa20200c3759&#x2F;e6d5486a49d609bfca30e0f3a328f031.1280.720.false&#x2F;e6d5486a49d609bfca30e0f3a328f031.1280.720.m3u8</span><br></pre></td></tr></table></figure><p>2).ç›´æ¥ç”¨æµè§ˆå™¨æ’ä»¶æ‰¾m3u8åœ°å€</p><p>æ¯”å¦‚è¿™é‡Œç›´æ¥ç”¨â€œçŒ«æŠ“â€çš„æ’ä»¶ï¼š</p><ul><li>æ’­æ”¾è§†é¢‘ï¼Œç‚¹å‡»çŒ«æŠ“æ’ä»¶ï¼›</li><li>ç›´æ¥å¤åˆ¶æœ€ä¸Šé¢çš„m3u8åœ°å€ã€‚</li></ul><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ffmpeg_download_m3u8_3.png"                      style="zoom: 50%;"                ><p>å¤åˆ¶å‡ºæ¥å’Œä¸Šé¢çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚</p><h3 id="2-ç”¨ffmpegä¸‹è½½m3u8è§†é¢‘"><a href="#2-ç”¨ffmpegä¸‹è½½m3u8è§†é¢‘" class="headerlink" title="2.ç”¨ffmpegä¸‹è½½m3u8è§†é¢‘"></a>2.ç”¨ffmpegä¸‹è½½m3u8è§†é¢‘</h3><p>æ·»åŠ å¥½ç¯å¢ƒå˜é‡åï¼Œç›´æ¥æ‰“å¼€ä¸ªå‘½ä»¤æç¤ºç¬¦/Windows PowerShellï¼Œå°±å¯ä»¥ç”¨ffmpegäº†ã€‚</p><p>è¾“å…¥å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i ä½ è¦ä¸‹è½½çš„m3u8åœ°å€ -c copy -bsf:a aac_adtstoasc ./ä¿å­˜è§†é¢‘çš„åå­—.mp4</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘è¦ä¸‹è½½ä¸Šé¢çš„è§†é¢‘ï¼Œå°±è¾“å…¥ä»¥ä¸‹å‘½ä»¤åï¼Œå›è½¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i https://r1-ndr.ykt.cbern.com.cn/edu_product/65/video/17b9d867547a11eb96b8fa20200c3759/e6d5486a49d609bfca30e0f3a328f031.1280.720.false/e6d5486a49d609bfca30e0f3a328f031.1280.720.m3u8 -c copy -bsf:a aac_adtstoasc ./1234.mp4</span><br></pre></td></tr></table></figure><p>ç­‰å®Œæˆåï¼Œè¿™ä¸ªç›®å½•ä¸‹å°±æœ‰äº†ä¸‹è½½å¥½çš„åä¸º 1234.mp4çš„è§†é¢‘äº†ã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ffmpeg_download_m3u8_4.png"                      style="zoom: 50%;"                >]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
            <tag> ffmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Keepä¸»é¢˜æ·»åŠ å½’æ¡£é¡µå’Œæ ‡ç­¾é¡µ</title>
      <link href="/2022/05/03/Hexo-Keep%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E5%BD%92%E6%A1%A3%E9%A1%B5%E5%92%8C%E6%A0%87%E7%AD%BE%E9%A1%B5/"/>
      <url>/2022/05/03/Hexo-Keep%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E5%BD%92%E6%A1%A3%E9%A1%B5%E5%92%8C%E6%A0%87%E7%AD%BE%E9%A1%B5/</url>
      
        <content type="html"><![CDATA[<p>Keepä¸»é¢˜å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://keep-docs.xpoet.cn/" >https://keep-docs.xpoet.cn/<i class="fas fa-external-link-alt"></i></a></p><p>Keepä¸»é¢˜é…ç½®æŒ‡å—ï¼š<a class="link"   href="https://keep-docs.xpoet.cn/usage-tutorial/configuration-guide.html" >https://keep-docs.xpoet.cn/usage-tutorial/configuration-guide.html<i class="fas fa-external-link-alt"></i></a></p><p>Keepä¸»é¢˜é»˜è®¤å¯¼èˆªèœå•ä¸Šæ²¡æœ‰ã€å½’æ¡£ã€‘å’Œã€æ ‡ç­¾ã€‘èœå•ã€‚æ‰€ä»¥éœ€è¦è‡ªå·±å¼€å¯ã€‚</p><a id="more"></a><h3 id="1-ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ-config-ymlï¼‰"><a href="#1-ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ-config-ymlï¼‰" class="headerlink" title="1.ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ_config.ymlï¼‰"></a>1.ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ<code>_config.yml</code>ï¼‰</h3><p>ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ï¼ˆ<code>_config.yml</code>ï¼‰ä¸­å¯¼èˆªèœå•ä¸­å½’æ¡£é¡µï¼ˆCategoriesï¼‰å’Œæ ‡ç­¾é¡µï¼ˆTagsï¼‰é»˜è®¤æ˜¯æ³¨é‡Šäº†çš„ã€‚</p><p>æ‰€ä»¥ï¼Œåªè¦å»æ‰æ³¨é‡Šï¼Œå°±å¯ä»¥å¯ç”¨äº†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives</span></span><br><span class="line">  <span class="attr">Categories:</span> <span class="string">/categories</span></span><br><span class="line">  <span class="attr">Tags:</span> <span class="string">/tags</span></span><br><span class="line">  <span class="comment"># Links: /links</span></span><br><span class="line">  <span class="comment"># About: /about</span></span><br><span class="line">  <span class="comment"># Changelog: /changelog</span></span><br><span class="line">  <span class="comment"># ......</span></span><br></pre></td></tr></table></figure><p>å»æ‰æ³¨é‡Šåï¼Œé¦–é¡µå¯¼èˆªèœå•ä¸­æœ‰äº†ã€å½’æ¡£ã€‘å’Œã€æ ‡ç­¾ã€‘èœå•ï¼Œä½†æ‰“å¼€å¹¶æ²¡æœ‰å†…å®¹ã€‚</p><h3 id="2-æ·»åŠ ã€å½’æ¡£ã€‘å’Œã€æ ‡ç­¾ã€‘å¯¹åº”çš„é¡µé¢æ–‡ä»¶"><a href="#2-æ·»åŠ ã€å½’æ¡£ã€‘å’Œã€æ ‡ç­¾ã€‘å¯¹åº”çš„é¡µé¢æ–‡ä»¶" class="headerlink" title="2.æ·»åŠ ã€å½’æ¡£ã€‘å’Œã€æ ‡ç­¾ã€‘å¯¹åº”çš„é¡µé¢æ–‡ä»¶"></a>2.æ·»åŠ ã€å½’æ¡£ã€‘å’Œã€æ ‡ç­¾ã€‘å¯¹åº”çš„é¡µé¢æ–‡ä»¶</h3><p>ç›´æ¥ç”¨ hexoå‘½ä»¤æ–°å»ºé¡µé¢ã€‚<br>åœ¨Hexoç›®å½•ä¸‹ï¼Œæ‰“å¼€ã€Git Bashã€‘ï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ä¸¤æ¡è¯­å¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;categories&quot;</span></span><br><span class="line">hexo new <span class="string">&quot;tags&quot;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œä¸¤æ¡å‘½ä»¤åï¼Œä¼šæœ‰Hexoçš„sourceç›®å½•ä¸‹æ–°å»ºå‡º <code>categories\index.md</code> æ–‡ä»¶å’Œ<code>tages\index.md</code> æ–‡ä»¶ã€‚</p><p>å½“ç„¶æ–°å»ºå®Œåï¼Œå‘ç°é¦–é¡µå¯¼èˆªèœå•ä¸­ã€å½’æ¡£ã€‘å’Œã€æ ‡ç­¾ã€‘èœå•æ‰“å¼€ä¹Ÿæœ‰äº†å†…å®¹ã€‚</p><p>ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“ä½ ç»§ç»­æ›´æ–°åšå®¢æ–‡ç« åï¼Œè¿™ä¸¤ä¸ªèœå•ä¸­çš„å†…å®¹å¹¶ä¸ä¼šæ›´æ–°ã€‚æ‰€ä»¥è¿˜éœ€è¦ä¿®æ”¹è¿™ä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</p><h3 id="3-ä¿®æ”¹index-mdæ–‡ä»¶ä¸­çš„å†…å®¹ã€‚"><a href="#3-ä¿®æ”¹index-mdæ–‡ä»¶ä¸­çš„å†…å®¹ã€‚" class="headerlink" title="3.ä¿®æ”¹index.mdæ–‡ä»¶ä¸­çš„å†…å®¹ã€‚"></a>3.ä¿®æ”¹index.mdæ–‡ä»¶ä¸­çš„å†…å®¹ã€‚</h3><p>1).ä¿®æ”¹ <code>source\categories\index.md</code> æ–‡ä»¶</p><p>åœ¨Front-matteréƒ¨åˆ†å¢åŠ åé¢2è¡Œå†…å®¹ï¼Œä¿®æ”¹ä¸ºï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: categories</span><br><span class="line">date: 2022-04-30 21:55:36</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">comment: false</span><br></pre></td></tr></table></figure><p>2).ä¿®æ”¹ <code>source\tags\index.md</code> æ–‡ä»¶</p><p>åœ¨Front-matteréƒ¨åˆ†å¢åŠ åé¢2è¡Œå†…å®¹ï¼Œä¿®æ”¹ä¸ºï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: tags</span><br><span class="line">date: 2022-04-30 21:54:07</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">comment: false</span><br></pre></td></tr></table></figure><p>ä¸»è¦æ˜¯å¢åŠ typeå‚æ•°ï¼Œcommentsè®¾ä¸ºfalseè¡¨ç¤ºè¯¥é¡µé¢ä¸å…è®¸è¯„è®ºã€‚</p><p>è‡³æ­¤ï¼Œå†æ›´æ–°åšå®¢æ–‡ç« åï¼Œã€å½’æ¡£ã€‘å’Œã€æ ‡ç­¾ã€‘èœå•ä¸­ä¹Ÿä¼šè·Ÿç€æ›´æ–°äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ä¸æ–­æ›´æ–°ç³»åˆ—ã€‘Linuxå‘½ä»¤å°è®°</title>
      <link href="/2022/05/02/%E3%80%90%E4%B8%8D%E6%96%AD%E6%9B%B4%E6%96%B0%E7%B3%BB%E5%88%97%E3%80%91Linux%E5%91%BD%E4%BB%A4%E5%B0%8F%E8%AE%B0/"/>
      <url>/2022/05/02/%E3%80%90%E4%B8%8D%E6%96%AD%E6%9B%B4%E6%96%B0%E7%B3%BB%E5%88%97%E3%80%91Linux%E5%91%BD%E4%BB%A4%E5%B0%8F%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>Linuxçš„å‘½ä»¤ï¼Œä¸»è¦åœ¨æœåŠ¡å™¨ä¸Šç”¨çš„æ¯”è¾ƒå¤šã€‚ä¸€èˆ¬ç”¨çš„æœ€å¤šçš„å°±æ˜¯CentOSå’ŒUbuntuè¿™ä¸¤ç³»ç»Ÿçš„ã€‚</p><p>è¿™ç¯‡æ–‡ç« ä¸»è¦ï¼š</p><ul><li>æ€»ç»“ä¸€äº›å¸¸ç”¨çš„Linuxå‘½ä»¤</li><li>æ•´ç†åšå®¢ä¸­å…·ä½“ä»‹ç»Linuxå‘½ä»¤çš„æ–‡ç« </li></ul><a id="more"></a><h2 id="ä¸€ã€å¸¸ç”¨çš„Linuxå‘½ä»¤"><a href="#ä¸€ã€å¸¸ç”¨çš„Linuxå‘½ä»¤" class="headerlink" title="ä¸€ã€å¸¸ç”¨çš„Linuxå‘½ä»¤"></a>ä¸€ã€å¸¸ç”¨çš„Linuxå‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pwd</span> <span class="comment"># print work directory æ˜¾ç¤ºå½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">whoami <span class="comment"># æ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„ç”¨æˆ·å</span></span><br><span class="line">ls <span class="comment"># list åˆ—å‡ºå½“å‰ç›®å½•çš„åˆ—è¡¨</span></span><br><span class="line">ls -l <span class="comment"># åˆ—å‡ºå½“å‰ç›®å½•çš„åˆ—è¡¨ï¼ŒåŒ…æ‹¬æ–‡ä»¶å½¢æ€ã€æƒé™ã€æ‹¥æœ‰è€…ã€æ–‡ä»¶å¤§å°ã€æ—¥æœŸç­‰ã€‚</span></span><br><span class="line">ifconfig <span class="comment"># æ˜¾ç¤ºç½‘ç»œæƒ…å†µï¼Œå¯¹åº”Windowsä¸‹ipconfig</span></span><br><span class="line">top <span class="comment"># æ˜¾ç¤ºç³»ç»Ÿä¸­è¿›ç¨‹èµ„æºå ç”¨æƒ…å†µï¼Œç›¸å½“äºWindowsä¸‹ä»»åŠ¡ç®¡ç†å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ~ <span class="comment"># change directory åˆ‡æ¢ç›®å½•ï¼Œ~ è¡¨ç¤ºå½“å‰ç”¨æˆ·çš„homeç›®å½•</span></span><br><span class="line"><span class="built_in">which</span> python <span class="comment"># åœ¨ç³»ç»Ÿå˜é‡ä¸­ï¼Œæœç´¢å‘½ä»¤pythonçš„è·¯å¾„</span></span><br><span class="line">su root <span class="comment"># su åˆ‡æ¢ç”¨æˆ·ï¼Œåˆ‡æ¢åˆ°rootç”¨æˆ·</span></span><br><span class="line">chmod 755 a.txt <span class="comment"># ä¿®æ”¹æ–‡ä»¶æƒé™ï¼ŒæŠŠa.txtæƒé™è®¾ä¸º755</span></span><br><span class="line">chown testuser a.txt <span class="comment"># ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼ŒæŠŠa.txtæ‰€æœ‰è€…è®¾ä¸ºtestuserç”¨æˆ·</span></span><br><span class="line">chown -R testuser:testuser /home/abc/ <span class="comment"># æŠŠabcç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶æ‰€æœ‰æƒé™ç»™ç”¨æˆ·testuserï¼Œç¾¤ä½“ä½¿ç”¨è€…testuser</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›®å½•</span></span><br><span class="line">mkdir dir1 <span class="comment"># åˆ›å»ºç›®å½•dir1</span></span><br><span class="line">rm -rf dir1 <span class="comment"># åˆ é™¤ï¼Œå¼ºåˆ¶åˆ é™¤ç›®å½•dir1</span></span><br><span class="line">cp -r dir1 dir2 <span class="comment"># å¤åˆ¶ï¼ŒæŠŠdir1ç›®å½•å¤åˆ¶ä¸€ä¸ªdir2ç›®å½•</span></span><br><span class="line">mv dir1 dir2 <span class="comment"># ç§»åŠ¨ï¼ŒæŠŠdir1ç›®å½•ç§»åŠ¨åˆ°dir2ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶</span></span><br><span class="line">vi a.txt <span class="comment"># ç”¨viç¼–è¾‘å™¨æ‰“å¼€a.txtæ–‡ä»¶</span></span><br><span class="line">vim a.txt <span class="comment"># ç”¨vimç¼–è¾‘å™¨æ‰“å¼€a.txtæ–‡ä»¶</span></span><br><span class="line">cat a.txt <span class="comment"># ç”¨catè¯»å–æ–‡ä»¶ï¼Œæ˜¾ç¤ºå†…å®¹</span></span><br><span class="line">mv a.txt b.txt <span class="comment"># ç§»åŠ¨é‡å‘½åï¼ŒæŠŠa.txtæ–‡ä»¶ç§»åŠ¨åˆ°b.txtä¸Š</span></span><br><span class="line">rm a.txt <span class="comment"># åˆ é™¤ï¼Œåˆ é™¤a.txtï¼ŒåŠ -rfå‚æ•° å¼ºåˆ¶åˆ é™¤</span></span><br></pre></td></tr></table></figure><p><strong>Ubuntu</strong>ä¸<strong>CentOS</strong>å‘½ä»¤æœ‰çš„åŒºåˆ«</p><table><thead><tr><th>ä»»åŠ¡</th><th>Ubuntuå‘½ä»¤</th><th>CentOSå‘½ä»¤</th></tr></thead><tbody><tr><td>å®‰è£…è½¯ä»¶</td><td><code>apt-get install package</code></td><td><code>yum install package</code></td></tr><tr><td>åˆ é™¤/å¸è½½è½¯ä»¶</td><td><code>apt-get remove package</code></td><td><code>yum remove package</code></td></tr><tr><td>å‡çº§è½¯ä»¶åŒ…</td><td><code>apt-get upgrade</code></td><td><code>yum update</code></td></tr><tr><td>è½¯ä»¶åŒ…åç¼€</td><td>*.deb</td><td>*.rpm</td></tr><tr><td>å®‰è£…å·²ä¸‹è½½çš„è½¯ä»¶åŒ…</td><td><code>dpkg -i package.deb</code></td><td><code>rpm -i package.rpm</code>æˆ–<code>yum install package.rpm</code></td></tr></tbody></table><h2 id="äºŒã€å…¶ä»–æœ‰ç”¨çš„Linuxå‘½ä»¤"><a href="#äºŒã€å…¶ä»–æœ‰ç”¨çš„Linuxå‘½ä»¤" class="headerlink" title="äºŒã€å…¶ä»–æœ‰ç”¨çš„Linuxå‘½ä»¤"></a>äºŒã€å…¶ä»–æœ‰ç”¨çš„Linuxå‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">id <span class="comment"># æ˜¾ç¤ºçœŸå®ä»¥åŠæœ‰æ•ˆçš„ç”¨æˆ·å’Œæ‰€åœ¨ç»„çš„ä¿¡æ¯</span></span><br><span class="line">crontab -e <span class="comment"># è¿›å…¥å½“å‰ç”¨æˆ·å®šæ—¶ä»»åŠ¡å·¥ä½œè¡¨ç¼–è¾‘</span></span><br><span class="line"></span><br><span class="line">ps -aux | grep <span class="string">&quot;app.py&quot;</span> <span class="comment"># process status æŸ¥æ‰¾åˆ—å‡º&quot;app.py&quot;è¿›ç¨‹ã€å¸¦è¿›ç¨‹PID</span></span><br><span class="line"><span class="built_in">kill</span> -9 11111 <span class="comment"># ç»“æŸè¿›ç¨‹PID=11111ï¼ŒåŠ -9å‚æ•° å½»åº•æ€æ­»è¿›ç¨‹</span></span><br><span class="line">netstat -ntulp | grep 3306   <span class="comment"># æŸ¥çœ‹æ‰€æœ‰3306ç«¯å£ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">lsof -i 3306 <span class="comment"># æŸ¥çœ‹æ‰€æœ‰3306ç«¯å£ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">systemctl restart nginx <span class="comment"># é‡å¯nginxæœåŠ¡</span></span><br><span class="line">service nginx restart <span class="comment"># é‡å¯nginxæœåŠ¡</span></span><br><span class="line">whatis <span class="built_in">pwd</span> <span class="comment"># æŸ¥è¯¢å‘½ä»¤æ‰§è¡Œä»€ä¹ˆåŠŸèƒ½ï¼ŒæŸ¥è¯¢pwdå‘½ä»¤çš„åŠŸèƒ½</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€Linuxå‘½ä»¤å…·ä½“ä½¿ç”¨æ–‡ç« é›†åˆ"><a href="#ä¸‰ã€Linuxå‘½ä»¤å…·ä½“ä½¿ç”¨æ–‡ç« é›†åˆ" class="headerlink" title="ä¸‰ã€Linuxå‘½ä»¤å…·ä½“ä½¿ç”¨æ–‡ç« é›†åˆ"></a>ä¸‰ã€Linuxå‘½ä»¤å…·ä½“ä½¿ç”¨æ–‡ç« é›†åˆ</h2><ul><li><a href="/2021/02/05/Ubuntu%E5%8D%87%E7%BA%A7OpenSSL%E6%95%99%E7%A8%8B/" title="Ubuntu å‡çº§OpenSSLæ•™ç¨‹">Ubuntu å‡çº§OpenSSLæ•™ç¨‹</a></li><li><a href="/2021/02/08/Ubuntu%E5%AE%89%E8%A3%85Chrome%E6%B5%8F%E8%A7%88%E5%99%A8/" title="Ubuntu å‘½ä»¤è¡Œå®‰è£…Chromeæµè§ˆå™¨">Ubuntu å‘½ä»¤è¡Œå®‰è£…Chromeæµè§ˆå™¨</a></li><li><a href="/2021/02/08/Ubuntu%E5%AE%89%E8%A3%85Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" title="Ubuntu å®‰è£…Seleniumè‡ªåŠ¨åŒ–æµ‹è¯•">Ubuntu å®‰è£…Seleniumè‡ªåŠ¨åŒ–æµ‹è¯•</a></li><li><a href="/2021/02/08/Ubuntu%E6%9F%A5%E7%9C%8BCPU%E5%8D%A0%E7%94%A8%E5%92%8C%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5/" title="Ubuntu æŸ¥çœ‹CPUå ç”¨å’Œä½¿ç”¨æƒ…å†µ">Ubuntu æŸ¥çœ‹CPUå ç”¨å’Œä½¿ç”¨æƒ…å†µ</a></li><li><a href="/2021/02/08/Linux%20%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/" title="Linux ä¿®æ”¹æ–‡ä»¶æƒé™">Linux ä¿®æ”¹æ–‡ä»¶æƒé™</a></li><li><a href="/2021/02/08/Linux%20vim%E5%91%BD%E4%BB%A4%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="Linux vim&#x2F;vi å‘½ä»¤ç®€å•ä½¿ç”¨">Linux vim&#x2F;vi å‘½ä»¤ç®€å•ä½¿ç”¨</a></li><li><a href="/2021/02/08/Linux%E5%AE%9A%E6%97%B6%E6%89%A7%E8%A1%8Cpython%E8%84%9A%E6%9C%AC/" title="Linux å®šæ—¶æ‰§è¡Œ pythonè„šæœ¬">Linux å®šæ—¶æ‰§è¡Œ pythonè„šæœ¬</a></li><li><a href="/2022/05/02/Ubuntu-ufw%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" title="Ubuntu ufwå‘½ä»¤è¯¦è§£">Ubuntu ufwå‘½ä»¤è¯¦è§£</a></li><li><a href="/2022/05/02/Linux-nohup-%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C-%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" title="Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£">Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux nohup åå°è¿è¡Œ å‘½ä»¤è¯¦è§£</title>
      <link href="/2022/05/02/Linux-nohup-%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C-%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/"/>
      <url>/2022/05/02/Linux-nohup-%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C-%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>nohup è‹±æ–‡å…¨ç§° no hang upï¼ˆä¸æŒ‚èµ·ï¼‰ï¼Œç”¨äºåœ¨ç³»ç»Ÿåå°ä¸æŒ‚æ–­åœ°è¿è¡Œå‘½ä»¤ï¼Œé€€å‡ºç»ˆç«¯ä¸ä¼šå½±å“ç¨‹åºçš„è¿è¡Œã€‚</p><p>nohup å‘½ä»¤ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ˆéé‡å®šå‘æ—¶ï¼‰ï¼Œä¼šè¾“å‡ºä¸€ä¸ªåå« nohup.out çš„æ–‡ä»¶åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå¦‚æœå½“å‰ç›®å½•çš„ nohup.out æ–‡ä»¶ä¸å¯å†™ï¼Œè¾“å‡ºé‡å®šå‘åˆ° $HOME/nohup.out æ–‡ä»¶ä¸­ã€‚</p><a id="more"></a><h2 id="å‘½ä»¤è¯­æ³•æ ¼å¼ï¼š"><a href="#å‘½ä»¤è¯­æ³•æ ¼å¼ï¼š" class="headerlink" title="å‘½ä»¤è¯­æ³•æ ¼å¼ï¼š"></a>å‘½ä»¤è¯­æ³•æ ¼å¼ï¼š</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup Command [Arg ... ] [ &amp; ]</span><br></pre></td></tr></table></figure><p><strong>å‚æ•°è¯´æ˜ï¼š</strong><br>Commandï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ã€‚<br>Argï¼šä¸€äº›å‚æ•°ï¼Œå¯ä»¥æŒ‡å®šè¾“å‡ºæ–‡ä»¶ã€‚<br>&amp;ï¼šè®©å‘½ä»¤åœ¨åå°æ‰§è¡Œï¼Œç»ˆç«¯é€€å‡ºåå‘½ä»¤ä»æ—§æ‰§è¡Œã€‚</p><h2 id="ä¸¾ä¾‹åå°è¿è¡Œ"><a href="#ä¸¾ä¾‹åå°è¿è¡Œ" class="headerlink" title="ä¸¾ä¾‹åå°è¿è¡Œ"></a>ä¸¾ä¾‹åå°è¿è¡Œ</h2><p><strong>ä¾‹1.æ‰§è¡Œrootç›®å½•ä¸‹çš„runoob.shè„šæœ¬ï¼Œå¹¶é‡å®šå‘è¾“å…¥åˆ°runoob.logæ–‡ä»¶ä¸­</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup /root/runoob.sh &gt; runoob.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œä¼šæ˜¾ç¤ºè¿›ç¨‹çš„PIDã€‚</p><p>å…³äº <strong>2&gt;&amp;1</strong>è§£é‡Šï¼š</p><blockquote><p>å°†æ ‡å‡†é”™è¯¯ 2 é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º &amp;1 ï¼Œæ ‡å‡†è¾“å‡º &amp;1 å†è¢«é‡å®šå‘è¾“å…¥åˆ° runoob.log æ–‡ä»¶ä¸­ã€‚<br>0 â€“ stdin (standard inputï¼Œæ ‡å‡†è¾“å…¥)<br>1 â€“ stdout (standard outputï¼Œæ ‡å‡†è¾“å‡º)<br>2 â€“ stderr (standard errorï¼Œæ ‡å‡†é”™è¯¯è¾“å‡º)</p></blockquote><p><strong>ä¾‹2.ç”¨Pythonåå°è¿è¡Œapp.py</strong></p><p>ç”¨è¿™ç§æ–¹æ³•ï¼Œå°±å¯ä»¥æŠŠPython Flaskçš„åº”ç”¨åœ¨æœåŠ¡å™¨çš„åå°è¿è¡Œäº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup python -u app.py &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œä¼šæ˜¾ç¤ºè¿›ç¨‹çš„PIDã€‚</p><p><strong>å‘½ä»¤è¯¦è§£</strong>ï¼š</p><blockquote><p>1.æœ€åä¸€ä¸ªâ€œ&amp;â€ï¼šè¡¨ç¤ºåå°è¿è¡Œç¨‹åº<br>2.â€œnohupâ€ ï¼šè¡¨ç¤ºç¨‹åºä¸è¢«æŒ‚èµ·<br>3.â€œpythonâ€ï¼šå³python.exeï¼Œæ‰§è¡Œpythonä»£ç <br>4.â€œ-uâ€ï¼šè¡¨ç¤ºä¸å¯ç”¨ç¼“å­˜ï¼Œå®æ—¶è¾“å‡ºæ‰“å°ä¿¡æ¯åˆ°æ—¥å¿—æ–‡ä»¶ï¼ˆå¦‚æœä¸åŠ -uï¼Œåˆ™ä¼šå¯¼è‡´æ—¥å¿—æ–‡ä»¶ä¸ä¼šå®æ—¶åˆ·æ–°ä»£ç ä¸­çš„printå‡½æ•°çš„ä¿¡æ¯ï¼‰<br>5.â€œapp.pyâ€ï¼šè¡¨ç¤ºpythonçš„æºä»£ç æ–‡ä»¶<br>6.â€œ&gt;â€ï¼šè¡¨ç¤ºå°†æ‰“å°ä¿¡æ¯é‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶<br>7.â€œ/dev/nullâ€ï¼šæˆ‘è¿™é‡Œå°±ä¸è¦æ—¥å¿—æ–‡ä»¶äº†<br>8.â€œ2&gt;&amp;1â€ï¼šè¡¨ç¤ºå°†æ ‡å‡†é”™è¯¯è¾“å‡ºè½¬å˜åŒ–æ ‡å‡†è¾“å‡ºï¼Œå¯ä»¥å°†é”™è¯¯ä¿¡æ¯ä¹Ÿè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼ˆ0-&gt; stdin, 1-&gt;stdout, 2-&gt;stderrï¼‰</p></blockquote><h2 id="ç»“æŸåå°è¿è¡Œè¿›ç¨‹"><a href="#ç»“æŸåå°è¿è¡Œè¿›ç¨‹" class="headerlink" title="ç»“æŸåå°è¿è¡Œè¿›ç¨‹"></a>ç»“æŸåå°è¿è¡Œè¿›ç¨‹</h2><p>è¿›ç¨‹åœ¨åå°è¿è¡Œï¼Œæƒ³è¦å…³é—­å°±è¦æŸ¥çœ‹è¿›ç¨‹çš„PIDã€‚</p><p>è¿è¡Œ<code>nohup</code>å‘½ä»¤åä¹Ÿä¼šå¾—åˆ°è¿›ç¨‹çš„PIDã€‚<br>ä¹Ÿå¯ä»¥é€šè¿‡æœç´¢æŸ¥æ‰¾è¿™ä¸ªå‘½ä»¤çš„PIDã€‚</p><p><strong>1.ç”¨å‘½ä»¤æŸ¥æ‰¾è¿›ç¨‹çš„PID</strong></p><p>æ¯”å¦‚ä¸Šé¢ä¾‹2è¿è¡Œåï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥æ‰¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep <span class="string">&quot;app.py&quot;</span></span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚å›¾ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/linux_nohup_1.png"                                      ></p><p>ç”¨æˆ·ååé¢ä¸€é¡¹å°±æ˜¯PIDï¼Œå¯ä»¥çœ‹åˆ°PID=471ã€‚</p><p>è¿˜å¯ä»¥ç”¨ <code>top -p 471</code>å‘½ä»¤ç¡®è®¤ä¸‹471è¿›ç¨‹æ˜¯ä¸æ˜¯è¿™ä¸ªapp.pyçš„è¿›ç¨‹ï¼ˆå¯ä»¥çœ‹åˆ°COMMANDæ˜¯pythonï¼‰ã€‚</p><p><strong>2.ç»“æŸè¿›ç¨‹</strong></p><p>è¿è¡Œå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> [PID]</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚ä¸Šé¢çš„è¿›ç¨‹å°±æ˜¯<code>kill 471</code></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu ufwå‘½ä»¤è¯¦è§£</title>
      <link href="/2022/05/02/Ubuntu-ufw%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/"/>
      <url>/2022/05/02/Ubuntu-ufw%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>UFWæ˜¯ä¸€ä¸ªç®€å•çš„é˜²ç«å¢™ï¼Œå…¨ç§°Uncomplicated Firewallã€‚iptables çš„å‰ç«¯ï¼Œæ—¨åœ¨ç®€åŒ–é˜²ç«å¢™çš„é…ç½®ã€‚æ˜¯ <strong>Ubuntu ç³»ç»Ÿ</strong>ä¸Šé»˜è®¤çš„é˜²ç«å¢™ç»„ä»¶ã€‚ </p><p>UFW æ˜¯ä¸ºè½»é‡åŒ–é…ç½® iptables è€Œå¼€å‘çš„ä¸€æ¬¾å·¥å…·ã€‚ UFW æä¾›ä¸€ä¸ªéå¸¸å‹å¥½çš„ç•Œé¢ç”¨äºåˆ›å»ºåŸºäº IPV4ï¼ŒIPV6 çš„é˜²ç«å¢™è§„åˆ™ã€‚ UFW åœ¨ Ubuntu 8.04 LTS åçš„æ‰€æœ‰å‘è¡Œç‰ˆä¸­é»˜è®¤å¯ç”¨ã€‚</p><a id="more"></a><h2 id="ä¸€ã€ufwå¸¸ç”¨å‘½ä»¤"><a href="#ä¸€ã€ufwå¸¸ç”¨å‘½ä»¤" class="headerlink" title="ä¸€ã€ufwå¸¸ç”¨å‘½ä»¤"></a>ä¸€ã€ufwå¸¸ç”¨å‘½ä»¤</h2><p>è®°å¾—åœ¨å‘½ä»¤å‰é¢éƒ½åŠ ä¸Š<code>sudo</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å¯ç”¨ufw</span></span><br><span class="line">ufw <span class="built_in">enable</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.ç¦ç”¨ufw</span></span><br><span class="line">ufw <span class="built_in">disable</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€åŠè§„åˆ™åˆ—è¡¨</span></span><br><span class="line">ufw status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€åŠè§„åˆ™åˆ—è¡¨åŠå…¶ç¼–å·</span></span><br><span class="line">ufw status numbered</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.é‡ç½®é˜²ç«å¢™</span></span><br><span class="line">ufw reset</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.æ‹’ç»å…¶ä»–è®¾å¤‡è¿æ¥åˆ°æœ¬æœºçš„80ç«¯å£</span></span><br><span class="line">ufw deny 80</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7.æŸ¥çœ‹ufwå‘½ä»¤å¸®åŠ©</span></span><br><span class="line">ufw -h</span><br></pre></td></tr></table></figure><h2 id="äºŒã€æ·»åŠ é˜²ç«å¢™è§„åˆ™å‘½ä»¤"><a href="#äºŒã€æ·»åŠ é˜²ç«å¢™è§„åˆ™å‘½ä»¤" class="headerlink" title="äºŒã€æ·»åŠ é˜²ç«å¢™è§„åˆ™å‘½ä»¤"></a>äºŒã€æ·»åŠ é˜²ç«å¢™è§„åˆ™å‘½ä»¤</h2><p>è®°å¾—åœ¨å‘½ä»¤å‰é¢éƒ½åŠ ä¸Š<code>sudo</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ufw allow port</span><br><span class="line">ufw allow protocol</span><br><span class="line">ufw allow port/protocol</span><br></pre></td></tr></table></figure><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å¼€å¯22ç«¯å£ï¼ŒSSHç”¨</span></span><br><span class="line">ufw allow 22</span><br><span class="line"><span class="comment"># 2.å¼€å¯httpã€https</span></span><br><span class="line">ufw allow http</span><br><span class="line">ufw allow https</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œ<code>ufw status</code>åè¾“å‡ºï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Status: active</span><br><span class="line"></span><br><span class="line">To                         Action      From</span><br><span class="line">--                         ------      ----</span><br><span class="line">80/tcp                     ALLOW       Anywhere                  </span><br><span class="line">443/tcp                    ALLOW       Anywhere                  </span><br><span class="line">22                         ALLOW       Anywhere                  </span><br><span class="line">80/tcp (v6)                ALLOW       Anywhere (v6)             </span><br><span class="line">443/tcp (v6)               ALLOW       Anywhere (v6)             </span><br><span class="line">22 (v6)                    ALLOW       Anywhere (v6)   </span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€åˆ é™¤é˜²ç«å¢™è§„åˆ™å‘½ä»¤"><a href="#ä¸‰ã€åˆ é™¤é˜²ç«å¢™è§„åˆ™å‘½ä»¤" class="headerlink" title="ä¸‰ã€åˆ é™¤é˜²ç«å¢™è§„åˆ™å‘½ä»¤"></a>ä¸‰ã€åˆ é™¤é˜²ç«å¢™è§„åˆ™å‘½ä»¤</h2><p>è®°å¾—åœ¨å‘½ä»¤å‰é¢éƒ½åŠ ä¸Š<code>sudo</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€åŠè§„åˆ™åˆ—è¡¨åŠå…¶ç¼–å·</span></span><br><span class="line">ufw status numbered</span><br><span class="line"><span class="comment"># 2.åˆ é™¤è§„åˆ™å¯¹åº”çš„ç¼–å·</span></span><br><span class="line">ufw delete rule_number</span><br></pre></td></tr></table></figure><h2 id="å››ã€Linuxç³»ç»Ÿå®‰è£…ufwå‘½ä»¤"><a href="#å››ã€Linuxç³»ç»Ÿå®‰è£…ufwå‘½ä»¤" class="headerlink" title="å››ã€Linuxç³»ç»Ÿå®‰è£…ufwå‘½ä»¤"></a>å››ã€Linuxç³»ç»Ÿå®‰è£…ufwå‘½ä»¤</h2><p>å¦‚æœæ˜¯å…¶å®ƒçš„Linuxç³»ç»Ÿï¼Œæƒ³ç”¨ufwå‘½ä»¤çš„ï¼Œå®‰è£…ä¸€ä¸‹å°±è¡Œã€‚</p><p>ç”¨ <code>ufw --verion</code>æŸ¥çœ‹ufwå®‰è£…çš„ç‰ˆæœ¬å·ã€‚</p><p>å„Linuxç³»ç»Ÿå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#CentOS</span></span><br><span class="line">sudo yum -y install ufw</span><br><span class="line"></span><br><span class="line"><span class="comment">#Ubuntu</span></span><br><span class="line">sudo apt-get install ufw</span><br><span class="line"></span><br><span class="line"><span class="comment">#Debian</span></span><br><span class="line">sudo apt-get install ufw</span><br><span class="line"></span><br><span class="line"><span class="comment">#Fedora</span></span><br><span class="line">sudo dnf install ufw</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo SSHå¯†é’¥é…ç½®</title>
      <link href="/2022/05/01/Hexo-SSH%E5%AF%86%E9%92%A5%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/05/01/Hexo-SSH%E5%AF%86%E9%92%A5%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>é…ç½®SSHå¯†é’¥ï¼Œå¯ä»¥è®©æœ¬åœ°Gité¡¹ç›®ä¸è¿œç¨‹çš„æœåŠ¡å™¨å»ºç«‹è”ç³»ï¼Œè®©æˆ‘ä»¬åœ¨æœ¬åœ°å†™äº†ä»£ç ä¹‹åç›´æ¥é€šè¿‡Gitæ“ä½œå°±å¯ä»¥å®ç°æœ¬åœ°ä»£ç åº“ä¸æœåŠ¡å™¨ä¸Šçš„ä»£ç åº“åŒæ­¥ã€‚</p><p>ç®€å•çš„è¯´ï¼Œå°±æ˜¯æ¯æ¬¡è¿è¡Œ <code>hexo deploy</code>éƒ¨ç½²Hexoåˆ°æœåŠ¡å™¨ä¸Šçš„æ—¶å€™<strong>ä¸éœ€è¦å†è¾“å…¥å¯†ç </strong>äº†ã€‚</p><a id="more"></a><h2 id="ç¬¬ä¸€æ­¥ã€åœ¨æœ¬æœºåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥-keys"><a href="#ç¬¬ä¸€æ­¥ã€åœ¨æœ¬æœºåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥-keys" class="headerlink" title="ç¬¬ä¸€æ­¥ã€åœ¨æœ¬æœºåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥(keys)"></a>ç¬¬ä¸€æ­¥ã€åœ¨æœ¬æœºåˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥(keys)</h2><h3 id="1-æŸ¥çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH-keys"><a href="#1-æŸ¥çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH-keys" class="headerlink" title="1.æŸ¥çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH keys"></a>1.æŸ¥çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH keys</h3><p>æ‰“å¼€ã€Git Bashã€‘ï¼Œå¹¶è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ¬æœºå·²ç»å­˜åœ¨sshå…¬é’¥å’Œç§é’¥ï¼Œå¯ä»¥ç•¥è¿‡è¿™ä¸€æ­¥ï¼Œç›´æ¥è¿›å…¥ç¬¬äºŒæ­¥æ“ä½œï¼ˆé»˜è®¤çš„å…¬é’¥æ–‡ä»¶æ˜¯id_rsa.pubï¼‰ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å†åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥ä¸“ç”¨æ¥ç”¨ç»™Hexoç”¨çš„ã€‚</p><h3 id="2-åˆ›å»ºæ–°çš„SSHå¯†é’¥"><a href="#2-åˆ›å»ºæ–°çš„SSHå¯†é’¥" class="headerlink" title="2.åˆ›å»ºæ–°çš„SSHå¯†é’¥"></a>2.åˆ›å»ºæ–°çš„SSHå¯†é’¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ä¸Šé¢çš„é‚®ç®±æ˜¯è‡ªå·±çš„é‚®ç®±åœ°å€ï¼ŒæŒ‰è¿™ä¸ªé‚®ç®±åœ°å€ä¼šåˆ›å»ºä¸€å¯¹å¯†é’¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/c/Users/yourusername/.ssh/id_rsa): [Press enter]</span><br></pre></td></tr></table></figure><p><strong>ç›´æ¥å›è½¦</strong>ï¼Œåˆ™å°†å¯†é’¥æŒ‰é»˜è®¤æ–‡ä»¶è¿›è¡Œå­˜å‚¨ã€‚<br>æ­¤æ—¶æç¤ºè¾“å…¥ç‰¹å®šçš„æ–‡ä»¶åï¼Œæ¯”å¦‚ï¼šhexo_rsa<br><strong>ï¼ˆæ³¨ï¼šå»ºè®®è¿˜æ˜¯è¾“å…¥ç‰¹å®šçš„åå­—ï¼Œä¸ç„¶å°±æ˜¯é»˜è®¤çš„id_rsaæ–‡ä»¶ï¼Œå¦‚æœä½ æœ‰å¤šä¸ªSSHéœ€è¦ç®¡ç†çš„ï¼Œå°±æ¯”è¾ƒéº»çƒ¦äº†ã€‚ï¼‰</strong></p><p>æ¥ç€ï¼Œæ ¹æ®æç¤ºï¼Œä½ <strong>éœ€è¦è¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç </strong></p><p>è¯´åˆ°è¿™é‡Œï¼Œå¦‚æœä½ å¾ˆæ”¾å¿ƒï¼Œå…¶å®å¯ä»¥ä¸ç”¨å¯†ç ï¼Œå°±æ˜¯åˆ°è¾“å¯†ç çš„åœ°æ–¹ï¼Œéƒ½ç›´æ¥å›è½¦ç¡®è®¤å¯†ç ï¼Œç»§ç»­ç›´æ¥å›è½¦ã€‚(æ‰€è°“çš„æœ€å®‰å…¨çš„å¯†ç ï¼Œå°±æ˜¯æ²¡æœ‰å¯†ç  å“ˆå“ˆï¼‰ã€‚<br>ç›¸å…³æç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): [Type a passphrase]</span><br><span class="line">Enter same passphrase again: [Type passphrase again]</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç å®Œæˆä¹‹åï¼Œå±å¹•ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved <span class="keyword">in</span> /c/Users/yourusername/.ssh/hexo_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /c/Users/yourusername/.ssh/hexo_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:GI************************U your_email@example.com</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åœ¨ç›®å½•ï¼šC:\Users\yourusername.ssh ä¸­å·²ç»æœ‰hexo_rsa å’Œ hexo_rsa.pub æ–‡ä»¶äº†ã€‚<br>å¦‚æœæ²¡æœ‰è‡ªå®šä¹‰åå­—ï¼Œåˆ™ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆ id_rsa.pub(å…¬é’¥)å’Œ id_rsa(ç§é’¥)æ–‡ä»¶ã€‚</p><h3 id="3-SSHå¯†é’¥é…ç½®"><a href="#3-SSHå¯†é’¥é…ç½®" class="headerlink" title="3.SSHå¯†é’¥é…ç½®"></a>3.SSHå¯†é’¥é…ç½®</h3><p>å¦‚æœä½ çš„æœåŠ¡å™¨ä¸Šåªç”¨ä¸€ä¸ªï¼Œé‚£å°±å¿½ç•¥æ­¤æ­¥ã€‚<br>å¦‚æœæœåŠ¡å™¨ä¸Šæœ‰å¤šä¸ªSSHçš„ï¼Œéœ€è¦åœ¨æœ¬æœºçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹ã€‚<br>ç”¨è®°äº‹æœ¬ç¨‹åºæ‰“å¼€ <code>~/.ssh</code> ç›®å½•ï¼ˆC:\Users\yourusername.sshï¼‰ä¸­çš„configæ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Host 111.**.**.333</span><br><span class="line">  HostName 111.**.**.333</span><br><span class="line">  User root</span><br><span class="line"></span><br><span class="line">Host code_rsa</span><br><span class="line">  HostName 122.44.21.213</span><br><span class="line">  IdentityFile ~&#x2F;.ssh&#x2F;code_rsa</span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line">  User root</span><br><span class="line">Host 122.44.21.213</span><br><span class="line">  HostName 122.44.21.213</span><br><span class="line">  IdentityFile ~&#x2F;.ssh&#x2F;hexo_rsa</span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line">  User ubuntu</span><br></pre></td></tr></table></figure><blockquote><p>Hostï¼šç«™ç‚¹åˆ«åï¼Œæ–¹ä¾¿å‘½ä»¤è¡Œä½¿ç”¨<br>HostNameï¼šç«™ç‚¹åï¼ˆæœåŠ¡å™¨ipæˆ–åŸŸåï¼‰<br>PreferredAuthenticationsï¼šä¼˜å…ˆä½¿ç”¨å…¬é’¥è¿æ¥<br>IdentityFileï¼šç§é’¥è·¯å¾„</p></blockquote><p>å‘½ä»¤è¡Œæµ‹è¯•ä»¥ä¸Šä¸¤ä¸ªSSHï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -t git@code_rsa</span><br><span class="line">ssh -t git@122.44.21.213</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šipåœ°å€æ¢æˆä½ è‡ªå·±æœåŠ¡å™¨çš„ipåœ°å€ã€‚</p><h2 id="ç¬¬äºŒæ­¥ã€åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥"><a href="#ç¬¬äºŒæ­¥ã€åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥" class="headerlink" title="ç¬¬äºŒæ­¥ã€åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥"></a>ç¬¬äºŒæ­¥ã€åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥</h2><p>å¦‚æœä½ æ˜¯Github pagesçš„ï¼Œç›´æ¥çœ‹è¿™ç¯‡æ–‡ç«  <a href="/2022/04/09/%E3%80%90%E5%B0%8F%E7%99%BD%E6%95%99%E7%A8%8B%E3%80%91%E5%85%8D%E8%B4%B9%E5%BB%BA%E7%AB%8B%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99%EF%BC%88Github+Hexo%EF%BC%89/" title="ã€å°ç™½æ•™ç¨‹ã€‘å…è´¹å»ºç«‹é™æ€åšå®¢ç½‘ç«™ï¼ˆGithub+Hexoï¼‰">ã€å°ç™½æ•™ç¨‹ã€‘å…è´¹å»ºç«‹é™æ€åšå®¢ç½‘ç«™ï¼ˆGithub+Hexoï¼‰</a> ä¸­é…ç½®SSHå¯†é’¥çš„éƒ¨åˆ†å°±è¡Œã€‚</p><p>å¦‚æœæ˜¯ç”¨åˆ«çš„äº‘æœåŠ¡å™¨çš„ï¼Œåœ¨äº‘æœåŠ¡å™¨ä¸Šå»ºäº†Gitä»“åº“å’ŒNginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•çš„ï¼ˆå‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="/2022/05/01/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/" title="Hexoåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼ˆUbuntuï¼‰ä¸Š">Hexoåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼ˆUbuntuï¼‰ä¸Š</a> ï¼‰ï¼Œä½†åˆæ²¡åœ¨æœåŠ¡å™¨ä¸Šæ–°å»ºç”¨æˆ·çš„è¯ï¼Œå»ºè®®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œä¸“é—¨ç»™Hexoåšå®¢ç”¨ã€‚ï¼ˆå¦‚æœä½ è¿™ä¸ªæœåŠ¡å™¨åªåšä¸€ä¸ªåšå®¢ç”¨ï¼Œé‚£å°±ç”¨ä¸ç€æ–°å»ºç”¨æˆ·äº†ï¼‰</p><p>å¦‚æœå‰é¢åˆ›å»ºGitä»“åº“å’ŒNginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•æ—¶æ²¡å»ºæ–°ç”¨æˆ·ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œåªéœ€è¦åˆ›å»ºä¸ªæ–°ç”¨æˆ·ï¼Œç„¶åæŠŠè¿™ä¸¤ä¸ªç›®å½•çš„æ‰€æœ‰æƒæƒé™ç»™è¿™ä¸ªæ–°ç”¨æˆ·å°±è¡Œã€‚</p><h3 id="1-æ–°å»ºä¸€ä¸ªgitç”¨æˆ·"><a href="#1-æ–°å»ºä¸€ä¸ªgitç”¨æˆ·" class="headerlink" title="1.æ–°å»ºä¸€ä¸ªgitç”¨æˆ·"></a>1.æ–°å»ºä¸€ä¸ªgitç”¨æˆ·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m git</span><br><span class="line">sudo passwd git</span><br></pre></td></tr></table></figure><p>ubuntuåŠ ä¸Š<code>-m</code>å‚æ•°ï¼Œä¼šåœ¨ /home ç›®å½•ä¸­å»ºå‡ºå¯¹åº”çš„ç”¨æˆ·ç›®å½•ï¼Œå³ä¼šæœ‰/home/gitç›®å½•ï¼›å¦åˆ™æ²¡æœ‰ã€‚</p><h3 id="2-æŠŠGitä»“åº“å’ŒNginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•æƒé™éƒ½ç»™gitç”¨æˆ·"><a href="#2-æŠŠGitä»“åº“å’ŒNginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•æƒé™éƒ½ç»™gitç”¨æˆ·" class="headerlink" title="2.æŠŠGitä»“åº“å’ŒNginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•æƒé™éƒ½ç»™gitç”¨æˆ·"></a>2.æŠŠGitä»“åº“å’ŒNginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•æƒé™éƒ½ç»™gitç”¨æˆ·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R git:git /var/repo/</span><br><span class="line">sudo chown -R git:git /var/www/hexo</span><br></pre></td></tr></table></figure><h3 id="3-æŠŠæœ¬æœºä¸Šçš„hexo-rsa-pub-å…¬é’¥æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼ˆ-home-gitï¼‰"><a href="#3-æŠŠæœ¬æœºä¸Šçš„hexo-rsa-pub-å…¬é’¥æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼ˆ-home-gitï¼‰" class="headerlink" title="3.æŠŠæœ¬æœºä¸Šçš„hexo_rsa.pub å…¬é’¥æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼ˆ/home/gitï¼‰"></a>3.æŠŠæœ¬æœºä¸Šçš„hexo_rsa.pub å…¬é’¥æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼ˆ/home/gitï¼‰</h3><p>ç”¨ä»€ä¹ˆæ–¹æ³•ä¸Šä¼ ï¼Œéƒ½å¯ä»¥ã€‚æˆ‘çš„æœ¬æœºæ˜¯windowsçš„ï¼Œæœ‰xshellå’Œxftpï¼Œç›´æ¥å°±ç”¨gitç”¨æˆ·ç™»å½•åï¼Œä¸Šä¼ è‡³/home/gitç›®å½•ã€‚ï¼ˆå³æœ‰äº†æ–‡ä»¶ /home/git/hexo_rsa.pubï¼‰</p><h3 id="4-åˆ›å»º-ssh-ç›®å½•ï¼ˆgitç”¨æˆ·"><a href="#4-åˆ›å»º-ssh-ç›®å½•ï¼ˆgitç”¨æˆ·" class="headerlink" title="4.åˆ›å»º~/.ssh ç›®å½•ï¼ˆgitç”¨æˆ·)"></a>4.åˆ›å»º~/.ssh ç›®å½•ï¼ˆgitç”¨æˆ·)</h3><p>åœ¨æœåŠ¡å™¨ä¸­åˆ›å»ºsshï¼Œæ˜¯ä¸ºäº†æŠŠæœ¬æœºçš„ hexo_rsa.pub ä¸­çš„æ–‡ä»¶å†…å®¹å…¨éƒ¨æ·»åŠ åˆ° authorized_keys æ–‡ä»¶ä¸­ã€‚ï¼ˆå³ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶ï¼‰</p><p>1).æœåŠ¡å™¨ä¸Šåˆ‡æ¢åˆ° gitç”¨æˆ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su git</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç åç™»å½•ã€‚ï¼ˆè¾“å…¥<code>exit</code>å‘½ä»¤å³å¯é€€å‡ºgitç”¨æˆ·ï¼‰</p><p>2).åˆ›å»º~/.ssh ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">mkdir .ssh</span><br></pre></td></tr></table></figure><h3 id="5-åœ¨-sshç›®å½•ä¸‹åˆ›å»ºauthorized-keysæ–‡ä»¶"><a href="#5-åœ¨-sshç›®å½•ä¸‹åˆ›å»ºauthorized-keysæ–‡ä»¶" class="headerlink" title="5.åœ¨.sshç›®å½•ä¸‹åˆ›å»ºauthorized_keysæ–‡ä»¶"></a>5.åœ¨.sshç›®å½•ä¸‹åˆ›å»ºauthorized_keysæ–‡ä»¶</h3><p>è¿™é‡Œå¹¶ä¸ç›´æ¥åˆ›å»ºæ–‡ä»¶ï¼Œç›´æ¥æŠŠ hexo_rsa.pub ç§»åŠ¨åˆ° .sshç›®å½•åï¼Œé‡å‘½åä¸ºauthorized_keyså°±è¡Œäº†ã€‚å¹¶ç”¨ chmodä¿®æ”¹ç›®å½•çš„æƒé™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mv hexo_rsa.pub .ssh/authorized_keys</span><br><span class="line"></span><br><span class="line">chmod 600 ~/.ssh/authorized_keys</span><br><span class="line">chmod 700 ~/.ssh</span><br></pre></td></tr></table></figure><h3 id="6-æµ‹è¯•"><a href="#6-æµ‹è¯•" class="headerlink" title="6.æµ‹è¯•"></a>6.æµ‹è¯•</h3><p>åœ¨æœ¬åœ°è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œï¼š </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -t git@122.44.21.213</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šipåœ°å€æ¢æˆä½ è‡ªå·±æœåŠ¡å™¨çš„ipåœ°å€ã€‚<br>èƒ½ç™»å½•è¿›å»ï¼Œè¯´æ˜å·²æˆåŠŸå®ŒæˆSSHé…ç½®ã€‚</p><h2 id="ç¬¬ä¸‰æ­¥ã€ä¿®æ”¹æœ¬æœºHexoé…ç½®æ–‡ä»¶"><a href="#ç¬¬ä¸‰æ­¥ã€ä¿®æ”¹æœ¬æœºHexoé…ç½®æ–‡ä»¶" class="headerlink" title="ç¬¬ä¸‰æ­¥ã€ä¿®æ”¹æœ¬æœºHexoé…ç½®æ–‡ä»¶"></a>ç¬¬ä¸‰æ­¥ã€ä¿®æ”¹æœ¬æœºHexoé…ç½®æ–‡ä»¶</h2><p>æ‰“å¼€Hexoç›®å½•ä¸‹ <code>_config.yml</code>é…ç½®æ–‡ä»¶ã€‚<br>æŠŠdeployé…ç½®å†…å®¹æ”¹ä¸ºï¼ˆrepoä¸­åŸæ¥çš„ç”¨æˆ·åæ”¹ä¸ºgitï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@122.44.21.213:/var/repo/hexo_static.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šipåœ°å€æ¢æˆä½ è‡ªå·±æœåŠ¡å™¨çš„ipåœ°å€ã€‚</p><p>å†ç”¨ <code>hexo deploy</code>æ—¶ï¼Œå°±ä¸éœ€è¦å†è¾“å…¥ç”¨æˆ·çš„å¯†ç äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoé“¾æ¥ç«™å†…æ–‡ç« æ–¹æ³•</title>
      <link href="/2022/05/01/Hexo%E9%93%BE%E6%8E%A5%E7%AB%99%E5%86%85%E6%96%87%E7%AB%A0%E6%96%B9%E6%B3%95/"/>
      <url>/2022/05/01/Hexo%E9%93%BE%E6%8E%A5%E7%AB%99%E5%86%85%E6%96%87%E7%AB%A0%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å†™æ–‡ç« ã€å†™åšå®¢çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™æ–‡ç« ä¸­ä¼šéœ€è¦é“¾æ¥åˆ°å…¶å®ƒçš„æ–‡ç« ã€‚æ€ä¹ˆå†™ï¼Ÿ</p><p><strong>æ–¹æ³•ä¸€</strong>ï¼šå½“ç„¶å¯ä»¥ç›´æ¥å†™é“¾æ¥åœ°å€ï¼Œè·Ÿæ‰€æœ‰ç½‘å€ä¸€æ ·ã€‚<br>è¿™æ ·å°±éœ€è¦é“¾æ¥çš„è¿™ç¯‡æ–‡ç« å…ˆdeployå‡ºæ¥ï¼Œå†å¤åˆ¶æ–‡ç« çš„ç½‘å€è¿‡æ¥ç”¨ã€‚</p><p>è¿™ä¸ªæ–¹æ³•è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘åšå®¢æ¢äº†åŸŸåï¼Œé‚£å°±å®Œäº† ï¼Œæ‰€æœ‰çš„åœ°å€è¿˜éœ€è¦æ‰‹åŠ¨å†æ›¿æ¢ä¸€éã€‚</p><p>è¿™é‡Œä»‹ç»ç¬¬äºŒä¸ªæ–¹æ³•ï¼Œé‡‡ç”¨ Hexo çš„ä¸€ç§å†™æ³•ã€‚</p><a id="more"></a><p><strong>æ–¹æ³•äºŒ</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ &#123;% post_link &#39;éœ€è¦é“¾æ¥çš„æ–‡ç« å&#39; %&#125;</span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³é“¾æ¥åˆ°ç«™å†…å¦ä¸€ç¯‡æ–‡ç« ï¼šâ€œæœ¬åšå®¢ä½¿ç”¨çš„Hexoä¸»é¢˜ä¸ºKeepâ€è¿™ç¯‡æ–‡ç« ï¼Œæ€ä¹ˆåšã€‚</p><p>è¿™ç¯‡æ–‡ç« å¯¹åº”çš„mdæ–‡ä»¶ä¸ºï¼š<code>æœ¬åšå®¢ä½¿ç”¨çš„Hexoä¸»é¢˜ä¸ºKeep.md</code></p><p>é‚£åœ¨éœ€è¦å¼•ç”¨çš„åœ°æ–¹å°±å†™ä¸Šï¼š<a href="/2022/04/30/%E6%9C%AC%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E7%9A%84Hexo%E4%B8%BB%E9%A2%98%E4%B8%BAKeep/" title="æœ¬åšå®¢ä½¿ç”¨çš„Hexoä¸»é¢˜ä¸ºï¼šKeep">æœ¬åšå®¢ä½¿ç”¨çš„Hexoä¸»é¢˜ä¸ºï¼šKeep</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼ˆUbuntuï¼‰ä¸Š</title>
      <link href="/2022/05/01/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/"/>
      <url>/2022/05/01/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚</p><h2 id="ä¸€ã€æˆ‘çš„ç¯å¢ƒ"><a href="#ä¸€ã€æˆ‘çš„ç¯å¢ƒ" class="headerlink" title="ä¸€ã€æˆ‘çš„ç¯å¢ƒ"></a>ä¸€ã€æˆ‘çš„ç¯å¢ƒ</h2><p>1ã€UbuntuæœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ Ubuntu Server 18.04ç³»ç»Ÿï¼Œç®¡ç†å‘˜ç”¨æˆ·ï¼šubuntuï¼‰</p><p>2ã€æœ¬åœ°Win10ç³»ç»Ÿ</p><a id="more"></a><h2 id="äºŒã€UbuntuæœåŠ¡å™¨ç¯å¢ƒ"><a href="#äºŒã€UbuntuæœåŠ¡å™¨ç¯å¢ƒ" class="headerlink" title="äºŒã€UbuntuæœåŠ¡å™¨ç¯å¢ƒ"></a>äºŒã€UbuntuæœåŠ¡å™¨ç¯å¢ƒ</h2><h3 id="1-å®‰è£…-Git-å’Œ-Nginx"><a href="#1-å®‰è£…-Git-å’Œ-Nginx" class="headerlink" title="1.å®‰è£… Git å’Œ Nginx"></a>1.å®‰è£… Git å’Œ Nginx</h3><p><strong>Git ç”¨äºç‰ˆæœ¬ç®¡ç†å’Œéƒ¨ç½²</strong>ï¼Œ<strong>Nginx ä½œæœåŠ¡å™¨ç”¨äºé™æ€åšå®¢æ‰˜ç®¡</strong>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install git nginx -y</span><br></pre></td></tr></table></figure><h3 id="2-åˆ›å»º-Gitä»“åº“"><a href="#2-åˆ›å»º-Gitä»“åº“" class="headerlink" title="2.åˆ›å»º Gitä»“åº“"></a>2.åˆ›å»º Gitä»“åº“</h3><p>åœ¨ <code>/var/repo</code> ä¸‹åˆ›å»º hexo_static çš„è£¸ä»“åº“ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /var/repo/</span><br><span class="line">sudo chown -R <span class="variable">$USER</span>:<span class="variable">$USER</span> /var/repo/</span><br><span class="line">sudo chmod -R 755 /var/repo/</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /var/repo/</span><br><span class="line">git init --bare hexo_static.git</span><br></pre></td></tr></table></figure><blockquote><p>sudo mkdir /var/repo/ è¡¨ç¤ºï¼šåˆ›å»º repoç›®å½•<br>sudo chown -R  è¡¨ç¤ºï¼šä¿®æ”¹ç›®å½•çš„æ‰€æœ‰æƒ<br>sudo chmod -R 755 è¡¨ç¤ºï¼šä¿®æ”¹ç›®å½•çš„ç”¨æˆ·æƒé™ï¼Œè‡³æ­¤ ubuntuç”¨æˆ·æ‹¥æœ‰æ‰€æœ‰çš„æƒé™</p></blockquote><h3 id="3-é…ç½®Nginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•"><a href="#3-é…ç½®Nginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•" class="headerlink" title="3.é…ç½®Nginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•"></a>3.é…ç½®Nginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•</h3><p>1).åˆ›å»º <code>/var/www/hexo</code> ç›®å½•ï¼Œç”¨äºNginxæ‰˜ç®¡ï¼Œä¿®æ”¹ç›®å½•æ‰€æœ‰æƒå’Œæƒé™ã€‚<br>æœ¬åœ° <code>hexo deploy</code>ä¹‹åçš„å†…å®¹éƒ½åœ¨è¿™é‡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /var/www/hexo</span><br><span class="line"></span><br><span class="line">sudo chown -R <span class="variable">$USER</span>:<span class="variable">$USER</span> /var/www/hexo</span><br><span class="line">sudo chmod -R 755 /var/www/hexo</span><br></pre></td></tr></table></figure><p>2).ä¿®æ”¹Nginxçš„ <strong>default</strong> è®¾ç½®ï¼Œä½¿ rootæŒ‡å‘ hexoç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/default</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä¸åŠ  sudoï¼Œä¼šæé†’ <strong>default</strong> æ˜¯åªè¯»æ–‡ä»¶ã€‚</p><p><strong>å…³äº vim</strong></p><p>Linuxç³»ç»Ÿä¸€èˆ¬è‡ªå¸¦ vi ç¼–è¾‘å·¥å…·ï¼Œvim æ˜¯viçš„å‡çº§ç‰ˆæœ¬ã€‚<br>å¦‚æœæ²¡æœ‰ vim å¯ä»¥ç”¨å‘½ä»¤å®‰è£…ä¸€ä¸‹ï¼š<code>sudo apt-get install vim</code><br>è¿™é‡Œç”¨ vi  ä¹Ÿæ— æ‰€è°“çš„ã€‚</p><p>å…³äº vimçš„ç®€å•ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥çœ‹è¿™ä¸€ç¯‡æ–‡ç« ï¼š<a href="/2021/02/08/Linux%20vim%E5%91%BD%E4%BB%A4%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="Linux vim&#x2F;vi å‘½ä»¤ç®€å•ä½¿ç”¨">Linux vim&#x2F;vi å‘½ä»¤ç®€å•ä½¿ç”¨</a></p><p>æ‰“å¼€defaultåï¼Œä¿®æ”¹æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œä½¿ rootæŒ‡å‘ hexoç›®å½•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80 default_server;</span><br><span class="line">    listen [::]:80 default_server ipv6only&#x3D;on;</span><br><span class="line"></span><br><span class="line">    root &#x2F;var&#x2F;www&#x2F;hexo; # éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†</span><br><span class="line">    index index.html index.htm;</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ã€‚å¦‚æœä»¥åè´­ä¹°å¹¶å¤‡æ¡ˆåŸŸåä¹‹åï¼Œå¯ä»¥å†å°†é…ç½®ä¸­çš„ default_server ä¿®æ”¹ä¸ºä½ çš„åŸŸåã€‚</p><p>3).é‡å¯ NginxæœåŠ¡ï¼Œä½¿æ”¹åŠ¨ç”Ÿæ•ˆã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service nginx restart</span><br></pre></td></tr></table></figure><h3 id="4-åˆ›å»º-Gité’©å­"><a href="#4-åˆ›å»º-Gité’©å­" class="headerlink" title="4.åˆ›å»º Gité’©å­"></a>4.åˆ›å»º Gité’©å­</h3><p>åœ¨æœåŠ¡å™¨ä¸Šçš„è£¸ä»“åº“ hexo_static åˆ›å»ºä¸€ä¸ªé’©å­ï¼Œåœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶å°†é™æ€ HTML æ–‡ä»¶ä¼ é€åˆ° Web æœåŠ¡å™¨çš„ç›®å½•ä¸‹ï¼Œå³ /var/www/hexoã€‚</p><p>1).åœ¨è‡ªåŠ¨ç”Ÿæˆçš„ hooks ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„é’©å­æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /var/repo/hexo_static.git/hooks/post-receive</span><br></pre></td></tr></table></figure><p>2).åœ¨è¯¥æ–‡ä»¶ä¸­æ·»åŠ ä¸¤è¡Œä»£ç ï¼ŒæŒ‡å®š Git çš„å·¥ä½œæ ‘ï¼ˆæºä»£ç ï¼‰å’Œ Git ç›®å½•ï¼ˆé…ç½®æ–‡ä»¶ç­‰ï¼‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">git --work-tree=/var/www/hexo --git-dir=/var/repo/hexo_static.git checkout -f</span><br></pre></td></tr></table></figure><p>3).ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹æ–‡ä»¶æƒé™ã€è®©è¯¥æ–‡ä»¶å˜ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /var/repo/hexo_static.git/hooks/post-receive</span><br></pre></td></tr></table></figure><h3 id="5-é…ç½®é˜²ç«å¢™"><a href="#5-é…ç½®é˜²ç«å¢™" class="headerlink" title="5.é…ç½®é˜²ç«å¢™"></a>5.é…ç½®é˜²ç«å¢™</h3><p>ç¬¬ä¸€æ¬¡ç”¨ï¼Œéœ€è¦å¯ç”¨é˜²ç«å¢™ã€‚ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å¯ç”¨ufw</span></span><br><span class="line">sudo ufw <span class="built_in">enable</span></span><br><span class="line"><span class="comment"># 2.å¼€å¯4000ç«¯å£</span></span><br><span class="line">sudo ufw allow 4000</span><br><span class="line"><span class="comment"># 3.å…è®¸httpã€https</span></span><br><span class="line">sudo ufw allow http</span><br><span class="line">sudo ufw allow https</span><br><span class="line"><span class="comment"># 4.å¼€22ç«¯å£ï¼Œè¦ç”¨SSH</span></span><br><span class="line">sudo uffw allow 22</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œ<code>sudo ufw status</code>åè¾“å‡ºï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Status: active</span><br><span class="line"></span><br><span class="line">To                         Action      From</span><br><span class="line">--                         ------      ----</span><br><span class="line">4000                       ALLOW       Anywhere                  </span><br><span class="line">80/tcp                     ALLOW       Anywhere                  </span><br><span class="line">443/tcp                    ALLOW       Anywhere                  </span><br><span class="line">22                         ALLOW       Anywhere                  </span><br><span class="line">4000 (v6)                  ALLOW       Anywhere (v6)             </span><br><span class="line">80/tcp (v6)                ALLOW       Anywhere (v6)             </span><br><span class="line">443/tcp (v6)               ALLOW       Anywhere (v6)             </span><br><span class="line">22 (v6)                    ALLOW       Anywhere (v6)   </span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒæœåŠ¡ç«¯çš„é…ç½®ç»“æŸã€‚</p><h2 id="ä¸‰ã€æœ¬åœ°Win10ç³»ç»Ÿ"><a href="#ä¸‰ã€æœ¬åœ°Win10ç³»ç»Ÿ" class="headerlink" title="ä¸‰ã€æœ¬åœ°Win10ç³»ç»Ÿ"></a>ä¸‰ã€æœ¬åœ°Win10ç³»ç»Ÿ</h2><h3 id="1-å®‰è£…Hexo"><a href="#1-å®‰è£…Hexo" class="headerlink" title="1.å®‰è£…Hexo"></a>1.å®‰è£…Hexo</h3><p>å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://hexo.io/zh-cn/docs/#%E5%AE%89%E8%A3%85" >https://hexo.io/zh-cn/docs/#%E5%AE%89%E8%A3%85<i class="fas fa-external-link-alt"></i></a></p><h4 id="1-ä¸‹è½½å®‰è£…-Node-js-ï¼ˆnode-væŸ¥çœ‹ç‰ˆæœ¬ï¼‰"><a href="#1-ä¸‹è½½å®‰è£…-Node-js-ï¼ˆnode-væŸ¥çœ‹ç‰ˆæœ¬ï¼‰" class="headerlink" title="1).ä¸‹è½½å®‰è£… Node.js ï¼ˆnode -væŸ¥çœ‹ç‰ˆæœ¬ï¼‰"></a>1).ä¸‹è½½å®‰è£… <strong>Node.js</strong> ï¼ˆ<code>node -v</code>æŸ¥çœ‹ç‰ˆæœ¬ï¼‰</h4><p>å®˜ç½‘ <a class="link"   href="https://nodejs.org/en/download/" >https://nodejs.org/en/download/<i class="fas fa-external-link-alt"></i></a> ä¸‹è½½å¯¹åº”ç‰ˆæœ¬å®‰è£…å°±è¡Œ</p><h4 id="2-ä¸‹è½½å®‰è£…-Git-ï¼ˆgit-versionæŸ¥çœ‹ç‰ˆæœ¬ï¼‰"><a href="#2-ä¸‹è½½å®‰è£…-Git-ï¼ˆgit-versionæŸ¥çœ‹ç‰ˆæœ¬ï¼‰" class="headerlink" title="2).ä¸‹è½½å®‰è£… Git ï¼ˆgit versionæŸ¥çœ‹ç‰ˆæœ¬ï¼‰"></a>2).ä¸‹è½½å®‰è£… <strong>Git</strong> ï¼ˆ<code>git version</code>æŸ¥çœ‹ç‰ˆæœ¬ï¼‰</h4><p>å®˜ç½‘ <a class="link"   href="https://git-scm.com/download/win" >https://git-scm.com/download/win<i class="fas fa-external-link-alt"></i></a> ä¼šæ ¹æ®ä½ ç”µè„‘å‚æ•°ï¼Œç›´æ¥è·³å‡ºå¯¹åº”ç‰ˆæœ¬è®©ä½ ä¸‹è½½ã€‚</p><p>å®˜ç½‘ä¸‹è½½å¾ˆæ…¢ï¼Œå¯ä»¥åˆ°ä»¥ä¸‹åœ°å€ä¸­ä¸‹è½½gitå®‰è£…åŒ…ï¼ˆé€Ÿåº¦è´¼å¿«ï¼‰ï¼š<br><a class="link"   href="https://npm.taobao.org/mirrors/git-for-windows/" >https://npm.taobao.org/mirrors/git-for-windows/<i class="fas fa-external-link-alt"></i></a></p><p>æ‹‰åˆ°é¡µé¢æœ€ä¸‹é¢æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œæ¯”å¦‚windows 64ä½çš„ç³»åˆ—å°±ä¸‹è½½ï¼š<br>Git-2.30.0.2-64-bit.exe</p><h4 id="3-ä¸‹è½½å®‰è£…-Hexo-ï¼ˆhexo-versionæŸ¥çœ‹ç‰ˆæœ¬ï¼‰"><a href="#3-ä¸‹è½½å®‰è£…-Hexo-ï¼ˆhexo-versionæŸ¥çœ‹ç‰ˆæœ¬ï¼‰" class="headerlink" title="3).ä¸‹è½½å®‰è£… Hexo ï¼ˆhexo versionæŸ¥çœ‹ç‰ˆæœ¬ï¼‰"></a>3).ä¸‹è½½å®‰è£… <strong>Hexo</strong> ï¼ˆ<code>hexo version</code>æŸ¥çœ‹ç‰ˆæœ¬ï¼‰</h4><p>å®‰è£…å®Œäº†Gitåï¼Œåœ¨ä»»æ„å¤„ã€å³é”®ï¼Œé€‰æ‹©<strong>ã€Git Bash Hereã€‘</strong>ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€å¥æ˜¯å®‰è£…hexoï¼›<br>ç¬¬äºŒå¥æ˜¯å®‰è£…hexoéƒ¨ç½²åˆ°git pageçš„deployerï¼Œä¸¤ä¸ªéƒ½éœ€è¦å®‰è£…ã€‚</p><h4 id="4-Hexoåˆå§‹åŒ–ï¼ˆåˆ›å»ºHexoæ–‡ä»¶å¤¹ï¼‰"><a href="#4-Hexoåˆå§‹åŒ–ï¼ˆåˆ›å»ºHexoæ–‡ä»¶å¤¹ï¼‰" class="headerlink" title="4).Hexoåˆå§‹åŒ–ï¼ˆåˆ›å»ºHexoæ–‡ä»¶å¤¹ï¼‰"></a>4).Hexoåˆå§‹åŒ–ï¼ˆåˆ›å»ºHexoæ–‡ä»¶å¤¹ï¼‰</h4><p>å®‰è£…å®Œæˆåï¼Œæ ¹æ®è‡ªå·±å–œå¥½å»ºç«‹ç›®å½•ï¼ˆå¦‚<code>F:\Blog\Hexo</code>ï¼‰ï¼Œç›´æ¥è¿›å…¥<code>F:\Blog\Hexo</code>æ–‡ä»¶å¤¹åï¼Œå³é”®é¼ æ ‡ï¼Œç‚¹å‡»<strong>ã€Git Bash Hereã€‘</strong>ï¼Œè¿›å…¥Gitå‘½ä»¤æ¡†ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œåï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚</p><p><strong>æœ¬åœ°è¿è¡Œæµ‹è¯•</strong></p><p>åœ¨<strong>ã€Git Bashã€‘</strong> ä¸­ä¾æ¬¡æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œæ‰§è¡Œå®Œå³å¯ç™»å½•ç½‘é¡µ <code>localhost:4000</code> æŸ¥çœ‹æ•ˆæœã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>æŒ‰Ctrl+C åœæ­¢ã€‚</p><h3 id="2-ä¿®æ”¹-Hexo-é»˜è®¤é…ç½®"><a href="#2-ä¿®æ”¹-Hexo-é»˜è®¤é…ç½®" class="headerlink" title="2.ä¿®æ”¹ Hexo é»˜è®¤é…ç½®"></a>2.ä¿®æ”¹ Hexo é»˜è®¤é…ç½®</h3><p>åœ¨ç«™ç‚¹ _config.yml é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹åšå®¢çš„åœ°å€ urlï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://122.44.21.213/</span> <span class="comment">#æ²¡æœ‰ç»‘å®šåŸŸåæ—¶å¡«å†™æœåŠ¡å™¨IPåœ°å€ï¼Œç»‘å®šåŸŸååå¡«å†™åŸŸå</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br></pre></td></tr></table></figure><p>å…³äº Hexoåšå®¢ <code>_config.yml</code>é…ç½®æ–‡ä»¶ä¸­å…¶å®ƒçš„ä¿®æ”¹ï¼Œå¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://hexo.io/zh-cn/docs/configuration" >https://hexo.io/zh-cn/docs/configuration<i class="fas fa-external-link-alt"></i></a></p><h3 id="3-é€šè¿‡Gitéƒ¨ç½²"><a href="#3-é€šè¿‡Gitéƒ¨ç½²" class="headerlink" title="3.é€šè¿‡Gitéƒ¨ç½²"></a>3.é€šè¿‡Gitéƒ¨ç½²</h3><p>1).ç»§ç»­ç¼–è¾‘Hexoçš„ <code>_config.yml</code>é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° Deploymentéƒ¨åˆ†ã€‚æŒ‰ç…§å¦‚ä¸‹æƒ…å†µä¿®æ”¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">ubuntu@122.44.21.213:/var/repo/hexo_static.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>2).Hexoä¸€é”®éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š</p><p>åœ¨Hexoç›®å½•ï¼ˆæ¯”å¦‚æˆ‘çš„æ˜¯ï¼š<code>F:\Blog\Hexo</code>ï¼‰ä¸­ï¼Œé¼ æ ‡å³é”®ï¼Œç‚¹å‡»<strong>ã€Git Bash Hereã€‘</strong>ï¼Œè¿›å…¥Gitå‘½ä»¤æ¡†ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä¸€é”®éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>æœŸé—´ä¼šæç¤ºè¾“å…¥ ubuntu ç”¨æˆ·çš„ç™»å½•å¯†ç ï¼ˆå¦‚æœæ²¡æœ‰è®¾ç½® SSH ç™»å½•ï¼‰ï¼ŒæˆåŠŸä¹‹åå°±å¯ä»¥åœ¨æµè§ˆå™¨æ‰“å¼€ï¼š<a class="link"   href="http://122.44.21.213/" >http://122.44.21.213/<i class="fas fa-external-link-alt"></i></a> è®¿é—®è‡ªå·±çš„åšå®¢äº†ã€‚ </p><p><strong>ä¿®æ”¹å†…å®¹åï¼Œä¸€èˆ¬éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šéœ€è¦ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹3æ¡å‘½ä»¤ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><ul><li><code>hexo clean</code>ï¼šRemove generated files and cache.</li><li><code>hexo generate</code>ï¼šGenerate static files. å¯ä»¥ç®€å†™æˆ <code>hexo g</code></li><li><code>hexo deploy</code>ï¼šDeploy your website. å¦‚æœæ²¡æœ‰å®‰è£…åˆ«çš„æœ‰å½±å“çš„æ’ä»¶ï¼Œè¦ä»¥ç®€å†™æˆ <code>hexo d</code></li></ul><p><strong>Hexoçš„æ›´å¤šå‘½ä»¤çœ‹å®˜æ–¹æ–‡æ¡£ï¼š</strong><a class="link"   href="https://hexo.io/zh-cn/docs/commands" >https://hexo.io/zh-cn/docs/commands<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¬åšå®¢ä½¿ç”¨çš„Hexoä¸»é¢˜ä¸ºï¼šKeep</title>
      <link href="/2022/04/30/%E6%9C%AC%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E7%9A%84Hexo%E4%B8%BB%E9%A2%98%E4%B8%BAKeep/"/>
      <url>/2022/04/30/%E6%9C%AC%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E7%9A%84Hexo%E4%B8%BB%E9%A2%98%E4%B8%BAKeep/</url>
      
        <content type="html"><![CDATA[<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”-æ›´æ–°äºï¼š2022å¹´04æœˆ30æ—¥â€”â€”â€”â€”â€”â€”â€”â€”â€”-</p><p>æœ¬åšå®¢é‡‡ç”¨çš„Hexoä¸»é¢˜ä¸ºï¼š<strong>Keep</strong></p><p>é¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/XPoet/hexo-theme-keep" >GitHub - XPoet/hexo-theme-keep<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><p>Keepä¸»é¢˜å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://keep-docs.xpoet.cn/" >https://keep-docs.xpoet.cn/<i class="fas fa-external-link-alt"></i></a></p><p>Keepä¸»é¢˜é…ç½®æŒ‡å—ï¼š<a class="link"   href="https://keep-docs.xpoet.cn/usage-tutorial/configuration-guide.html" >https://keep-docs.xpoet.cn/usage-tutorial/configuration-guide.html<i class="fas fa-external-link-alt"></i></a></p><p><strong>é€‰æ‹©è¿™ä¸ªä¸»é¢˜çš„å‡ ä¸ªåŸå› ã€‚</strong></p><h3 id="1-å¥½çœ‹"><a href="#1-å¥½çœ‹" class="headerlink" title="1.å¥½çœ‹"></a>1.å¥½çœ‹</h3><p>ç¬¬ä¸€å±é¡µçœ‹èµ·æ¥ä¹Ÿå¾ˆä¸é”™ã€‚å¯ä»¥è‡ªå·±æ¢èƒŒæ™¯å›¾ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_theme_Keep_1.png"                      style="zoom: 50%;"                ><br>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ<code>_config.yml</code>ï¼‰ä¸­ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># First screen</span></span><br><span class="line">  <span class="attr">first_screen:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">background_img:</span> <span class="string">/images/bg.svg</span> <span class="comment"># You can use local image or image external link</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">ä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œï¼›ä¸ç§¯å°æµï¼Œæ— ä»¥æˆæ±Ÿæµ·ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="2-ã€ç›®å½•ã€‘æ•ˆæœä¸é”™"><a href="#2-ã€ç›®å½•ã€‘æ•ˆæœä¸é”™" class="headerlink" title="2.ã€ç›®å½•ã€‘æ•ˆæœä¸é”™"></a>2.ã€ç›®å½•ã€‘æ•ˆæœä¸é”™</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_theme_Keep_2.png"                      style="zoom: 50%;"                >ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ`_config.yml`ï¼‰ä¸­ï¼š<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Automatically add list number to toc.</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>### 3.ã€ä»£ç é«˜äº®ã€‘ä¸é”™<p>æœ‰2ä¸ªæ ·å¼å¯é€‰ï¼Œæœ‰ä¸€é”®å¤åˆ¶ä»£ç åŠŸèƒ½ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_theme_Keep_3.png"                      style="zoom: 70%;"                ><br>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ<code>_config.yml</code>ï¼‰ä¸­ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">mac</span> <span class="comment"># values: default | mac</span></span><br></pre></td></tr></table></figure><h3 id="4-ã€è¯„è®ºã€‘åŠŸèƒ½"><a href="#4-ã€è¯„è®ºã€‘åŠŸèƒ½" class="headerlink" title="4.ã€è¯„è®ºã€‘åŠŸèƒ½"></a>4.ã€è¯„è®ºã€‘åŠŸèƒ½</h3><p>æœ‰3ä¸ªè¯„è®ºå¹³å°å¯é€‰ï¼Œvalineã€gitalkã€twikooï¼Œæˆ‘æ­£å¥½åŸæ¥ç”¨çš„å°±æ˜¯valineã€‚è®¾ç½®ä¸‹ç›´æ¥å°±å¯ä»¥ç”¨äº†ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_theme_Keep_4.png"                      style="zoom: 70%;"                ><br>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ<code>_config.yml</code>ï¼‰ä¸­ï¼ˆæˆ‘é€‰äº†valineï¼Œå°±åªè´´è¿™å‡ å¥äº†ï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">valine</span> <span class="comment"># values: valine | gitalk | twikoo</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Valine</span></span><br><span class="line">  <span class="comment"># See: https://github.com/xCss/Valine</span></span><br><span class="line">  <span class="attr">valine:</span></span><br><span class="line">    <span class="attr">appid:</span> <span class="string">U****************************z</span></span><br><span class="line">    <span class="attr">appkey:</span> <span class="string">y*********************7</span></span><br><span class="line">    <span class="attr">placeholder:</span> <span class="string">è¯·åœ¨æ­¤è¾“å…¥æ‚¨çš„ç•™è¨€</span></span><br></pre></td></tr></table></figure><h3 id="5-ã€ç«™å†…æœç´¢ã€‘åŠŸèƒ½"><a href="#5-ã€ç«™å†…æœç´¢ã€‘åŠŸèƒ½" class="headerlink" title="5.ã€ç«™å†…æœç´¢ã€‘åŠŸèƒ½"></a>5.ã€ç«™å†…æœç´¢ã€‘åŠŸèƒ½</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_theme_Keep_5.png"                      style="zoom: 50%;"                ><h3 id="6-ã€å¤œé—´æ¨¡å¼ã€‘"><a href="#6-ã€å¤œé—´æ¨¡å¼ã€‘" class="headerlink" title="6.ã€å¤œé—´æ¨¡å¼ã€‘"></a>6.ã€å¤œé—´æ¨¡å¼ã€‘</h3><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_theme_Keep_6.png"                                     >]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoå›¾ç‰‡æ’å…¥æ–¹å¼ï¼ˆå…¼å®¹Typoraï¼‰</title>
      <link href="/2022/04/30/Hexo%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E6%96%B9%E5%BC%8F%EF%BC%88%E5%85%BC%E5%AE%B9Typora%EF%BC%89/"/>
      <url>/2022/04/30/Hexo%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E6%96%B9%E5%BC%8F%EF%BC%88%E5%85%BC%E5%AE%B9Typora%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>åŸæ¥ç”¨çš„æ˜¯ Github Pages + Hexoçš„åšå®¢ï¼Œæ‰€ä»¥ç›´æ¥ç”¨ Githubçš„å›¾åºŠå°±å¾ˆæ–¹ä¾¿ã€‚ç»ˆäºå—ä¸äº†Githubçš„è®¿é—®é€Ÿåº¦äº†ï¼Œè‡ªå·±è®¿é—®å½±å“ä¸å¤§ ï¼Œä¸»è¦æ˜¯åˆ«äººè®¿é—®çš„æ—¶å€™ï¼Œå°±ç®—æ­£å¸¸èƒ½çœ‹æ–‡ç« ï¼Œå›¾ç‰‡ä¹Ÿä¼šåŠ¨ä¸åŠ¨å°±åŠ è½½å¤±è´¥ï¼Œå¤´ç–¼~ äºæ˜¯ï¼Œè¿˜æ˜¯æŠŠHexoåšå®¢æ¬åˆ°äº†è‡ªå·±çš„äº‘æœåŠ¡å™¨ä¸Šã€‚ï¼ˆåæ­£æœ¬æ¥å°±æœ‰äº‘æœåŠ¡å™¨åœ¨ç”¨ï¼‰</p><a id="more"></a><p>å½“æŠŠHexoåšå®¢æ¬åˆ°äº‘æœåŠ¡å™¨ä¸Šåï¼Œå°±è¦æŠŠæ–‡ç« ä¸­çš„å›¾ç‰‡ä¹Ÿä¸Šä¼ ä¸€ä¸‹äº†ã€‚å¦‚æœè¿˜æ˜¯ç”¨å›¾åºŠï¼Œä¸ç®¡é˜¿é‡Œäº‘è¿˜æ˜¯è…¾è®¯äº‘ä¸Šéƒ½æœ‰å¯¹åº”çš„å¯¹è±¡å­˜å‚¨å™¨å¯ä»¥ç”¨ï¼Œå°±æ˜¯è¦æ”¶è´¹ã€‚æ‰€ä»¥ç´¢æ€§è¿˜æ˜¯ç›´æ¥æŠŠæ–‡ç« ä¸­çš„å›¾ç‰‡ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ä¸Šå¥½äº†ã€‚</p><p>åœ¨ Hexoæ–‡ç« ä¸­æ’å…¥å›¾ç‰‡æ—¶ï¼Œé€šå¸¸ä½¿ç”¨ç½‘ç«™çš„ç›¸å¯¹è·¯å¾„ã€‚</p><h2 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h2><h3 id="1-æ–°å»º-img-ç›®å½•"><a href="#1-æ–°å»º-img-ç›®å½•" class="headerlink" title="1.æ–°å»º img ç›®å½•"></a>1.æ–°å»º img ç›®å½•</h3><p>åœ¨Hexoçš„ source ç›®å½•ä¸‹æ–°å»º img ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾æ–‡ç« çš„æ‰€æœ‰å›¾ç‰‡ã€‚<br>ï¼ˆHexoçš„æ‰€æœ‰æ–‡ç« éƒ½åœ¨ sourceç›®å½•ä¸‹çš„ _posts ç›®å½•ä¸­ï¼‰</p><p>Hexoçš„sourceç›®å½•ç»“æ„ä¸ºï¼š</p><blockquote><p>source<br>   |â€“ _posts<br>   |â€“ about<br>   |â€“ categories<br>   |â€“ img<br>   |â€“ tags</p></blockquote><p>ç›®å½•åå­—çœ‹ä½ è‡ªå·±å–œæ¬¢ï¼Œä¹Ÿå¯ä»¥ç”¨images.</p><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä½ ç”¨çš„ä¸»é¢˜ç›®å½•ä¸‹çš„sourceç›®å½•ä¸‹ä¹Ÿæœ‰imagesç›®å½•ï¼Œé‚£ä½ å¯ä»¥è·Ÿæˆ‘ä¸€æ ·ï¼Œé¿å…é‡åï¼Œç”¨ img è¿™æ ·çš„åå­—ã€‚å› ä¸ºdeployåä½ ä¼šå‘ç°ï¼Œè¿™ä¿©ä¼šåœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚</p><p>ç½‘ä¸Šè¿˜æœ‰å…¶å®ƒå®‰è£…æ’ä»¶çš„æ–¹æ³•ï¼Œæ˜¯æ¯ç¯‡æ–‡ç« ç”Ÿæˆä¸€ä¸ªç›®å½•æ¥æ”¾å›¾ç‰‡ï¼Œä¸ªäººä¸å–œæ¬¢è¿™ç§ï¼Œå›¾ç‰‡ä¹Ÿæ²¡å¤šå°‘ï¼Œè¿˜æ˜¯å–œæ¬¢ç›´æ¥éƒ½æ”¾åœ¨ä¸€ä¸ªç›®å½•æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><h3 id="2-åœ¨Typoraä¸­è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•"><a href="#2-åœ¨Typoraä¸­è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•" class="headerlink" title="2.åœ¨Typoraä¸­è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•"></a>2.åœ¨Typoraä¸­è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•</h3><p>åœ¨Typoraä¸­ï¼Œã€æ ¼å¼ã€‘èœå•-&gt;ã€å›¾åƒã€‘-&gt;ã€è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•ã€‘ï¼Œé€‰æ‹©åˆšå»ºå¥½çš„ Hexoç›®å½•ä¸‹çš„ source/img çš„ç›®å½•ã€‚</p><p>é€‰æ‹©å¥½åï¼Œåœ¨.mdçš„æ–‡ä»¶å¤´éƒ¨ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>typora-root-url: ..</code>ã€‚<br>æ‰€ä»¥åœ¨æœ‰å›¾ç‰‡çš„æ–‡ç« ä¸­ï¼Œåªéœ€è¦åœ¨å¤´éƒ¨åŠ ä¸Šè¿™ä¸€é¡¹å°±è¡Œã€‚åœ¨æ–‡ç« ä¸­å°±å¯ä»¥æ’å…¥å›¾ç‰‡äº†ã€‚</p><p>ä¾‹å¦‚ï¼Œæ­¤ç¯‡æ–‡ç« çš„å¤´éƒ¨å³ä¸ºï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title: Hexoå›¾ç‰‡æ’å…¥æ–¹å¼ï¼ˆå…¼å®¹Typoraï¼‰</span><br><span class="line">date: 2022-04-30 21:30</span><br><span class="line">typora-root-url: ..</span><br><span class="line">tags: [Hexo]</span><br><span class="line">categories: </span><br><span class="line"><span class="bullet">-</span> Hexo</span><br><span class="line">toc: true</span><br></pre></td></tr></table></figure><p><code>typora-root-url: ..</code> ä¸­çš„ <code>..</code>è¡¨ç¤ºä¸Šä¸€å±‚çˆ¶ç›®å½•ã€‚<br>å› ä¸ºæ–‡ç« çš„.mdæ–‡ä»¶åœ¨ï¼š <code>source/_posts/</code>ä¸­ï¼Œæ‰€ä»¥ <code>..</code>å³è¡¨ç¤ºå›¾ç‰‡æ ¹ç›®å½•ä¸ºsourceç›®å½•ã€‚</p><h3 id="3-æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡çš„ä»£ç "><a href="#3-æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡çš„ä»£ç " class="headerlink" title="3.æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡çš„ä»£ç "></a>3.æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡çš„ä»£ç </h3><p>æ¯”å¦‚æˆ‘åœ¨æ­¤ç¯‡æ–‡ç« è¦æ’å…¥ä¸€å¼ å›¾ç‰‡ï¼Œå›¾ç‰‡ä¸ºï¼š <code>/source/img/test.jpg</code></p><p>é‚£åœ¨æ­¤ç¯‡æ–‡ç« ä¸­åªéœ€è¦å†™ä¸Šä»¥ä¸‹ä»£ç ï¼Œå°±èƒ½åœ¨ Typoraçœ‹åˆ°å›¾ç‰‡ï¼Œä¹Ÿèƒ½åœ¨ hexo deployåä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/img/test.jpg&quot;</span>/&gt;</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flask SQLAlchemy æµ®ç‚¹æ•°ç±»å‹Float ä¸¢å¤±ç²¾åº¦ è§£å†³æ–¹æ³•</title>
      <link href="/2022/04/10/Flask-SQLAlchemy%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8BFloat%E4%B8%A2%E5%A4%B1%E7%B2%BE%E5%BA%A6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
      <url>/2022/04/10/Flask-SQLAlchemy%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8BFloat%E4%B8%A2%E5%A4%B1%E7%B2%BE%E5%BA%A6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>æ•°æ®åº“é‡Œï¼Œç”¨åˆ°floatç±»å‹çš„æ—¶å€™ï¼Œä¼šæœ‰ç²¾åº¦æŸå¤±ã€‚</p><p>æ¯”å¦‚ï¼Œç”¨Flaskçš„SQLAlchemyçš„æ—¶å€™ï¼Œå®šä¹‰æ•°æ®åº“è¡¨å¯¹åº”çš„å­—æ®µçš„æ—¶å€™ï¼Œå¦‚æœMySQLé‡Œå­˜çš„æ˜¯floatç±»å‹ï¼Œé‚£å°±å®šä¹‰æˆ SQLAlchemyçš„Float ç±»å‹ã€‚<br>ç„¶åï¼Œå½“æˆ‘æŠŠä¸€ä¸ª2ä½å°æ•°çš„æ•°å­˜è¿›æ•°æ®åº“ï¼Œä¸€æŸ¥çœ‹ï¼Œæœ‰çš„å˜æˆäº†1ä½å°æ•°ï¼Œæœ‰çš„ç›´æ¥æ— å°æ•°äº†ï¼Œåæ­£å°±å¥‡å¥‡æ€ªæ€ªçš„ã€‚è¿™å°±æ˜¯å› ä¸ºç²¾åº¦æŸå¤±äº†ã€‚</p><a id="more"></a><p>æˆ‘ä»¬ä¸€èˆ¬åœ¨æ“ä½œæ•°æ®åº“çš„æ—¶å€™ï¼Œå¯èƒ½ç”¨ decimal æˆ–è€… double è¿™æ ·çš„å­—æ®µç±»å‹æ¥æ›¿æ¢ float ç±»å‹ï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚</p><p>ä½†æ˜¯ SQLAlchemy é‡Œå¹¶æ²¡æœ‰ç›´æ¥çš„ double æˆ–è€… decimal ç±»å‹ã€‚<br>ç„¶åå°±æ‰¾åˆ°äº†å¯¹åº”çš„ <strong>Numeric</strong> ç±»å‹ï¼Œæ˜¯å¯¹åº” Pythonä¸­çš„Decimal ç±»å‹çš„ã€‚</p><h2 id="è§£å†³æ–¹æ³•è¿‡ç¨‹"><a href="#è§£å†³æ–¹æ³•è¿‡ç¨‹" class="headerlink" title="è§£å†³æ–¹æ³•è¿‡ç¨‹"></a>è§£å†³æ–¹æ³•è¿‡ç¨‹</h2><p>å¦‚æœä¸æƒ³çœ‹è§£å†³çš„è¿‡ç¨‹çš„ï¼Œå»ºè®®ç›´æ¥è·³åˆ°çœ‹ç¬¬3ç‚¹ã€æ€»ç»“ã€‘éƒ¨åˆ†å°±è¡Œã€‚</p><h3 id="1ã€æŠŠå­—æ®µçš„å®šä¹‰ç”±åŸæ¥çš„ï¼š"><a href="#1ã€æŠŠå­—æ®µçš„å®šä¹‰ç”±åŸæ¥çš„ï¼š" class="headerlink" title="1ã€æŠŠå­—æ®µçš„å®šä¹‰ç”±åŸæ¥çš„ï¼š"></a>1ã€æŠŠå­—æ®µçš„å®šä¹‰ç”±åŸæ¥çš„ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">high = db.Column(db.Float)</span><br></pre></td></tr></table></figure><p>æ”¹æˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">high = db.Column(db.Numeric)</span><br></pre></td></tr></table></figure><p>å»æ•°æ®åº“é‡Œä¸€çœ‹è¡¨è®¾è®¡ï¼Œè¿™ä¸ªhighå­—æ®µç±»å‹å·²ç»æˆåŠŸå˜æˆäº† decimal ç±»å‹ã€‚</p><p>ä½†æ˜¯ï¼Œå‘ç°ç›´æ¥æ²¡æœ‰å°æ•°äº†ï¼Œç›´æ¥å°±å˜æˆæ•´æ•°äº†ã€‚<br>ä¸€çœ‹è¡¨è®¾è®¡ï¼Œè™½ç„¶ high å­—æ®µå·²ç»å˜æˆäº† decimal ç±»å‹ï¼Œé•¿åº¦ä¸º10ï¼Œä½†å°æ•°ç‚¹ä½æ•°å´æ˜¯ç©ºçš„ï¼Œé‚£å°±ç›¸å½“äº0ï¼Œæ²¡æœ‰å°æ•°ã€‚</p><h3 id="2ã€è®¾å®šå°æ•°ç‚¹ä½æ•°"><a href="#2ã€è®¾å®šå°æ•°ç‚¹ä½æ•°" class="headerlink" title="2ã€è®¾å®šå°æ•°ç‚¹ä½æ•°"></a>2ã€è®¾å®šå°æ•°ç‚¹ä½æ•°</h3><p>ç„¶åï¼ŒæŸ¥çœ‹äº†SQLAlchemyæ–‡æ¡£ï¼Œ Numeric å®šä¹‰çš„éƒ¨åˆ†ã€‚ä¸»è¦çœ‹ä¸€ä¸‹å‚æ•°æœ‰äº›å•¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">sqlalchemy</span>.<span class="title">types</span>.<span class="title">NUMERIC</span>(<span class="params">precision=<span class="literal">None</span>, scale=<span class="literal">None</span>, decimal_return_scale=<span class="literal">None</span>, asdecimal=<span class="literal">True</span></span>)</span></span><br></pre></td></tr></table></figure><p>ç¬¬1ä¸ªå‚æ•° precisionï¼šé•¿åº¦<br>ç¬¬2ä¸ªå‚æ•° scaleï¼šå°æ•°ç‚¹ä½æ•°</p><p>å› ä¸ºæˆ‘çœ‹åˆ°é•¿åº¦é»˜è®¤å°±æ˜¯10äº†ï¼Œäºæ˜¯ï¼Œå°±å‚»å‚»è§‰å¾—åªè®¾ä¸€ä¸‹scaleå‚æ•°å°±è¡Œã€‚å°±æ”¹æˆäº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">high = db.Column(db.Numeric(scale=<span class="number">2</span>))</span><br></pre></td></tr></table></figure><p>ç»“æœï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œå‹æ ¹æ²¡æ•ˆæœã€‚<br>ç„¶åï¼Œä¸€çœ‹ï¼Œä¸€æƒ³ï¼Œæ‰è§‰å¾—ï¼Œç´¢æ€§è¦æŠŠå‰é¢çš„precision å‚æ•°ä¹Ÿè®¾ä¸€ä¸‹ã€‚å°±æ”¹æˆäº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">high = db.Column(db.Numeric(<span class="number">10</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure><p>æˆåŠŸäº†ï¼ï¼ï¼</p><h3 id="3ã€æ€»ç»“"><a href="#3ã€æ€»ç»“" class="headerlink" title="3ã€æ€»ç»“"></a>3ã€æ€»ç»“</h3><p>åŸæ¥å®šä¹‰æ˜¯ Float ç±»å‹çš„å­—æ®µæ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">high = db.Column(db.Float)</span><br></pre></td></tr></table></figure><p>ç„¶åæ”¹æˆ Numeric ç±»å‹ï¼ˆå¯¹åº”æ•°æ®åº“ä¸­ decimal ç±»å‹ï¼‰æ˜¯è¿™æ ·çš„ï¼ˆä¿ç•™2ä½å°æ•°ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">high = db.Column(db.Numeric(<span class="number">10</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure><h2 id="SQLAlchemy-å¸¸ç”¨çš„å­—æ®µç±»å‹"><a href="#SQLAlchemy-å¸¸ç”¨çš„å­—æ®µç±»å‹" class="headerlink" title="SQLAlchemy å¸¸ç”¨çš„å­—æ®µç±»å‹"></a>SQLAlchemy å¸¸ç”¨çš„å­—æ®µç±»å‹</h2><table><thead><tr><th>ç±»å‹å</th><th>pythonä¸­ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Integer</td><td>int</td><td>æ™®é€šæ•´æ•°ï¼Œä¸€èˆ¬æ˜¯32ä½</td></tr><tr><td>SmallInteger</td><td>int</td><td>å–å€¼èŒƒå›´å°çš„æ•´æ•°,â€”èˆ¬æ˜¯16ä½</td></tr><tr><td>BigInteger</td><td>intæˆ–long</td><td>ä¸é™åˆ¶ç²¾åº¦çš„æ•´æ•°</td></tr><tr><td>Float</td><td>float</td><td>æµ®ç‚¹æ•°</td></tr><tr><td>Numeric</td><td>decimal.Decimal</td><td>å›ºå®šç²¾åº¦æ•°å­—çš„ç±»å‹ï¼Œä¾‹å¦‚ NUMERIC æˆ– DECIMAL</td></tr><tr><td>String</td><td>str</td><td>å˜é•¿å­—ç¬¦ä¸²</td></tr><tr><td>Text</td><td>str</td><td>å˜é•¿å­—ç¬¦ä¸²ï¼Œå¯¹è¾ƒé•¿æˆ–ä¸é™é•¿åº¦çš„å­—ç¬¦ä¸²åšäº†ä¼˜åŒ–</td></tr><tr><td>Boolean</td><td>bool</td><td>å¸ƒå°”å€¼</td></tr><tr><td>Date</td><td>datetime.date</td><td>æ—¶é—´</td></tr><tr><td>Time</td><td>datetime.datetime</td><td>æ—¥æœŸå’Œæ—¶é—´</td></tr><tr><td>LargeBinary</td><td>str</td><td>äºŒè¿›åˆ¶æ–‡ä»¶</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
            <tag> SQLAlchemy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iphoneè¿›å…¥DFUæ¨¡å¼æ–¹æ³•</title>
      <link href="/2022/04/09/iphone%E8%BF%9B%E5%85%A5DFU%E6%A8%A1%E5%BC%8F%E6%96%B9%E6%B3%95/"/>
      <url>/2022/04/09/iphone%E8%BF%9B%E5%85%A5DFU%E6%A8%A1%E5%BC%8F%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>ä»€ä¹ˆæ—¶å€™éœ€è¦è®© iphone è¿›å…¥DFUæ¨¡å¼ï¼Ÿä¸€èˆ¬ä¸¤ç§æƒ…å†µï¼š</p><ul><li>1.æ¯”å¦‚ç³»ç»Ÿå‡çº§ä¸å°å¿ƒä¸­æ–­äº†å¯¼è‡´ç™½è‹¹æœï¼Œæ— æ³•å¼€æœºäº†ï¼›</li><li>2.é‡åˆ·ç³»ç»Ÿï¼ˆå°±æ˜¯é‡è£…ç³»ç»Ÿï¼Œå¿˜è®°appidå¯†ç ä¹Ÿå¯ä»¥é‡åˆ·ç³»ç»Ÿï¼‰ã€‚</li></ul><a id="more"></a><h2 id="ä¸€ã€æ²¡æœ‰Homeé”®çš„è‹¹æœæ‰‹æœº"><a href="#ä¸€ã€æ²¡æœ‰Homeé”®çš„è‹¹æœæ‰‹æœº" class="headerlink" title="ä¸€ã€æ²¡æœ‰Homeé”®çš„è‹¹æœæ‰‹æœº"></a>ä¸€ã€æ²¡æœ‰Homeé”®çš„è‹¹æœæ‰‹æœº</h2><p>iphone X å¼€å§‹ä¹‹åçš„æ‰‹æœºï¼Œå…¨é¢å±ï¼Œæ²¡æœ‰Homeé”®äº†ã€‚</p><h3 id="è¿›å…¥DFUæ¨¡å¼æ–¹æ³•"><a href="#è¿›å…¥DFUæ¨¡å¼æ–¹æ³•" class="headerlink" title="è¿›å…¥DFUæ¨¡å¼æ–¹æ³•"></a>è¿›å…¥DFUæ¨¡å¼æ–¹æ³•</h3><ul><li>1.å°†æ‰‹æœºç”¨åŸè£…æ•°æ®çº¿è¿æ¥ä¸Šç”µè„‘ï¼Œæ‰“å¼€ iTunes/ Finder</li><li>2.æŒ‰å‹ä¸€ä¸‹ã€ŒéŸ³é‡é”®å¢åŠ ï¼ˆ+ï¼‰ã€ï¼ˆä¸ç”¨æŒç»­å‹ä½ï¼‰</li><li>3.æŒ‰å‹ä¸€ä¸‹ã€ŒéŸ³é‡é”®é™ä½ï¼ˆ-ï¼‰ã€ï¼ˆä¸ç”¨æŒç»­å‹ä½ï¼‰</li><li>4.é•¿æŒ‰ã€Œä¾§è¾¹ç”µæºé”®ã€çº¦10ç§’ï¼Œç›´åˆ°iPhoneå‡ºç°å¼ºåˆ¶å…³æœºå±å¹•å˜é»‘</li><li>5.å¿«é€Ÿé•¿æŒ‰ã€ŒéŸ³é‡é”®é™ä½ï¼ˆ-ï¼‰ã€ï¼ˆç”µæºé”®ä¸è¦æ”¾å¼€ç»§ç»­å‹ä½ï¼‰çº¦5ç§’åæ¾å¼€ã€Œä¾§è¾¹ç”µæºé”®ã€</li><li>6.ç»§ç»­é•¿æŒ‰ã€ŒéŸ³é‡é”®é™ä½ï¼ˆ-ï¼‰ã€çº¦10ç§’ä¼šè¿›å…¥DFUæ¨¡å¼ï¼Œæ­¤æ—¶ç”»é¢ä¼šæ˜¯å‘ˆç°é»‘è‰²æ²¡ä¿¡æ¯ç”»é¢</li><li>7.iTunes/ Finderä¸Šå°±ä¼šå‡ºç°è¦ä¸ºè®¾å¤‡æ›´æ–°æˆ–æ¢å¤iPhoneçš„æç¤ºç”»é¢</li></ul><h3 id="é€€å‡ºDFUæ¨¡å¼æ–¹æ³•"><a href="#é€€å‡ºDFUæ¨¡å¼æ–¹æ³•" class="headerlink" title="é€€å‡ºDFUæ¨¡å¼æ–¹æ³•"></a>é€€å‡ºDFUæ¨¡å¼æ–¹æ³•</h3><ul><li>1.æŒ‰å‹ä¸€ä¸‹ã€ŒéŸ³é‡é”®å¢åŠ ï¼ˆ+ï¼‰ã€ï¼ˆä¸ç”¨æŒç»­å‹ä½ï¼‰</li><li>2.æŒ‰å‹ä¸€ä¸‹ã€ŒéŸ³é‡é”®é™ä½ï¼ˆ-ï¼‰ã€ï¼ˆä¸ç”¨æŒç»­å‹ä½ï¼‰</li><li>3.æœ€åé•¿æŒ‰ã€Œä¾§è¾¹ç”µæºé”®ã€çº¦10ç§’åï¼Œç›´åˆ°å±å¹•å˜æš—ï¼Œå‡ºç°Apple Logoå†æ”¾å¼€ã€‚</li></ul><h2 id="äºŒã€æœ‰Homeé”®çš„è‹¹æœæ‰‹æœº"><a href="#äºŒã€æœ‰Homeé”®çš„è‹¹æœæ‰‹æœº" class="headerlink" title="äºŒã€æœ‰Homeé”®çš„è‹¹æœæ‰‹æœº"></a>äºŒã€æœ‰Homeé”®çš„è‹¹æœæ‰‹æœº</h2><p>iphone X ä¹‹å‰çš„æ—§å‹å·çš„è‹¹æœæ‰‹æœºï¼Œéƒ½æœ‰ Homeé”®ã€‚</p><h3 id="è¿›å…¥DFUæ¨¡å¼æ–¹æ³•-1"><a href="#è¿›å…¥DFUæ¨¡å¼æ–¹æ³•-1" class="headerlink" title="è¿›å…¥DFUæ¨¡å¼æ–¹æ³•"></a>è¿›å…¥DFUæ¨¡å¼æ–¹æ³•</h3><ul><li>1.å°†æ‰‹æœºç”¨åŸè£…æ•°æ®çº¿è¿æ¥ä¸Šç”µè„‘ï¼Œæ‰“å¼€ iTunes</li><li>2.åŒæ—¶æŒ‰ä½é¡¶éƒ¨çš„ã€Œç”µæºé”®ã€+ã€ŒHOMEé”®ã€10ç§’ï¼ˆç›´åˆ°å±å¹•å˜é»‘ï¼‰</li><li>3.ä»…ä»…æ¾å¼€ã€Œç”µæºé”®ã€ï¼Œç»§ç»­æŒ‰ä½ã€ŒHOMEé”®ã€ï¼Œå†ç­‰å¾…15ç§’</li><li>4.iTunesè¯†åˆ«å‡ºç°ï¼ŒDFUæ¨¡å¼é©±åŠ¨æˆåŠŸï¼Œä½†æ˜¯å±å¹•å§‹ç»ˆæ˜¯é»‘çš„ï¼è¿™æ—¶æˆåŠŸè¿›å…¥DFUæ¨¡å¼ã€‚</li></ul><h2 id="ä¸‰ã€é‡åˆ·ç³»ç»Ÿ"><a href="#ä¸‰ã€é‡åˆ·ç³»ç»Ÿ" class="headerlink" title="ä¸‰ã€é‡åˆ·ç³»ç»Ÿ"></a>ä¸‰ã€é‡åˆ·ç³»ç»Ÿ</h2><ul><li>1ã€è¿›å…¥DFUæ¨¡å¼</li><li>2ã€æ‰“å¼€itunesæ—¶ä¼šæç¤ºæ£€æµ‹åˆ°ä¸€ä¸ªå¤„äºæ¢å¤æ¨¡å¼çš„iPhoneï¼Œç‚¹å‡»ç¡®å®š</li><li>3ã€æŒ‰ä½shifté”®ï¼Œå¹¶ç”¨é¼ æ ‡ç‚¹å‡»â€œæ¢å¤â€æŒ‰é’®ï¼Œå¼¹å‡ºé€‰æ‹©å›ºä»¶çš„çª—å£åæ¾å¼€Shifté”®ï¼Œé€‰æ‹©å®˜æ–¹å›ºä»¶ã€‚</li></ul><p>PS.é‡åˆ·ç³»ç»Ÿå‰æŠŠiTunesæ›´æ–°åˆ°æœ€æ–°ï¼Œå…ˆä¸‹è½½éœ€è¦åˆ·çš„ç³»ç»Ÿï¼Œè¿™æ ·æ¯”è¾ƒæ–¹ä¾¿ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> iphone </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iphone </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Uç›˜å¯åŠ¨è¿›å…¥PEç³»ç»Ÿ å¿«æ·é”®</title>
      <link href="/2022/04/09/u%E7%9B%98%E5%90%AF%E5%8A%A8%E8%BF%9B%E5%85%A5PE%E7%B3%BB%E7%BB%9F%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/2022/04/09/u%E7%9B%98%E5%90%AF%E5%8A%A8%E8%BF%9B%E5%85%A5PE%E7%B3%BB%E7%BB%9F%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<p>ç”¨Uç›˜è£…ç³»ç»Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦è®¾ç½®ä¸ºä»Uç›˜å¯åŠ¨ï¼Œå¯ä»¥è¿›å…¥BIOSåï¼Œè®¾ç½®æˆä¼˜å…ˆä»Uç›˜å¯åŠ¨ã€‚<br>è¿˜æœ‰ä¸ªæ¯”è¾ƒå¿«æ·çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥ç”¨å¿«æ·é”®è¿›å…¥ï¼Œé€‰æ‹©è¿›å…¥Uç›˜PEç³»ç»Ÿã€‚</p><a id="more"></a><h2 id="å„ç§å“ç‰Œçš„Uç›˜å¯åŠ¨çš„å¿«æ·é”®"><a href="#å„ç§å“ç‰Œçš„Uç›˜å¯åŠ¨çš„å¿«æ·é”®" class="headerlink" title="å„ç§å“ç‰Œçš„Uç›˜å¯åŠ¨çš„å¿«æ·é”®"></a>å„ç§å“ç‰Œçš„Uç›˜å¯åŠ¨çš„å¿«æ·é”®</h2><h3 id="ã€ç»„è£…ç”µè„‘ä¸»æ¿ã€‘"><a href="#ã€ç»„è£…ç”µè„‘ä¸»æ¿ã€‘" class="headerlink" title="ã€ç»„è£…ç”µè„‘ä¸»æ¿ã€‘"></a>ã€ç»„è£…ç”µè„‘ä¸»æ¿ã€‘</h3><table><thead><tr><th>ä¸»æ¿å“ç‰Œ</th><th>å¯åŠ¨æŒ‰é”®</th></tr></thead><tbody><tr><td>åç¡•ä¸»æ¿</td><td>F8</td></tr><tr><td>æŠ€å˜‰ä¸»æ¿</td><td>F12</td></tr><tr><td>å¾®æ˜Ÿä¸»æ¿</td><td>F11</td></tr><tr><td>æ˜ æ³°ä¸»æ¿</td><td>F9</td></tr><tr><td>æ¢…æ·ä¸»æ¿</td><td>ESCæˆ–F12</td></tr><tr><td>ä¸ƒå½©è™¹ä¸»æ¿</td><td>ESCæˆ–F11</td></tr><tr><td>åæ“ä¸»æ¿</td><td>F11</td></tr><tr><td>æ–¯å·´è¾¾å¡ä¸»æ¿</td><td>ESC</td></tr><tr><td>æ˜‚è¾¾ä¸»æ¿</td><td>F11</td></tr><tr><td>åŒæ•ä¸»æ¿</td><td>ESC</td></tr><tr><td>ç¿”å‡ä¸»æ¿</td><td>F10</td></tr><tr><td>ç²¾è‹±ä¸»æ¿</td><td>ESCæˆ–F12</td></tr><tr><td>å† ç›Ÿä¸»æ¿</td><td>F11æˆ–F12</td></tr><tr><td>å¯Œå£«åº·ä¸»æ¿</td><td>ESCæˆ–F12</td></tr><tr><td>é¡¶æ˜Ÿä¸»æ¿</td><td>F11æˆ–F12</td></tr><tr><td>é“­ç‘„ä¸»æ¿</td><td>ESC</td></tr><tr><td>ç›ˆé€šä¸»æ¿</td><td>F8</td></tr><tr><td>æ·æ³¢ä¸»æ¿</td><td>ESC</td></tr><tr><td>Intelä¸»æ¿</td><td>F12</td></tr><tr><td>æ°å¾®ä¸»æ¿</td><td>ESCæˆ–F8</td></tr><tr><td>è‡´é“­ä¸»æ¿</td><td>F12</td></tr><tr><td>ç£è‹±ä¸»æ¿</td><td>ESC</td></tr><tr><td>ç£æ­£ä¸»æ¿</td><td>ESC</td></tr><tr><td>å† é“­ä¸»æ¿</td><td>F9</td></tr></tbody></table><h3 id="ã€å“ç‰Œç¬”è®°æœ¬ç”µè„‘ã€‘"><a href="#ã€å“ç‰Œç¬”è®°æœ¬ç”µè„‘ã€‘" class="headerlink" title="ã€å“ç‰Œç¬”è®°æœ¬ç”µè„‘ã€‘"></a>ã€å“ç‰Œç¬”è®°æœ¬ç”µè„‘ã€‘</h3><table><thead><tr><th>ç¬”è®°æœ¬å“ç‰Œ</th><th>å¯åŠ¨æŒ‰é”®</th></tr></thead><tbody><tr><td>è‹¹æœç¬”è®°æœ¬</td><td>å¼€æœºé•¿æŒ‰â€œoptionâ€é”®</td></tr><tr><td>è”æƒ³ç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>è”æƒ³Thinkpad</td><td>F12</td></tr><tr><td><strong>åç¡•ç¬”è®°æœ¬</strong></td><td><strong>ESC</strong></td></tr><tr><td>å®åŸºç¬”è®°æœ¬</td><td>F12</td></tr><tr><td><strong>æƒ æ™®ç¬”è®°æœ¬</strong></td><td><strong>F9</strong></td></tr><tr><td><strong>æˆ´å°”ç¬”è®°æœ¬</strong></td><td><strong>F12</strong></td></tr><tr><td><strong>ç´¢å°¼ç¬”è®°æœ¬</strong></td><td><strong>ESC</strong></td></tr><tr><td>ç¥èˆŸç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>ä¸œèŠç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>ä¸‰æ˜Ÿç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>IBMç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>å¯Œå£«é€šç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>æµ·å°”ç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>æ–¹æ­£ç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>æ¸…ååŒæ–¹ç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>å¾®æ˜Ÿç¬”è®°æœ¬</td><td>F11</td></tr><tr><td>æ˜åŸºç¬”è®°æœ¬</td><td>F9</td></tr><tr><td>æŠ€å˜‰ç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>Gatewayç¬”è®°æœ¬</td><td>F12</td></tr><tr><td>eMachinesç¬”è®°æœ¬</td><td>F12</td></tr></tbody></table><h3 id="ã€å“ç‰Œå°å¼ç”µè„‘ã€‘"><a href="#ã€å“ç‰Œå°å¼ç”µè„‘ã€‘" class="headerlink" title="ã€å“ç‰Œå°å¼ç”µè„‘ã€‘"></a>ã€å“ç‰Œå°å¼ç”µè„‘ã€‘</h3><table><thead><tr><th>å°å¼ç”µè„‘å“ç‰Œ</th><th>å¯åŠ¨æŒ‰é”®</th></tr></thead><tbody><tr><td>è”æƒ³å°å¼ç”µè„‘</td><td>F12</td></tr><tr><td>æƒ æ™®å°å¼ç”µè„‘</td><td>F12</td></tr><tr><td>å®åŸºå°å¼ç”µè„‘</td><td>F12</td></tr><tr><td><strong>æˆ´å°”å°å¼ç”µè„‘</strong></td><td><strong>ESC</strong></td></tr><tr><td>ç¥èˆŸå°å¼ç”µè„‘</td><td>F12</td></tr><tr><td><strong>åç¡•å°å¼ç”µè„‘</strong></td><td><strong>F8</strong></td></tr><tr><td>æ–¹æ­£å°å¼ç”µè„‘</td><td>F12</td></tr><tr><td>æ¸…ååŒæ–¹å°å¼ç”µè„‘</td><td>F12</td></tr><tr><td>æµ·å°”å°å¼ç”µè„‘</td><td>F12</td></tr><tr><td>æ˜åŸºå°å¼ç”µè„‘</td><td>F8</td></tr></tbody></table><p>PS.ä¸€èˆ¬å°å¼çš„é»˜è®¤å¯èƒ½éƒ½æ˜¯ä¸å…è®¸ä»USBå¯åŠ¨çš„ï¼Œæ‰€ä»¥è¦å…ˆåœ¨BIOSçš„â€Advancedâ€é€‰é¡¹ä¸­çš„â€USB Configurationâ€é€‰é¡¹ä¸­æŠŠUSB Controller, USB 2.0 Controllerè¿™äº›é€‰é¡¹ä»Disabledæ”¹æˆEnabledã€‚<br>ï¼ˆåªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œä¸åŒçš„ç”µè„‘ï¼Œä¹Ÿå¯èƒ½ä¸åœ¨Advanedé€‰é¡¹ä¸­ï¼Œåæ­£éƒ½è¦åœ¨BIOSä¸­æŠŠUSBçš„è¿™ä¸ªç›¸å…³é¡¹æ”¹æˆ Enabledã€‚ï¼‰</p><p>ç„¶åå†è®¾ç½®æˆä»Uç›˜å¯åŠ¨ï¼Œæˆ–è€…ç”¨çƒ­é”®æ–¹å¼ç›´æ¥é€‰æ‹©ä»Uç›˜å¯åŠ¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>you-get ä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2022/04/09/you-get%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2022/04/09/you-get%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>you-get å’Œ youtube-dl å·®ä¸å¤šï¼Œéƒ½æ˜¯ä¸€æ¬¾é‡‡ç”¨Python ç¼–å†™çš„å…è´¹ã€å¼€æºã€å‘½ä»¤è¡Œç¨‹åºï¼Œä¸»è¦æ˜¯ç”¨æ¥ä¸‹è½½è§†é¢‘çš„ã€‚<br>youtube-dl ä¸»è¦ç”¨æ¥ä¸‹è½½Youtubeä¸Šçš„è§†é¢‘ï¼Œåˆ«çš„èƒ½ç”¨you-getä¸‹è½½çš„å°±ç”¨you-getï¼Œå› ä¸ºç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€ç®€å•ã€‚</p><a id="more"></a><h2 id="ä¸€ã€å®‰è£…"><a href="#ä¸€ã€å®‰è£…" class="headerlink" title="ä¸€ã€å®‰è£…"></a>ä¸€ã€å®‰è£…</h2><ul><li>1ã€å®‰è£… pythonï¼ˆ<a class="link"   href="https://www.python.org/" >https://www.python.org/<i class="fas fa-external-link-alt"></i></a> ï¼‰</li><li>2ã€å®‰è£… ffmpeg ï¼ˆ<a class="link"   href="http://ffmpeg.org/" >http://ffmpeg.org/<i class="fas fa-external-link-alt"></i></a> ï¼‰</li><li>3ã€å®‰è£… RTMPDumpï¼ˆå¯é€‰ï¼‰</li><li>4ã€å®‰è£…you-get ï¼ˆpip3 install you-get æˆ–ä» <a class="link"   href="https://github.com/soimort/you-get/releases/latest" >https://github.com/soimort/you-get/releases/latest<i class="fas fa-external-link-alt"></i></a> ä¸‹è½½ï¼‰</li></ul><p>å› ä¸ºå‘½ä»¤è¡Œéœ€è¦ç”¨åˆ° you-getï¼Œæ‰€ä»¥æŠŠffmpegã€you-get éƒ½æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚</p><p>you-get é¡¹ç›®githubåœ°å€ï¼š<a class="link"   href="https://github.com/soimort/you-get" >https://github.com/soimort/you-get<i class="fas fa-external-link-alt"></i></a></p><p>you-getä¸­æ–‡è¯´æ˜æ–‡æ¡£ï¼š<a class="link"   href="https://github.com/soimort/you-get/wiki/%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E" >https://github.com/soimort/you-get/wiki/%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E<i class="fas fa-external-link-alt"></i></a></p><h2 id="äºŒã€ä¸‹è½½è§†é¢‘"><a href="#äºŒã€ä¸‹è½½è§†é¢‘" class="headerlink" title="äºŒã€ä¸‹è½½è§†é¢‘"></a>äºŒã€ä¸‹è½½è§†é¢‘</h2><p>1ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get -i [url]</span><br></pre></td></tr></table></figure><p>æ ‡æœ‰ DEFAULTçš„ä¸ºé»˜è®¤ç”»è´¨ã€‚</p><p>2ã€ä¸‹è½½è§†é¢‘</p><p>1).ä¸‹è½½é»˜è®¤ç”»è´¨ï¼ˆå³DEFAULTï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get [url]</span><br></pre></td></tr></table></figure><p>2).é€‰æ‹©ç”»è´¨ä¸‹è½½ï¼ˆé€‰æ‹©itagï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get --itag=137 [url]</span><br></pre></td></tr></table></figure><p>3).è§†é¢‘ä¸­åµŒå…¥å­—å¹•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get --embed-subs [url]</span><br></pre></td></tr></table></figure><p>4)ã€ç”¨ä»£ç†ä¸‹è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get -x 127.0.0.1:1080 [url]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
            <tag> ffmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>youtube-dl ä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2022/04/09/youtube-dl%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2022/04/09/youtube-dl%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>youtube-dl æ˜¯ä¸€æ¬¾é‡‡ç”¨Python ç¼–å†™çš„å…è´¹ã€å¼€æºã€å‘½ä»¤è¡Œç¨‹åºï¼Œä¸»è¦æ˜¯ç”¨æ¥ä¸‹è½½è§†é¢‘çš„ã€‚<br>ä¸»è¦ä¸‹è½½Youtubeä¸Šçš„è§†é¢‘ï¼Œè¿˜æœ‰å›½å†…å¤–å…¶å®ƒä¸€äº›è§†é¢‘ç½‘ç«™çš„ï¼Œm3u8çš„å¥½åƒä¼šæœ‰ç‚¹é—®é¢˜ï¼Œä¸‹è½½ä¸äº†ã€‚</p><a id="more"></a><h2 id="ä¸€ã€å®‰è£…ç¯å¢ƒ"><a href="#ä¸€ã€å®‰è£…ç¯å¢ƒ" class="headerlink" title="ä¸€ã€å®‰è£…ç¯å¢ƒ"></a>ä¸€ã€å®‰è£…ç¯å¢ƒ</h2><ul><li>1ã€å®‰è£… pythonï¼ˆ<a class="link"   href="https://www.python.org/" >https://www.python.org/<i class="fas fa-external-link-alt"></i></a> ï¼‰</li><li>2ã€å®‰è£… ffmpeg ï¼ˆ<a class="link"   href="http://ffmpeg.org/" >http://ffmpeg.org/<i class="fas fa-external-link-alt"></i></a> ï¼‰</li><li>3ã€å®‰è£… youtube-dl ï¼ˆ<a class="link"   href="https://github.com/ytdl-org/youtube-dl/releases" >https://github.com/ytdl-org/youtube-dl/releases<i class="fas fa-external-link-alt"></i></a> ï¼‰</li></ul><p>å› ä¸ºå‘½ä»¤è¡Œéœ€è¦ç”¨åˆ° youtube-dlï¼Œæ‰€ä»¥æŠŠffmpegã€youtube-dl.exe éƒ½æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚</p><p>youtube-dl é¡¹ç›®githubåœ°å€ï¼š<a class="link"   href="https://github.com/rg3/youtube-dl/" >https://github.com/rg3/youtube-dl/<i class="fas fa-external-link-alt"></i></a> </p><h2 id="äºŒã€ä¸‹è½½YouTubeè§†é¢‘"><a href="#äºŒã€ä¸‹è½½YouTubeè§†é¢‘" class="headerlink" title="äºŒã€ä¸‹è½½YouTubeè§†é¢‘"></a>äºŒã€ä¸‹è½½YouTubeè§†é¢‘</h2><h4 id="1ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹ï¼Œåªçœ‹ä¸ä¸‹è½½"><a href="#1ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹ï¼Œåªçœ‹ä¸ä¸‹è½½" class="headerlink" title="1ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹ï¼Œåªçœ‹ä¸ä¸‹è½½"></a>1ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹ï¼Œåªçœ‹ä¸ä¸‹è½½</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl -F [url]</span><br></pre></td></tr></table></figure><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/youtube-dl_1.png"                                     ><h4 id="2ã€ä¸‹è½½è§†é¢‘å’ŒéŸ³é¢‘å¹¶ä¸»åŠ¨åˆå¹¶"><a href="#2ã€ä¸‹è½½è§†é¢‘å’ŒéŸ³é¢‘å¹¶ä¸»åŠ¨åˆå¹¶" class="headerlink" title="2ã€ä¸‹è½½è§†é¢‘å’ŒéŸ³é¢‘å¹¶ä¸»åŠ¨åˆå¹¶"></a>2ã€ä¸‹è½½è§†é¢‘å’ŒéŸ³é¢‘å¹¶ä¸»åŠ¨åˆå¹¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl -f [format code] [url]    //ä¸‹è½½æŒ‡å®šæ ¼å¼çš„è§†é¢‘å’ŒéŸ³é¢‘ï¼Œå¦‚ youtube-dl -f 299+140 [url]youtube-dl -f bestvideo+bestaudio [url]    //ä¸‹è½½è´¨é‡æœ€å¥½çš„è§†é¢‘å’ŒéŸ³é¢‘</span><br></pre></td></tr></table></figure><p>å¦‚æœç³»ç»Ÿä¸­å®‰è£…äº†ffmpegçš„è¯ï¼Œyoutube-dlä¼šè‡ªåŠ¨åˆå¹¶å·²ç»ä¸‹è½½å¥½çš„éŸ³é¢‘å’Œè§†é¢‘ï¼Œç„¶åè‡ªåŠ¨åˆ é™¤å•ç‹¬çš„éŸ³è§†é¢‘æ–‡ä»¶ã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/youtube-dl_2.png"                                     ><p><strong>æŠŠä¸‹è½½çš„è§†é¢‘è½¬æ¢æˆmp4æ ¼å¼</strong><br>åŠ ä¸Š<code>--merge-output-format mp4</code> å‚æ•°</p><h4 id="3ã€ä¸‹è½½å­—å¹•"><a href="#3ã€ä¸‹è½½å­—å¹•" class="headerlink" title="3ã€ä¸‹è½½å­—å¹•"></a>3ã€ä¸‹è½½å­—å¹•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">--list-subs åˆ—å‡ºæ‰€æœ‰å¯ä»¥ä¸‹è½½çš„å­—å¹•ï¼ŒåŒ…æ‹¬è¯­è¨€ä»¥åŠæ ¼å¼</span><br><span class="line">--write-subä¸‹è½½upä¸»è‡ªå·±ä¸Šä¼ çš„å­—å¹•ï¼ˆéyoutubeè‡ªåŠ¨ç”Ÿæˆï¼‰</span><br><span class="line">--write-auto-sub ä¸‹è½½youtubeè‡ªåŠ¨ç”Ÿæˆçš„å­—å¹•</span><br><span class="line">--sub-lang [LANGS] é€‰æ‹©ä¸‹è½½å­—å¹•çš„è¯­è¨€</span><br></pre></td></tr></table></figure><p>1).æŸ¥çœ‹è§†é¢‘æ”¯æŒå“ªäº›è¯­è¨€çš„å­—å¹•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl --list-subs [url]</span><br></pre></td></tr></table></figure><p>2).ä¸‹è½½å­—å¹•<br>a.åªä¸‹è½½å­—å¹•ç”¨æˆ·ä¸Šä¼ çš„ zh-Hans å­—å¹•ï¼Œä¸ä¸‹è½½è§†é¢‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl [url] --write-sub --sub-lang zh-Hans --skip-download</span><br></pre></td></tr></table></figure><p>b.æŠŠä¸‹è½½çš„vttå­—å¹•è½¬æ¢æˆsrtå­—å¹•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl [url] --write-sub --sub-lang zh-Hans --sub-format vtt --convert-subs srt --skip-download</span><br></pre></td></tr></table></figure><p>3).åŒæ—¶ä¸‹è½½è§†é¢‘å’Œå­—å¹•ï¼ˆå­—å¹•åµŒå…¥è§†é¢‘ï¼‰<br>åŠ ä¸Šå‚æ•°ï¼šâ€“embed-sub -i</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl.exe [url] -f 299+140 --write-sub --sub-lang zh-Hans --embed-sub -i</span><br></pre></td></tr></table></figure><p>ä¼šä¸‹è½½ä¸€ä¸ªè§†é¢‘æ–‡ä»¶ï¼ˆå†…åµŒå­—å¹•ï¼‰ã€‚</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/youtube-dl_3.png"                                     ><h4 id="4ã€æ€»ç»“"><a href="#4ã€æ€»ç»“" class="headerlink" title="4ã€æ€»ç»“"></a>4ã€æ€»ç»“</h4><p>1).æŸ¥çœ‹è§†é¢‘æ”¯æŒå“ªäº›è¯­è¨€çš„å­—å¹•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl --list-subs [url]</span><br></pre></td></tr></table></figure><p>2).ä¸‹è½½è§†é¢‘ï¼ˆå«å­—å¹•ï¼Œè´¨é‡æœ€å¥½çš„è§†é¢‘å’ŒéŸ³é¢‘ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl [url] -f <span class="string">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#x27;</span> --write-sub --sub-lang zh-Hans --embed-sub -i</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ‰¹é‡ä¸‹è½½è§†é¢‘"><a href="#ä¸‰ã€æ‰¹é‡ä¸‹è½½è§†é¢‘" class="headerlink" title="ä¸‰ã€æ‰¹é‡ä¸‹è½½è§†é¢‘"></a>ä¸‰ã€æ‰¹é‡ä¸‹è½½è§†é¢‘</h2><h4 id="1ã€ä¸‹è½½æ’­æ”¾åˆ—è¡¨"><a href="#1ã€ä¸‹è½½æ’­æ”¾åˆ—è¡¨" class="headerlink" title="1ã€ä¸‹è½½æ’­æ”¾åˆ—è¡¨"></a>1ã€ä¸‹è½½æ’­æ”¾åˆ—è¡¨</h4><p>å‚æ•°ï¼šâ€“yes-playlist -f -k ListURL</p><p>1).ä¸‹è½½YouTubeæ’­æ”¾åˆ—è¡¨ï¼ˆ-i åé¢è·Ÿçš„å³åˆ—è¡¨åï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl -f <span class="string">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#x27;</span> --write-sub --sub-lang zh-Hans --embed-sub -i PLBAGcD3siRDguyYYzhVwZ3tLvOyyG5k6K</span><br></pre></td></tr></table></figure><p>2).ä¸‹è½½æ’­æ”¾åˆ—è¡¨</p><ul><li>è¦ä»æ’­æ”¾åˆ—è¡¨ä¸‹è½½ç¬¬ 10 ä¸ªæ–‡ä»¶ï¼Œå¯ä½¿ç”¨ï¼šyoutube-dl â€“playlist-items 10 [playlist_url]</li><li>è¦ä¸‹è½½å¤šä¸ªæŒ‡å®šçš„æ–‡ä»¶ï¼Œåªéœ€ç”¨é€—å·åˆ†éš”ï¼šyoutube-dl â€“playlist-items 2,3,7,10 [playlist_url]</li><li>ä»ç¬¬ 10 ä¸ªå¼€å§‹ï¼Œç›´æ¥ä¸‹è½½å®Œæ•´ä¸ªåˆ—è¡¨ï¼šyoutube-dl â€“playlist-start 10 [playlist_url]</li><li>åœ¨æ’­æ”¾åˆ—è¡¨ä¸­ä»…ä¸‹è½½ä»ç¬¬ 2 åˆ°ç¬¬ 5 çš„æ–‡ä»¶ï¼šyoutube-dl â€“playlist-start 2 â€“playlist-end 5 [playlist_url]</li></ul><h4 id="2ã€æ‰¹é‡ä¸‹è½½"><a href="#2ã€æ‰¹é‡ä¸‹è½½" class="headerlink" title="2ã€æ‰¹é‡ä¸‹è½½"></a>2ã€æ‰¹é‡ä¸‹è½½</h4><p>æ–°å»ºä¸€ä¸ª list.bat æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">url1</span></span><br><span class="line"><span class="string">url2</span></span><br><span class="line"><span class="string">url3</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl --batch-file list.bat</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl -a list.txt</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl -f <span class="string">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#x27;</span> --write-sub --sub-lang zh-CN --embed-sub -i -a list.txt</span><br></pre></td></tr></table></figure><h2 id="äº”ã€æŠ¥é”™"><a href="#äº”ã€æŠ¥é”™" class="headerlink" title="äº”ã€æŠ¥é”™"></a>äº”ã€æŠ¥é”™</h2><p>å¦‚æœæç¤º HTTP Error 403: Forbidden é”™è¯¯ï¼Œè¿è¡Œä¸€ä¸‹ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl --rm-cache-dir</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
            <tag> ffmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Pagesç»‘å®šä¸ªäººåŸŸå</title>
      <link href="/2022/04/09/Github%20Pages%E7%BB%91%E5%AE%9A%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D/"/>
      <url>/2022/04/09/Github%20Pages%E7%BB%91%E5%AE%9A%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<p>ç”¨Github Pages + Hexoæ­å»ºä¸ªäººåšå®¢åï¼ŒåŸŸåéƒ½æ˜¯[githubç”¨æˆ·å].github.ioï¼Œå¦‚æœæƒ³æ¢æˆè‡ªå·±çš„åŸŸåï¼Œæ¯”å¦‚æˆ‘çš„githubä¸Šçš„ç«™ç‚¹æ˜¯ï¼šhduzn.github.ioï¼Œè¦ç»‘å®šçš„åŸŸåä¸ºï¼š<a class="link"   href="http://www.i007it.com/" >www.i007it.com<i class="fas fa-external-link-alt"></i></a></p><a id="more"></a><h2 id="1-åœ¨Githubä¸Šè¿›è¡Œè®¾ç½®"><a href="#1-åœ¨Githubä¸Šè¿›è¡Œè®¾ç½®" class="headerlink" title="1.åœ¨Githubä¸Šè¿›è¡Œè®¾ç½®"></a>1.åœ¨Githubä¸Šè¿›è¡Œè®¾ç½®</h2><ul><li>æ‰“å¼€Githubä¸Š[githubç”¨æˆ·å].github.ioçš„é…ç½®</li><li>æ‰¾åˆ°<strong>ã€Settingsã€‘</strong>ä¸­ï¼Œé¡µé¢æ‹‰åˆ°æœ€ä¸‹é¢<strong>ã€Github Pagesã€‘</strong>é€‰é¡¹ï¼Œ</li><li>åœ¨Custom domainé¡¹ä¸­è¾“å…¥åŸŸåï¼ši007it.comåï¼ŒSaveä¿å­˜ä¸€ä¸‹ã€‚<img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Github_Pages_domain_name_1.png"                                     ><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Github_Pages_domain_name_2.png"                                     ></li></ul><h2 id="2-æ·»åŠ CNAMEæ–‡ä»¶"><a href="#2-æ·»åŠ CNAMEæ–‡ä»¶" class="headerlink" title="2.æ·»åŠ CNAMEæ–‡ä»¶"></a>2.æ·»åŠ CNAMEæ–‡ä»¶</h2><p>æ‰“å¼€Hexo\source ç›®å½•ï¼Œæ·»åŠ ä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€ï¼Œå†…å®¹å¦‚ä¸‹ï¼ˆåªæœ‰ä¸€è¡ŒåŸŸåï¼‰ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">i007it.com</span></span><br></pre></td></tr></table></figure><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Github_Pages_domain_name_3.png"                                     ><p>PS.åŸŸåå‰æ²¡æœ‰åŠ â€œwwwâ€ï¼Œå¦‚æœåŠ äº†â€œwwwâ€ï¼Œé‚£å°±å¿…é¡»åªèƒ½ç”¨ <a class="link"   href="http://www.i007it.com/" >www.i007it.com<i class="fas fa-external-link-alt"></i></a> è®¿é—®äº†ã€‚</p><h2 id="3-ä¿®æ”¹DNSä¸­å¯¹åº”çš„IPåœ°å€"><a href="#3-ä¿®æ”¹DNSä¸­å¯¹åº”çš„IPåœ°å€" class="headerlink" title="3.ä¿®æ”¹DNSä¸­å¯¹åº”çš„IPåœ°å€"></a>3.ä¿®æ”¹DNSä¸­å¯¹åº”çš„IPåœ°å€</h2><p>åœ¨åŸŸåè§£ææœåŠ¡å•†ä¸­ï¼Œå°†åŸŸåçš„Aè®°å½•å¯¹åº”çš„ipåœ°å€è®¾ç½®ä¸ºgithub.ioå¯¹åº”çš„ipã€‚</p><p>1).å…ˆé€šè¿‡<code>ping github.io</code> å‘½ä»¤ï¼Œå¾—åˆ°å¯¹åº”çš„ipåœ°å€ä¸ºï¼š185.199.110.153 ï¼ˆä¸å›ºå®šï¼Œéœ€è¦è‡ªå·±pingä¸€ä¸‹ï¼‰<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Github_Pages_domain_name_4.png"                                     ></p><p>2).å½“åŸŸåè§£æ(DNS)æœåŠ¡å•†ä¸­çš„Aè®°å½•å¯¹åº”ipåœ°å€è®¾ç½®ä¸ºä¸Šé¢pingå‡ºæ¥çš„ipåœ°å€ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Github_Pages_domain_name_5.png"                                     ></p><p>è¿™æ ·å°±å¯ä»¥äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å°ç™½æ•™ç¨‹ã€‘å…è´¹å»ºç«‹é™æ€åšå®¢ç½‘ç«™ï¼ˆGithub+Hexoï¼‰</title>
      <link href="/2022/04/09/%E3%80%90%E5%B0%8F%E7%99%BD%E6%95%99%E7%A8%8B%E3%80%91%E5%85%8D%E8%B4%B9%E5%BB%BA%E7%AB%8B%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99%EF%BC%88Github+Hexo%EF%BC%89/"/>
      <url>/2022/04/09/%E3%80%90%E5%B0%8F%E7%99%BD%E6%95%99%E7%A8%8B%E3%80%91%E5%85%8D%E8%B4%B9%E5%BB%BA%E7%AB%8B%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99%EF%BC%88Github+Hexo%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡æœ‰å…³å¦‚ä½•ä½¿ç”¨Github Pageså’ŒHexoæ­å»ºè‡ªå·±ç‹¬ç«‹åšå®¢çš„è¯¦å°½æ•™ç¨‹ã€‚é‡Œé¢ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨å’Œé…ç½®Hexoæ¡†æ¶ï¼Œå¦‚ä½•å°†Hexoéƒ¨ç½²åˆ°è‡ªå·±çš„Githubé¡¹ç›®ä¸­ã€‚</p><a id="more"></a><h2 id="ä¸€ã€å‰æœŸå‡†å¤‡ï¼ˆè½¯ä»¶å®‰è£…ï¼‰"><a href="#ä¸€ã€å‰æœŸå‡†å¤‡ï¼ˆè½¯ä»¶å®‰è£…ï¼‰" class="headerlink" title="ä¸€ã€å‰æœŸå‡†å¤‡ï¼ˆè½¯ä»¶å®‰è£…ï¼‰"></a>ä¸€ã€å‰æœŸå‡†å¤‡ï¼ˆè½¯ä»¶å®‰è£…ï¼‰</h2><h3 id="1-æ³¨å†ŒGithubè´¦å·"><a href="#1-æ³¨å†ŒGithubè´¦å·" class="headerlink" title="1.æ³¨å†ŒGithubè´¦å·"></a>1.æ³¨å†ŒGithubè´¦å·</h3><p>ã€å‰æã€‘ï¼šèƒ½ä¸ŠGithubç½‘ç«™ï¼ˆ<a class="link"   href="https://github.com/" >https://github.com/<i class="fas fa-external-link-alt"></i></a> ï¼‰</p><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Github Pagesï¼Ÿ</p><p>ç®€å•å¿«æ·ï¼Œä½¿ç”¨Github Pageså¯ä»¥ä¸ºä½ æä¾›ä¸€ä¸ªå…è´¹çš„æœåŠ¡å™¨ï¼Œå…å»äº†è‡ªå·±æ­å»ºæœåŠ¡å™¨å’Œå†™æ•°æ®åº“çš„éº»çƒ¦ã€‚å¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸå(ä½†åªèƒ½ç»‘å®šä¸€ä¸ª)ã€‚</p><p>PS.Github Pageså¯ä»¥è¢«è®¤ä¸ºæ˜¯ç”¨æˆ·ç¼–å†™çš„ã€æ‰˜ç®¡åœ¨githubä¸Šçš„é™æ€ç½‘é¡µã€‚</p><h3 id="2-ä¸‹è½½å®‰è£…Node-js"><a href="#2-ä¸‹è½½å®‰è£…Node-js" class="headerlink" title="2.ä¸‹è½½å®‰è£…Node.js"></a>2.ä¸‹è½½å®‰è£…Node.js</h3><p>å®˜ç½‘ï¼ˆ<a class="link"   href="https://nodejs.org/en/download/" >https://nodejs.org/en/download/<i class="fas fa-external-link-alt"></i></a> ï¼‰ä¸‹è½½å¯¹åº”ç‰ˆæœ¬å®‰è£…å°±è¡Œã€‚</p><p>ï¼ˆæ€•æœ‰é—®é¢˜ï¼Œç›´æ¥æœç´¢å®‰è£…æ•™ç¨‹ç…§ç€æ¥å°±è¡Œï¼‰</p><h3 id="3-ä¸‹è½½å®‰è£…Git"><a href="#3-ä¸‹è½½å®‰è£…Git" class="headerlink" title="3.ä¸‹è½½å®‰è£…Git"></a>3.ä¸‹è½½å®‰è£…Git</h3><p>å®˜ç½‘ï¼ˆ<a class="link"   href="https://git-scm.com/download/win" >https://git-scm.com/download/win<i class="fas fa-external-link-alt"></i></a> ï¼‰ä¼šæ ¹æ®ä½ ç”µè„‘å‚æ•°ï¼Œç›´æ¥è·³å‡ºå¯¹åº”ç‰ˆæœ¬è®©ä½ ä¸‹è½½ã€‚</p><p>å®˜ç½‘ä¸‹è½½å¾ˆæ…¢ï¼Œå¯ä»¥åˆ°ä»¥ä¸‹åœ°å€ä¸­ä¸‹è½½gitå®‰è£…åŒ…ï¼ˆé€Ÿåº¦è´¼å¿«ï¼‰ï¼š<br><a class="link"   href="https://npm.taobao.org/mirrors/git-for-windows/" >https://npm.taobao.org/mirrors/git-for-windows/<i class="fas fa-external-link-alt"></i></a></p><p>æ‹‰åˆ°é¡µé¢æœ€ä¸‹é¢æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œæ¯”å¦‚windows 64ä½çš„ç³»åˆ—å°±ä¸‹è½½ï¼š<br>Git-2.30.0.2-64-bit.exe</p><p>å®‰è£…å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥<code>git version</code>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><p>ä¹Ÿå¯ä»¥åœ¨æ¡Œé¢ã€å³é”®ï¼Œé€‰æ‹©ã€Git Bash Hereã€‘ï¼Œè¾“å…¥<code>git version</code>å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹å®‰è£…çš„gitç‰ˆæœ¬ã€‚</p><h2 id="äºŒ-ã€å®‰è£…Hexo"><a href="#äºŒ-ã€å®‰è£…Hexo" class="headerlink" title="äºŒ ã€å®‰è£…Hexo"></a>äºŒ ã€å®‰è£…Hexo</h2><p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚</p><h3 id="1-å®‰è£…Hexo"><a href="#1-å®‰è£…Hexo" class="headerlink" title="1.å®‰è£…Hexo"></a>1.å®‰è£…Hexo</h3><p>å®‰è£…å®Œäº†Gitåï¼Œåœ¨æ¡Œé¢ã€å³é”®ï¼Œé€‰æ‹©ã€Git Bash Hereã€‘ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€å¥æ˜¯å®‰è£…hexoï¼›<br>ç¬¬äºŒå¥æ˜¯å®‰è£…hexoéƒ¨ç½²åˆ°git pageçš„deployerï¼Œä¸¤ä¸ªéƒ½éœ€è¦å®‰è£…ã€‚</p><h3 id="2-Hexoåˆå§‹åŒ–é…ç½®ï¼ˆåˆ›å»ºHexoæ–‡ä»¶å¤¹ï¼‰"><a href="#2-Hexoåˆå§‹åŒ–é…ç½®ï¼ˆåˆ›å»ºHexoæ–‡ä»¶å¤¹ï¼‰" class="headerlink" title="2.Hexoåˆå§‹åŒ–é…ç½®ï¼ˆåˆ›å»ºHexoæ–‡ä»¶å¤¹ï¼‰"></a>2.Hexoåˆå§‹åŒ–é…ç½®ï¼ˆåˆ›å»ºHexoæ–‡ä»¶å¤¹ï¼‰</h3><p>å®‰è£…å®Œæˆåï¼Œæ ¹æ®è‡ªå·±å–œå¥½å»ºç«‹ç›®å½•ï¼ˆå¦‚F:\Blog\Hexoï¼‰ï¼Œç›´æ¥è¿›å…¥F:\Blog\Hexoæ–‡ä»¶å¤¹ä¸‹å³é”®é¼ æ ‡ï¼Œç‚¹å‡»ã€Git Bash Hereã€‘ï¼Œè¿›å…¥Gitå‘½ä»¤æ¡†ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>å®‰è£… Hexo å®Œæˆåï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚</p><h3 id="3-æœ¬åœ°è¿è¡Œï¼ˆæœåŠ¡å™¨ï¼‰"><a href="#3-æœ¬åœ°è¿è¡Œï¼ˆæœåŠ¡å™¨ï¼‰" class="headerlink" title="3.æœ¬åœ°è¿è¡Œï¼ˆæœåŠ¡å™¨ï¼‰"></a>3.æœ¬åœ°è¿è¡Œï¼ˆæœåŠ¡å™¨ï¼‰</h3><p>ä¾æ¬¡æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œæ‰§è¡Œå®Œå³å¯ç™»å½•ç½‘é¡µ localhost:4000 æŸ¥çœ‹æ•ˆæœ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å°†åšå®¢éƒ¨ç½²åˆ°Github-Pagesä¸Š"><a href="#ä¸‰ã€å°†åšå®¢éƒ¨ç½²åˆ°Github-Pagesä¸Š" class="headerlink" title="ä¸‰ã€å°†åšå®¢éƒ¨ç½²åˆ°Github Pagesä¸Š"></a>ä¸‰ã€å°†åšå®¢éƒ¨ç½²åˆ°Github Pagesä¸Š</h2><p>ç°åœ¨æœ¬åœ°çš„åšå®¢å·²ç»æ­å»ºèµ·æ¥äº†ï¼Œé‚£ä¹ˆéœ€è¦åšçš„å°±æ˜¯æŠŠæœ¬åœ°çš„åšå®¢å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šï¼Œè®©åˆ«äººä¹Ÿå¯ä»¥è¿æ¥æˆ‘ä»¬çš„åšå®¢ï¼Œè€ŒGithub Pageså°±å¸®æˆ‘å®Œæˆäº†è¿™ä»¶äº‹æƒ…ã€‚ä½†æ˜¯Github Pagesçš„ä»£ç å°±æ˜¯å¯„å­˜åœ¨Githubä¸Šé¢çš„ã€‚æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åœ¨Githubä¸Šé¢åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ã€‚</p><h3 id="1-ç™»å½•Githubè´¦æˆ·"><a href="#1-ç™»å½•Githubè´¦æˆ·" class="headerlink" title="1.ç™»å½•Githubè´¦æˆ·"></a>1.ç™»å½•Githubè´¦æˆ·</h3><h3 id="2-åˆ›å»ºGithub-Pagesé¡¹ç›®"><a href="#2-åˆ›å»ºGithub-Pagesé¡¹ç›®" class="headerlink" title="2.åˆ›å»ºGithub Pagesé¡¹ç›®"></a>2.åˆ›å»ºGithub Pagesé¡¹ç›®</h3><p>ç‚¹å‡»New repository</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_Github_blog_1.png"                                     ><h3 id="3-é…ç½®SSHå¯†é’¥"><a href="#3-é…ç½®SSHå¯†é’¥" class="headerlink" title="3.é…ç½®SSHå¯†é’¥"></a>3.é…ç½®SSHå¯†é’¥</h3><p>é…ç½®Githubçš„SSHå¯†é’¥å¯ä»¥è®©æœ¬åœ°gité¡¹ç›®ä¸è¿œç¨‹çš„githubå»ºç«‹è”ç³»ï¼Œè®©æˆ‘ä»¬åœ¨æœ¬åœ°å†™äº†ä»£ç ä¹‹åç›´æ¥é€šè¿‡gitæ“ä½œå°±å¯ä»¥å®ç°æœ¬åœ°ä»£ç åº“ä¸Githubä»£ç åº“åŒæ­¥ã€‚</p><p>æ“ä½œå¦‚ä¸‹ï¼š</p><h4 id="ç¬¬ä¸€æ­¥ã€çœ‹çœ‹æ˜¯å¦å­˜åœ¨SSHå¯†é’¥-keys"><a href="#ç¬¬ä¸€æ­¥ã€çœ‹çœ‹æ˜¯å¦å­˜åœ¨SSHå¯†é’¥-keys" class="headerlink" title="ç¬¬ä¸€æ­¥ã€çœ‹çœ‹æ˜¯å¦å­˜åœ¨SSHå¯†é’¥(keys)"></a>ç¬¬ä¸€æ­¥ã€çœ‹çœ‹æ˜¯å¦å­˜åœ¨SSHå¯†é’¥(keys)</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦çœ‹çœ‹æ˜¯å¦çœ‹çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH keysï¼Œæ‰“å¼€ã€Git Bashã€‘ï¼Œå¹¶è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/. ssh</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥ä½ æœ¬æœºç”¨æˆ·homeç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨.sshç›®å½•ï¼Œå¦‚æœï¼Œä¸å­˜åœ¨æ­¤ç›®å½•ï¼Œåˆ™è¿›è¡Œç¬¬äºŒæ­¥æ“ä½œï¼›<br>å¦åˆ™ï¼Œä½ æœ¬æœºå·²ç»å­˜åœ¨sshå…¬é’¥å’Œç§é’¥ï¼Œå¯ä»¥ç•¥è¿‡ç¬¬äºŒæ­¥ï¼Œç›´æ¥è¿›å…¥ç¬¬ä¸‰æ­¥æ“ä½œã€‚</p><h4 id="ç¬¬äºŒæ­¥ã€åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥-keys"><a href="#ç¬¬äºŒæ­¥ã€åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥-keys" class="headerlink" title="ç¬¬äºŒæ­¥ã€åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥(keys)"></a>ç¬¬äºŒæ­¥ã€åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥(keys)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>#æ³¨æ„ä¸Šé¢çš„é‚®ç®±æ˜¯è‡ªå·±çš„é‚®ç®±åœ°å€ï¼ŒæŒ‰è¿™ä¸ªé‚®ç®±åœ°å€ä¼šåˆ›å»ºä¸€å¯¹å¯†é’¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/c/Users/yourusername/.ssh/id_rsa): [Press enter]</span><br></pre></td></tr></table></figure><p><strong>ç›´æ¥å›è½¦</strong>ï¼Œåˆ™å°†å¯†é’¥æŒ‰é»˜è®¤æ–‡ä»¶è¿›è¡Œå­˜å‚¨ã€‚æ­¤æ—¶ä¹Ÿå¯ä»¥è¾“å…¥ç‰¹å®šçš„æ–‡ä»¶åï¼Œæ¯”å¦‚/c/Users/yourusername/.ssh/github_rsa</p><p>æ¥ç€ï¼Œæ ¹æ®æç¤ºï¼Œä½ <strong>éœ€è¦è¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç </strong></p><p>ï¼ˆè¯´åˆ°è¿™é‡Œï¼Œå¦‚æœä½ å¾ˆæ”¾å¿ƒï¼Œå…¶å®å¯ä»¥ä¸ç”¨å¯†ç ï¼Œå°±æ˜¯åˆ°è¾“å¯†ç çš„åœ°æ–¹ï¼Œéƒ½ç›´æ¥å›è½¦ï¼Œæ‰€ä»¥æ¯æ¬¡pushå°±åªç®¡å›è½¦å°±è¡Œäº†ã€‚æ‰€è°“çš„æœ€å®‰å…¨çš„å¯†ç ï¼Œå°±æ˜¯æ²¡æœ‰å¯†ç  å“ˆå“ˆï¼‰ã€‚ç›¸å…³æç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): [Type a passphrase]</span><br><span class="line">Enter same passphrase again: [Type passphrase again]</span><br></pre></td></tr></table></figure><p>è¾“å…¥å®Œæˆä¹‹åï¼Œå±å¹•ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved <span class="keyword">in</span> /c/Users/you/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /c/Users/you/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@example.com</span><br></pre></td></tr></table></figure><h4 id="ç¬¬ä¸‰æ­¥ã€åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥"><a href="#ç¬¬ä¸‰æ­¥ã€åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥" class="headerlink" title="ç¬¬ä¸‰æ­¥ã€åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥"></a>ç¬¬ä¸‰æ­¥ã€åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥</h4><p>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°†å…¬é’¥çš„å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿç²˜è´´æ¿(clipboard)ä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clip &lt; ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><ul><li>1).ç™»é™†GitHubï¼Œè¿›å…¥ä½ çš„Account Settings</li><li>2).é€‰æ‹©SSH Keys</li><li>3).ç²˜è´´å¯†é’¥ï¼Œæ·»åŠ å³å¯<img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_Github_blog_2.png"                                     ></li></ul><h4 id="ç¬¬å››æ­¥ã€æµ‹è¯•"><a href="#ç¬¬å››æ­¥ã€æµ‹è¯•" class="headerlink" title="ç¬¬å››æ­¥ã€æµ‹è¯•"></a>ç¬¬å››æ­¥ã€æµ‹è¯•</h4><p>å¯ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œçœ‹çœ‹è®¾ç½®æ˜¯å¦æˆåŠŸï¼Œ<strong><a class="link"   href="mailto:&#x67;&#x69;&#116;&#64;&#103;&#x69;&#116;&#x68;&#117;&#x62;&#46;&#x63;&#x6f;&#x6d;" >&#x67;&#x69;&#116;&#64;&#103;&#x69;&#116;&#x68;&#117;&#x62;&#46;&#x63;&#x6f;&#x6d;<i class="fas fa-external-link-alt"></i></a>çš„éƒ¨åˆ†ä¸è¦ä¿®æ”¹</strong>ï¼š </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯ä¸‹é¢çš„åé¦ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The authenticityofhost<span class="string">&#x27;github.com (207.97.227.239)&#x27;</span>can<span class="string">&#x27;t be established.  RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.  Are you sure you want to continue connecting (yes/no)? </span></span><br></pre></td></tr></table></figure><p>ä¸è¦ç´§å¼ ï¼Œè¾“å…¥yeså°±å¥½ï¼Œç„¶åä¼šçœ‹åˆ°ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_Github_blog_3.png"                                     ></p><h4 id="ç¬¬äº”æ­¥ã€è®¾ç½®ç”¨æˆ·ä¿¡æ¯"><a href="#ç¬¬äº”æ­¥ã€è®¾ç½®ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="ç¬¬äº”æ­¥ã€è®¾ç½®ç”¨æˆ·ä¿¡æ¯"></a>ç¬¬äº”æ­¥ã€è®¾ç½®ç”¨æˆ·ä¿¡æ¯</h4><p>ç°åœ¨ä½ å·²ç»å¯ä»¥é€šè¿‡SSHé“¾æ¥åˆ°GitHubäº†ï¼Œè¿˜æœ‰ä¸€äº›ä¸ªäººä¿¡æ¯éœ€è¦å®Œå–„çš„ã€‚ Gitä¼šæ ¹æ®ç”¨æˆ·çš„åå­—å’Œé‚®ç®±æ¥è®°å½•æäº¤ã€‚GitHubä¹Ÿæ˜¯ç”¨è¿™äº›ä¿¡æ¯æ¥åšæƒé™çš„å¤„ç†ï¼Œè¾“å…¥ä¸‹é¢çš„ä»£ç è¿›è¡Œä¸ªäººä¿¡æ¯çš„è®¾ç½®ï¼ŒæŠŠåç§°å’Œé‚®ç®±æ›¿æ¢æˆä½ è‡ªå·±çš„ï¼Œåå­—æ ¹æ®è‡ªå·±çš„å–œå¥½è‡ªå·±å–ï¼Œè€Œä¸æ˜¯GitHubçš„æ˜µç§°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;ryanlijianchang&quot;</span> //ç”¨æˆ·å</span><br><span class="line">git config --global user.email <span class="string">&quot;liji.anchang@163.com&quot;</span> //å¡«å†™è‡ªå·±çš„é‚®ç®±</span><br></pre></td></tr></table></figure><h4 id="ç¬¬å…­æ­¥ã€SSH-Keyé…ç½®æˆåŠŸ"><a href="#ç¬¬å…­æ­¥ã€SSH-Keyé…ç½®æˆåŠŸ" class="headerlink" title="ç¬¬å…­æ­¥ã€SSH Keyé…ç½®æˆåŠŸ"></a>ç¬¬å…­æ­¥ã€SSH Keyé…ç½®æˆåŠŸ</h4><p>æœ¬æœºå·²æˆåŠŸè¿æ¥åˆ°githubã€‚</p><h2 id="å››ã€å°†æœ¬åœ°çš„Hexoæ–‡ä»¶æ›´æ–°åˆ°Githubçš„åº“ä¸­"><a href="#å››ã€å°†æœ¬åœ°çš„Hexoæ–‡ä»¶æ›´æ–°åˆ°Githubçš„åº“ä¸­" class="headerlink" title="å››ã€å°†æœ¬åœ°çš„Hexoæ–‡ä»¶æ›´æ–°åˆ°Githubçš„åº“ä¸­"></a>å››ã€å°†æœ¬åœ°çš„Hexoæ–‡ä»¶æ›´æ–°åˆ°Githubçš„åº“ä¸­</h2><h4 id="1ã€ç™»å½•Githubæ‰“å¼€è‡ªå·±çš„é¡¹ç›®-username-github-io"><a href="#1ã€ç™»å½•Githubæ‰“å¼€è‡ªå·±çš„é¡¹ç›®-username-github-io" class="headerlink" title="1ã€ç™»å½•Githubæ‰“å¼€è‡ªå·±çš„é¡¹ç›® username.github.io"></a>1ã€ç™»å½•Githubæ‰“å¼€è‡ªå·±çš„é¡¹ç›® username.github.io</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_Github_blog_4.png"                                     ><h4 id="2ã€ç‚¹å‡»SSHï¼Œé€‰æ‹©SSHç±»å‹åœ°å€"><a href="#2ã€ç‚¹å‡»SSHï¼Œé€‰æ‹©SSHç±»å‹åœ°å€" class="headerlink" title="2ã€ç‚¹å‡»SSHï¼Œé€‰æ‹©SSHç±»å‹åœ°å€"></a>2ã€ç‚¹å‡»SSHï¼Œé€‰æ‹©SSHç±»å‹åœ°å€</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_Github_blog_5.png"                                     ><h4 id="3ã€å¤åˆ¶ä»“åº“å¯¹åº”çš„SSHåœ°å€"><a href="#3ã€å¤åˆ¶ä»“åº“å¯¹åº”çš„SSHåœ°å€" class="headerlink" title="3ã€å¤åˆ¶ä»“åº“å¯¹åº”çš„SSHåœ°å€"></a>3ã€å¤åˆ¶ä»“åº“å¯¹åº”çš„SSHåœ°å€</h4><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_Github_blog_6.png"                                     ><h4 id="4ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶-config-ylml"><a href="#4ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶-config-ylml" class="headerlink" title="4ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶ _config.ylml"></a>4ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶ _config.ylml</h4><p>æ‰“å¼€ä¸€å¼€å§‹åˆ›å»ºçš„Hexoæ–‡ä»¶å¤¹ï¼ˆå¦‚F:\Blog\Hexoï¼‰ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€æ–‡ä»¶å¤¹ä¸‹çš„ <strong>_config.yml</strong> æ–‡ä»¶ã€‚<br>åœ¨é…ç½®æ–‡ä»¶é‡Œä½œå¦‚ä¸‹ä¿®æ”¹ï¼Œä¿å­˜ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Hexo_Github_blog_7.png"                                     ></p><h4 id="5ã€åœ¨Hexoæ–‡ä»¶å¤¹ä¸‹ç”¨Git-Bashä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š"><a href="#5ã€åœ¨Hexoæ–‡ä»¶å¤¹ä¸‹ç”¨Git-Bashä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š" class="headerlink" title="5ã€åœ¨Hexoæ–‡ä»¶å¤¹ä¸‹ç”¨Git Bashä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š"></a>5ã€åœ¨Hexoæ–‡ä»¶å¤¹ä¸‹ç”¨Git Bashä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥æ‰§è¡Œ <code>hexo g -d</code></p><p>æ‰§è¡Œå®Œä¹‹åä¼šè®©ä½ è¾“å…¥githubçš„è´¦å·å’Œå¯†ç ï¼Œè¾“å…¥å®Œåå°±å¯ä»¥ç™»å½•æˆ‘ä»¬è‡ªå·±çš„éƒ¨ç½²åœ¨Github PagesæœåŠ¡å™¨ä¸Šçš„åšå®¢äº†ã€‚å¯¹åº”çš„åœ°å€æ˜¯ username.github.io(ä¾‹å¦‚ï¼šryanlijianchang.github.io)ã€‚</p><p>å‡å¦‚è¿™æ—¶å€™ï¼ŒæŠ¥é”™ ERROR Deployer not found: gitï¼Œé‚£ä¹ˆå°±æ˜¯ä½ çš„deployeræ²¡æœ‰å®‰è£…æˆåŠŸï¼Œä½ éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å†å®‰è£…ä¸€æ¬¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œä½ å†æ‰§è¡Œhexo g -dï¼Œä½ çš„åšå®¢å°±éƒ¨ç½²åˆ°Githubä¸Šäº†ã€‚</p><h4 id="6ã€åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥è‡ªå·±çš„ä¸»é¡µåœ°å€"><a href="#6ã€åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥è‡ªå·±çš„ä¸»é¡µåœ°å€" class="headerlink" title="6ã€åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥è‡ªå·±çš„ä¸»é¡µåœ°å€"></a>6ã€åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥è‡ªå·±çš„ä¸»é¡µåœ°å€</h4><p>åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥Github Pagerä¸ºæˆ‘ä»¬ç”Ÿæˆçš„å¤–é“¾ï¼ˆä¾‹å¦‚ï¼š<a class="link"   href="https://ryanlijianchang.github.io/" >https://ryanlijianchang.github.io/<i class="fas fa-external-link-alt"></i></a> ï¼Œè€Œryanlijianchangä¸ºGithubè´¦å·ï¼Œä¸“å±åšå®¢åœ°å€å°±æ˜¯ï¼šhttps://[githuçš„ç”¨æˆ·å].github.io/ ï¼‰å³å¯çœ‹åˆ°è‡ªå·±çš„åšå®¢äº†ã€‚å½“ç„¶ï¼Œæ¯ä¸€ä¸ªäººéƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®åˆ°ä½ çš„åšå®¢äº†ã€‚</p><h2 id="äº”ã€ç¾åŒ–åšå®¢"><a href="#äº”ã€ç¾åŒ–åšå®¢" class="headerlink" title="äº”ã€ç¾åŒ–åšå®¢"></a>äº”ã€ç¾åŒ–åšå®¢</h2><h4 id="1ã€ä¸‹è½½å–œæ¬¢çš„Hexoä¸»é¢˜"><a href="#1ã€ä¸‹è½½å–œæ¬¢çš„Hexoä¸»é¢˜" class="headerlink" title="1ã€ä¸‹è½½å–œæ¬¢çš„Hexoä¸»é¢˜"></a>1ã€ä¸‹è½½å–œæ¬¢çš„Hexoä¸»é¢˜</h4><p>Hexoä¸»é¢˜å®˜ç½‘ï¼š<a class="link"   href="https://hexo.io/themes/" >https://hexo.io/themes/<i class="fas fa-external-link-alt"></i></a><br>ä¸‹è½½è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œæ¯”å¦‚ï¼šhexo-theme-next ä¸»é¢˜ã€‚</p><h4 id="2ã€æ”¾åˆ°themesç›®å½•ä¸‹"><a href="#2ã€æ”¾åˆ°themesç›®å½•ä¸‹" class="headerlink" title="2ã€æ”¾åˆ°themesç›®å½•ä¸‹"></a>2ã€æ”¾åˆ°themesç›®å½•ä¸‹</h4><p>æŠŠè§£å‹åå¾—åˆ°çš„ä¸»é¢˜æ–‡ä»¶å¤¹æ”¾åˆ°Hexoæ–‡ä»¶å¤¹ä¸‹çš„themesç›®å½•ä¸‹ï¼Œå¦‚ï¼šF:\Blog\hexo\themesã€‚</p><h4 id="3ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶"><a href="#3ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶" class="headerlink" title="3ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶"></a>3ã€ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶</h4><p>æ‰“å¼€Hexoæ–‡ä»¶å¤¹ä¸‹çš„é…ç½®æ–‡ä»¶_config.yml<br>ä¿®æ”¹å‚æ•°ä¸ºï¼štheme: hexo-theme-next</p><h4 id="4ã€éƒ¨ç½²ä¸»é¢˜"><a href="#4ã€éƒ¨ç½²ä¸»é¢˜" class="headerlink" title="4ã€éƒ¨ç½²ä¸»é¢˜"></a>4ã€éƒ¨ç½²ä¸»é¢˜</h4><p>1).å…ˆæœ¬åœ°éƒ¨ç½²ï¼Œè¿”å›Hexoç›®å½•ï¼Œå³é”®  Git Bashï¼Œä¾æ¬¡è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ <a class="link"   href="http://localhost:4000/" >http://localhost:4000/<i class="fas fa-external-link-alt"></i></a> å³å¯çœ‹è§æˆ‘ä»¬çš„ä¸»é¢˜å·²ç»æ›´æ¢äº†ã€‚</p><p>2).éƒ¨ç½²åˆ°Githubä¸Š</p><p>æ‰“å¼€Hexoæ–‡ä»¶å¤¹ï¼Œå³é”®Git Bashï¼Œä¾æ¬¡è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate -deploy</span><br></pre></td></tr></table></figure><p>(ç¬¬ä¸€æ¡cleanå‘½ä»¤å¿…é¡»è¦ï¼Œä¸ç„¶æœ‰æ—¶å› ä¸ºç¼“å­˜é—®é¢˜ï¼ŒæœåŠ¡å™¨æ›´æ–°ä¸äº†ä¸»é¢˜ï¼›<br>ç¬¬äºŒæ¡å¯ç®€å†™æˆ hexo g -dï¼Œä¹Ÿå¯ä»¥åˆ†å¼€å†™)</p><h2 id="å…­ã€å°ç»“"><a href="#å…­ã€å°ç»“" class="headerlink" title="å…­ã€å°ç»“"></a>å…­ã€å°ç»“</h2><p>åœ¨F:\blog\Hexo\source_posts ç›®å½•ä¸‹æ·»åŠ .mdçš„æ–‡ç« åï¼Œéœ€è¦åšçš„æ˜¯ï¼š</p><p>å›åˆ° Hexoæ–‡ä»¶å¤¹ï¼Œå³é”®ï¼ŒGit Bashï¼Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>hexo server</code> åï¼Œå¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ <a class="link"   href="http://localhost:4000/" >http://localhost:4000/<i class="fas fa-external-link-alt"></i></a> æœ¬åœ°æŸ¥çœ‹ã€‚</p><p>PS.å›¾ç‰‡ä¸Šä¼ ç”¨å›¾åºŠï¼ˆç”¨PicGoå·¥å…·ä½¿ç”¨Githubå›¾åºŠï¼Œæ•™ç¨‹ï¼š<a href="/2021/02/08/Github%E5%9B%BE%E5%BA%8A%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="Github å›¾åºŠä½¿ç”¨æ•™ç¨‹">Github å›¾åºŠä½¿ç”¨æ•™ç¨‹</a>ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> PicGo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typora+PicGoæ— æ³•æ˜¾ç¤ºGithubå›¾åºŠå›¾ç‰‡é—®é¢˜</title>
      <link href="/2022/04/09/Typora+PicGo%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BAGithub%E5%9B%BE%E5%BA%8A%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98/"/>
      <url>/2022/04/09/Typora+PicGo%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BAGithub%E5%9B%BE%E5%BA%8A%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>ç”¨Hexo+Github pagesæ­å»ºçš„åšå®¢ï¼Œå›¾åºŠå°±ç”¨çš„Githubçš„å›¾åºŠï¼Œä½¿ç”¨æ–¹æ³•ï¼š<a href="/2021/02/08/Github%E5%9B%BE%E5%BA%8A%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="Github å›¾åºŠä½¿ç”¨æ•™ç¨‹">Github å›¾åºŠä½¿ç”¨æ•™ç¨‹</a></p><p>ç„¶åï¼Œç”¨ Typoraçš„æ—¶å€™ï¼Œæ’å…¥å›¾ç‰‡çš„é“¾æ¥åï¼Œæ²¡æ³•æ˜¾ç¤ºå›¾ç‰‡ã€‚</p><a id="more"></a><p>æŒ‰ç…§ç½‘ä¸Šçš„è¯´æ³•ï¼Œåœ¨Typoraçš„ã€åå¥½è®¾ç½®ã€‘-&gt;ã€å›¾åƒã€‘ä¸­ä¹Ÿè®¾ç½®äº†ä¸Šä¼ å›¾ç‰‡ç”¨çš„ PicGoç¨‹åºã€‚</p><p>å¦‚ä¸‹å›¾ï¼š</p><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Typora_PicGo_Github_pic_1.png"                                     ><p>ä½†æ˜¯ï¼Œåœ¨Typoraä¸­çœ‹ä¸åˆ°å›¾ç‰‡ã€‚å†æŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°æ˜¯ Githubå±è”½æ‰äº†å›¾ç‰‡ã€‚</p><h3 id="è§£å†³åŠæ³•ï¼š"><a href="#è§£å†³åŠæ³•ï¼š" class="headerlink" title="è§£å†³åŠæ³•ï¼š"></a>è§£å†³åŠæ³•ï¼š</h3><p>ä¿®æ”¹hostæ–‡ä»¶ã€‚</p><p>hostsæ–‡ä»¶åœ¨Windowsç³»ç»Ÿä¸­çš„è·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32\drivers\etc\hosts</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GitHub Start </span></span><br><span class="line">140.82.113.3      github.com</span><br><span class="line">140.82.114.20     gist.github.com</span><br><span class="line">151.101.184.133    assets-cdn.github.com</span><br><span class="line">151.101.184.133    raw.githubusercontent.com</span><br><span class="line">151.101.184.133    gist.githubusercontent.com</span><br><span class="line">151.101.184.133    cloud.githubusercontent.com</span><br><span class="line">151.101.184.133    camo.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars0.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars0.githubusercontent.com</span><br><span class="line">199.232.28.133     avatars1.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars1.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars2.githubusercontent.com</span><br><span class="line">199.232.28.133     avatars2.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars3.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars3.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars4.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars4.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars5.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars5.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars6.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars6.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars7.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars7.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars8.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars8.githubusercontent.com</span><br><span class="line"><span class="comment"># GitHub End</span></span><br></pre></td></tr></table></figure><p>ä¿å­˜åé‡å¯ä¸‹ Typoraï¼Œæœç„¶å¯ä»¥äº†ï¼</p><p>PS.å¦‚æœhostsæ–‡ä»¶ä¸å¯ç¼–è¾‘çš„çŠ¶æ€ï¼Œå³é”®ã€å±æ€§ã€‘ï¼ŒæŠŠâ€œåªè¯»â€çš„å‹¾å»æ‰å°±è¡Œã€‚ï¼ˆå½“ç„¶éœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> Typora </tag>
            
            <tag> PicGo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Navicatè¿æ¥MySQLæ•°æ®åº“ä¸æˆåŠŸ è§£å†³æ–¹æ³•</title>
      <link href="/2022/04/05/Navicat%E8%BF%9E%E6%8E%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8D%E6%88%90%E5%8A%9F/"/>
      <url>/2022/04/05/Navicat%E8%BF%9E%E6%8E%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8D%E6%88%90%E5%8A%9F/</url>
      
        <content type="html"><![CDATA[<p>å½“æƒ³ç”¨æœ¬åœ°çš„ Navicat è¿æ¥ æœåŠ¡å™¨ä¸Š Dockerä¸­çš„MySQLæ•°æ®åº“æ—¶ï¼Œå‡ºç°å¦‚ä¸‹é—®é¢˜ï¼š</p><p>1130 - Host â€˜*<strong><strong>**</strong></strong>â€˜ is not allowed to connect to this MySQL server</p><a id="more"></a><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Navicat_connect_mysql_1.png"                                     ><h1 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h1><h2 id="1ã€è¿œç¨‹è”æ¥åˆ°MySQLæœåŠ¡å™¨"><a href="#1ã€è¿œç¨‹è”æ¥åˆ°MySQLæœåŠ¡å™¨" class="headerlink" title="1ã€è¿œç¨‹è”æ¥åˆ°MySQLæœåŠ¡å™¨"></a>1ã€è¿œç¨‹è”æ¥åˆ°MySQLæœåŠ¡å™¨</h2><h3 id="1-è¿›å…¥å®¹å™¨"><a href="#1-è¿›å…¥å®¹å™¨" class="headerlink" title="1).è¿›å…¥å®¹å™¨"></a>1).è¿›å…¥å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it ewomail /bin/bash</span><br></pre></td></tr></table></figure><h3 id="2-è¿›å…¥MySQL"><a href="#2-è¿›å…¥MySQL" class="headerlink" title="2).è¿›å…¥MySQL"></a>2).è¿›å…¥MySQL</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç ï¼š123MYSQL456</p><h2 id="2ã€æŸ¥è¯¢å…è®¸è¿æ¥çš„ä¸»æœºåŠç”¨æˆ·ä¿¡æ¯"><a href="#2ã€æŸ¥è¯¢å…è®¸è¿æ¥çš„ä¸»æœºåŠç”¨æˆ·ä¿¡æ¯" class="headerlink" title="2ã€æŸ¥è¯¢å…è®¸è¿æ¥çš„ä¸»æœºåŠç”¨æˆ·ä¿¡æ¯"></a>2ã€æŸ¥è¯¢å…è®¸è¿æ¥çš„ä¸»æœºåŠç”¨æˆ·ä¿¡æ¯</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;select Host, User, Password from mysql.user;</span><br></pre></td></tr></table></figure><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/Navicat_connect_mysql_2.png"                                     ><p>ä»ç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼ŒMySqlåªå…è®¸ä½¿ç”¨rootç”¨æˆ·ä»localhostï¼Œ127.0.0.1å’Œ::1ä¸»æœºä¸Šè¿›è¡Œè¿æ¥ï¼Œä¹Ÿå°±æ˜¯åªèƒ½ä»æœ¬æœºè¿æ¥ã€‚</p><p>æ³¨ï¼š%å¤„åŸæ¥æ˜¯ <strong>::1</strong> ï¼Œæ˜¯Ipv6åœ°å€127.0.0.1çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯æœ¬æœºã€‚</p><h2 id="3ã€è§£å†³æ–¹æ³•"><a href="#3ã€è§£å†³æ–¹æ³•" class="headerlink" title="3ã€è§£å†³æ–¹æ³•"></a>3ã€è§£å†³æ–¹æ³•</h2><h3 id="1-ä½¿ç”¨SQLè¯­å¥å°†-1æ”¹ä¸º-ï¼š"><a href="#1-ä½¿ç”¨SQLè¯­å¥å°†-1æ”¹ä¸º-ï¼š" class="headerlink" title="1).ä½¿ç”¨SQLè¯­å¥å°† ::1æ”¹ä¸º%ï¼š"></a>1).ä½¿ç”¨SQLè¯­å¥å°† ::1æ”¹ä¸º%ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;update mysql.user set &#96;Host&#96; &#x3D; &#39;%&#39; where &#96;Host&#96; &#x3D; &#39;::1&#39; and User &#x3D; &#39;root&#39;;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><blockquote><p>[SQL]<br>update mysql.user set <code>Host</code> = â€˜%â€™ where <code>Host</code> = â€˜::1â€™ and User = â€˜rootâ€™;<br>å—å½±å“çš„è¡Œ: 1<br>æ—¶é—´: 0.000ms</p></blockquote><p>ç„¶åå†æŸ¥è¯¢userè¡¨ï¼Œç»“æœå°±å¦‚ä¸Šæ‰€ç¤ºã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»å°†::1æ”¹ä¸ºäº†%ï¼Œ**%è¡¨ç¤ºåŒ¹é…æ‰€æœ‰hostçš„ä¸»æœºçš„ï¼Œå¼€æ”¾æ­¤æƒé™ï¼Œä¼šå¢åŠ MySqlçš„é£é™©ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µè€Œå®šï¼**</p><h3 id="2-æ‰§è¡Œä¸‹é¢çš„SQLï¼Œä½¿ä¸Šé¢çš„æ”¹åŠ¨ç”Ÿæ•ˆï¼Œå¦åˆ™ä»ç„¶è¿æ¥ä¸ä¸Š"><a href="#2-æ‰§è¡Œä¸‹é¢çš„SQLï¼Œä½¿ä¸Šé¢çš„æ”¹åŠ¨ç”Ÿæ•ˆï¼Œå¦åˆ™ä»ç„¶è¿æ¥ä¸ä¸Š" class="headerlink" title="2).æ‰§è¡Œä¸‹é¢çš„SQLï¼Œä½¿ä¸Šé¢çš„æ”¹åŠ¨ç”Ÿæ•ˆï¼Œå¦åˆ™ä»ç„¶è¿æ¥ä¸ä¸Š"></a>2).æ‰§è¡Œä¸‹é¢çš„SQLï¼Œä½¿ä¸Šé¢çš„æ”¹åŠ¨ç”Ÿæ•ˆï¼Œå¦åˆ™ä»ç„¶è¿æ¥ä¸ä¸Š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;flush privileges;</span><br></pre></td></tr></table></figure><p>å†ç”¨Navicatè¿æ¥MySQLæœåŠ¡å™¨ï¼Œæç¤ºæˆåŠŸï¼</p><h2 id="4ã€è¡¥å……"><a href="#4ã€è¡¥å……" class="headerlink" title="4ã€è¡¥å……"></a>4ã€è¡¥å……</h2><p>å¦‚æœä½ æƒ³å…è®¸ç”¨æˆ·rootä»ipä¸º192.168.0.8çš„ä¸»æœºè¿æ¥åˆ°MySqlæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨123456ä½œä¸ºå¯†ç ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„SQLè¯­å¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;192.168.0.8&#39; IDENTIFIED BY &#39;123456&#39; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œä½¿ä¸Šé¢çš„æ”¹åŠ¨ç”Ÿæ•ˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³å…è®¸ç”¨æˆ·rootä»ipä¸º192.168.0.8çš„ä¸»æœºè¿æ¥åˆ°MySqlæœåŠ¡å™¨çš„testdbæ•°æ®åº“ï¼Œå¹¶ä½¿ç”¨123456ä½œä¸ºå¯†ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;GRANT ALL PRIVILEGES ON testdb.* TO &#39;root&#39;@&#39;192.168.0.8&#39; IDENTIFIED BY &#39;123456&#39; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œä½¿ä¸Šé¢çš„æ”¹åŠ¨ç”Ÿæ•ˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> Navicat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker EwoMailä¿®æ”¹MySQLå¯†ç </title>
      <link href="/2022/04/05/Docker%20EwoMail%E4%BF%AE%E6%94%B9MySQL%E5%AF%86%E7%A0%81/"/>
      <url>/2022/04/05/Docker%20EwoMail%E4%BF%AE%E6%94%B9MySQL%E5%AF%86%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€æŸ¥çœ‹å®¹å™¨æ˜¯å¦å¯åŠ¨"><a href="#1ã€æŸ¥çœ‹å®¹å™¨æ˜¯å¦å¯åŠ¨" class="headerlink" title="1ã€æŸ¥çœ‹å®¹å™¨æ˜¯å¦å¯åŠ¨"></a>1ã€æŸ¥çœ‹å®¹å™¨æ˜¯å¦å¯åŠ¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><h2 id="2ã€è¿›å…¥å®¹å™¨"><a href="#2ã€è¿›å…¥å®¹å™¨" class="headerlink" title="2ã€è¿›å…¥å®¹å™¨"></a>2ã€è¿›å…¥å®¹å™¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it ewomail /bin/bash</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="3ã€ä¿®æ”¹rootè´¦å·å¯†ç "><a href="#3ã€ä¿®æ”¹rootè´¦å·å¯†ç " class="headerlink" title="3ã€ä¿®æ”¹rootè´¦å·å¯†ç "></a>3ã€ä¿®æ”¹rootè´¦å·å¯†ç </h2><h3 id="1-ç™»å½•mysqlï¼ˆrooté»˜è®¤å¯†ç ï¼šmysqlï¼‰"><a href="#1-ç™»å½•mysqlï¼ˆrooté»˜è®¤å¯†ç ï¼šmysqlï¼‰" class="headerlink" title="1).ç™»å½•mysqlï¼ˆrooté»˜è®¤å¯†ç ï¼šmysqlï¼‰"></a>1).ç™»å½•mysqlï¼ˆrooté»˜è®¤å¯†ç ï¼šmysqlï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç ï¼šmysql</p><h3 id="2-ä½¿ç”¨mysqlæ•°æ®åº“"><a href="#2-ä½¿ç”¨mysqlæ•°æ®åº“" class="headerlink" title="2).ä½¿ç”¨mysqlæ•°æ®åº“"></a>2).ä½¿ç”¨mysqlæ•°æ®åº“</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;show databases;</span><br><span class="line">mysql&gt;use mysql;</span><br></pre></td></tr></table></figure><h3 id="3-è®¾ç½®rootæ–°å¯†ç "><a href="#3-è®¾ç½®rootæ–°å¯†ç " class="headerlink" title="3).è®¾ç½®rootæ–°å¯†ç "></a>3).è®¾ç½®rootæ–°å¯†ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;update user set password&#x3D;password(&#39;123MYSQL456&#39;) where user&#x3D;&#39;root&#39;;</span><br></pre></td></tr></table></figure><h2 id="4ã€ä¿®æ”¹ewomailè´¦å·å¯†ç "><a href="#4ã€ä¿®æ”¹ewomailè´¦å·å¯†ç " class="headerlink" title="4ã€ä¿®æ”¹ewomailè´¦å·å¯†ç "></a>4ã€ä¿®æ”¹ewomailè´¦å·å¯†ç </h2><h3 id="1-ç™»å½•mysqlï¼ˆewomailé»˜è®¤å¯†ç ï¼š123456ï¼‰"><a href="#1-ç™»å½•mysqlï¼ˆewomailé»˜è®¤å¯†ç ï¼š123456ï¼‰" class="headerlink" title="1).ç™»å½•mysqlï¼ˆewomailé»˜è®¤å¯†ç ï¼š123456ï¼‰"></a>1).ç™»å½•mysqlï¼ˆewomailé»˜è®¤å¯†ç ï¼š123456ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u ewomail -p</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç ï¼š123456</p><h3 id="2-ä½¿ç”¨mysqlæ•°æ®åº“-1"><a href="#2-ä½¿ç”¨mysqlæ•°æ®åº“-1" class="headerlink" title="2).ä½¿ç”¨mysqlæ•°æ®åº“"></a>2).ä½¿ç”¨mysqlæ•°æ®åº“</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;show databases;</span><br><span class="line">mysql&gt;use mysql;</span><br></pre></td></tr></table></figure><h3 id="3-è®¾ç½®ewomailæ–°å¯†ç "><a href="#3-è®¾ç½®ewomailæ–°å¯†ç " class="headerlink" title="3).è®¾ç½®ewomailæ–°å¯†ç "></a>3).è®¾ç½®ewomailæ–°å¯†ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;update user set password&#x3D;password(&#39;111111MYSQL&#39;) where user&#x3D;&#39;ewomail&#39;;</span><br></pre></td></tr></table></figure><h2 id="5ã€ä¿®æ”¹MySQLé…ç½®æ–‡ä»¶my-cnf"><a href="#5ã€ä¿®æ”¹MySQLé…ç½®æ–‡ä»¶my-cnf" class="headerlink" title="5ã€ä¿®æ”¹MySQLé…ç½®æ–‡ä»¶my.cnf"></a>5ã€ä¿®æ”¹MySQLé…ç½®æ–‡ä»¶my.cnf</h2><h3 id="1-è¿›å…¥å®¹å™¨"><a href="#1-è¿›å…¥å®¹å™¨" class="headerlink" title="1).è¿›å…¥å®¹å™¨"></a>1).è¿›å…¥å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it ewomail /bin/bash</span><br></pre></td></tr></table></figure><h3 id="2-æŸ¥æ‰¾Dockerå†…ï¼ŒMySQLé…ç½®æ–‡ä»¶my-cnfçš„ä½ç½®"><a href="#2-æŸ¥æ‰¾Dockerå†…ï¼ŒMySQLé…ç½®æ–‡ä»¶my-cnfçš„ä½ç½®" class="headerlink" title="2).æŸ¥æ‰¾Dockerå†…ï¼ŒMySQLé…ç½®æ–‡ä»¶my.cnfçš„ä½ç½®"></a>2).æŸ¥æ‰¾Dockerå†…ï¼ŒMySQLé…ç½®æ–‡ä»¶my.cnfçš„ä½ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql --<span class="built_in">help</span> | grep my.cnf</span><br></pre></td></tr></table></figure><h3 id="3-æŸ¥çœ‹my-cnf-æ–‡ä»¶å†…å®¹"><a href="#3-æŸ¥çœ‹my-cnf-æ–‡ä»¶å†…å®¹" class="headerlink" title="3).æŸ¥çœ‹my.cnf æ–‡ä»¶å†…å®¹"></a>3).æŸ¥çœ‹my.cnf æ–‡ä»¶å†…å®¹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /ewomail/mysql/etc/my.cnf</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker æ­å»ºå¼€æºé‚®ä»¶æœåŠ¡å™¨ EwoMail</title>
      <link href="/2022/04/05/Docker%E6%90%AD%E5%BB%BA%E5%BC%80%E6%BA%90%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%20EwoMail/"/>
      <url>/2022/04/05/Docker%E6%90%AD%E5%BB%BA%E5%BC%80%E6%BA%90%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%20EwoMail/</url>
      
        <content type="html"><![CDATA[<p>ä¸ºä»€ä¹ˆè¦ç”¨ Docker è£… EwoMailï¼Œå› ä¸ºå¼€å§‹è¯•è¿‡äº†ï¼Œä¸è¡Œã€‚ç›´æ¥è£…çš„è¯ï¼Œéœ€è¦ Centosç³»ç»Ÿï¼Œäºæ˜¯æœåŠ¡å™¨ç›´æ¥é€‰äº†Centos7.6ç³»ç»Ÿã€‚</p><p>ç„¶åè£…ä¸ªgitï¼Œç›´æ¥å°±å¯ä»¥ä¸‹è½½EwoMailã€‚ç„¶åå®‰è£…çš„æ—¶å€™å‘ç°è£… EwoMail éœ€è¦å¹²å‡€çš„ç³»ç»Ÿï¼Œæ²¡æœ‰å®‰è£… mysqlã€nginxã€‚<br>ç„¶åå‘ç°å‹æ ¹ä¸è¡Œï¼Œè¿™äº›ä¸ç®¡ç›´æ¥çš„å®˜æ–¹ç³»ç»Ÿï¼Œè¿˜æ˜¯åˆ«çš„ï¼Œåæ­£éƒ½å¸¦äº†mysqlçš„ã€‚</p><p>äºæ˜¯ï¼Œç´¢æ€§ç›´æ¥é€‰ä¸ªå¸¦ Dockerçš„Centosç³»ç»Ÿï¼Œç”¨Dockeræ¥è£…EwoMailï¼Œå› ä¸ºå‘ç°æœ‰è¿™ä¸ªé•œåƒçš„ã€‚</p> <a id="more"></a><h2 id="1ã€ä¸‹è½½ï¼ˆpullï¼‰é•œåƒ"><a href="#1ã€ä¸‹è½½ï¼ˆpullï¼‰é•œåƒ" class="headerlink" title="1ã€ä¸‹è½½ï¼ˆpullï¼‰é•œåƒ"></a>1ã€ä¸‹è½½ï¼ˆpullï¼‰é•œåƒ</h2><ul><li><p>1).æœç´¢é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search ewomail</span><br></pre></td></tr></table></figure></li><li><p>2).æ‹‰å–ewomail é•œåƒï¼ˆå½“ç„¶å¯ä»¥ä¸æœç´¢ï¼Œç›´æ¥æ‹‰å–ä¸‹é¢è¿™ä¸ªé•œåƒï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull bestwu/ewomail</span><br></pre></td></tr></table></figure></li></ul><p>dockerå®˜æ–¹æ–‡æ¡£ä¸Šé¢è¿˜æœ‰è¯¦ç»†çš„ä»‹ç»ï¼š<a class="link"   href="https://hub.docker.com/r/bestwu/ewomail/" >https://hub.docker.com/r/bestwu/ewomail/<i class="fas fa-external-link-alt"></i></a></p><h2 id="2ã€æ„å»ºå®¹å™¨"><a href="#2ã€æ„å»ºå®¹å™¨" class="headerlink" title="2ã€æ„å»ºå®¹å™¨"></a>2ã€æ„å»ºå®¹å™¨</h2><h3 id="1-å®¹å™¨é…ç½®æ–‡ä»¶"><a href="#1-å®¹å™¨é…ç½®æ–‡ä»¶" class="headerlink" title="1).å®¹å™¨é…ç½®æ–‡ä»¶"></a>1).å®¹å™¨é…ç½®æ–‡ä»¶</h3><p>åˆ›å»º <em>docker-compose.yml</em></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mail:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">bestwu/ewomail</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">mail.szxx.fun</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">ewomail</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;25:25&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;143:143&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;587:587&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;993:993&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;109:109&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;110:110&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;465:465&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;995:995&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:8080&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3307:3306&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/mysql:/ewomail/mysql/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/vmail:/ewomail/mail</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/rainloop:/ewomail/www/rainloop/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/ssl/certs/:/etc/ssl/certs/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/ssl/private/:/etc/ssl/private/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">`pwd`/ewomail/ssl/dkim/:/ewomail/dkim/</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_ROOT_PASSWORD=123MYSQL456&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_MAIL_PASSWORD=111111MYSQL&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯é…ç½®å‚æ•°<br>MYSQL_ROOT_PASSWORDï¼šmysqlæ•°æ®åº“rootå¯†ç ï¼Œé»˜è®¤ï¼šmysql<br>MYSQL_MAIL_PASSWORDï¼šmysqlæ•°æ®åº“ewomailå¯†ç ï¼Œé»˜è®¤ï¼š123456<br>URLï¼šç½‘ç«™é“¾æ¥ï¼Œåé¢ä¸è¦åŠ /çº¿<br>WEBMAIL_URLï¼šé‚®ä»¶ç³»ç»Ÿé“¾æ¥ï¼Œåé¢ä¸è¦åŠ /çº¿<br>TITLEï¼šç”¨æˆ·é‚®ç®±æ ‡é¢˜<br>COPYRIGHTï¼š é‚®ç®±ç®¡ç†åå°ç½‘ç«™ç‰ˆæƒ<br>ICPï¼šé‚®ç®±ç®¡ç†åå°ç½‘ç«™å¤‡æ¡ˆå·<br>LANGUAGEï¼šè¯­è¨€é€‰æ‹©ï¼Œé»˜è®¤:zh_CN</p></blockquote><h3 id="2-æ„å»ºå®¹å™¨"><a href="#2-æ„å»ºå®¹å™¨" class="headerlink" title="2).æ„å»ºå®¹å™¨"></a>2).æ„å»ºå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šå¦‚æœå®¹å™¨å¯åŠ¨å¤±è´¥ï¼Œå‘ç°25ç«¯å£è¢«å ç”¨ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤(è¢«postfixè¿›ç¨‹å ç”¨)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop postfix</span><br></pre></td></tr></table></figure><h2 id="3ã€å…³é—­10024ç«¯å£"><a href="#3ã€å…³é—­10024ç«¯å£" class="headerlink" title="3ã€å…³é—­10024ç«¯å£"></a>3ã€å…³é—­10024ç«¯å£</h2><h3 id="1-è¿›å…¥å®¹å™¨"><a href="#1-è¿›å…¥å®¹å™¨" class="headerlink" title="1).è¿›å…¥å®¹å™¨"></a>1).è¿›å…¥å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it ewomail bash</span><br></pre></td></tr></table></figure><h3 id="2-ä¿®æ”¹-main-cf-é…ç½®æ–‡ä»¶ï¼š"><a href="#2-ä¿®æ”¹-main-cf-é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="2).ä¿®æ”¹ main.cf é…ç½®æ–‡ä»¶ï¼š"></a>2).ä¿®æ”¹ main.cf é…ç½®æ–‡ä»¶ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/postfix/main.cf</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šä»¥ä¸‹è¡Œï¼ˆåœ¨æ–‡ä»¶æœ€åå‡ è¡Œï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># content_filter &#x3D; smtp-amavis:[127.0.0.1]:10024</span><br></pre></td></tr></table></figure><h2 id="4ã€åŸŸåè§£æ"><a href="#4ã€åŸŸåè§£æ" class="headerlink" title="4ã€åŸŸåè§£æ"></a>4ã€åŸŸåè§£æ</h2><h3 id="1-è®¾ç½®DNSç±»å‹"><a href="#1-è®¾ç½®DNSç±»å‹" class="headerlink" title="1).è®¾ç½®DNSç±»å‹"></a>1).è®¾ç½®DNSç±»å‹</h3><table><thead><tr><th>ç±»å‹</th><th>ä¸»æœº</th><th>è®°å½•å€¼</th></tr></thead><tbody><tr><td>A</td><td>mail</td><td>127.0.0.1</td></tr><tr><td>TXT</td><td>@</td><td>v=spf1 127.0.0.1 -all</td></tr><tr><td>CNAME</td><td>imap</td><td>mail.stephen520.cn</td></tr><tr><td>CNAME</td><td>smtp</td><td>mail.stephen520.cn</td></tr><tr><td>CNAME</td><td>pop</td><td>mail.stephen520.cn</td></tr><tr><td>CNAME</td><td>pop3</td><td>mail.stephen520.cn</td></tr><tr><td>MX</td><td>@</td><td>mail.stephen520.cn | 10</td></tr></tbody></table><p><em>å°† 127.0.0.1æ”¹ä¸ºè‡ªå·±çš„æœåŠ¡å™¨ IPåœ°å€ï¼›mail.stephen520.cnæ”¹ä¸ºè‡ªå·±çš„åŸŸåå¯¹åº”çš„</em></p><h3 id="2-è®¾ç½®DKIM"><a href="#2-è®¾ç½®DKIM" class="headerlink" title="2).è®¾ç½®DKIM"></a>2).è®¾ç½®DKIM</h3><p>DKIMæ˜¯ç”µå­é‚®ä»¶éªŒè¯æ ‡å‡†ï¼ŒåŸŸåå¯†é’¥è¯†åˆ«é‚®ä»¶æ ‡å‡†ï¼Œä¸»è¦æ˜¯ç”¨æ¥é˜²æ­¢è¢«åˆ¤å®šä¸ºåƒåœ¾é‚®ä»¶ã€‚<br>æ¯ä¸ªåŸŸåéƒ½éœ€è¦æ·»åŠ ä¸€ä¸ªdkimçš„keyï¼ŒEwoMailé»˜è®¤å®‰è£…åå·²è‡ªåŠ¨æ·»åŠ ä¸»åŸŸådkimï¼Œåªéœ€è¦è®¾ç½®å¥½dkimçš„dnså³å¯ã€‚</p><p><strong>è·å–DKIM KEY</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> ewomail amavisd showkeys</span><br></pre></td></tr></table></figure><p>å¤åˆ¶è¾“å‡ºçš„ä¿¡æ¯ï¼Œæ‰“å¼€ <a class="link"   href="http://www.ewomail.com/list-20.html" >http://www.ewomail.com/list-20.html<i class="fas fa-external-link-alt"></i></a> ï¼Œæ•´ç†DKIMï¼Œå¾—åˆ°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v=DKIM1;p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC+GgBqnWRl/beLZeVBcz+iu8zB1Cl/mNf2rwVgj/qz0lMo+EFrJWtKE4GBbTzGzdkqksqPZ0Vjoh/P5o0YSGSFgr3GmLidAqCAelJ/sP36Kup9vkl4hprlFb0yjtyFVUtB2GOOFpME/JQdQ8exzY4gnt5bt3CbmMMnilPtOMgD5wIDAQAB</span><br></pre></td></tr></table></figure><table><thead><tr><th>ç±»å‹</th><th>ä¸»æœº</th><th align="left">è®°å½•å€¼</th></tr></thead><tbody><tr><td>TXT</td><td>dkim._domainkey</td><td align="left"><code>v=DKIM1;p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC+GgBqnWRl/beLZeVBcz+iu8zB1Cl/mNf2rwVgj/qz0lMo+EFrJWtKE4GBbTzGzdkqksqPZ0Vjoh/P5o0YSGSFgr3GmLidAqCAelJ/sP36Kup9vkl4hprlFb0yjtyFVUtB2GOOFpME/JQdQ8exzY4gnt5bt3CbmMMnilPtOMgD5wIDAQAB</code></td></tr></tbody></table><h2 id="5ã€é…ç½®å®‰å…¨ç»„"><a href="#5ã€é…ç½®å®‰å…¨ç»„" class="headerlink" title="5ã€é…ç½®å®‰å…¨ç»„"></a>5ã€é…ç½®å®‰å…¨ç»„</h2><ul><li>1).åœ¨äº‘æœåŠ¡å™¨æ§åˆ¶å°é…ç½®è…¾è®¯äº‘<a class="link"   href="https://console.cloud.tencent.com/vpc/securitygroup?rid=1&rid=1" >å®‰å…¨ç»„<i class="fas fa-external-link-alt"></i></a>ï¼Œæ‰“å¼€ä»¥ä¸Šå®¹å™¨ç›‘å¬çš„ç«¯å£ï¼Œå¹¶å…³é—­é˜²ç«å¢™ã€‚</li><li>2).æœåŠ¡å™¨ã€é˜²ç«å¢™ã€‘æ·»åŠ è§„åˆ™ï¼Œå…è®¸ç«¯å£ï¼Œæ·»åŠ <strong>å…è®¸3307ç«¯å£ï¼ˆæ˜ å°„çš„MySQLç«¯å£ï¼‰</strong>ã€‚</li></ul><h2 id="6ã€å®Œæˆ"><a href="#6ã€å®Œæˆ" class="headerlink" title="6ã€å®Œæˆ"></a>6ã€å®Œæˆ</h2><p><em>ä»¥ä¸‹å°† 127.0.0.1 æ”¹ä¸ºè‡ªå·±çš„æœåŠ¡å™¨ IPåœ°å€</em></p><p><strong>é‚®ç®±ç®¡ç†åå°</strong>ï¼š<br><a class="link"   href="http://127.0.0.1:8080/" >http://127.0.0.1:8080/<i class="fas fa-external-link-alt"></i></a><br>é»˜è®¤è´¦å·ï¼šadmin/ewomail123</p><p><strong>Rainloop ç®¡ç†ç«¯</strong>ï¼š<br><a class="link"   href="http://127.0.0.1/?admin" >http://127.0.0.1/?admin<i class="fas fa-external-link-alt"></i></a><br>é»˜è®¤è´¦å·ï¼šadmin/12345</p><p><strong>Rainloopç”¨æˆ·ç«¯ï¼ˆå‰ç«¯ï¼‰</strong>ï¼š<br><a class="link"   href="http://127.0.0.1/" >http://127.0.0.1/<i class="fas fa-external-link-alt"></i></a></p><h2 id="7ã€è‡ªå®šä¹‰è¯ä¹¦"><a href="#7ã€è‡ªå®šä¹‰è¯ä¹¦" class="headerlink" title="7ã€è‡ªå®šä¹‰è¯ä¹¦"></a>7ã€è‡ªå®šä¹‰è¯ä¹¦</h2><p><strong>æ˜ å°„è·¯å¾„</strong></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/etc/ssl/certs/dovecot.pem</span></span><br><span class="line"><span class="string">/etc/ssl/private/dovecot.pem</span></span><br><span class="line"><span class="string">/ewomail/dkim/mail.pem</span></span><br></pre></td></tr></table></figure><h2 id="8ã€å®¹å™¨ç›¸å…³å‘½ä»¤"><a href="#8ã€å®¹å™¨ç›¸å…³å‘½ä»¤" class="headerlink" title="8ã€å®¹å™¨ç›¸å…³å‘½ä»¤"></a>8ã€å®¹å™¨ç›¸å…³å‘½ä»¤</h2><p>æŸ¥çœ‹dockerå®¹å™¨æ˜¯å¦å¯åŠ¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><p>è¿›å…¥å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it ewomail /bin/bash</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python å¯¹å›¾ç‰‡è¿›è¡Œæ–‡å­—è¯†åˆ«</title>
      <link href="/2021/03/13/Python%E5%AF%B9%E5%9B%BE%E7%89%87%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/"/>
      <url>/2021/03/13/Python%E5%AF%B9%E5%9B%BE%E7%89%87%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>Python æ–‡å­—è¯†åˆ«ï¼Œæœ‰ä¸ªOCR åº“â€”â€”Tesseractï¼Œçœ‹ç½‘ä¸Šè¯„è®ºè¯´è¯†åˆ«å‡ºæ¥ä¸ç²¾å‡†ï¼Œå‡†ç¡®ç‡ä¸è¡Œã€‚è¿˜æ˜¯ç”¨ç™¾åº¦çš„æ–‡å­—è¯†åˆ«APIç²¾å‡†å¾—å¤šã€‚ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ã€‚</p><a id="more"></a><h1 id="ä¸€ã€åœ¨ç™¾åº¦åˆ›å»ºæ–‡å­—è¯†åˆ«çš„åº”ç”¨"><a href="#ä¸€ã€åœ¨ç™¾åº¦åˆ›å»ºæ–‡å­—è¯†åˆ«çš„åº”ç”¨" class="headerlink" title="ä¸€ã€åœ¨ç™¾åº¦åˆ›å»ºæ–‡å­—è¯†åˆ«çš„åº”ç”¨"></a>ä¸€ã€åœ¨ç™¾åº¦åˆ›å»ºæ–‡å­—è¯†åˆ«çš„åº”ç”¨</h1><h2 id="1-æ³¨å†Œç™»å½•ç™¾åº¦è´¦å·"><a href="#1-æ³¨å†Œç™»å½•ç™¾åº¦è´¦å·" class="headerlink" title="1.æ³¨å†Œç™»å½•ç™¾åº¦è´¦å·"></a>1.æ³¨å†Œç™»å½•ç™¾åº¦è´¦å·</h2><p>æ²¡æœ‰è´¦å·çš„ï¼Œå°±æ³¨å†Œä¸€ä¸‹ã€‚</p><h2 id="2-åˆ›å»ºæ–‡å­—è¯†åˆ«åº”ç”¨"><a href="#2-åˆ›å»ºæ–‡å­—è¯†åˆ«åº”ç”¨" class="headerlink" title="2.åˆ›å»ºæ–‡å­—è¯†åˆ«åº”ç”¨"></a>2.åˆ›å»ºæ–‡å­—è¯†åˆ«åº”ç”¨</h2><p>ç½‘å€ï¼š<a class="link"   href="https://console.bce.baidu.com/ai/#/ai/ocr/overview/index" >https://console.bce.baidu.com/ai/#/ai/ocr/overview/index<i class="fas fa-external-link-alt"></i></a></p><ul><li>åº”ç”¨åç§°ï¼šè‡ªå·±å–ï¼Œæ¯”å¦‚ï¼šOCRè¯†åˆ«ï¼›</li><li>æ¥å£é€‰æ‹©ï¼šé»˜è®¤å·²ç»å‹¾é€‰<strong>æ–‡å­—è¯†åˆ«</strong>äº†ï¼›</li><li>æ–‡å­—æ–‡å­—è¯†åˆ«åŒ…åï¼šä¸éœ€è¦ï¼ˆé»˜è®¤ï¼‰</li><li>åº”ç”¨å½’å±ï¼šä¸ªäºº</li><li>åº”ç”¨æè¿°ï¼šè‡ªå·±å†™</li></ul><p>ç„¶åå°±å¾—åˆ°äº†è¿™ä¸ªåº”ç”¨çš„ï¼š<strong>AppID</strong>ï¼Œ<strong>API Key</strong>ï¼Œ<strong>Secret Key</strong>ã€‚ï¼ˆåé¢éœ€è¦ç”¨åˆ°ï¼‰</p><h1 id="äºŒã€Pythonä»£ç å®ç°"><a href="#äºŒã€Pythonä»£ç å®ç°" class="headerlink" title="äºŒã€Pythonä»£ç å®ç°"></a>äºŒã€Pythonä»£ç å®ç°</h1><h2 id="1-å®‰è£…ç™¾åº¦çš„OCRåº“"><a href="#1-å®‰è£…ç™¾åº¦çš„OCRåº“" class="headerlink" title="1.å®‰è£…ç™¾åº¦çš„OCRåº“"></a>1.å®‰è£…ç™¾åº¦çš„OCRåº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install baidu-aip</span><br></pre></td></tr></table></figure><p>è¿™ä¸Šé¡¹ç›®åœ¨Githubä¸Šåœ°å€ï¼š<a class="link"   href="https://github.com/Baidu-AIP/python-sdk" >https://github.com/Baidu-AIP/python-sdk<i class="fas fa-external-link-alt"></i></a></p><p>è¿™ä¸ªåº“çš„ç›®å½•ç»“æ„ï¼š<br>â”œâ”€â”€ aip                   // SDKç›®å½•<br>    â”‚   â”œâ”€â”€ <strong>init</strong>.py       // å¯¼å‡ºç±»<br>    â”‚   â”œâ”€â”€ base.py           // aipåŸºç±»<br>    â”‚   â”œâ”€â”€ speech.py         // è¯­éŸ³<br>    â”‚   â”œâ”€â”€ face.py           // äººè„¸<br>    â”‚   â”œâ”€â”€ ocr.py            // OCR<br>    â”‚   â”œâ”€â”€ nlp.py            // NLP<br>    â”‚   â”œâ”€â”€ kg.py             // çŸ¥è¯†å›¾è°±<br>    â”‚   â”œâ”€â”€ imagecensor.py    // å›¾åƒå®¡æ ¸<br>    â”‚   â”œâ”€â”€ imageclassify.py  // å›¾åƒè¯†åˆ«<br>    â”‚   â””â”€â”€ imagesearch.py    // å›¾åƒæœç´¢<br>    â””â”€â”€ setup.py              //setuptoolså®‰è£…</p><p>æ–‡å­—è¯†åˆ«OCRï¼Œå°±ç”¨åˆ°<code>ocr.py</code>è¿™ä¸ªã€‚</p><h2 id="2-æ–‡å­—è¯†åˆ«åº”ç”¨çš„æ–‡æ¡£"><a href="#2-æ–‡å­—è¯†åˆ«åº”ç”¨çš„æ–‡æ¡£" class="headerlink" title="2.æ–‡å­—è¯†åˆ«åº”ç”¨çš„æ–‡æ¡£"></a>2.æ–‡å­—è¯†åˆ«åº”ç”¨çš„æ–‡æ¡£</h2><p>å®˜ç½‘ï¼š<a class="link"   href="https://ai.baidu.com/ai-doc/OCR/wkibizyjk" >https://ai.baidu.com/ai-doc/OCR/wkibizyjk<i class="fas fa-external-link-alt"></i></a></p><p>HTTP-SDKæ–‡æ¡£ä¸‹é¢æœ‰åˆ†Javaè¯­è¨€ã€Pythonè¯­è¨€ã€PHPè¯­è¨€ã€C++è¯­è¨€ã€C#è¯­è¨€ã€Node.jsè¯­è¨€ã€Android SDKã€IOS SDKã€‚åæ­£å„ç§è¯­è¨€éƒ½æœ‰ï¼Œè¿™é‡Œç”¨çš„æ˜¯Pythonã€‚</p><p>æ–‡æ¡£ä¸­ <strong>å¿«é€Ÿå…¥é—¨</strong>ã€<strong>æ¥å£è¯´æ˜</strong> åæ­£éƒ½å†™çš„å¾ˆæ¸…æ¥šäº†ï¼Œçœ‹çœ‹å°±ä¼šç”¨äº†ã€‚</p><h2 id="3-ä»£ç å®ä¾‹"><a href="#3-ä»£ç å®ä¾‹" class="headerlink" title="3.ä»£ç å®ä¾‹"></a>3.ä»£ç å®ä¾‹</h2><p>ä¸»è¦çœ‹ä¸€ä¸‹è°ƒç”¨è¯†åˆ«æ–¹æ³•åï¼Œè¿”å›çš„ç¤ºä¾‹æœ‰äº›ä»€ä¹ˆï¼Œå¯ä»¥è‡ªå·±printå‡ºæ¥çœ‹ä¸€ä¸‹ã€‚</p><p>è¿”å›ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">x-bce-request-<span class="built_in">id</span>: 73c4e74c-<span class="number">3101</span>-4a00-bf44-fe246959c05e</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Server: BWS</span><br><span class="line">Date: Tue, <span class="number">18</span> Oct <span class="number">2016</span> 02:<span class="number">21</span>:01 GMT</span><br><span class="line">Content-<span class="type">Type</span>: application/json;charset=UTF-<span class="number">8</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;log_id&quot;</span>: <span class="number">3523983603</span>,</span><br><span class="line"><span class="string">&quot;direction&quot;</span>: <span class="number">0</span>, //detect_direction=trueæ—¶å­˜åœ¨</span><br><span class="line"><span class="string">&quot;words_result_num&quot;</span>: <span class="number">2</span>,</span><br><span class="line"><span class="string">&quot;words_result&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;location&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;left&quot;</span>: <span class="number">35</span>,</span><br><span class="line">            <span class="string">&quot;top&quot;</span>: <span class="number">53</span>,</span><br><span class="line">            <span class="string">&quot;width&quot;</span>: <span class="number">193</span>,</span><br><span class="line">            <span class="string">&quot;height&quot;</span>: <span class="number">109</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;words&quot;</span>: <span class="string">&quot;æ„ŸåŠ¨&quot;</span>,</span><br><span class="line">        <span class="string">&quot;chars&quot;</span>: [    //recognize_granularity=smallæ—¶å­˜åœ¨</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;location&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;left&quot;</span>: <span class="number">56</span>,</span><br><span class="line">                    <span class="string">&quot;top&quot;</span>: <span class="number">65</span>,</span><br><span class="line">                    <span class="string">&quot;width&quot;</span>: <span class="number">69</span>,</span><br><span class="line">                    <span class="string">&quot;height&quot;</span>: <span class="number">88</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">&quot;char&quot;</span>: <span class="string">&quot;æ„Ÿ&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;location&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;left&quot;</span>: <span class="number">140</span>,</span><br><span class="line">                    <span class="string">&quot;top&quot;</span>: <span class="number">65</span>,</span><br><span class="line">                    <span class="string">&quot;width&quot;</span>: <span class="number">70</span>,</span><br><span class="line">                    <span class="string">&quot;height&quot;</span>: <span class="number">88</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">&quot;char&quot;</span>: <span class="string">&quot;åŠ¨&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦çš„æ–‡å­—å†…å®¹å°±åœ¨ï¼šwords_result ä¸­çš„ <strong>words</strong> å†…å®¹ã€‚</p><h3 id="3-1-è¯†åˆ«å•å¼ æœ¬åœ°å›¾ç‰‡"><a href="#3-1-è¯†åˆ«å•å¼ æœ¬åœ°å›¾ç‰‡" class="headerlink" title="3-1.è¯†åˆ«å•å¼ æœ¬åœ°å›¾ç‰‡"></a>3-1.è¯†åˆ«å•å¼ æœ¬åœ°å›¾ç‰‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> aip <span class="keyword">import</span> AipOcr</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾ç‰‡</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_file_content</span>(<span class="params">pic_file</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(pic_file, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">return</span> f.read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬åœ°å•å¼ å›¾ç‰‡æ–‡å­—è¯†åˆ«</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pic_ocr</span>(<span class="params">pic_file</span>):</span></span><br><span class="line">    app_id = <span class="string">&#x27;2******0&#x27;</span> <span class="comment"># ç”¨è‡ªå·±çš„AppID</span></span><br><span class="line">    app_key = <span class="string">&#x27;6************a&#x27;</span></span><br><span class="line">    secret_key = <span class="string">&#x27;z************3&#x27;</span></span><br><span class="line"></span><br><span class="line">    client = AipOcr(app_id, app_key, secret_key)</span><br><span class="line"></span><br><span class="line">    image = get_file_content(pic_file)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è°ƒç”¨ é€šç”¨æ–‡å­—è¯†åˆ«ï¼ˆé«˜ç²¾åº¦ç‰ˆï¼‰ï¼Œæå–å›¾ç‰‡ä¸­çš„æ–‡å­—å†…å®¹</span></span><br><span class="line">    text = client.basicAccurate(image)</span><br><span class="line"></span><br><span class="line">    result = text[<span class="string">&#x27;words_result&#x27;</span>]</span><br><span class="line">    <span class="comment"># print(result) # resultæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªDictionaryï¼Œkeyä¸º&#x27;words&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> result:</span><br><span class="line">        <span class="built_in">print</span>(line[<span class="string">&#x27;words&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬åœ°å•å¼ å›¾ç‰‡æ–‡å­—è¯†åˆ«</span></span><br><span class="line">pic_ocr(<span class="string">&#x27;ocr_test.jpg&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æœ€åç»“æœç›´æ¥printæ‰“å°å‡ºæ¥äº†ï¼Œå¦‚æœè¦å†™å…¥æ–‡æ¡£å°±è‡ªå·±æ”¹æˆå†™å…¥æ–‡æ¡£çš„æ–¹æ³•å°±è¡Œã€‚</p><h3 id="3-2-è¯†åˆ«ç½‘ç»œå›¾ç‰‡"><a href="#3-2-è¯†åˆ«ç½‘ç»œå›¾ç‰‡" class="headerlink" title="3-2.è¯†åˆ«ç½‘ç»œå›¾ç‰‡"></a>3-2.è¯†åˆ«ç½‘ç»œå›¾ç‰‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç½‘ç»œå›¾ç‰‡æ–‡å­—è¯†åˆ«</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">url_pic_ocr</span>(<span class="params">pic_url</span>):</span></span><br><span class="line">    app_id = <span class="string">&#x27;2******0&#x27;</span> <span class="comment"># ç”¨è‡ªå·±çš„AppID</span></span><br><span class="line">    app_key = <span class="string">&#x27;6************a&#x27;</span></span><br><span class="line">    secret_key = <span class="string">&#x27;z************3&#x27;</span></span><br><span class="line"></span><br><span class="line">    client = AipOcr(app_id, app_key, secret_key)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è°ƒç”¨ é€šç”¨æ–‡å­—è¯†åˆ«ï¼ˆå«ä½ç½®ä¿¡æ¯ç‰ˆï¼‰ï¼Œæå–å›¾ç‰‡ä¸­çš„æ–‡å­—å†…å®¹</span></span><br><span class="line">    text = client.generalUrl(pic_url)</span><br><span class="line"></span><br><span class="line">    result = text[<span class="string">&#x27;words_result&#x27;</span>]</span><br><span class="line">    <span class="comment"># print(result)</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> result:</span><br><span class="line">        <span class="built_in">print</span>(line[<span class="string">&#x27;words&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç½‘ç»œå›¾ç‰‡æ–‡å­—è¯†åˆ«</span></span><br><span class="line">url_pic_ocr(<span class="string">r&#x27;http://n.sinaimg.cn/henan/transform/20160114/6sMt-fxnrahr8267165.jpg&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python selenium åˆ‡æ¢åˆ°æ–°çš„çª—å£æ–¹æ³•</title>
      <link href="/2021/02/19/Python-selenium3-%E5%88%87%E6%8D%A2%E5%88%B0%E6%96%B0%E7%9A%84%E7%AA%97%E5%8F%A3%E6%96%B9%E6%B3%95/"/>
      <url>/2021/02/19/Python-selenium3-%E5%88%87%E6%8D%A2%E5%88%B0%E6%96%B0%E7%9A%84%E7%AA%97%E5%8F%A3%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>Python ç”¨seleniumï¼ˆæ–‡ç« ä»£ç ä¸­ä½¿ç”¨selenium3ç‰ˆæœ¬ï¼‰ åœ¨ç½‘é¡µä¸Šæ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ï¼Œç‚¹å‡»ä¸€ä¸ªé“¾æ¥ æˆ–è€… æŒ‰é’®ï¼Œå°±ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çª—å£ ã€‚</p><p>ç„¶åä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œæ–°çš„çª—å£è™½ç„¶æ‰“å¼€äº†ï¼Œä½†æ˜¯ WebDriverå¯¹è±¡å¯¹åº”çš„è¿˜æ˜¯è€çª—å£ï¼Œè‡ªåŠ¨åŒ–æ“ä½œä¹Ÿè¿˜æ˜¯åœ¨è€çª—å£è¿›è¡Œã€‚é‚£å°±æ— æ³•åœ¨æ–°çª—å£ä¸Šè¿›è¡Œè‡ªåŠ¨åŒ–æ“ä½œäº†ã€‚</p><a id="more"></a><h2 id="é‡ç°é—®é¢˜"><a href="#é‡ç°é—®é¢˜" class="headerlink" title="é‡ç°é—®é¢˜"></a>é‡ç°é—®é¢˜</h2><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘è¦æ‰“å¼€ä¸‹é¢ä»£ç ä¸­çš„ siteçš„ç½‘å€ï¼Œç„¶åç‚¹å‡»æœ€ä¸Šé¢ä¸€æ’çš„ã€åŸºé‡‘å‡€å€¼ã€‘ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„ç½‘é¡µã€‚ä½†æˆ‘ä»¬é€šè¿‡æ‰“å° webdriverçš„æ ‡é¢˜(title)ï¼Œå°±çŸ¥é“è¿˜æ˜¯åœ¨åŸæ¥çš„è€çª—å£ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">driver_path = <span class="string">r&#x27;F:\python\chromedriver.exe&#x27;</span></span><br><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line">option.add_argument(<span class="string">&quot;headless&quot;</span>)</span><br><span class="line">wd = webdriver.Chrome(driver_path, options=option)</span><br><span class="line">wd.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">site = <span class="string">&#x27;https://fund.eastmoney.com/&#x27;</span></span><br><span class="line">wd.get(site)</span><br><span class="line"></span><br><span class="line">fund_element = wd.find_element_by_css_selector(<span class="string">&#x27;.wrapper_min .jz a&#x27;</span>)</span><br><span class="line">element_name = fund_element.text</span><br><span class="line">element_site = fund_element.get_attribute(<span class="string">&#x27;href&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å½“å‰çª—å£æ ‡é¢˜ï¼š&#x27;</span>, wd.title)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å½“å‰çª—å£ç½‘å€ï¼š&#x27;</span>, wd.current_url)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ç‚¹å‡»çš„é“¾æ¥ä¸ºï¼š&#x27;</span>, element_site)</span><br><span class="line"></span><br><span class="line">fund_element.click()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å½“å‰çª—å£æ ‡é¢˜ï¼š&#x27;</span>, wd.title)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å½“å‰çª—å£ç½‘å€ï¼š&#x27;</span>, wd.current_url) <span class="comment">#ç½‘å€åé¢ # åé¢çš„ä¸€ä¸²å¿½ç•¥</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œåçš„ç»“æœæ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å‰çª—å£æ ‡é¢˜ï¼š å¤©å¤©åŸºé‡‘ç½‘(1234567.com.cn) --é¦–æ‰¹ç‹¬ç«‹åŸºé‡‘é”€å”®æœºæ„-- ä¸œæ–¹è´¢å¯Œç½‘æ——ä¸‹åŸºé‡‘å¹³å°!</span><br><span class="line">å½“å‰çª—å£ç½‘å€ï¼š https://fund.eastmoney.com/</span><br><span class="line">ç‚¹å‡»çš„é“¾æ¥ä¸ºï¼š http://fund.eastmoney.com/fund.html</span><br><span class="line">å½“å‰çª—å£æ ‡é¢˜ï¼š å¤©å¤©åŸºé‡‘ç½‘(1234567.com.cn) --é¦–æ‰¹ç‹¬ç«‹åŸºé‡‘é”€å”®æœºæ„-- ä¸œæ–¹è´¢å¯Œç½‘æ——ä¸‹åŸºé‡‘å¹³å°!</span><br><span class="line">å½“å‰çª—å£ç½‘å€ï¼š https://fund.eastmoney.com/</span><br></pre></td></tr></table></figure><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>å¯ä»¥ä½¿ç”¨Webdriverå¯¹è±¡çš„switch_toå±æ€§çš„ windowæ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.switch_to.window(handle)</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œå‚æ•°handleå°±æ˜¯å¥æŸ„ï¼Œå¯ä»¥æƒ³è±¡æˆå¯¹åº”ç½‘é¡µçª—å£çš„ä¸€ä¸ªIDã€‚<br>WebDriverå¯¹è±¡æœ‰window_handles å±æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ—è¡¨å¯¹è±¡ï¼Œ é‡Œé¢åŒ…æ‹¬äº†å½“å‰æµè§ˆå™¨é‡Œé¢æ‰€æœ‰çš„çª—å£å¥æŸ„ã€‚</p><p><strong>è§£å†³æ€è·¯</strong>ï¼š</p><ul><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¾ªç¯è¿™ä¸ªhandlesåˆ—è¡¨ï¼Œä¸€ä¸ªä¸ªhandleå¯¹åº”çš„çª—å£æ‰¾è¿‡å»ï¼›</li><li>å½“æ‰¾åˆ°handleå¯¹åº”çš„çª—å£çš„current_urlå±æ€§ å’Œæˆ‘ä»¬ç‚¹å‡»çš„é“¾æ¥urlç›¸åŒçš„æ—¶å€™ï¼Œå°±æ‰¾åˆ°äº†æˆ‘ä»¬éœ€è¦çš„çª—å£çš„handleï¼Œç„¶åå°±è·³å‡ºå¾ªç¯ã€‚</li></ul><p>ä¸‹é¢è¿™æ®µä»£ç å°±æ”¾åœ¨ <code>fund_element.click()</code> ä¹‹åï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°æ–°é“¾æ¥çš„çª—å£</span></span><br><span class="line"><span class="keyword">for</span> handle <span class="keyword">in</span> wd.window_handles:</span><br><span class="line">    wd.switch_to.window(handle) <span class="comment"># å…ˆåˆ‡æ¢åˆ°æ–°çš„çª—å£</span></span><br><span class="line">    <span class="keyword">if</span>(wd.current_url == element_site):</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">driver_path = <span class="string">r&#x27;F:\python\chromedriver.exe&#x27;</span></span><br><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line">option.add_argument(<span class="string">&quot;headless&quot;</span>)</span><br><span class="line">wd = webdriver.Chrome(driver_path, options=option)</span><br><span class="line">wd.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">site = <span class="string">&#x27;https://fund.eastmoney.com/&#x27;</span></span><br><span class="line">wd.get(site)</span><br><span class="line"></span><br><span class="line">fund_element = wd.find_element_by_css_selector(<span class="string">&#x27;.wrapper_min .jz a&#x27;</span>)</span><br><span class="line">element_name = fund_element.text</span><br><span class="line">element_site = fund_element.get_attribute(<span class="string">&#x27;href&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å½“å‰çª—å£æ ‡é¢˜ï¼š&#x27;</span>, wd.title)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å½“å‰çª—å£ç½‘å€ï¼š&#x27;</span>, wd.current_url)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ç‚¹å‡»çš„é“¾æ¥ä¸ºï¼š&#x27;</span>, element_site)</span><br><span class="line"></span><br><span class="line">fund_element.click()</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°æ–°é“¾æ¥çš„çª—å£</span></span><br><span class="line"><span class="keyword">for</span> handle <span class="keyword">in</span> wd.window_handles:</span><br><span class="line">    wd.switch_to.window(handle)</span><br><span class="line">    <span class="keyword">if</span>(wd.current_url == element_site):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å½“å‰çª—å£æ ‡é¢˜ï¼š&#x27;</span>, wd.title)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å½“å‰çª—å£ç½‘å€ï¼š&#x27;</span>, wd.current_url)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å½“å‰çª—å£æ ‡é¢˜ï¼š å¤©å¤©åŸºé‡‘ç½‘(1234567.com.cn) --é¦–æ‰¹ç‹¬ç«‹åŸºé‡‘é”€å”®æœºæ„-- ä¸œæ–¹è´¢å¯Œç½‘æ——ä¸‹åŸºé‡‘å¹³å°!</span><br><span class="line">å½“å‰çª—å£ç½‘å€ï¼š https://fund.eastmoney.com/</span><br><span class="line">ç‚¹å‡»çš„é“¾æ¥ä¸ºï¼š http://fund.eastmoney.com/fund.html</span><br><span class="line">å½“å‰çª—å£æ ‡é¢˜ï¼š æ¯æ—¥å¼€æ”¾å¼åŸºé‡‘å‡€å€¼è¡¨ _ å¤©å¤©åŸºé‡‘ç½‘</span><br><span class="line">å½“å‰çª—å£ç½‘å€ï¼š http://fund.eastmoney.com/fund.html<span class="comment">#os_0;isall_0;ft_;pt_1</span></span><br></pre></td></tr></table></figure><p>å½“å‰çª—å£ç½‘å€åé¢ # ç¬¦å·åé¢çš„ä¸€ä¸²å¯ä»¥å¿½ç•¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python openpyxl.load_workbook excel file error è§£å†³æ–¹æ³•</title>
      <link href="/2021/02/17/Python-openpyxl.load_workbook-excel-file-error/"/>
      <url>/2021/02/17/Python-openpyxl.load_workbook-excel-file-error/</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸ªé”™è¯¯æ˜¯åœ¨æˆ‘é¢‘ç¹load excelæ–‡ä»¶ï¼Œå†™å…¥å†…å®¹çš„æ—¶å€™å‡ºç°çš„ï¼Œå¾ªç¯è¦å†™å…¥ä¸Šåƒé¡µçš„å†…å®¹ï¼Œæ¯é¡µå†™ä¸€æ¬¡ï¼Œç„¶åå†™äº†ä¸Šç™¾æ¬¡ä¹‹åï¼Œå°±æ¯å†™å…¥å‡ æ¬¡å°±æŠ¥è¿™ä¸ªé”™äº†ã€‚</p><p>windows10 çš„ç¯å¢ƒæœ‰è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ linux(ubuntu) ä¸Šè¿è¡ŒåŒæ ·çš„ä»£ç å¹¶æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚</p><a id="more"></a><h2 id="é”™è¯¯æç¤º"><a href="#é”™è¯¯æç¤º" class="headerlink" title="é”™è¯¯æç¤º"></a>é”™è¯¯æç¤º</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;g:\SynologyDrive\Python\code2\funds\open_funds_details.py&quot;</span>, line 54, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    main()</span><br><span class="line">  File <span class="string">&quot;g:\SynologyDrive\Python\code2\funds\open_funds_details.py&quot;</span>, line 49, <span class="keyword">in</span> main</span><br><span class="line">    one_open_fund.insert_one_fund_into_excel(ex_details_file, data_list, position_sheet, info_sheet)</span><br><span class="line">  File <span class="string">&quot;g:\SynologyDrive\Python\code2\funds\one_open_fund.py&quot;</span>, line 203, <span class="keyword">in</span> insert_one_fund_into_excel</span><br><span class="line">    book = openpyxl.load_workbook(ex_file)</span><br><span class="line">  File <span class="string">&quot;C:\Python39\lib\site-packages\openpyxl\reader\excel.py&quot;</span>, line 315, <span class="keyword">in</span> load_workbook</span><br><span class="line">    reader = ExcelReader(filename, read_only, keep_vba,</span><br><span class="line">  File <span class="string">&quot;C:\Python39\lib\site-packages\openpyxl\reader\excel.py&quot;</span>, line 124, <span class="keyword">in</span> __init__</span><br><span class="line">    self.archive = _validate_archive(fn)</span><br><span class="line">  File <span class="string">&quot;C:\Python39\lib\site-packages\openpyxl\reader\excel.py&quot;</span>, line 96, <span class="keyword">in</span> _validate_archive</span><br><span class="line">    archive = ZipFile(filename, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">  File <span class="string">&quot;C:\Python39\lib\zipfile.py&quot;</span>, line 1257, <span class="keyword">in</span> __init__</span><br><span class="line">    self._RealGetContents()</span><br><span class="line">  File <span class="string">&quot;C:\Python39\lib\zipfile.py&quot;</span>, line 1324, <span class="keyword">in</span> _RealGetContents</span><br><span class="line">    raise BadZipFile(<span class="string">&quot;File is not a zip file&quot;</span>)</span><br><span class="line">zipfile.BadZipFile: File is not a zip file</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé”™è¯¯ä¸»è¦æ˜¯ç”±äºä¸‹é¢è¿™è¡Œä»£ç å¼•èµ·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">book = openpyxl.load_workbook(ex_file)</span><br></pre></td></tr></table></figure><p>ç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œæ‰“å¼€excel æ–‡ä»¶æ—¶ï¼Œæ”¹ç”¨å®‰å…¨çš„æ‰“å¼€æ–¹å¼å°±è¡Œäº†ã€‚<br>ç”¨å®‰å…¨çš„æ‰“å¼€ã€å…³é—­æ–¹æ³•å°±ä¸ä¼šæœ‰è¿™äº›å°é—®é¢˜äº†ã€‚</p><p><strong>å®‰å…¨çš„æ‰“å¼€Excel</strong>ï¼š</p><ul><li>å¦‚æœå·²ç»å­˜åœ¨åŸæ–‡ä»¶ï¼Œå°±ç›´æ¥loadï¼›</li><li>å¦‚æœä¸å­˜åœ¨ï¼Œå°±æ–°å»ºworkbookã€‚</li></ul><p><strong>å®‰å…¨çš„ä¿å­˜Excel</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">book.save(ex_file) <span class="comment"># å†™å…¥å†…å®¹ï¼Œä¿å­˜æ–‡ä»¶ save</span></span><br><span class="line">book.close()  <span class="comment"># ä¸éœ€è¦å†™å…¥å†…å®¹ï¼Œæ‰“å¼€è¿‡æ–‡ä»¶è¦ close</span></span><br></pre></td></tr></table></figure><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>æŠŠåŸæ¥é‚£ä¸€å¥ä»£ç æ”¹æˆä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"><span class="keyword">if</span> os.path.exists(ex_file):</span><br><span class="line">    book = openpyxl.load_workbook(ex_file)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    book = openpyxl.Workbook()</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šæˆ‘è¿™é‡Œçš„ex_file æ˜¯ç»å¯¹è·¯å¾„ï¼Œæ¯”å¦‚ï¼š<code>G:\Drive\funds\test1.xlsx</code></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SyntaxError EOL while scanning string literal</title>
      <link href="/2021/02/13/SyntaxError-EOL-while-scanning-string-literal/"/>
      <url>/2021/02/13/SyntaxError-EOL-while-scanning-string-literal/</url>
      
        <content type="html"><![CDATA[<h2 id="é”™è¯¯æç¤º"><a href="#é”™è¯¯æç¤º" class="headerlink" title="é”™è¯¯æç¤º"></a>é”™è¯¯æç¤º</h2><p>pythonä¸­å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦æ˜¯æ–œæ ä¼šå¯¼è‡´å‡ºé”™ï¼š<br>SyntaxError: EOL while scanning string literal</p><a id="more"></a><p>æŠ¥é”™çš„æç¤ºé‡Œä¹Ÿæœ‰æç¤ºæ˜¯srcè¿™ä¸ªå­—ç¬¦ä¸²åé¢æœ‰ \ çš„åŸå› ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File <span class="string">&quot;g:\SynologyDrive\Python\code2\config.py&quot;</span>, line 13</span><br><span class="line">    src = r<span class="string">&#x27;G:\SynologyDrive\ubuntu\ETF\&#x27;</span></span><br><span class="line">                                        ^</span><br></pre></td></tr></table></figure><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>æŠŠä»£ç æ”¹æˆä»¥ä¸‹å°±è¡Œäº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="string">&#x27;a.xlsx&#x27;</span></span><br><span class="line">src = <span class="string">r&#x27;G:\SynologyDrive\ubuntu\ETF&#x27;</span></span><br><span class="line">src_file = src + <span class="string">&#x27;\\&#x27;</span> + file</span><br><span class="line"><span class="built_in">print</span>(src_file)</span><br></pre></td></tr></table></figure><p>è·¯å¾„ä¸æ–‡ä»¶åä¸­é—´ç”¨ \ æ‹¼æ¥ ä¸€ä¸‹å°±è¡Œäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux å®šæ—¶æ‰§è¡Œ pythonè„šæœ¬</title>
      <link href="/2021/02/08/Linux%E5%AE%9A%E6%97%B6%E6%89%A7%E8%A1%8Cpython%E8%84%9A%E6%9C%AC/"/>
      <url>/2021/02/08/Linux%E5%AE%9A%E6%97%B6%E6%89%A7%E8%A1%8Cpython%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p>Linuxç³»ç»Ÿé‡Œæœ‰ä¸ªå®šæ—¶ä»»åŠ¡çš„ç®¡ç†å™¨ crontabï¼Œæ‰€ä»¥åªéœ€è¦ç¼–è¾‘ä¸‹å®šæ—¶ä»»åŠ¡ï¼Œå†é‡å¯ä¸‹å®šæ—¶ä»»åŠ¡å°±è¡Œäº†ã€‚</p><p>å› ä¸ºæ˜¯ä¸€å°Ubuntuçš„æœåŠ¡å™¨ï¼Œä¸€ç›´å¼€æœºçš„çŠ¶æ€ï¼Œæ‰€ä»¥å¼€ç€å®šæ—¶ä»»åŠ¡å°±ç­‰äºä¸€ç›´å¼€ç€äº†ã€‚</p><p>CentOSå¦‚æœæ²¡å¸¦çš„ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¸€ä¸‹ï¼Œä¸€æ ·çš„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install crontabs</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="ä¸€ã€crontabå‘½ä»¤æ ¼å¼è¯¦è§£"><a href="#ä¸€ã€crontabå‘½ä»¤æ ¼å¼è¯¦è§£" class="headerlink" title="ä¸€ã€crontabå‘½ä»¤æ ¼å¼è¯¦è§£"></a>ä¸€ã€crontabå‘½ä»¤æ ¼å¼è¯¦è§£</h2><h3 id="1-å‘½ä»¤æ ¼å¼ï¼š"><a href="#1-å‘½ä»¤æ ¼å¼ï¼š" class="headerlink" title="1.å‘½ä»¤æ ¼å¼ï¼š"></a>1.å‘½ä»¤æ ¼å¼ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m h dom mon dow <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯ç¼©å†™ï¼Œå…¨æ‹¼æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">minute(m), hour(h), day of month(dom), month(mon), day of week(dow), <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p><strong>å«ä¹‰</strong>ï¼š</p><ul><li>m: æ¯ä¸ªå°æ—¶çš„ç¬¬å‡ åˆ†é’Ÿæ‰§è¡Œï¼Œ0-59</li><li>h: ç¬¬å¤©çš„ç¬¬å‡ ä¸ªå°æ—¶æ‰§è¡Œï¼Œ0-23</li><li>dom: æ¯æœˆçš„ç¬¬å‡ å¤©æ‰§è¡Œï¼Œ1-31</li><li>mon: æ¯å¹´çš„ç¬¬å‡ ä¸ªæœˆæ‰§è¡Œï¼Œ1-12</li><li>dow: æ¯å‘¨çš„ç¬¬å‡ å¤©æ‰§è¡Œï¼Œ0-6ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰</li><li>command: å®šæ—¶æ‰§è¡Œçš„å‘½ä»¤</li></ul><p><strong>å…¶å®ƒ</strong>ï¼š</p><ul><li>*ï¼š è¡¨ç¤ºä»»ä½•æ—¶é—´</li><li>*/2: è¡¨ç¤ºæ¯éš”2åˆ†é’Ÿ</li><li>-ï¼šè¡¨ç¤ºåŒºé—´ï¼Œæ¯”å¦‚1-3</li><li>,ï¼šè¡¨ç¤ºåŒºé—´ä¸è¿ç»­ï¼Œæ¯”å¦‚1,3,6</li></ul><h3 id="2-å‘½ä»¤ä¸¾ä¾‹"><a href="#2-å‘½ä»¤ä¸¾ä¾‹" class="headerlink" title="2.å‘½ä»¤ä¸¾ä¾‹"></a>2.å‘½ä»¤ä¸¾ä¾‹</h3><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>*  * * * * ifconfig</td><td>æ¯å¤©ç¬¬ä¸€åˆ†é’Ÿéƒ½åœ¨æ‰§è¡Œifconfig å‘½ä»¤</td><td>â€”</td></tr><tr><td>1 * * * * ifconfig</td><td>æ¯å¤©æ¯ä¸ªå°æ—¶çš„ç¬¬1åˆ†é’Ÿéƒ½åœ¨æ‰§è¡Œifconfig å‘½ä»¤</td><td>01:01, 02:01, 03:01, 04:01â€¦â€¦</td></tr><tr><td>0 9 * * * ifconfig</td><td>æ¯å¤© 9:00 æ‰§è¡Œifconfig å‘½ä»¤</td><td>â€”</td></tr><tr><td>0 9 10 * * ifconfig</td><td>æ¯ä¸ªæœˆçš„10å· 9:00 æ‰§è¡Œifconfig å‘½ä»¤</td><td>â€”</td></tr><tr><td>0 9 * * 1,2 ifconfig</td><td>æ¯å‘¨ä¸€ã€å‘¨äºŒ 9:00 æ‰§è¡Œifconfig å‘½ä»¤</td><td>â€”</td></tr></tbody></table><h2 id="äºŒã€ç¼–è¾‘å®šæ—¶ä»»åŠ¡crontabï¼š"><a href="#äºŒã€ç¼–è¾‘å®šæ—¶ä»»åŠ¡crontabï¼š" class="headerlink" title="äºŒã€ç¼–è¾‘å®šæ—¶ä»»åŠ¡crontabï¼š"></a>äºŒã€ç¼–è¾‘å®šæ—¶ä»»åŠ¡crontabï¼š</h2><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›å…¥ç¼–è¾‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¬¡è¾“å…¥è¿™ä¸ªå‘½ä»¤ï¼Œä¼šè®©ä½ é€‰æ‹©ä¸€ä¸‹ç¼–è¾‘è½¯ä»¶ï¼Œæœ‰4ç§ï¼Œå°±ç›´æ¥è¾“å…¥ 2 å›è½¦ï¼Œé€‰æ‹©ç”¨ vimã€‚</p><ol><li>/bin/nano</li><li>/usr/bin/vim.basic</li><li>/usr/bin/vim.tiny</li><li>/bin/ed</li></ol><p>vimå‘½ä»¤å¦‚æœæ²¡ç”¨è¿‡ä¸ä¼šç”¨ï¼Œä¹Ÿä¸ç”¨æ…Œï¼Œä¼šå‡ ä¸ªç®€å•çš„å‘½ä»¤å°±è¡Œäº†ã€‚ä¸Šä¸€ç¯‡æ–‡ç«  <a href="/2021/02/08/Linux%20vim%E5%91%BD%E4%BB%A4%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="Linux vim&#x2F;vi å‘½ä»¤ç®€å•ä½¿ç”¨">Linux vim&#x2F;vi å‘½ä»¤ç®€å•ä½¿ç”¨</a> æœ‰ä»‹ç»ã€‚</p><p>æ‰“å¼€äº†ç¼–è¾‘å®šæ—¶ä»»åŠ¡åï¼Œé‡Œé¢æœ‰ä¸€å †å‰é¢å¸¦ # çš„è¡Œï¼Œè¿™äº›éƒ½æ˜¯æ³¨é‡Šå†…å®¹ï¼Œä¸ç”¨ç®¡ï¼Œå…¶å®ä¹Ÿæœ‰å…³äºå®šæ—¶ä»»åŠ¡è®¾ç½®çš„ç¤ºä¾‹ï¼Œæœ‰è¿™ä¹ˆ2è¡Œï¼š</p><blockquote><p># at 5 a.m every week with:<br># 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/</p></blockquote><p>è¡¨ç¤ºç¬¬2è¡Œçš„å®šæ—¶ä»»åŠ¡çš„æ„æ€æ˜¯ï¼šåœ¨æ¯å‘¨ä¸€çš„5:00 am æ‰§è¡Œ tar è¿™æ¡å‘½ä»¤ã€‚</p><p>æœ€åä¸€è¡Œæ˜¯å‘½ä»¤æ ¼å¼ï¼š</p><blockquote><p># m h dom mon dow command</p></blockquote><p>åœ¨æœ€ä¸‹é¢æ·»åŠ è‡ªå·±çš„ä»»åŠ¡å°±å¯ä»¥äº†ã€‚</p><h2 id="ä¸‰ã€å®šæ—¶æ‰§è¡Œpython-è„šæœ¬"><a href="#ä¸‰ã€å®šæ—¶æ‰§è¡Œpython-è„šæœ¬" class="headerlink" title="ä¸‰ã€å®šæ—¶æ‰§è¡Œpython è„šæœ¬"></a>ä¸‰ã€å®šæ—¶æ‰§è¡Œpython è„šæœ¬</h2><p>æ³¨æ„ï¼Œè¿™é‡Œåœ¨å®šæ—¶ä»»åŠ¡ä¸­ä¸€å®šè¦ç”¨ç»å¯¹è·¯å¾„ã€‚</p><p>æ¯”å¦‚å¹³å¸¸è¿è¡Œ pythoneè„šæœ¬ï¼Œå› ä¸ºæ·»åŠ åˆ°PATHç¯å¢ƒå˜é‡ä¸­äº†ï¼Œæ‰€ä»¥ç›´æ¥è¿è¡Œä»¥ä¸‹å‘½ä»¤å°±å¯ä»¥äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py</span><br></pre></td></tr></table></figure><h3 id="1-pythonè·¯å¾„"><a href="#1-pythonè·¯å¾„" class="headerlink" title="1.pythonè·¯å¾„"></a>1.pythonè·¯å¾„</h3><p>æ‰€ä»¥é¦–å…ˆè¦æ‰¾åˆ°python3çš„è·¯å¾„ï¼Œé€šè¿‡whichå‘½ä»¤å°±å¯ä»¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> python3</span><br></pre></td></tr></table></figure><p>å¾—åˆ°ç»“æœæ¯”å¦‚æ˜¯ï¼š<code>/usr/bin/python3</code></p><h3 id="2-pythonæ–‡ä»¶çš„ç»å¯¹è·¯å¾„"><a href="#2-pythonæ–‡ä»¶çš„ç»å¯¹è·¯å¾„" class="headerlink" title="2.pythonæ–‡ä»¶çš„ç»å¯¹è·¯å¾„"></a>2.pythonæ–‡ä»¶çš„ç»å¯¹è·¯å¾„</h3><p>æ¯”å¦‚æˆ‘çš„ test.py å­˜æ”¾åœ¨ <code>/home/ubuntu/python/code/</code> ä¸­ã€‚</p><p>å¦‚æœä½ ä¸çŸ¥é“å½“å‰ç›®å½•æ˜¯ä»€ä¹ˆï¼Œæ‰§è¡Œ <code>pwd</code> å‘½ä»¤å°±å¯ä»¥å¾—åˆ°ã€‚</p><p>æœ€åæƒ³æŠŠ test.py å®šæ—¶è¿è¡Œè¾“å‡ºçš„å†…å®¹å­˜æ”¾åˆ° logæ–‡ä»¶ä¸­ï¼š<code>/home/ubuntu/tmp/test.log</code></p><p>æ‰€ä»¥ï¼Œæœ€ç»ˆæ·»åŠ çš„è¿™æ¡å®šæ—¶ä»»åŠ¡è®°å½•æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 17 * * * /usr/bin/python3 /home/ubuntu/python/code/test.py &gt;&gt; /home/ubuntu/tmp/test.log</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºï¼šæ¯å¤©17ç‚¹å°†æ‰§è¡Œ test.pyï¼ŒæŠŠè¾“å‡ºå†…å®¹æ‰“å°åˆ° test.logæ–‡ä»¶ä¸­ã€‚</p><h2 id="å››ã€å°ç»“"><a href="#å››ã€å°ç»“" class="headerlink" title="å››ã€å°ç»“"></a>å››ã€å°ç»“</h2><p>ä¸€å…±3æ­¥ã€‚</p><p>1.è®¾è®¡å¥½è‡ªå·±æƒ³è¦æ‰§è¡Œçš„ pythonä»»åŠ¡</p><p>æ¯”å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 17 * * * /usr/bin/python3 /home/ubuntu/python/code/test.py &gt;&gt; /home/ubuntu/tmp/test.log</span><br></pre></td></tr></table></figure><p>2.æ‰“å¼€å®šæ—¶ä»»åŠ¡ç¼–è¾‘ï¼Œæ·»åŠ ä»»åŠ¡è®°å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure><p>3.é‡å¯ cronæœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service cron restart</span><br></pre></td></tr></table></figure><p>PS.æŸ¥çœ‹å®šæ—¶ä»»åŠ¡å†…å®¹ï¼ˆéç¼–è¾‘çŠ¶æ€ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -l</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Python </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux vim/vi å‘½ä»¤ç®€å•ä½¿ç”¨</title>
      <link href="/2021/02/08/Linux%20vim%E5%91%BD%E4%BB%A4%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <url>/2021/02/08/Linux%20vim%E5%91%BD%E4%BB%A4%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>vimå¹³å¸¸å¦‚æœå¾ˆå°‘ä½¿ç”¨ï¼Œå¶å°”ç”¨ç”¨çš„ï¼Œæˆ‘è§‰å¾—æŒæ¡è¿™ç‚¹å°±å¤Ÿç”¨äº†ã€‚</p><p>vimæœ‰ä¸¤ç§æ¨¡å¼ï¼Œä¸€ç§æ˜¯å‘½ä»¤æ¨¡å¼ï¼Œå¦ä¸€ç§æ˜¯ç¼–è¾‘æ¨¡å¼ã€‚</p><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œåªèƒ½è¾“å…¥å‘½ä»¤æ“ä½œï¼Œå¹¶ä¸èƒ½è¾“å…¥å†…å®¹ï¼›<br>åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œåˆ™èƒ½æ­£å¸¸ç¼–è¾‘å†…å®¹ã€‚</p><a id="more"></a><h2 id="1-ä¸¤ç§æ¨¡å¼åˆ‡æ¢"><a href="#1-ä¸¤ç§æ¨¡å¼åˆ‡æ¢" class="headerlink" title="1.ä¸¤ç§æ¨¡å¼åˆ‡æ¢"></a>1.ä¸¤ç§æ¨¡å¼åˆ‡æ¢</h2><p>ä¾‹å¦‚ è¿è¡Œ vim 1.txt åï¼Œå³è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼Œæ­¤åˆ»ä¸èƒ½è¾“å…¥å†…å®¹ã€‚</p><ul><li>å½“æŒ‰ä¸‹ i é”®åï¼Œå³è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå¯è¾“å…¥å†…å®¹ã€‚</li><li>å†æŒ‰ Esc é”®åï¼Œé€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œå›åˆ°å‘½ä»¤æ¨¡å¼ã€‚</li></ul><p>å½“è¿›å…¥ç¼–è¾‘æ¨¡å¼åï¼Œé¡µé¢æœ€ä¸‹æ–¹ä¼šæœ‰æ˜¾ç¤º â€“ INSERT â€“ çš„æç¤ºï¼Œè¡¨ç¤ºå½“å‰æ˜¯ç¼–è¾‘æ¨¡å¼ã€‚</p><h2 id="2-ä¿å­˜æ–‡ä»¶"><a href="#2-ä¿å­˜æ–‡ä»¶" class="headerlink" title="2.ä¿å­˜æ–‡ä»¶"></a>2.ä¿å­˜æ–‡ä»¶</h2><p>éœ€è¦åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥ <code>:wq</code> åå›è½¦å³ä¿å­˜é€€å‡ºã€‚</p><table><thead><tr><th align="left">å‘½ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">:w</td><td>ä¿å­˜</td></tr><tr><td align="left">:wq</td><td>ä¿å­˜å¹¶é€€å‡º</td></tr><tr><td align="left">:q</td><td>ä¸ä¿å­˜é€€å‡º</td></tr></tbody></table><h2 id="3-å‘½ä»¤-åŠŸèƒ½"><a href="#3-å‘½ä»¤-åŠŸèƒ½" class="headerlink" title="3.å‘½ä»¤ åŠŸèƒ½"></a>3.å‘½ä»¤ åŠŸèƒ½</h2><table><thead><tr><th align="left">å‘½ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">o</td><td>æ’å…¥ä¸€è¡Œ</td></tr><tr><td align="left">dd</td><td>åˆ é™¤ä¸€è¡Œ</td></tr><tr><td align="left">dw</td><td>åˆ é™¤é€‰ä¸­å­—æ¯å¼€å§‹çš„ç¬¬ä¸€ä¸ªå­—æ¯</td></tr></tbody></table><h2 id="4-å°ç»“"><a href="#4-å°ç»“" class="headerlink" title="4.å°ç»“"></a>4.å°ç»“</h2><p>ç®€å•çš„ä½¿ç”¨ï¼Œä¼šè¿™ä¹ˆ4æ¡å°±è¡Œäº†ã€‚</p><ul><li>1.ç”¨vim æ‰“å¼€æ–‡ä»¶åï¼Œæ˜¯å‘½ä»¤æ¨¡å¼ï¼›</li><li>2.æŒ‰ o é”®å¢åŠ æ–°çš„ä¸€è¡Œï¼Œä¼šè‡ªåŠ¨è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼›</li><li>3.ç¼–è¾‘å®Œå†…å®¹åï¼ŒæŒ‰ Esc é”®å›åˆ°å‘½ä»¤æ¨¡å¼ï¼›</li><li>4.æœ€åè¾“å…¥å‘½ä»¤ :wq å›è½¦ï¼Œä¿å­˜é€€å‡ºæˆ–è€… :qä¸ä¿å­˜é€€å‡ºã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux ä¿®æ”¹æ–‡ä»¶æƒé™</title>
      <link href="/2021/02/08/Linux%20%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/"/>
      <url>/2021/02/08/Linux%20%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/</url>
      
        <content type="html"><![CDATA[<p>ç”¨ Linuxç³»ç»Ÿçš„æ—¶å€™ï¼Œç»å¸¸ä¼šç¢°åˆ°æ–‡ä»¶æƒé™çš„é—®é¢˜ï¼Œæ¯”å¦‚æ²¡æ‰§è¡Œæƒé™ï¼Œæ²¡å†™å…¥æƒé™ç­‰ã€‚</p><a id="more"></a><h2 id="Linuxä¸‹å¯¹äºæ–‡ä»¶çš„æƒé™"><a href="#Linuxä¸‹å¯¹äºæ–‡ä»¶çš„æƒé™" class="headerlink" title="Linuxä¸‹å¯¹äºæ–‡ä»¶çš„æƒé™"></a>Linuxä¸‹å¯¹äºæ–‡ä»¶çš„æƒé™</h2><p>æœ‰4ç§ï¼š</p><ul><li>read</li><li>write</li><li>execute</li><li>none</li></ul><p>ä¾‹å¦‚ï¼šè¿è¡Œå‘½ä»¤ <code>ls -l</code> å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r-- 1 z------07 member   32 Jun 26 20:35 Readme.txt</span><br><span class="line">-rw-r--r-- 1 z------07 member8 Jun 26 21:13 example.txt</span><br><span class="line">drwxr-xr-x 2 z------07 member 4096 Jun 26 20:40 linux</span><br></pre></td></tr></table></figure><p>ç¬¬1ä½ï¼š- ä»£è¡¨æ–‡ä»¶ï¼Œd ä»£è¡¨ç›®å½•ï¼Œl ä»£è¡¨é“¾æ¥ã€‚<br>å9ä½ä¸­ï¼š</p><ul><li>r ä»£è¡¨readï¼Œå¯è¯»</li><li>w ä»£è¡¨writeï¼Œå¯å†™å…¥</li><li>x ä»£è¡¨executeï¼Œå¯æ‰§è¡Œ</li><li>-ä»£è¡¨none</li></ul><p>è¿™é‡Œå°±ä»£è¡¨ä»€ä¹ˆæ ·çš„äººå¯¹æ–‡ä»¶æœ‰ä»€ä¹ˆæ ·çš„æƒé™ã€‚</p><p>ä»¥ -rw-râ€“râ€“ 1 zâ€”â€”7 member   32 Jun 26 20:35 Readme.txt ä¸ºä¾‹ï¼š</p><ul><li>ç¬¬2-4ä½(rw-)è¡¨ç¤ºï¼šæ–‡ä»¶æ‰€æœ‰è€…ï¼Œèƒ½è¯»å†™ï¼Œä¸èƒ½æ‰§è¡Œ</li><li>ä¹‹å3ä½(râ€“)è¡¨ç¤ºï¼šæ–‡ä»¶æ‰€æœ‰è€…åŒç»„çš„å…¶å®ƒäººï¼Œåªè¯»</li><li>æœ€å3ä½(râ€“)è¡¨ç¤ºï¼šå…¶å®ƒäººï¼Œåªè¯»</li></ul><h2 id="ä¿®æ”¹æ–‡ä»¶æƒé™æ–¹æ³•"><a href="#ä¿®æ”¹æ–‡ä»¶æƒé™æ–¹æ³•" class="headerlink" title="ä¿®æ”¹æ–‡ä»¶æƒé™æ–¹æ³•"></a>ä¿®æ”¹æ–‡ä»¶æƒé™æ–¹æ³•</h2><h4 id="1ã€æ™®é€šä¿®æ”¹æ–‡ä»¶æƒé™-æ¨¡å¼"><a href="#1ã€æ™®é€šä¿®æ”¹æ–‡ä»¶æƒé™-æ¨¡å¼" class="headerlink" title="1ã€æ™®é€šä¿®æ”¹æ–‡ä»¶æƒé™(æ¨¡å¼)"></a>1ã€æ™®é€šä¿®æ”¹æ–‡ä»¶æƒé™(æ¨¡å¼)</h4><ul><li><code>chmod +x Readme.txt</code>  è¡¨ç¤ºç»™Readme.txtæ–‡ä»¶æ·»åŠ äº†å¯æ‰§è¡Œ(x)æƒé™</li><li><code>chmod -x Readme.txt</code> ç»™Readme.txtæ–‡ä»¶é™¤å»äº†å¯æ‰§è¡Œ(x)æƒé™</li><li><code>chmod u+x Readme.txt</code> ç»™Readme.txtæ–‡ä»¶çš„å½“å‰ç”¨æˆ·(user)æ·»åŠ äº†å¯æ‰§è¡Œ(x)æƒé™</li><li><code>chmod g+x Readme.txt</code> ç»™Readme.txtæ–‡ä»¶çš„å½“å‰ç”¨æˆ·åŒç»„å…¶å®ƒäºº(group)æ·»åŠ äº†å¯æ‰§è¡Œ(x)æƒé™</li><li>`chmod o+x Readme.tx``t ç»™Readme.txtæ–‡ä»¶çš„å…¶å®ƒç”¨æˆ·(others)æ·»åŠ äº†å¯æ‰§è¡Œ(x)æƒé™</li></ul><h4 id="2ã€ä¸“ä¸šæ–¹æ³•"><a href="#2ã€ä¸“ä¸šæ–¹æ³•" class="headerlink" title="2ã€ä¸“ä¸šæ–¹æ³•"></a>2ã€ä¸“ä¸šæ–¹æ³•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 Readme.txt</span><br></pre></td></tr></table></figure><p>linux/unixå†…éƒ¨ç”¨9ä½æ¥ä»£è¡¨æƒé™<br>1è¡¨ç¤ºæœ‰æƒé™ï¼Œ0è¡¨ç¤ºæ²¡æƒé™</p><p>ä¾‹å¦‚rw-râ€“râ€“ï¼Œå³ä¸º110100100ï¼Œä¸‰ä½ä¸‰ä½è¯»åå°±æ˜¯644ã€‚åˆ™<br>å¦‚è¿è¡Œ<code>chmod 644 Readme.txt</code>ï¼Œå°†èƒ½æ”¹å›åŸæ¥æƒé™çŠ¶æ€</p><h4 id="3ã€ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…"><a href="#3ã€ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…" class="headerlink" title="3ã€ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…"></a>3ã€ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown testuser Readme.txt</span><br></pre></td></tr></table></figure><p>Readme.txtæ–‡ä»¶çš„æ‰€æœ‰è€…å°±å˜ä¸ºtestuser</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu æŸ¥çœ‹CPUå ç”¨å’Œä½¿ç”¨æƒ…å†µ</title>
      <link href="/2021/02/08/Ubuntu%E6%9F%A5%E7%9C%8BCPU%E5%8D%A0%E7%94%A8%E5%92%8C%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5/"/>
      <url>/2021/02/08/Ubuntu%E6%9F%A5%E7%9C%8BCPU%E5%8D%A0%E7%94%A8%E5%92%8C%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨è‡ªå¸¦çš„ topå‘½ä»¤å’Œ htopå‘½ä»¤å°±å¯ä»¥æŸ¥çœ‹ï¼Œä¸ªäººæ¨èç¬¬2ç§ã€‚</p><h2 id="æ–¹æ³•ä¸€ï¼šç”¨è‡ªå¸¦çš„-topå‘½ä»¤æŸ¥çœ‹"><a href="#æ–¹æ³•ä¸€ï¼šç”¨è‡ªå¸¦çš„-topå‘½ä»¤æŸ¥çœ‹" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç”¨è‡ªå¸¦çš„ topå‘½ä»¤æŸ¥çœ‹"></a>æ–¹æ³•ä¸€ï¼šç”¨è‡ªå¸¦çš„ topå‘½ä»¤æŸ¥çœ‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure><a id="more"></a><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ubuntu_cpu_1.png"                                     ><ul><li>ç¬¬1è¡Œï¼šå½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œç³»ç»Ÿå·²è¿è¡Œçš„æ—¶é—´ï¼Œå‡ ä¸ªåœ¨çº¿ç”¨æˆ·(user)ï¼›</li><li>ç¬¬2è¡Œ Tasksï¼šæ€»è¿›ç¨‹æ•°(total)ï¼Œæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°(running)ç­‰ï¼›</li><li>ç¬¬3è¡Œ %Cpuï¼šç”¨æˆ·è¿›ç¨‹ CPUå ç”¨ç‡(us)ï¼Œç³»ç»Ÿè¿›ç¨‹ CPUå ç”¨ç‡(sy)ï¼ŒCPUç©ºé—²ç‡(id)ï¼›</li><li>ç¬¬4è¡Œ KiB Memï¼šå†…å­˜æ€»é‡(total) ï¼Œå†…å­˜ç©ºé—²(free)ã€‚å•ä½éƒ½æ˜¯KBã€‚ä¸Šå›¾ä¸­å†…å­˜çº¦1.8 Gã€‚</li><li>ç¬¬5è¡Œï¼šç•¥</li><li>ç¬¬6è¡Œ PIDï¼šæ˜¾ç¤ºå…·ä½“è¿›ç¨‹æƒ…å†µã€‚%CPUæ˜¯CPUæƒ…å†µï¼Œ%MEMæ˜¯å†…å­˜ä½¿ç”¨æƒ…å†µã€‚</li></ul><h2 id="æ–¹æ³•äºŒï¼šä½¿ç”¨-htopæŸ¥çœ‹ï¼ˆæ¨èä½¿ç”¨ï¼‰"><a href="#æ–¹æ³•äºŒï¼šä½¿ç”¨-htopæŸ¥çœ‹ï¼ˆæ¨èä½¿ç”¨ï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šä½¿ç”¨ htopæŸ¥çœ‹ï¼ˆæ¨èä½¿ç”¨ï¼‰"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨ htopæŸ¥çœ‹ï¼ˆæ¨èä½¿ç”¨ï¼‰</h2><h3 id="1-å®‰è£…-htop"><a href="#1-å®‰è£…-htop" class="headerlink" title="1.å®‰è£… htop"></a>1.å®‰è£… htop</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install htop</span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨htopå‘½ä»¤å¯ä»¥æ›´ç›´è§‚çš„æŸ¥çœ‹CPUä½¿ç”¨ä¿¡æ¯"><a href="#2-ä½¿ç”¨htopå‘½ä»¤å¯ä»¥æ›´ç›´è§‚çš„æŸ¥çœ‹CPUä½¿ç”¨ä¿¡æ¯" class="headerlink" title="2.ä½¿ç”¨htopå‘½ä»¤å¯ä»¥æ›´ç›´è§‚çš„æŸ¥çœ‹CPUä½¿ç”¨ä¿¡æ¯"></a>2.ä½¿ç”¨htopå‘½ä»¤å¯ä»¥æ›´ç›´è§‚çš„æŸ¥çœ‹CPUä½¿ç”¨ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htop</span><br></pre></td></tr></table></figure><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/ubuntu_cpu_2.png"                                     >- ä¸Šæ–¹å·¦ä¾§ï¼šCPUã€Mem(å†…å­˜) çœ‹å¾—æ›´æ¸…æ¥šæ˜ç™½ã€‚å†…å­˜æ€»å…± 1.79Gï¼Œå·²ä½¿ç”¨ 159Mã€‚- ä¸Šæ–¹å³ä¾§ï¼šå…¨éƒ¨è¿›ç¨‹(Task)æ•°ä¸ºï¼š33ã€‚- ä¸‹æ–¹ä¸€æ ·çš„æ˜¯å…¨éƒ¨è¿›ç¨‹çš„æƒ…å†µã€‚<p>å¦‚æœæƒ³è¦ç»“æŸè¿›ç¨‹ï¼ŒæŒ‰ä¸Šé¢çš„æç¤ºæŒ‰F9(Kill) å°±å¯ä»¥ç»“æŸè¿›ç¨‹ï¼Œéœ€è¦å†æŒ‰å›è½¦é”®(Enter)ç¡®è®¤ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github å›¾åºŠä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2021/02/08/Github%E5%9B%BE%E5%BA%8A%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2021/02/08/Github%E5%9B%BE%E5%BA%8A%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>è‡ªå·±ç”¨çš„æ˜¯ Github Pages + Hexoçš„åšå®¢ï¼ŒMarkdownè¯­è¨€çš„é™æ€ç½‘ç«™ï¼Œæ‰€ä»¥ç›´æ¥å†ç”¨ä¸€ä¸ª Githubçš„å›¾åºŠå°±æ¯”è¾ƒæ–¹ä¾¿ã€‚<br>å‰æå½“æ—¶æ˜¯å…ˆæ³¨å†Œä¸€ä¸ª Githubçš„è´¦å·ã€‚</p><a id="more"></a><h2 id="1-Create-a-repository"><a href="#1-Create-a-repository" class="headerlink" title="1.Create a repository"></a>1.Create a repository</h2><p>åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œä¸“é—¨å‡†å¤‡ç”¨æ¥æ”¾åšå®¢ä½¿ç”¨çš„å›¾ç‰‡ã€‚</p><p><strong>repository è®¾ç½®</strong></p><p>åç§°åªè¦æ˜¯å¯ç”¨çš„éƒ½è¡Œï¼Œé»˜è®¤é€‰æ‹©çš„æ˜¯ Publicï¼Œå¯ä»¥æŠŠ Add a README fileå‹¾é€‰ä¸Šã€‚</p><p>è®¾ç½®å¥½ä¹‹åï¼Œæœ€åç‚¹å‡»ã€Create repositoryã€‘ã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/github_picbed_1.png"                                     ></p><h2 id="2-åˆ›å»º-token"><a href="#2-åˆ›å»º-token" class="headerlink" title="2.åˆ›å»º token"></a>2.åˆ›å»º token</h2><p>å³ä¸Šè§’å¤´åƒä¸‹é¢çš„ã€Settingsã€‘-&gt;ã€Developer settingsã€‘-&gt;ã€Personal access tokensã€‘-&gt;ç‚¹å‡»ã€Generate new tokenã€‘ã€‚</p><ul><li>Noteï¼šå–ä¸ªå¤‡æ³¨å</li><li>å‹¾é€‰ repo</li></ul><p>æœ€åæ‹‰åˆ°é¡µé¢æœ€ä¸‹é¢ç‚¹å‡»ã€Generate tokenã€‘å°±åˆ›å»ºå¥½äº†tokenã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/img/github_picbed_2.png"                                     ></p><p>å®Œæˆä¹‹åæœ‰ä¸€é•¿ä¸²å­—æ¯+æ•°å­—çš„tokenï¼Œå¤åˆ¶ä¸‹æ¥å°±è¡Œäº†ã€‚</p><h2 id="3-ç”¨-PicGoå·¥å…·ä¸Šä¼ å›¾ç‰‡"><a href="#3-ç”¨-PicGoå·¥å…·ä¸Šä¼ å›¾ç‰‡" class="headerlink" title="3.ç”¨ PicGoå·¥å…·ä¸Šä¼ å›¾ç‰‡"></a>3.ç”¨ PicGoå·¥å…·ä¸Šä¼ å›¾ç‰‡</h2><p>PicGo å®˜æ–¹ä¸‹è½½ï¼š<a class="link"   href="https://github.com/Molunerfinn/PicGo/releases" >https://github.com/Molunerfinn/PicGo/releases<i class="fas fa-external-link-alt"></i></a></p><p>PicGo å®˜æ–¹ä»‹ç»é¡µé¢ï¼š<a class="link"   href="https://picgo.github.io/PicGo-Doc/zh/guide/#%E5%90%AC%E8%AF%B4%E4%BD%A0%E4%B9%9F%E6%83%B3%E7%94%A8picgo" >https://picgo.github.io/PicGo-Doc/zh/guide/#%E5%90%AC%E8%AF%B4%E4%BD%A0%E4%B9%9F%E6%83%B3%E7%94%A8picgo<i class="fas fa-external-link-alt"></i></a></p><p>ä¸‹è½½ä¹‹åå®‰è£…è¿è¡Œã€‚</p><p>1).åœ¨PicGoè®¾ç½®ä¸­é€‰æ‹© Githubå›¾åºŠ</p><p>2).å›¾åºŠè®¾ç½®</p><ul><li>ä»“åº“åä¸ºï¼šh***n/Picbed_Go ï¼ˆ[githubç”¨æˆ·å]/[å›¾åºŠä»“åº“å]ï¼‰åˆ›å»ºçš„æ—¶å€™ä¸Šé¢æœ‰ï¼›</li><li>åˆ†æ”¯åï¼šç‚¹è¿› repositoryå°±èƒ½çœ‹åˆ°ï¼Œä¹‹å‰é»˜è®¤éƒ½æ˜¯ masterï¼›</li><li>Tokenï¼šå°±æ˜¯ä¸Šé¢çš„token<img                       lazyload                     src="/images/loading.svg"                     data-src="/img/github_picbed_3.png"                                     ></li></ul><p>3).ä¸Šä¼ åŒºä¸Šä¼ å›¾ç‰‡</p><p>æŠŠå›¾ç‰‡æ‹–è¿›å»å°±èƒ½ä¸Šä¼ ã€‚</p><p>4).åœ¨ç›¸å†Œé‡Œé¢å¯ä»¥çœ‹åˆ°ä¸Šä¼ çš„å›¾ç‰‡ï¼Œå›¾ç‰‡ä¸‹æ–¹ç¬¬ä¸€ä¸ªæŒ‰é’®å°±æ˜¯å¤åˆ¶ï¼ŒæŠŠåœ°å€å¤åˆ¶å‡ºæ¥ç›´æ¥å°±èƒ½åœ¨markdownä¸­ç”¨ã€‚</p><p>åœ°å€ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">&quot;/img/github_picbed_3.png&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><h2 id="4-ä½¿ç”¨ç¤ºä¾‹"><a href="#4-ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="4.ä½¿ç”¨ç¤ºä¾‹"></a>4.ä½¿ç”¨ç¤ºä¾‹</h2><p>æ¯”å¦‚å›¾ç‰‡ä¸Šä¼ åçš„åœ°å€æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">&quot;/img/github_picbed_3.png&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><p>ç›´æ¥æ”¾åœ¨markdownçš„.mdæ–‡ä»¶ä¸­ï¼Œæœ‰é¢„è§ˆæ•ˆæœçš„å°±èƒ½ç›´æ¥é¢„è§ˆçœ‹åˆ°äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu å®‰è£…Seleniumè‡ªåŠ¨åŒ–æµ‹è¯•</title>
      <link href="/2021/02/08/Ubuntu%E5%AE%89%E8%A3%85Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
      <url>/2021/02/08/Ubuntu%E5%AE%89%E8%A3%85Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>Seleniumè‡ªåŠ¨åŒ–æµ‹è¯•ç¯å¢ƒï¼Œä¸»è¦æ˜¯æœ‰æµè§ˆå™¨å’Œæµè§ˆå™¨å¯¹åº”çš„WebDriverç‰ˆæœ¬å°±å¯ä»¥äº†ã€‚</p><h2 id="ä¸€ã€å®‰è£…-Google-Chromeæµè§ˆå™¨"><a href="#ä¸€ã€å®‰è£…-Google-Chromeæµè§ˆå™¨" class="headerlink" title="ä¸€ã€å®‰è£… Google Chromeæµè§ˆå™¨"></a>ä¸€ã€å®‰è£… Google Chromeæµè§ˆå™¨</h2><h3 id="1-ä¸‹è½½-Google-Chrome"><a href="#1-ä¸‹è½½-Google-Chrome" class="headerlink" title="1.ä¸‹è½½ Google Chrome"></a>1.ä¸‹è½½ Google Chrome</h3><p>å¦‚æœæ˜¯å¯è§†åŒ–ç•Œé¢çš„ï¼Œå°±ç”¨ Ctrl+Alt+T å¿«æ·é”®æ‰“å¼€ç»ˆç«¯ã€‚</p><a id="more"></a><p>å¦‚æœä½ çš„æœåŠ¡å™¨ä¸Šä¸‹è½½ä¸æ–¹ä¾¿çš„ï¼Œæœ¬åœ°ä¸‹è½½æ–¹ä¾¿ï¼Œé‚£æ¨èç›´æ¥åœ¨æœ¬åœ°æŠŠæ–‡ä»¶ä¸‹è½½å¥½å†ä¸Šä¼ æ–¹ä¾¿ã€‚</p><p>Ubuntuä¸­ä½¿ç”¨ wgetæ¥ä¸‹è½½ Google Chrome .deb è½¯ä»¶åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘è¿™é‡Œä¸‹è½½å¥½äº†ç”¨xftpå·¥å…·ç›´æ¥ä¸Šä¼ åˆ° <code>python/software</code> ç›®å½•ä¸­ã€‚å†ç”¨ cd å‘½ä»¤å…ˆè¿›å…¥åˆ° softwareç›®å½•ä¸­ã€‚</p><h3 id="2-å®‰è£…-Google-Chrome"><a href="#2-å®‰è£…-Google-Chrome" class="headerlink" title="2.å®‰è£… Google Chrome"></a>2.å®‰è£… Google Chrome</h3><p>åœ¨ Ubuntu ç³»ç»Ÿä¸Šå®‰è£…è½¯ä»¶åŒ…éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚ä»¥ sudo ç”¨æˆ·èº«ä»½åœ¨ä½ çš„ç³»ç»Ÿä¸Šè¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£… Chrome .debè½¯ä»¶åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ./google-chrome-stable_current_amd64.deb</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰æç¤ºéœ€è¦å¯†ç çš„ï¼Œè¾“å…¥ä¸€ä¸‹å¯†ç ï¼Œå®‰è£…å°†ä¼šå¼€å§‹ã€‚</p><h3 id="3-æŸ¥çœ‹-Google-Chromeç‰ˆæœ¬"><a href="#3-æŸ¥çœ‹-Google-Chromeç‰ˆæœ¬" class="headerlink" title="3.æŸ¥çœ‹ Google Chromeç‰ˆæœ¬"></a>3.æŸ¥çœ‹ Google Chromeç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">google-chrome --version</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘è¿™é‡Œå®‰è£…å®Œçš„ç‰ˆæœ¬æ˜¯ï¼šGoogle Chrome 88.0.4324.146<br>æ­¤æ—¶ï¼Œä½ å·²ç»åœ¨ä½ çš„ Ubuntu ç³»ç»Ÿä¸Šå®‰è£…å¥½äº† Chromeã€‚</p><p>è¿™é‡Œéœ€è¦çŸ¥é“ Chromeç‰ˆæœ¬æ‰å¥½ä¸‹è½½å¯¹åº”çš„ WebDriverï¼Œä¸åŒçš„ç‰ˆæœ¬æ˜¯ä¸åŒçš„ã€‚</p><h2 id="äºŒã€å®‰è£…æµè§ˆå™¨é©±åŠ¨"><a href="#äºŒã€å®‰è£…æµè§ˆå™¨é©±åŠ¨" class="headerlink" title="äºŒã€å®‰è£…æµè§ˆå™¨é©±åŠ¨"></a>äºŒã€å®‰è£…æµè§ˆå™¨é©±åŠ¨</h2><p>ï¼ˆä¸åŒçš„æµè§ˆå™¨ä¸åŒçš„ç‰ˆæœ¬éƒ½æ˜¯ä¸åŒçš„ï¼‰</p><h3 id="1ã€ä¸‹è½½-Chrome-WebDriver"><a href="#1ã€ä¸‹è½½-Chrome-WebDriver" class="headerlink" title="1ã€ä¸‹è½½ Chrome WebDriver"></a>1ã€ä¸‹è½½ Chrome WebDriver</h3><p>æˆ‘è¿™é‡Œå®‰è£…çš„æ˜¯ Chrome 88.0.4324.146 ç‰ˆæœ¬å¯¹åº”çš„WebDriverã€‚</p><h4 id="æ–¹æ³•ä¸€ï¼šåœ¨æœ¬åœ°Windowsæœºä¸‹è½½"><a href="#æ–¹æ³•ä¸€ï¼šåœ¨æœ¬åœ°Windowsæœºä¸‹è½½" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåœ¨æœ¬åœ°Windowsæœºä¸‹è½½"></a>æ–¹æ³•ä¸€ï¼šåœ¨æœ¬åœ°Windowsæœºä¸‹è½½</h4><p>Chrome WebDriver å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<br><a class="link"   href="https://chromedriver.storage.googleapis.com/index.html" >https://chromedriver.storage.googleapis.com/index.html<i class="fas fa-external-link-alt"></i></a><br><a class="link"   href="https://sites.google.com/a/chromium.org/chromedriver/downloads" >https://sites.google.com/a/chromium.org/chromedriver/downloads<i class="fas fa-external-link-alt"></i></a></p><p>è¿™é‡Œæ²¡æœ‰88.0.4324.146ç‰ˆæœ¬çš„ï¼Œ88.æœ€æ–°çš„æ˜¯88.0.4324.96ï¼Œå°±ç”¨çš„æœ€æ–°çš„å°±è¡Œã€‚</p><p>ä¸‹è½½å¥½åï¼Œç”¨ xftpå·¥å…·ä¸Šä¼ åˆ° <code>python/pydriver</code> ç›®å½•ä¸­ã€‚</p><h4 id="æ–¹æ³•äºŒï¼šç›´æ¥åœ¨Ubuntuä¸­ç›´æ¥ä¸‹è½½"><a href="#æ–¹æ³•äºŒï¼šç›´æ¥åœ¨Ubuntuä¸­ç›´æ¥ä¸‹è½½" class="headerlink" title="æ–¹æ³•äºŒï¼šç›´æ¥åœ¨Ubuntuä¸­ç›´æ¥ä¸‹è½½"></a>æ–¹æ³•äºŒï¼šç›´æ¥åœ¨Ubuntuä¸­ç›´æ¥ä¸‹è½½</h4><p>åœ¨ä¸Šé¢ Chrome WebDriver å®˜æ–¹ä¸‹è½½åœ°å€ä¸­æŸ¥çœ‹å¯¹åº”ç‰ˆæœ¬å¯¹åº”æ–‡ä»¶çš„é“¾æ¥ï¼š<br><a class="link"   href="https://chromedriver.storage.googleapis.com/index.html" >https://chromedriver.storage.googleapis.com/index.html<i class="fas fa-external-link-alt"></i></a></p><p>å¾—åˆ° chromedriver_linux64.zipçš„æ–‡ä»¶é“¾æ¥ï¼Œç„¶åç”¨ wgetå‘½ä»¤ä¸‹è½½ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://chromedriver.storage.googleapis.com/88.0.4324.96/chromedriver_linux64.zip</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ä¹‹åç”¨unzip å‘½ä»¤è§£å‹å‡ºæ¥ã€‚åæ­£çœ‹ä½ åœ¨å“ªè¾¹èƒ½å¿«é€Ÿä¸‹è½½å§ï¼Œå“ªè¾¹ä¸‹è½½æ–¹ä¾¿å°±åœ¨å“ªè¾¹ä¸‹è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip chromedriver_linux64.zip</span><br></pre></td></tr></table></figure><p>ä¸‹è½½å¥½/è§£å‹å¥½çš„ chromedriver æ–‡ä»¶éƒ½æ”¾åˆ°  <code>python/pydriver</code> ç›®å½•ä¸­ã€‚</p><h3 id="2ã€ç»™chromedriver-æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œçš„æƒé™"><a href="#2ã€ç»™chromedriver-æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œçš„æƒé™" class="headerlink" title="2ã€ç»™chromedriver æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œçš„æƒé™"></a>2ã€ç»™chromedriver æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œçš„æƒé™</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod a+x chromedriver</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å®‰è£…-Selenium-åŒ…"><a href="#ä¸‰ã€å®‰è£…-Selenium-åŒ…" class="headerlink" title="ä¸‰ã€å®‰è£… Selenium åŒ…"></a>ä¸‰ã€å®‰è£… Selenium åŒ…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install selenium</span><br></pre></td></tr></table></figure><h2 id="å››ã€pythonä»£ç ç¤ºä¾‹"><a href="#å››ã€pythonä»£ç ç¤ºä¾‹" class="headerlink" title="å››ã€pythonä»£ç ç¤ºä¾‹"></a>å››ã€pythonä»£ç ç¤ºä¾‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver_path = <span class="string">r&#x27;/home/ubuntu/python/pydriver/chromedriver&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># open site mode æ‰“å¼€æµè§ˆå™¨æ¨¡å¼</span></span><br><span class="line"><span class="comment"># wd = webdriver.Chrome(driver_path)</span></span><br><span class="line"><span class="comment"># not open site mode ä¸æ‰“å¼€æµè§ˆå™¨çš„æ¨¡å¼</span></span><br><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line">option.add_argument(<span class="string">&#x27;headless&#x27;</span>)</span><br><span class="line">wd = webdriver.Chrome(driver_path, options=option)</span><br><span class="line"></span><br><span class="line">wd.implicitly_wait(<span class="number">10</span>) <span class="comment"># sleep</span></span><br><span class="line"></span><br><span class="line">site = <span class="string">&#x27;https://www.baidu.com/&#x27;</span></span><br><span class="line">wd.get(site)</span><br><span class="line"><span class="built_in">print</span>(wd.title)</span><br><span class="line">wd.quit()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Python </tag>
            
            <tag> Selenium </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu å‘½ä»¤è¡Œå®‰è£…Chromeæµè§ˆå™¨</title>
      <link href="/2021/02/08/Ubuntu%E5%AE%89%E8%A3%85Chrome%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
      <url>/2021/02/08/Ubuntu%E5%AE%89%E8%A3%85Chrome%E6%B5%8F%E8%A7%88%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p>è¿™é‡Œåœ¨UbuntuæœåŠ¡å™¨ä¸Šå®‰è£…Google Chromeæµè§ˆå™¨ï¼Œä¸»è¦æ˜¯ä¸ºäº†Python Seleniumè·‘è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨çš„ï¼Œæ‰€ä»¥ç›´æ¥ç”¨å‘½ä»¤è¡Œå®‰è£…ã€‚</p><h3 id="1-ä¸‹è½½-Google-Chrome"><a href="#1-ä¸‹è½½-Google-Chrome" class="headerlink" title="1.ä¸‹è½½ Google Chrome"></a>1.ä¸‹è½½ Google Chrome</h3><p>å¦‚æœæ˜¯å¯è§†åŒ–çš„ï¼Œå°±ç”¨ Ctrl+Alt+T å¿«æ·é”®æ‰“å¼€ç»ˆç«¯ã€‚</p><p>ä½¿ç”¨wgetæ¥ä¸‹è½½ Google Chrome .deb è½¯ä»¶åŒ…ï¼š</p><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span><br></pre></td></tr></table></figure><p>æˆ–è€…æ‰‹åŠ¨ä¸‹è½½å¥½æ”¾è¿›å»ã€‚<br>æ¯”å¦‚æˆ‘è¿™é‡Œä¸‹è½½å¥½äº†ç”¨xftpå·¥å…·ç›´æ¥ä¸Šä¼ åˆ° <code>python/software</code> ç›®å½•ä¸­ã€‚é‚£å°±éœ€è¦ç”¨ cd å‘½ä»¤å…ˆè¿›å…¥åˆ° softwareç›®å½•ä¸­ã€‚</p><h3 id="2-å®‰è£…-Google-Chrome"><a href="#2-å®‰è£…-Google-Chrome" class="headerlink" title="2.å®‰è£… Google Chrome"></a>2.å®‰è£… Google Chrome</h3><p>åœ¨ Ubuntu ç³»ç»Ÿä¸Šå®‰è£…è½¯ä»¶åŒ…éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚ä»¥ sudo ç”¨æˆ·èº«ä»½åœ¨ä½ çš„ç³»ç»Ÿä¸Šè¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£… Chrome .debè½¯ä»¶åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ./google-chrome-stable_current_amd64.deb</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰æç¤ºéœ€è¦å¯†ç çš„ï¼Œè¾“å…¥ä¸€ä¸‹å¯†ç ï¼Œå®‰è£…å°†ä¼šå¼€å§‹ã€‚</p><h3 id="3-æŸ¥çœ‹-Google-Chromeç‰ˆæœ¬"><a href="#3-æŸ¥çœ‹-Google-Chromeç‰ˆæœ¬" class="headerlink" title="3.æŸ¥çœ‹ Google Chromeç‰ˆæœ¬"></a>3.æŸ¥çœ‹ Google Chromeç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">google-chrome --version</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘è¿™é‡Œå®‰è£…å®Œçš„ç‰ˆæœ¬æ˜¯ï¼šGoogle Chrome 88.0.4324.146<br>æ­¤æ—¶ï¼Œä½ å·²ç»åœ¨ä½ çš„ Ubuntu ç³»ç»Ÿä¸Šå®‰è£…å¥½äº† Chromeã€‚</p><p>è¿™é‡Œéœ€è¦çŸ¥é“ Chromeç‰ˆæœ¬æ‰å¥½ä¸‹è½½å¯¹åº”çš„ WebDriverï¼Œä¸åŒçš„ç‰ˆæœ¬æ˜¯ä¸åŒçš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLite æ¸…ç©ºè¡¨æ•°æ®å¹¶å°†è‡ªå¢é‡å½’0</title>
      <link href="/2021/02/07/SQLite%E6%B8%85%E7%A9%BA%E8%A1%A8%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%B0%86%E8%87%AA%E5%A2%9E%E9%87%8F%E5%BD%920/"/>
      <url>/2021/02/07/SQLite%E6%B8%85%E7%A9%BA%E8%A1%A8%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%B0%86%E8%87%AA%E5%A2%9E%E9%87%8F%E5%BD%920/</url>
      
        <content type="html"><![CDATA[<p>åœ¨æ™®é€šçš„SQLä¸­ï¼Œå®ç°å¦‚é¢˜è¿™ä¸ªåªéœ€è¦é€šè¿‡truncate [tablename]å°±èƒ½å®ç°ï¼Œä½†åœ¨SQLiteä¸­ï¼Œæ²¡æœ‰truncateï¼Œæ‰€ä»¥éœ€è¦åˆ†2æ­¥å®ç°ã€‚</p><p>æ¯”å¦‚è¦<strong>æ¸…ç©ºtestè¡¨ä¸­çš„æ‰€æœ‰è®°å½•æ•°æ®</strong>ã€‚</p><a id="more"></a><p>testè¡¨ä¸­æ•°æ®å¦‚ä¸‹ï¼ˆå…¶ä¸­idæ˜¯è‡ªåŠ¨å¢åŠ çš„ï¼‰ï¼š</p><table><thead><tr><th>id</th><th>code</th><th>name</th></tr></thead><tbody><tr><td>1</td><td>213122</td><td>å¼ ä¸‰</td></tr><tr><td>2</td><td>213124</td><td>æå››</td></tr><tr><td>3</td><td>213125</td><td>ç‹äº”</td></tr></tbody></table><h3 id="1ã€æ¸…ç©ºè¡¨æ•°æ®"><a href="#1ã€æ¸…ç©ºè¡¨æ•°æ®" class="headerlink" title="1ã€æ¸…ç©ºè¡¨æ•°æ®"></a>1ã€æ¸…ç©ºè¡¨æ•°æ®</h3><p>æ¸…ç©ºtestè¡¨çš„SQLè¯­å¥æ˜¯ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> test</span><br></pre></td></tr></table></figure><h3 id="2ã€è‡ªå¢é‡å½’0"><a href="#2ã€è‡ªå¢é‡å½’0" class="headerlink" title="2ã€è‡ªå¢é‡å½’0"></a>2ã€è‡ªå¢é‡å½’0</h3><p>å½“SQLiteæ•°æ®åº“ä¸­ è¡¨ä¸­åŒ…å«è‡ªåŠ¨å¢åŠ ç±»å‹çš„å­—æ®µåï¼Œä¼šè‡ªåŠ¨å»ºç«‹ä¸€ä¸ªåä¸º sqlite_sequence çš„è¡¨ã€‚è¿™ä¸ªè¡¨åŒ…å«ä¸¤ä¸ªå­—æ®µï¼šname å’Œ seqã€‚</p><ul><li>nameï¼šè¡¨ç¤ºè®°å½•è‡ªå¢çš„è¡¨åï¼ˆå³ tablenameï¼‰ï¼›</li><li>seqï¼šè®°å½•å½“å‰çš„åºå·ï¼ˆä¸‹ä¸€æ¡è®°å½•å°±æ˜¯å½“å‰åºå·+1ï¼‰</li></ul><p>æ‰€ä»¥ï¼Œå½“æ¸…ç©ºè¡¨ä¸­è®°å½•åï¼Œå¦‚æœæ²¡æœ‰æŠŠè¿™ä¸ªè‡ªå¢çš„åºå·å½’0ï¼Œæ·»åŠ ä¸‹ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œåºå·ä¼šä»ä¹‹å‰çš„æ•°+1ã€‚</p><p>è‡ªå¢é‡å½’0çš„SQLè¯­å¥æ˜¯ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updateÂ sqlite_sequenceÂ <span class="keyword">set</span>Â seqÂ <span class="operator">=</span>Â <span class="number">0</span>Â <span class="keyword">where</span>Â nameÂ <span class="operator">=</span>Â <span class="string">&#x27;test&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="3ã€pythonä»£ç å®ç°"><a href="#3ã€pythonä»£ç å®ç°" class="headerlink" title="3ã€pythonä»£ç å®ç°"></a>3ã€pythonä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>Â sqlite3</span><br><span class="line">connÂ =Â sqlite3.connect(<span class="string">&#x27;test.db&#x27;</span>)</span><br><span class="line">cursorÂ =Â conn.cursor()</span><br><span class="line">table_nameÂ =Â <span class="string">&#x27;test&#x27;</span></span><br><span class="line"></span><br><span class="line">sql1Â =Â <span class="string">&#x27;deleteÂ fromÂ &#x27;</span>Â +Â table_name</span><br><span class="line">cursor.execute(sql1)</span><br><span class="line">sql2Â =Â <span class="string">&#x27;updateÂ sqlite_sequenceÂ setÂ seqÂ =Â 0Â whereÂ nameÂ =Â &#x27;</span>Â +Â <span class="string">&quot;&#x27;&quot;</span>Â +Â table_nameÂ +Â <span class="string">&quot;&#x27;&quot;</span></span><br><span class="line">cursor.execute(sql2)</span><br><span class="line"></span><br><span class="line">cursor.close()</span><br><span class="line">conn.commit()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> SQLite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python æ•°æ®åº“ï¼ˆSQLiteï¼‰æ•™ç¨‹</title>
      <link href="/2021/02/07/Python-%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88SQLite%EF%BC%89%E6%95%99%E7%A8%8B/"/>
      <url>/2021/02/07/Python-%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88SQLite%EF%BC%89%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>SQLiteæ˜¯ä¸€ç§åµŒå…¥å¼æ•°æ®åº“ï¼Œå®ƒçš„æ•°æ®åº“å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚ç”±äºSQLiteæœ¬èº«æ˜¯Cå†™çš„ï¼Œè€Œä¸”ä½“ç§¯å¾ˆå°ï¼Œæ‰€ä»¥ï¼Œç»å¸¸è¢«é›†æˆåˆ°å„ç§åº”ç”¨ç¨‹åºä¸­ï¼Œç”šè‡³åœ¨iOSå’ŒAndroidçš„Appä¸­éƒ½å¯ä»¥é›†æˆã€‚</p><p>Pythonå°±å†…ç½®äº†SQLite3ï¼Œæ‰€ä»¥ï¼Œåœ¨Pythonä¸­ä½¿ç”¨SQLiteï¼Œä¸éœ€è¦å®‰è£…ä»»ä½•ä¸œè¥¿ï¼Œç›´æ¥ä½¿ç”¨ã€‚</p><a id="more"></a><h1 id="é€‰æ‹©SQLiteçš„åŸå› "><a href="#é€‰æ‹©SQLiteçš„åŸå› " class="headerlink" title="é€‰æ‹©SQLiteçš„åŸå› "></a>é€‰æ‹©SQLiteçš„åŸå› </h1><p>è‡ªå·±çš„å°ä¸œè¥¿ï¼Œè½»é‡ææ„Ÿè§‰ç”¨SQLite3ä¹Ÿå¯ä»¥äº†ï¼Œçœå¾—è£…MySQLè¿™äº›äº†ã€‚ç„¶åå†è£…ä¸ª DB Browser for SQLiteçš„è½¯ä»¶ï¼Œå¼€æºçš„å…è´¹å¯è§†åŒ–å·¥å…·ï¼Œç”¨æ¥æ“ä½œSQLiteæ•°æ®åº“æ–‡ä»¶æºœæºœçš„ã€è´¼æ–¹ä¾¿äº†~</p><p>æ‰€ä»¥è‡ªå·±é€‰æ‹©SQLiteçš„2ä¸ªä¸»è¦åŸå› æ˜¯ï¼š</p><ol><li>Pythonå†…ç½®äº†SQLite3ï¼Œä¸éœ€è¦å†è£…ä»»ä½•ä¸œè¥¿ï¼›</li><li>æœ‰DB Browser for SQLiteè¿™æ ·å¼€æºå…è´¹çš„è½¯ä»¶å·¥å…·ï¼Œæ“ä½œåˆæ–¹ä¾¿ï¼Œå»ºåº“ã€å»ºè¡¨ã€ä¿®æ”¹è¡¨ä¹‹ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œä¿å­˜æˆä¸€ä¸ª.dbæ–‡ä»¶ä¹Ÿæ–¹ä¾¿ã€‚</li></ol><p>å½“ç„¶ï¼Œè¿™æ˜¯çœ‹è‡ªå·±éœ€æ±‚é€‰æ‹©çš„åŸå› ã€‚</p><h1 id="æ•°æ®åº“ç›¸å…³æ¦‚å¿µç®€ä»‹"><a href="#æ•°æ®åº“ç›¸å…³æ¦‚å¿µç®€ä»‹" class="headerlink" title="æ•°æ®åº“ç›¸å…³æ¦‚å¿µç®€ä»‹"></a>æ•°æ®åº“ç›¸å…³æ¦‚å¿µç®€ä»‹</h1><p>ä¸€ä¸ªæ•°æ®åº“å¯¹åº”ä¿å­˜æˆä¸€ä¸ª .dbæ–‡ä»¶ï¼›<br>ä¸€ä¸ªæ•°æ®åº“é‡Œé¢å¯ä»¥æœ‰å¾ˆå¤šè¡¨ï¼ˆTableï¼‰ï¼›</p><p>æ¯”å¦‚æœ‰ä¸€ä¸ªå­¦æ ¡çš„æ•°æ®åº“ï¼Œä¸€èˆ¬å°±ä¼šæœ‰ï¼š</p><ul><li>æ•™èŒå·¥è¡¨ï¼ˆé‡Œé¢æœ‰æ•™å¸ˆå§“åä¹‹ç±»çš„ä¿¡æ¯ï¼‰</li><li>ç­çº§è¡¨ï¼ˆé‡Œé¢æœ‰ç­çº§åç§°ã€äººæ•°ç­‰ä¿¡æ¯ï¼‰</li><li>å…¨ä½“å­¦ç”Ÿè¡¨ï¼ˆé‡Œé¢æœ‰å­¦ç”Ÿå§“åã€ç­çº§ç­‰ä¿¡æ¯ï¼‰</li></ul><p>å…³äºæ•°æ®åº“çŸ¥è¯†ï¼Œéšä¾¿æœå‡ ç¯‡æ–‡ç« çœ‹ä¸€ä¸‹ï¼Œè‡ªå·±å»äº†è§£ä¸€ä¸‹SQLï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚<br>æ•°æ®åº“çš„ä½¿ç”¨ï¼Œè‡ªå·±è®¾è®¡å‡ ä¸ªè¡¨ï¼Œå°±æ‡‚äº†ç‚¹åŸºç¡€äº†ï¼Œå¹³å¸¸è‡ªå·±ç”¨ç”¨å¤Ÿç”¨å°±è¡Œäº†ï¼ˆè¡¨çš„è®¾è®¡é å®è·µï¼‰ã€‚</p><h1 id="Python-SQLite"><a href="#Python-SQLite" class="headerlink" title="Python SQLite"></a>Python SQLite</h1><h3 id="ä¸€ã€SQLiteä½¿ç”¨è¿‡ç¨‹æè¿°"><a href="#ä¸€ã€SQLiteä½¿ç”¨è¿‡ç¨‹æè¿°" class="headerlink" title="ä¸€ã€SQLiteä½¿ç”¨è¿‡ç¨‹æè¿°"></a>ä¸€ã€SQLiteä½¿ç”¨è¿‡ç¨‹æè¿°</h3><p>1.è¦æ“ä½œå…³ç³»æ•°æ®åº“ï¼Œé¦–å…ˆè¦è¿æ¥åˆ°æ•°æ®åº“ï¼Œä¸€ä¸ªæ•°æ®åº“è¿æ¥ç§°ä¸ºconnectionã€‚</p><p>2.è¿æ¥åˆ°æ•°æ®åº“ä¹‹åï¼Œéœ€è¦æ‰“å¼€æ¸¸æ ‡ï¼ˆCursorï¼‰ï¼Œé€šè¿‡Cursoræ‰§è¡ŒSQLè¯­å¥ï¼Œç„¶åè·å¾—æ‰§è¡Œçš„ç»“æœã€‚</p><p>3.æœ€åå…³é—­æ•°æ®åº“è¿æ¥ã€‚</p><h3 id="äºŒã€æ“ä½œæ•°æ®åº“ä¸¾ä¾‹"><a href="#äºŒã€æ“ä½œæ•°æ®åº“ä¸¾ä¾‹" class="headerlink" title="äºŒã€æ“ä½œæ•°æ®åº“ä¸¾ä¾‹"></a>äºŒã€æ“ä½œæ•°æ®åº“ä¸¾ä¾‹</h3><p>æ•°æ®åº“çš„æ“ä½œï¼Œæ¦‚æ‹¬ä¸€ä¸‹ä¸»è¦å°±æ˜¯ã€å¢ åˆ  æ”¹ æŸ¥ã€‘ï¼Œè¿™4ä¸ªä¼šäº†ï¼ŒåŸºç¡€å°±å·®ä¸å¤šå¯ä»¥ä¸Šäº†ã€‚</p><ul><li>å¢ï¼šinsert into è¯­å¥</li><li>åˆ ï¼šdelete from è¯­å¥</li><li>æ”¹ï¼šupdate è¯­å¥</li><li>æŸ¥ï¼šselect è¯­å¥</li></ul><h4 id="1-åˆ›å»ºæ•°æ®åº“ã€è¡¨"><a href="#1-åˆ›å»ºæ•°æ®åº“ã€è¡¨" class="headerlink" title="1.åˆ›å»ºæ•°æ®åº“ã€è¡¨"></a>1.åˆ›å»ºæ•°æ®åº“ã€è¡¨</h4><p>åˆ›å»ºä¸€ä¸ªtestçš„è¡¨ï¼Œè¡¨é‡Œé¢æœ‰ idã€codeã€name 3ä¸ªå­—æ®µã€‚</p><p><strong>å­—æ®µçš„ç±»å‹</strong> æœ‰ï¼š<br>INTEGER(intæ•°å€¼)ã€TEXT(stringå­—ç¬¦ä¸²)ã€REAL(floatç¬¦ç‚¹æ•°)ï¼Œä¸»è¦è¿™3ç§ã€‚</p><p><strong>å­—æ®µçš„å±æ€§</strong> æœ‰ï¼š</p><ul><li>NOT NULLï¼šéç©ºï¼Œè¡¨ç¤ºå­—æ®µä¸èƒ½æ˜¯ç©ºçš„ï¼›</li><li>PRIMARYÂ KEYï¼šä¸»é”®ï¼›</li><li>AUTOINCREMENTï¼šè‡ªåŠ¨å¢åŠ ï¼ˆè¿™ä¸€é¡¹æ˜¯è‡ªåŠ¨å¢åŠ çš„ï¼Œä¸€èˆ¬ç”¨äºidï¼‰ï¼›</li><li>UNIQUEï¼šå”¯ä¸€ï¼Œè¡¨ç¤ºåœ¨è¿™ä¸ªè¡¨é‡Œè¿™ä¸ªå­—æ®µæ˜¯å”¯ä¸€çš„ã€‚</li><li>DEFAULTÂ â€˜Â â€˜ï¼šè¡¨ç¤ºé»˜è®¤å€¼ä¸º â€˜ â€˜</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>Â sqlite3</span><br><span class="line"><span class="comment"># æ•°æ®åº“æ–‡ä»¶æ˜¯ test.dbï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»º</span></span><br><span class="line">connÂ =Â sqlite3.connect(<span class="string">&#x27;test.db&#x27;</span>)</span><br><span class="line">cursorÂ =Â conn.cursor()</span><br><span class="line">sqlÂ =Â <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Â Â Â Â CREATEÂ TABLEÂ &quot;test&quot;Â (</span></span><br><span class="line"><span class="string">Â Â Â Â &quot;id&quot;Â Â Â Â INTEGERÂ NOTÂ NULLÂ PRIMARYÂ KEYÂ AUTOINCREMENTÂ UNIQUE,</span></span><br><span class="line"><span class="string">Â Â Â Â &quot;code&quot;Â Â TEXTÂ NOTÂ NULLÂ UNIQUE,</span></span><br><span class="line"><span class="string">Â Â Â Â &quot;name&quot;Â Â TEXTÂ DEFAULTÂ &#x27;Â &#x27;</span></span><br><span class="line"><span class="string">Â Â Â Â )</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line">cursor.close()</span><br><span class="line">conn.commit()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure><h4 id="2-å¢ï¼šè¡¨ä¸­æ·»åŠ ä¸€æ¡æ•°æ®"><a href="#2-å¢ï¼šè¡¨ä¸­æ·»åŠ ä¸€æ¡æ•°æ®" class="headerlink" title="2.å¢ï¼šè¡¨ä¸­æ·»åŠ ä¸€æ¡æ•°æ®"></a>2.å¢ï¼šè¡¨ä¸­æ·»åŠ ä¸€æ¡æ•°æ®</h4><p>sqlè¯­å¥ä¸­å¯ä»¥ç”¨å‚æ•°çš„å½¢å¼ï¼Œexecuteæ‰§è¡Œsqlçš„æ—¶å€™æŠŠå‚æ•°ä¼ è¿›å»å°±å¯ä»¥äº†ã€‚</p><p>å¯¹åº”æ˜¯Tupleï¼ˆå…ƒç»„çš„æ•°æ®ç±»å‹ï¼‰ï¼ŒPythoné‡ŒListåˆ—è¡¨ç”¨çš„æ¯”è¾ƒå¤šï¼Œå¯ä»¥é€šè¿‡tuple()å‡½æ•°è½¬æˆTupleï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å®šä¹‰æˆTupleç±»å‹ã€‚</p><p>å› ä¸ºä¸€èˆ¬åˆ«çš„åœ°æ–¹è·å–çš„æ•°æ®Listç±»å‹æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥è¿™é‡Œä¸¾ä¾‹ç”¨äº†Listã€‚</p><p>æ·»åŠ ä¸€æ¡çš„SQLè¯­å¥æ˜¯ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test (code, name) <span class="keyword">values</span> (<span class="string">&#x27;213123&#x27;</span>, <span class="string">&#x27;å¼ ä¸‰&#x27;</span>)</span><br></pre></td></tr></table></figure><p>pythonä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>Â sqlite3</span><br><span class="line">connÂ =Â sqlite3.connect(<span class="string">&#x27;test.db&#x27;</span>)</span><br><span class="line">cursorÂ =Â conn.cursor()</span><br><span class="line">table_nameÂ =Â <span class="string">&#x27;test&#x27;</span></span><br><span class="line">sqlÂ =Â <span class="string">&#x27;insertÂ intoÂ &#x27;</span>Â +Â table_nameÂ +Â <span class="string">&#x27;Â (code,Â name)Â valuesÂ (?,?)&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Â æ·»åŠ ä¸€æ¡æ•°æ®</span></span><br><span class="line">list1Â =Â [<span class="string">&#x27;213123&#x27;</span>,Â <span class="string">&#x27;å¼ ä¸‰&#x27;</span>]Â Â Â Â </span><br><span class="line">cursor.execute(sql,Â <span class="built_in">tuple</span>(list1))</span><br><span class="line"><span class="comment">#Â æ·»åŠ å¤šæ¡æ•°æ®</span></span><br><span class="line">list2Â =Â [[<span class="string">&#x27;213124&#x27;</span>,Â <span class="string">&#x27;æå››&#x27;</span>],Â [<span class="string">&#x27;213125&#x27;</span>,Â <span class="string">&#x27;ç‹äº”&#x27;</span>]]</span><br><span class="line"><span class="keyword">for</span>Â oneÂ <span class="keyword">in</span>Â list2:</span><br><span class="line">Â Â Â Â cursor.execute(sql,Â <span class="built_in">tuple</span>(one))</span><br><span class="line"><span class="comment">#Â æ·»åŠ å¤šæ¡æ•°æ®2</span></span><br><span class="line">list3Â =Â [[<span class="string">&#x27;213126&#x27;</span>,Â <span class="string">&#x27;èµµå…­&#x27;</span>],Â [<span class="string">&#x27;213127&#x27;</span>,Â <span class="string">&#x27;é’±ä¸ƒ&#x27;</span>]]</span><br><span class="line">cursor.executemany(sql, list3)</span><br><span class="line"></span><br><span class="line">cursor.close()</span><br><span class="line">conn.commit()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure><p>sqlçš„è¯­å¥ç”¨å‚æ•°çš„å¥½å¤„å°±æ˜¯å¯ä»¥åœ¨forå¾ªç¯ä¸­ç›´æ¥ä½¿ç”¨ï¼Œä¸ç”¨æ¯ä¸€æ¡å›ºå®šä¸€æ¡sqlè¯­å¥ã€‚</p><h4 id="3-åˆ ï¼šåˆ é™¤ä¸€æ¡æŒ‡å®šæ•°æ®"><a href="#3-åˆ ï¼šåˆ é™¤ä¸€æ¡æŒ‡å®šæ•°æ®" class="headerlink" title="3.åˆ ï¼šåˆ é™¤ä¸€æ¡æŒ‡å®šæ•°æ®"></a>3.åˆ ï¼šåˆ é™¤ä¸€æ¡æŒ‡å®šæ•°æ®</h4><p>åˆ é™¤ä¸€æ¡çš„SQLè¯­å¥æ˜¯ ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> test <span class="keyword">where</span> code <span class="operator">=</span> <span class="string">&#x27;213123&#x27;</span></span><br></pre></td></tr></table></figure><p>pythonä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>Â sqlite3</span><br><span class="line">connÂ =Â sqlite3.connect(<span class="string">&#x27;test.db&#x27;</span>)</span><br><span class="line">cursorÂ =Â conn.cursor()</span><br><span class="line">table_nameÂ =Â <span class="string">&#x27;test&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Â åˆ é™¤å¤šæ¡æ•°æ®</span></span><br><span class="line">code_listÂ =Â [<span class="string">&#x27;213123&#x27;</span>,Â <span class="string">&#x27;213124&#x27;</span>]</span><br><span class="line">sqlÂ =Â <span class="string">&#x27;deleteÂ fromÂ &#x27;</span>Â +Â Â table_nameÂ +Â <span class="string">&#x27;Â whereÂ codeÂ =Â ?&#x27;</span></span><br><span class="line"><span class="keyword">for</span>Â codeÂ <span class="keyword">in</span>Â code_list:</span><br><span class="line">Â Â Â Â cursor.execute(sql,Â (code,))</span><br><span class="line">cursor.close()</span><br><span class="line">conn.commit()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure><h4 id="4-æ”¹ï¼šä¿®æ”¹ä¸€æ¡è®°å½•"><a href="#4-æ”¹ï¼šä¿®æ”¹ä¸€æ¡è®°å½•" class="headerlink" title="4.æ”¹ï¼šä¿®æ”¹ä¸€æ¡è®°å½•"></a>4.æ”¹ï¼šä¿®æ”¹ä¸€æ¡è®°å½•</h4><p>ä¿®æ”¹ä¸€æ¡çš„SQLè¯­å¥æ˜¯ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update test <span class="keyword">set</span> code <span class="operator">=</span> <span class="string">&#x27;213122&#x27;</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;å¼ ä¸‰&#x27;</span></span><br></pre></td></tr></table></figure><p>pythonä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>Â sqlite3</span><br><span class="line">connÂ =Â sqlite3.connect(<span class="string">&#x27;test.db&#x27;</span>)</span><br><span class="line">cursorÂ =Â conn.cursor()</span><br><span class="line">table_nameÂ =Â <span class="string">&#x27;test&#x27;</span></span><br><span class="line"></span><br><span class="line">new_codeÂ =Â <span class="string">&#x27;213122&#x27;</span></span><br><span class="line">nameÂ =Â <span class="string">&#x27;å¼ ä¸‰&#x27;</span></span><br><span class="line">sqlÂ =Â <span class="string">&#x27;updateÂ &#x27;</span>Â +Â Â table_nameÂ +Â <span class="string">&#x27;Â setÂ codeÂ =Â ?Â whereÂ nameÂ =Â ?&#x27;</span></span><br><span class="line">cursor.execute(sql,Â (new_code,name))</span><br><span class="line">cursor.close()</span><br><span class="line">conn.commit()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure><h4 id="5-æŸ¥ï¼šæŸ¥è¯¢è®°å½•"><a href="#5-æŸ¥ï¼šæŸ¥è¯¢è®°å½•" class="headerlink" title="5.æŸ¥ï¼šæŸ¥è¯¢è®°å½•"></a>5.æŸ¥ï¼šæŸ¥è¯¢è®°å½•</h4><p>æŸ¥å±äºæœ€å¸¸ç”¨çš„éƒ¨åˆ†äº†ï¼Œå› ä¸ºå­˜å‚¨åœ¨æ•°æ®åº“çš„æ•°æ®ï¼Œé€šå¸¸éƒ½ç”¨selectè¯­å¥å»æŸ¥è¯¢ã€‚</p><p>æŸ¥è¯¢çš„SQLè¯­å¥æœ‰ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test <span class="keyword">where</span> code <span class="operator">=</span> <span class="string">&#x27;213124&#x27;</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test <span class="keyword">where</span> code <span class="operator">=</span> <span class="string">&#x27;213124&#x27;</span> <span class="keyword">and</span> name <span class="operator">=</span> <span class="string">&#x27;æå››&#x27;</span></span><br><span class="line"><span class="keyword">select</span> code,name <span class="keyword">from</span> test <span class="keyword">where</span> code <span class="operator">=</span> <span class="string">&#x27;213124&#x27;</span></span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢å¯ä»¥æŸ¥è¯¢å…¨éƒ¨å­—æ®µï¼Œä¹Ÿå¯ä»¥æŸ¥è¯¢éƒ¨åˆ†éœ€è¦çš„å­—æ®µï¼›<br>æŸ¥è¯¢åé¢çš„whereæ¡ä»¶å¯ä»¥æ˜¯ UNIQUE å­—æ®µï¼Œé‚£æŸ¥è¯¢ç»“æœå°±æ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœä¸æ˜¯ UNIQUEå­—æ®µï¼ŒæŸ¥è¯¢ç»“æœå¯èƒ½ä¼šæœ‰å¤šæ¡ã€‚</p><p>pythonä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>Â sqlite3</span><br><span class="line">connÂ =Â sqlite3.connect(<span class="string">&#x27;test.db&#x27;</span>)</span><br><span class="line">cursorÂ =Â conn.cursor()</span><br><span class="line">table_nameÂ =Â <span class="string">&#x27;test&#x27;</span></span><br><span class="line"></span><br><span class="line">nameÂ =Â <span class="string">&#x27;å¼ ä¸‰&#x27;</span></span><br><span class="line">sql1Â =Â <span class="string">&#x27;selectÂ *Â fromÂ &#x27;</span>Â +Â table_nameÂ +Â <span class="string">&#x27;Â whereÂ nameÂ =Â ?&#x27;</span></span><br><span class="line">cursor.execute(sql1,Â (name,))</span><br><span class="line">values1Â =Â cursor.fetchall()</span><br><span class="line"><span class="built_in">print</span>(values1)Â <span class="comment">#Â [(1,Â &#x27;213122&#x27;,Â &#x27;å¼ ä¸‰&#x27;)]</span></span><br><span class="line">sql2Â =Â <span class="string">&#x27;selectÂ code,nameÂ fromÂ &#x27;</span>Â +Â table_name</span><br><span class="line">cursor.execute(sql2)</span><br><span class="line">values2Â =Â cursor.fetchall()</span><br><span class="line"><span class="built_in">print</span>(values2)Â <span class="comment">#Â [(&#x27;213122&#x27;,Â &#x27;å¼ ä¸‰&#x27;),Â (&#x27;213124&#x27;,Â &#x27;æå››&#x27;),Â (&#x27;213125&#x27;,Â &#x27;ç‹äº”&#x27;)]</span></span><br><span class="line"></span><br><span class="line">cursor.close()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure><h4 id="6-å°ç»“"><a href="#6-å°ç»“" class="headerlink" title="6.å°ç»“"></a>6.å°ç»“</h4><p><strong>ä½¿ç”¨Cursorå¯¹è±¡æ‰§è¡Œinsertï¼Œupdateï¼Œdeleteè¯­å¥æ—¶ï¼Œæ‰§è¡Œç»“æœç”±rowcountè¿”å›å½±å“çš„è¡Œæ•°ï¼Œå°±å¯ä»¥æ‹¿åˆ°æ‰§è¡Œç»“æœã€‚</strong></p><p><strong>ä½¿ç”¨Cursorå¯¹è±¡æ‰§è¡Œselectè¯­å¥æ—¶ï¼Œé€šè¿‡fetchall()å¯ä»¥æ‹¿åˆ°ç»“æœé›†ã€‚ç»“æœé›†æ˜¯ä¸€ä¸ªlistï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªtupleï¼Œå¯¹åº”ä¸€è¡Œè®°å½•ã€‚</strong></p><p>åƒä¸Šé¢æŸ¥è¯¢ä¸­çš„ç¬¬4æ¡sqlè¯­å¥ï¼ŒæŸ¥è¯¢ç»“æœåªéœ€è¦ code,name ä¸¤ä¸ªå­—æ®µï¼Œé‚£æŸ¥è¯¢çš„ç»“æœä¼šæ˜¯ä¸€ä¸ªListï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªtupleå…ƒç»„ã€‚<br>æ¯”å¦‚æŸ¥è¯¢åˆ°çš„ç»“æœæ˜¯ï¼š</p><p>[(â€˜213124â€™, â€˜æå››â€™), (â€˜213125â€™, â€˜ç‹äº”â€™)]</p><p>å¯¹äºè¿™æ ·çš„Listï¼ŒPythoné‡Œå¯ä»¥ç›´æ¥è½¬æ¢æˆ Dictionaryï¼ˆå­—å…¸ï¼‰ç±»å‹ï¼Œé‚£ç”¨èµ·æ¥å°±æ›´æ–¹ä¾¿äº†ã€‚</p><p>æœ€åï¼Œè®°å¾—ç”¨å®Œ å…³é—­connectionå’ŒCursorå¯¹è±¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> SQLite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu å‡çº§OpenSSLæ•™ç¨‹</title>
      <link href="/2021/02/05/Ubuntu%E5%8D%87%E7%BA%A7OpenSSL%E6%95%99%E7%A8%8B/"/>
      <url>/2021/02/05/Ubuntu%E5%8D%87%E7%BA%A7OpenSSL%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºè…¾è®¯äº‘çš„æœåŠ¡å™¨æç¤ºäº†æ¼æ´ï¼Œå°±é¡ºä¾¿ä¿®å¤äº†ä¸€ä¸‹ã€‚</p><p><strong>OpenSSL æ‹’ç»æœåŠ¡æ¼æ´(CVE-2020-1971)</strong><br>æŠ«éœ²æ—¶é—´ 2020-12-09 00:00:00CVEç¼–å· CVE-2020-1971</p><a id="more"></a><blockquote><p>æ¼æ´æè¿°ï¼š<br>2020å¹´12æœˆ08æ—¥ï¼ŒOpenSSLå®˜æ–¹å‘å¸ƒå®‰å…¨å…¬å‘Šï¼ŒæŠ«éœ²CVE-2020-1971 OpenSSL GENERAL_NAME_cmp æ‹’ç»æœåŠ¡æ¼æ´ã€‚å½“ä¸¤ä¸ªGENERAL_NAMEéƒ½åŒ…å«åŒä¸€ä¸ªEDIPARTYNAMEæ—¶ï¼Œç”±äºGENERAL_NAME_cmpå‡½æ•°æœªèƒ½æ­£ç¡®å¤„ç†ï¼Œä»è€Œå¯¼è‡´ç©ºæŒ‡é’ˆå¼•ç”¨ï¼Œå¹¶å¯èƒ½å¯¼è‡´æ‹’ç»æœåŠ¡ã€‚<br>æ¼æ´ç±»å‹ï¼šç³»ç»Ÿç»„ä»¶æ¼æ´<br>å¨èƒç­‰çº§ï¼šä¸­å±</p></blockquote><p>ä¿®å¤æ–¹æ¡ˆï¼šå°† OpenSSL å‡çº§è‡³æœ€æ–°ç‰ˆæœ¬ã€‚</p><p>å‡çº§æ–¹æ³•å¯ä»¥å‚è€ƒå¦‚ä¸‹ï¼š<a class="link"   href="https://cloud.tencent.com/developer/article/1759794?from=information.detail.linux%20openssl%E5%8D%87%E7%BA%A7" >https://cloud.tencent.com/developer/article/1759794?from=information.detail.linux%20openssl%E5%8D%87%E7%BA%A7<i class="fas fa-external-link-alt"></i></a></p><p>æ¸©é¦¨æç¤ºï¼šå‡çº§OpenSSLå‰åŠ¡å¿…å…ˆåšå¥½å¿«ç…§å¤‡ä»½ï¼Œä»¥å…æ“ä½œå¤±è¯¯å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚<br>æ¼æ´è¯¦ç»†è¯´æ˜ <a class="link"   href="https://s.tencent.com/research/bsafe/1193.html" >https://s.tencent.com/research/bsafe/1193.html<i class="fas fa-external-link-alt"></i></a><br>æ£€æµ‹åˆ°æœåŠ¡å™¨å­˜åœ¨æ¼æ´é£é™©ï¼Œ<strong>å»ºè®®ç«‹å³å¯¹ç›¸å…³ä¸»æœºè¿›è¡Œå¿«ç…§å¤‡ä»½</strong>ï¼Œé¿å…é­å—æŸå¤±ã€‚</p><p>ä»¥ä¸Šå†…å®¹æ˜¯è…¾è®¯äº‘åå°æç¤ºçš„ã€‚</p><hr><h2 id="ã€ä¿®å¤è¿‡ç¨‹ã€‘"><a href="#ã€ä¿®å¤è¿‡ç¨‹ã€‘" class="headerlink" title="ã€ä¿®å¤è¿‡ç¨‹ã€‘"></a>ã€ä¿®å¤è¿‡ç¨‹ã€‘</h2><p>æ²¡æœ‰å¿«ç…§ï¼Œå…ˆåˆ›å»ºå¿«ç…§ã€‚</p><h3 id="1-ä¸‹è½½æœ€æ–°-OpenSSL"><a href="#1-ä¸‹è½½æœ€æ–°-OpenSSL" class="headerlink" title="1.ä¸‹è½½æœ€æ–° OpenSSL"></a>1.ä¸‹è½½æœ€æ–° OpenSSL</h3><p>æ¯”å¦‚æˆ‘è¿™ç°åœ¨æœ€æ–°çš„æ˜¯ï¼šopenssl-1.1.1i</p><p>å®˜ç½‘ï¼š<a class="link"   href="https://www.openssl.org/source/openssl-1.1.1i.tar.gz" >https://www.openssl.org/source/openssl-1.1.1i.tar.gz<i class="fas fa-external-link-alt"></i></a></p><p>å®˜ç½‘è®¿é—®çš„é€Ÿåº¦å†æ…¢äº†ï¼Œåœ¨å›½å†…è¿˜æ˜¯ç”¨è…¾è®¯çš„é•œåƒå¥½äº†ã€‚</p><p>è…¾è®¯é•œåƒï¼š<a class="link"   href="https://mirrors.cloud.tencent.com/openssl/source/openssl-1.1.1i.tar.gz" >https://mirrors.cloud.tencent.com/openssl/source/openssl-1.1.1i.tar.gz<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.cloud.tencent.com/openssl/source/openssl-1.1.1i.tar.gz</span><br></pre></td></tr></table></figure><h3 id="2-è§£å‹-openssl-1-1-1i"><a href="#2-è§£å‹-openssl-1-1-1i" class="headerlink" title="2.è§£å‹ openssl-1.1.1i"></a>2.è§£å‹ openssl-1.1.1i</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xzvf openssl-1.1.1i.tar.gz</span><br></pre></td></tr></table></figure><blockquote><p>xzvf é‡Šä¹‰<br>x è§£å‹<br>z gzipå‹ç¼©æ ¼å¼<br>v æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯<br>f file</p></blockquote><p>è§£å‹åå¾—åˆ° openssl-1.1.1i æ–‡ä»¶å¤¹ã€‚</p><h3 id="3-è¿›å…¥-OpenSSL-è§£å‹åçš„-openssl-1-1-1i-æ–‡ä»¶å¤¹"><a href="#3-è¿›å…¥-OpenSSL-è§£å‹åçš„-openssl-1-1-1i-æ–‡ä»¶å¤¹" class="headerlink" title="3.è¿›å…¥ OpenSSL è§£å‹åçš„ openssl-1.1.1i æ–‡ä»¶å¤¹"></a>3.è¿›å…¥ OpenSSL è§£å‹åçš„ openssl-1.1.1i æ–‡ä»¶å¤¹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> openssl-1.1.1i</span><br></pre></td></tr></table></figure><h3 id="4-å®‰è£…-OpenSSL"><a href="#4-å®‰è£…-OpenSSL" class="headerlink" title="4.å®‰è£… OpenSSL"></a>4.å®‰è£… OpenSSL</h3><p><strong>1).é…ç½®</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./config</span><br></pre></td></tr></table></figure><p>è¿è¡ŒæˆåŠŸåæœ‰æç¤ºï¼šOpenSSL has been successfully configured</p><p><strong>2).make</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">makeï¼ˆå¦‚æœå¤±è´¥ï¼Œå°±è¿è¡Œ sudo apt install make gcc å‘½ä»¤å…ˆï¼‰</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h3 id="5-ä½¿ç”¨æ–°ç‰ˆ-OpenSSL"><a href="#5-ä½¿ç”¨æ–°ç‰ˆ-OpenSSL" class="headerlink" title="5.ä½¿ç”¨æ–°ç‰ˆ OpenSSL"></a>5.ä½¿ç”¨æ–°ç‰ˆ OpenSSL</h3><p><strong>1).æ‰¾åˆ°æ–°æ—§ç‰ˆæœ¬ openssl</strong></p><p>é€šè¿‡ <code>find / -name &quot;openssl&quot; -print</code> å‘½ä»¤å¯ä»¥æŸ¥åˆ°ï¼Œ</p><p>æ–°ç‰ˆopenssl é»˜è®¤åœ¨ï¼š/usr/local/bin/openssl<br>è€ç‰ˆæœ¬çš„openssl åœ¨ /usr/bin/openssl</p><p><strong>2).å¤‡ä»½è€ç‰ˆæœ¬openssl</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv /usr/bin/openssl ~/tmp</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨sudo make installä¹‹å‰å°±æŠŠè€ç‰ˆæœ¬çš„å…ˆå¤‡ä»½ç§»èµ°ã€‚</p><p><strong>3).ç»™æ–°ç‰ˆæœ¬çš„opensslåˆ›å»ºè½¯ä»¶é“¾æ¥</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /usr/<span class="built_in">local</span>/bin/openssl /usr/bin/openssl</span><br></pre></td></tr></table></figure><h3 id="6-æ›´æ–°é…ç½®"><a href="#6-æ›´æ–°é…ç½®" class="headerlink" title="6.æ›´æ–°é…ç½®"></a>6.æ›´æ–°é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update symlinks and rebuild the library cache</span><br><span class="line">sudo ldconfig</span><br></pre></td></tr></table></figure><h3 id="7-æ£€æŸ¥OpenSSL-ç‰ˆæœ¬"><a href="#7-æ£€æŸ¥OpenSSL-ç‰ˆæœ¬" class="headerlink" title="7.æ£€æŸ¥OpenSSL ç‰ˆæœ¬"></a>7.æ£€æŸ¥OpenSSL ç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl version</span><br></pre></td></tr></table></figure><p>æˆ‘è¿™çš„è¿è¡Œç»“æœæ˜¯ï¼š<br>OpenSSL 1.1.1i  8 Dec 2020</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo ä¸»é¢˜æ·»åŠ  Valine è¯„è®ºåŠŸèƒ½</title>
      <link href="/2021/02/05/Hexo%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0Valine%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD/"/>
      <url>/2021/02/05/Hexo%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0Valine%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€å…³äºValine"><a href="#ä¸€ã€å…³äºValine" class="headerlink" title="ä¸€ã€å…³äºValine"></a>ä¸€ã€å…³äºValine</h1><p>Valine è¯ç”Ÿäº2017å¹´8æœˆ7æ—¥ï¼Œæ˜¯ä¸€æ¬¾åŸºäº Leancloud çš„å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„æ— åç«¯è¯„è®ºç³»ç»Ÿï¼Œæ”¯æŒä½†ä¸é™äºé™æ€åšå®¢ã€‚<br>å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>å¿«é€Ÿã€å®‰å…¨</li><li>Emoji</li><li>æ— åç«¯å®ç°<a id="more"></a></li><li>MarkDown å…¨è¯­æ³•æ”¯æŒ</li><li>è½»é‡æ˜“ç”¨(~15kb gzipped)</li><li>æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡ v1.2.0+</li></ul><h1 id="äºŒã€é…ç½®Leancloudè´¦å·"><a href="#äºŒã€é…ç½®Leancloudè´¦å·" class="headerlink" title="äºŒã€é…ç½®Leancloudè´¦å·"></a>äºŒã€é…ç½®Leancloudè´¦å·</h1><p>Valine æ˜¯åŸºäº leancloudçš„è¯„è®ºæ¨¡å—ï¼Œè¯„è®ºæ•°æ®éƒ½å­˜å‚¨åœ¨ Leancloud å¹³å°ï¼Œå› æ­¤éœ€è¦å…ˆåœ¨ leancloud ç”³è¯·å¸å·ã€‚<br>å®˜ç½‘ï¼š<a class="link"   href="https://leancloud.cn/" >https://leancloud.cn/<i class="fas fa-external-link-alt"></i></a></p><p><strong>1.æ³¨å†ŒLeancloud è´¦å·</strong><br><strong>2.åˆ›å»ºåº”ç”¨</strong><br>ã€æ§åˆ¶å°ã€‘-&gt;ã€åˆ›å»ºåº”ç”¨ã€‘<br>åº”ç”¨åç§° è‡ªå·±å¡«å†™ï¼Œé€‰æ‹©é»˜è®¤çš„ã€å¼€å‘ç‰ˆã€‘ï¼Œåº”ç”¨æè¿°è‡ªå·±å†™ï¼Œç›´æ¥ã€åˆ›å»ºã€‘ã€‚</p><p><strong>3.è·å–åº”ç”¨çš„AppIDå’ŒAppKey</strong><br>åˆ›å»ºå®Œæˆåï¼Œè¿›å…¥è¯¥åº”ç”¨ã€‚<br>ã€è®¾ç½®ã€‘-&gt;ã€åº”ç”¨Keysã€‘ï¼Œå¾—åˆ°AppIDå’ŒAppKeyã€‚è¿™ä¸ªåé¢é…ç½®åšå®¢ä¸»é¢˜æ–‡ä»¶æ—¶ä¼šç”¨åˆ°ã€‚</p><p><strong>4.é…ç½®å®‰å…¨åŸŸå</strong><br>ã€è®¾ç½®ã€‘-&gt;ã€å®‰å…¨ä¸­å¿ƒã€‘ï¼Œåœ¨ã€Webå®‰å…¨åŸŸåã€‘ä¸­å¡«å†™è‡ªå·±åšå®¢çš„åŸŸååä¿å­˜ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œæ˜¯ï¼š</p><blockquote><p><a class="link"   href="http://i007it.com/" >http://i007it.com/<i class="fas fa-external-link-alt"></i></a><br><a class="link"   href="http://www.i007it.com/" >http://www.i007it.com/<i class="fas fa-external-link-alt"></i></a><br><a class="link"   href="http://localhost:4000/" >http://localhost:4000<i class="fas fa-external-link-alt"></i></a></p></blockquote><h1 id="ä¸‰ã€Hexoä¸­æ·»åŠ Valineè¯„è®º"><a href="#ä¸‰ã€Hexoä¸­æ·»åŠ Valineè¯„è®º" class="headerlink" title="ä¸‰ã€Hexoä¸­æ·»åŠ Valineè¯„è®º"></a>ä¸‰ã€Hexoä¸­æ·»åŠ Valineè¯„è®º</h1><p>é¦–å…ˆï¼Œçœ‹çœ‹ä½ ç”¨çš„Hexoä¸»é¢˜æ˜¯å¦å·²æ·»åŠ Valineæ¨¡å—ï¼Œå¦‚æœæ·»åŠ äº†çš„è¯å°±å¾ˆç®€å•äº†ã€‚<br>æŸ¥çœ‹åœ°å€ï¼š<a class="link"   href="https://valine.js.org/hexo.html" >https://valine.js.org/hexo.html<i class="fas fa-external-link-alt"></i></a><br>æ¯”å¦‚ <code>hexo-theme-landscape</code>ï¼Œ<code>hexo-theme-next</code> å°±éƒ½å·²ç»æ·»åŠ äº†ï¼ˆå½“ç„¶è¦å®‰è£…æ”¯æŒçš„ç‰ˆæœ¬ï¼Œæœ€æ–°ç‰ˆï¼‰</p><h2 id="ï¼ˆä¸€ï¼‰ã€ä¸»é¢˜å·²ç»æ·»åŠ äº†Valineæ¨¡å—"><a href="#ï¼ˆä¸€ï¼‰ã€ä¸»é¢˜å·²ç»æ·»åŠ äº†Valineæ¨¡å—" class="headerlink" title="ï¼ˆä¸€ï¼‰ã€ä¸»é¢˜å·²ç»æ·»åŠ äº†Valineæ¨¡å—"></a>ï¼ˆä¸€ï¼‰ã€ä¸»é¢˜å·²ç»æ·»åŠ äº†Valineæ¨¡å—</h2><p>åªéœ€è¦ç›´æ¥åœ¨ä¸»é¢˜ä¸‹é¢çš„_config.yml é…ç½®æ–‡ä»¶ä¸­å¡«å†™valineç›¸å…³å†…å®¹å°±è¡Œã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># valine comment system. https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># if you want use valine,please set this value is true</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">U******************************z</span> <span class="comment"># leancloud application app id</span></span><br><span class="line">  <span class="attr">appKey:</span> <span class="string">y************************7</span> <span class="comment"># leancloud application app key</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">false</span> <span class="comment"># valine mail notify (true/false) https://github.com/xCss/Valine/wiki</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">false</span> <span class="comment"># valine verify code (true/false)</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># comment list page size</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mm</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">zh-cn</span> <span class="comment"># i18n: zh-cn/en</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment"># valine comment input placeholder(like: Please leave your footprints )</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment">#valine comment header info</span></span><br></pre></td></tr></table></figure><p>enableè®¾ç½®ä¸ºtrueï¼›å¡«å†™åº”ç”¨çš„appIdå’ŒappKeyå°±è¡Œäº†ï¼ˆæ³¨æ„å¡«å†™çš„æ—¶å€™å†’å·åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼‰ã€‚</p><h2 id="ï¼ˆäºŒï¼‰ã€ä¸»é¢˜æœªæ·»åŠ Valineæ¨¡å—"><a href="#ï¼ˆäºŒï¼‰ã€ä¸»é¢˜æœªæ·»åŠ Valineæ¨¡å—" class="headerlink" title="ï¼ˆäºŒï¼‰ã€ä¸»é¢˜æœªæ·»åŠ Valineæ¨¡å—"></a>ï¼ˆäºŒï¼‰ã€ä¸»é¢˜æœªæ·»åŠ Valineæ¨¡å—</h2><p>æˆ‘ç”¨çš„æ˜¯paperboxä¸»é¢˜ï¼Œæ˜¯landscape çš„ä¸€ä¸ªä¼˜åŒ–ç‰ˆæœ¬ï¼ˆä½œè€…å‡ å¹´ä¹Ÿæ²¡æ›´æ–°äº†ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æ›´æ–°è¯„è®ºç³»ç»Ÿï¼ŒåŸæ¥ä¸»é¢˜ä¸­é…ç½®çš„è¿˜æ˜¯å·²ç»å…³é—­äº†çš„duoshuoçš„è¯„è®ºç³»ç»Ÿï¼‰ï¼Œé‚£å°±éœ€è¦è‡ªå·±æ·»åŠ äº†ã€‚</p><p>ç„¶åæˆ‘ä¹Ÿé¡ºä¾¿åˆ é™¤äº†duoshuoè¯„è®ºçš„æ¨¡å—ï¼Œå¦‚æœä½ ç”¨çš„ä¸»é¢˜åŸæ¥æ²¡æœ‰çš„ï¼Œç›´æ¥æ·»åŠ ç›¸å…³æ–‡ä»¶çš„valineéƒ¨åˆ†å†…å®¹å°±è¡Œï¼Œä¸ç”¨æ”¹åˆ«çš„åœ°æ–¹ã€‚</p><p>å› ä¸ºlandscape æœ€æ–°ç‰ˆæœ¬å·²ç»å†…ç½®äº† valineæ¨¡å—äº†ï¼Œé‚£æˆ‘ç›´æ¥æŠŠ landscape ä¸»é¢˜ä¸‹è½½ä¸‹æ¥ï¼ŒæŸ¥çœ‹ä¸€ä¸‹é‡Œé¢çš„ valineç›¸å…³å†…å®¹ï¼Œå†å¤åˆ¶åˆ°æˆ‘è‡ªå·±çš„ä¸»é¢˜é‡Œå°±å¯ä»¥å•¦ã€‚</p><p>æ‰€ä»¥å‡ ä¸ªæ–‡ä»¶çš„ä¿®æ”¹æ·»åŠ ï¼Œéƒ½æ˜¯ç›´æ¥å‚è€ƒ landscapeä¸»é¢˜é‚£è¾¹æ¬è¿‡æ¥çš„ã€‚</p><h3 id="1-åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ valineå†…å®¹"><a href="#1-åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ valineå†…å®¹" class="headerlink" title="1.åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ valineå†…å®¹"></a>1.åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ valineå†…å®¹</h3><p><strong>hexo-theme-paperbox_config.yml</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Valine.</span></span><br><span class="line"><span class="comment"># You can get your appid and appkey from https://leancloud.cn</span></span><br><span class="line"><span class="comment"># more info please open https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">appId:</span></span><br><span class="line">    <span class="attr">appKey:</span></span><br><span class="line">    <span class="attr">placeholder:</span> <span class="string">è¯·åœ¨æ­¤è¾“å…¥æ‚¨çš„ç•™è¨€</span></span><br><span class="line">    <span class="attr">notify:</span> <span class="literal">false</span>   <span class="comment"># æ–°ç•™è¨€æ˜¯å¦éœ€è¦é€šçŸ¥ https://github.com/xCss/Valine/wiki</span></span><br><span class="line">    <span class="attr">verify:</span> <span class="literal">false</span>   <span class="comment"># æ˜¯å¦éœ€è¦éªŒè¯ï¼ŒéªŒè¯æ¯”è¾ƒåäººç±»å»ºè®®falseå…³é—­</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">mm</span> <span class="comment"># é»˜è®¤å¤´åƒ</span></span><br><span class="line">    <span class="attr">lang:</span> <span class="string">zh-cn</span></span><br><span class="line">    <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span>  <span class="comment"># é»˜è®¤ç•™è¨€æ¡†çš„å¤´éƒ¨éœ€è¦è®¿é—®è€…è¾“å…¥çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="attr">pageSize:</span> <span class="number">10</span>                <span class="comment"># é»˜è®¤å•é¡µçš„ç•™è¨€æ¡æ•°</span></span><br></pre></td></tr></table></figure><h3 id="2-article-ejsæ–‡ä»¶ä¸­æ·»åŠ å†…å®¹"><a href="#2-article-ejsæ–‡ä»¶ä¸­æ·»åŠ å†…å®¹" class="headerlink" title="2.article.ejsæ–‡ä»¶ä¸­æ·»åŠ å†…å®¹"></a>2.article.ejsæ–‡ä»¶ä¸­æ·»åŠ å†…å®¹</h3><p><strong>hexo-theme-paperbox\layout_partial\article.ejs</strong></p><p>æœ‰ä¸¤ä¸ªéƒ¨åˆ†æœ‰æ·»åŠ ï¼Œéƒ½åœ¨æ–‡ä»¶çš„æœ€åé¢ã€‚</p><h4 id="1-ç¬¬ä¸€éƒ¨åˆ†ï¼Œ-lt-footer-gt-éƒ¨åˆ†ä¿®æ”¹"><a href="#1-ç¬¬ä¸€éƒ¨åˆ†ï¼Œ-lt-footer-gt-éƒ¨åˆ†ä¿®æ”¹" class="headerlink" title="1).ç¬¬ä¸€éƒ¨åˆ†ï¼Œ&lt;footer&gt;éƒ¨åˆ†ä¿®æ”¹"></a>1).ç¬¬ä¸€éƒ¨åˆ†ï¼Œ<code>&lt;footer&gt;</code>éƒ¨åˆ†ä¿®æ”¹</h4><p>å…¶å®æ·»åŠ çš„å°±æ˜¯valineæœ‰å…³çš„è¿™ä¸€å—ï¼Œå› ä¸ºæˆ‘paperboxä¸»é¢˜åŸæ¥è¿˜æœ‰duoshuoçš„éƒ¨åˆ†ï¼Œæˆ‘ä¹Ÿç›´æ¥åˆ æ‰äº†ã€‚</p><p>æ”¹æˆå¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;article-footer&quot;</span>&gt;</span>      </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-footer-content&quot;</span>&gt;</span></span><br><span class="line">        &lt;%- partial(&#x27;post/tag&#x27;) %&gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">data-url</span>=<span class="string">&quot;&lt;%- post.permalink %&gt;&quot;</span> <span class="attr">data-id</span>=<span class="string">&quot;&lt;%= post._id %&gt;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;article-share-link&quot;</span>&gt;</span>&lt;%= __(&#x27;share&#x27;) %&gt;&lt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        &lt;% if (post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- post.permalink %&gt;#disqus_thread&quot;</span> <span class="attr">class</span>=<span class="string">&quot;article-comment-link&quot;</span>&gt;</span>&lt;%= __(&#x27;comment&#x27;) %&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">       &lt;% if (post.comments &amp;&amp; theme.valine.enable &amp;&amp; theme.valine.appId &amp;&amp; theme.valine.appKey )&#123; %&gt;</span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- url_for(post.path) %&gt;#comments&quot;</span> <span class="attr">class</span>=<span class="string">&quot;article-comment-link&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-comments-count valine-comment-count&quot;</span> <span class="attr">data-xid</span>=<span class="string">&quot;&lt;%- url_for(post.path) %&gt;&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;commentCount&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            &lt;%= __(&#x27;comment&#x27;) %&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-ç¬¬äºŒéƒ¨åˆ†ï¼Œæ–‡ä»¶æœ€ä¸‹é¢"><a href="#2-ç¬¬äºŒéƒ¨åˆ†ï¼Œæ–‡ä»¶æœ€ä¸‹é¢" class="headerlink" title="2).ç¬¬äºŒéƒ¨åˆ†ï¼Œæ–‡ä»¶æœ€ä¸‹é¢"></a>2).ç¬¬äºŒéƒ¨åˆ†ï¼Œæ–‡ä»¶æœ€ä¸‹é¢</h4><p>æ·»åŠ çš„ä¹Ÿå°±æ˜¯æœ€åvalineç›¸å…³çš„è¿™ä¸€æ®µã€‚</p><p>æ”¹æˆå¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;comments&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;disqus_thread&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">noscript</span>&gt;</span>Please enable JavaScript to view the <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;//disqus.com/?ref_noscript&quot;</span>&gt;</span>comments powered by Disqus.<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; theme.valine.enable &amp;&amp; theme.valine.appId &amp;&amp; theme.valine.appKey)&#123; %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;comments&quot;</span> <span class="attr">class</span>=<span class="string">&quot;vcomment&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h3 id="3-æ·»åŠ valine-ejsæ–‡ä»¶"><a href="#3-æ·»åŠ valine-ejsæ–‡ä»¶" class="headerlink" title="3.æ·»åŠ valine.ejsæ–‡ä»¶"></a>3.æ·»åŠ valine.ejsæ–‡ä»¶</h3><p>ä¸ºäº†çœ‹ç€æ›´æ–¹ä¾¿ï¼Œå°±ç›´æ¥æŠŠvalineå•ç‹¬æ‹äº†ä¸ªæ–‡ä»¶å‡ºæ¥ï¼Œå½“ç„¶ï¼Œè¿™éƒ¨åˆ†å†…å®¹ç›´æ¥å†™åœ¨ after-footer.ejsæ–‡ä»¶é‡Œä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>æ·»åŠ  <strong>hexo-theme-paperbox\layout_partial\post\valine.ejs</strong> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(theme.valine.enable &amp;&amp; theme.valine.appId &amp;&amp; theme.valine.appKey)&#123; %&gt;</span><br><span class="line">    &lt;%- js(&#x27;https://unpkg.com/valine@latest/dist/Valine.min.js&#x27;) %&gt;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> GUEST_INFO = [<span class="string">&#x27;nick&#x27;</span>,<span class="string">&#x27;mail&#x27;</span>,<span class="string">&#x27;link&#x27;</span>];</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> guest_info = <span class="string">&#x27;&lt;%= theme.valine.guest_info %&gt;&#x27;</span>.split(<span class="string">&#x27;,&#x27;</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> GUEST_INFO.indexOf(item) &gt; -<span class="number">1</span></span></span><br><span class="line">      &#125;);</span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> notify = <span class="string">&#x27;&lt;%= theme.valine.notify %&gt;&#x27;</span> == <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> verify = <span class="string">&#x27;&lt;%= theme.valine.verify %&gt;&#x27;</span> == <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">new</span> Valine(&#123;</span></span><br><span class="line"><span class="javascript">          el: <span class="string">&#x27;.vcomment&#x27;</span>,</span></span><br><span class="line">          notify: notify,</span><br><span class="line">          verify: verify,</span><br><span class="line"><span class="javascript">          appId: <span class="string">&quot;&lt;%= theme.valine.appId %&gt;&quot;</span>,</span></span><br><span class="line"><span class="javascript">          appKey: <span class="string">&quot;&lt;%= theme.valine.appKey %&gt;&quot;</span>,</span></span><br><span class="line"><span class="javascript">          placeholder: <span class="string">&quot;&lt;%= theme.valine.placeholder %&gt;&quot;</span>,</span></span><br><span class="line"><span class="javascript">          pageSize:<span class="string">&#x27;&lt;%= theme.valine.pageSize %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">          avatar:<span class="string">&#x27;&lt;%= theme.valine.avatar %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">          lang:<span class="string">&#x27;&lt;%= theme.valine.lang %&gt;&#x27;</span></span></span><br><span class="line">      &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h3 id="4-åœ¨after-footer-ejsæ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³å†…å®¹"><a href="#4-åœ¨after-footer-ejsæ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³å†…å®¹" class="headerlink" title="4.åœ¨after-footer.ejsæ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³å†…å®¹"></a>4.åœ¨after-footer.ejsæ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³å†…å®¹</h3><p>åœ¨ <strong>hexo-theme-paperbox\layout_partial\after-footer.ejs</strong> æ–‡ä»¶ä¸­æ‰¾ä¸€å—å†…å®¹æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- valine start --&gt;</span></span><br><span class="line">&lt;%- partial(&#x27;post/valine&#x27;) %&gt;</span><br><span class="line"><span class="comment">&lt;!-- valine end --&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ï¼Œç¬¬ä¸€å¥å’Œå’Œç¬¬ä¸‰å¥éƒ½æ˜¯æ³¨é‡Šï¼Œæ‰€ä»¥å…¶å®å°±æ˜¯ä¸­é—´ä¸€å¥ï¼Œè°ƒç”¨postç›®å½•ä¸‹çš„valine.ejsæ–‡ä»¶çš„å†…å®¹ã€‚æ‰€ä»¥æŠŠæ–‡ä»¶çš„å†…å®¹å…¨éƒ¨æ‰”è¿™é‡Œä¹Ÿè¡Œã€‚</p><p>å› ä¸ºåˆ é™¤duoshuoçš„è¯„è®ºæ¨¡å—ï¼Œæ‰€ä»¥ç›¸å…³ä»£ç åˆ æ‰åå°±æ”¹æˆäº†ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (config.disqus_shortname)&#123; %&gt;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> disqus_shortname = <span class="string">&#x27;&lt;%= config.disqus_shortname %&gt;&#x27;</span>;</span></span><br><span class="line">    &lt;% if (page.permalink)&#123; %&gt;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> disqus_url = <span class="string">&#x27;&lt;%= page.permalink %&gt;&#x27;</span>;</span></span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line"><span class="javascript">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> dsq = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span></span><br><span class="line"><span class="javascript">      dsq.async = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">      dsq.src = <span class="string">&#x27;https://&#x27;</span> + disqus_shortname + <span class="string">&#x27;.disqus.com/&lt;% if (page.comments) &#123; %&gt;embed.js&lt;% &#125; else &#123; %&gt;count.js&lt;% &#125; %&gt;&#x27;</span>;</span></span><br><span class="line"><span class="javascript">      (<span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>] || <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;body&#x27;</span>)[<span class="number">0</span>]).appendChild(dsq);</span></span><br><span class="line">    &#125;)();</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æˆåŠŸä½¿ç”¨äº† Valine æ¨¡å—æœ€åŸºæœ¬çš„è¯„è®ºåŠŸèƒ½ã€‚</p><p>ç„¶åéœ€è¦å…³äºè¯„è®ºçš„æ›´å¤šåŠŸèƒ½çš„è¯ï¼Œå°±ç”¨Valine Adminï¼Œè¿™æ˜¯ Valine è¯„è®ºç³»ç»Ÿçš„æ‰©å±•å’Œå¢å¼ºï¼Œä¸»è¦å®ç°è¯„è®ºé‚®ä»¶é€šçŸ¥ã€è¯„è®ºç®¡ç†ã€åƒåœ¾è¯„è®ºè¿‡æ»¤ç­‰åŠŸèƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022å¹´ï¼Œç»§ç»­é‡æ–°å¼€å§‹</title>
      <link href="/2021/02/05/2021start/"/>
      <url>/2021/02/05/2021start/</url>
      
        <content type="html"><![CDATA[<p>ç”¨äº†å‡ å¹´äº‘ç¬”è®°åï¼Œåæ§½ä¸€å¤§å †ï¼Œæœ€åè¿˜æ˜¯å†³å®šç»§ç»­å†™å›åšå®¢ã€‚äº‘ç¬”è®°è®°å½•ä¸€äº›åˆ«çš„ä¸œè¥¿ï¼Œåšä¸ªç¬”è®°å¤‡ä»½æŒºå¥½ã€‚</p><a id="more"></a><p>Nå¤šå¹´å‰å¼€å§‹ï¼Œå†™ç¬”è®°ä»ç™¾åº¦ç©ºé—´ã€CSDNç©ºé—´ï¼Œåˆ°è‡ªå»ºçš„Wordpressã€Typechoåšå®¢ï¼Œè¿™äº›éƒ½æ˜¯åŠ¨æ€åšå®¢ï¼Œéƒ½æ˜¯åœ¨ç®¡ç†åå°ï¼Œå‘å¸ƒæ–‡ç« ï¼Œå‰ç«¯æ˜¾ç¤ºã€‚</p><p>å†åˆ°åæ¥ï¼Œç”¨ä¸ŠHexoè¿™ä¸ªé™æ€åšå®¢åï¼ŒçœŸé¦™ï¼~ é™æ€åšå®¢ï¼ŒçœŸæ˜¯å¤ªé¦™äº†ï¼~</p><p>åŸæ¥ç”¨çš„æ˜¯å…è´¹çš„Github pagesï¼Œåœ¨ä¸Šé¢éƒ¨ç½²äº†Hexoåšå®¢ï¼Œæ–‡ç« ä¸­çš„å›¾ç‰‡ä¹Ÿæ˜¯ç”¨çš„Githubçš„å›¾åºŠã€‚</p><p>ä½†æ˜¯è€ƒè™‘åˆ°Githubçš„é—®é¢˜ï¼ŒåŠ¨ä¸åŠ¨ä¸èƒ½è®¿é—®äº†ï¼Œè®¿é—®é€Ÿåº¦æ…¢äº†ï¼Œå›¾ç‰‡æ‰“å¼€ä¸äº†ä¹‹ç±»ï¼Œå°±æƒ³ç€ä»Github è¿ç§»å› Giteeä¸Šï¼Œç»“æœè¿™ä¸ªGiteeè¿˜ä¸æ”¯æŒåŸŸåç»‘å®šä¹‹ç±»ï¼Œç„¶ååæ­£é—®é¢˜å¤ªå¤šï¼Œå„ç§éº»çƒ¦~</p><p>äºæ˜¯ï¼Œæœ€åçš„æœ€åï¼Œè¿˜æ˜¯é€‰æ‹©æŠŠHexoæ”¾åˆ°è‡ªå·±çš„äº‘æœåŠ¡å™¨ä¸Šå§ï¼Œé‡æ–°â€œæ”¶æ‹¾â€äº†ä¸‹ ï¼Œæ¢äº†ä¸ªæ–°ä¸»é¢˜ï¼Œå¥½å¥½çœ‹å‘€~ ç­‰åŸŸåå¤‡æ¡ˆåï¼Œå°±æ­£å¼å¯ä»¥ç”¨äº†ã€‚</p><p>æ›´æ–°äºã€2022-05-01ã€‘</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
